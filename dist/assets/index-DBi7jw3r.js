var r9=Object.defineProperty;var HE=e=>{throw TypeError(e)};var n9=(e,t,r)=>t in e?r9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Te=(e,t,r)=>n9(e,typeof t!="symbol"?t+"":t,r),mb=(e,t,r)=>t.has(e)||HE("Cannot "+r);var ae=(e,t,r)=>(mb(e,t,"read from private field"),r?r.call(e):t.get(e)),Ct=(e,t,r)=>t.has(e)?HE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),st=(e,t,r,n)=>(mb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),nn=(e,t,r)=>(mb(e,t,"access private method"),r);var _p=(e,t,r,n)=>({set _(s){st(e,t,s,r)},get _(){return ae(e,t,n)}});function s9(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i9(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var lR={exports:{}},rx={},cR={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=Symbol.for("react.element"),a9=Symbol.for("react.portal"),o9=Symbol.for("react.fragment"),l9=Symbol.for("react.strict_mode"),c9=Symbol.for("react.profiler"),u9=Symbol.for("react.provider"),d9=Symbol.for("react.context"),f9=Symbol.for("react.forward_ref"),h9=Symbol.for("react.suspense"),m9=Symbol.for("react.memo"),p9=Symbol.for("react.lazy"),qE=Symbol.iterator;function g9(e){return e===null||typeof e!="object"?null:(e=qE&&e[qE]||e["@@iterator"],typeof e=="function"?e:null)}var uR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dR=Object.assign,fR={};function Md(e,t,r){this.props=e,this.context=t,this.refs=fR,this.updater=r||uR}Md.prototype.isReactComponent={};Md.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Md.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hR(){}hR.prototype=Md.prototype;function eS(e,t,r){this.props=e,this.context=t,this.refs=fR,this.updater=r||uR}var tS=eS.prototype=new hR;tS.constructor=eS;dR(tS,Md.prototype);tS.isPureReactComponent=!0;var KE=Array.isArray,mR=Object.prototype.hasOwnProperty,rS={current:null},pR={key:!0,ref:!0,__self:!0,__source:!0};function gR(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)mR.call(t,n)&&!pR.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Am,type:e,key:i,ref:o,props:s,_owner:rS.current}}function v9(e,t){return{$$typeof:Am,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Am}function y9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var YE=/\/+/g;function pb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y9(""+e.key):t.toString(36)}function Tg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Am:case a9:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+pb(o,0):n,KE(s)?(r="",e!=null&&(r=e.replace(YE,"$&/")+"/"),Tg(s,t,r,"",function(u){return u})):s!=null&&(nS(s)&&(s=v9(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(YE,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",KE(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+pb(i,l);o+=Tg(i,t,r,c,s)}else if(c=g9(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+pb(i,l++),o+=Tg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jp(e,t,r){if(e==null)return e;var n=[],s=0;return Tg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function x9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mn={current:null},Mg={transition:null},b9={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:Mg,ReactCurrentOwner:rS};function vR(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:jp,forEach:function(e,t,r){jp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jp(e,function(){t++}),t},toArray:function(e){return jp(e,function(t){return t})||[]},only:function(e){if(!nS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=Md;ft.Fragment=o9;ft.Profiler=c9;ft.PureComponent=eS;ft.StrictMode=l9;ft.Suspense=h9;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b9;ft.act=vR;ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dR({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=rS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mR.call(t,c)&&!pR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Am,type:e.type,key:s,ref:i,props:n,_owner:o}};ft.createContext=function(e){return e={$$typeof:d9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:u9,_context:e},e.Consumer=e};ft.createElement=gR;ft.createFactory=function(e){var t=gR.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:f9,render:e}};ft.isValidElement=nS;ft.lazy=function(e){return{$$typeof:p9,_payload:{_status:-1,_result:e},_init:x9}};ft.memo=function(e,t){return{$$typeof:m9,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=Mg.transition;Mg.transition={};try{e()}finally{Mg.transition=t}};ft.unstable_act=vR;ft.useCallback=function(e,t){return Mn.current.useCallback(e,t)};ft.useContext=function(e){return Mn.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return Mn.current.useDeferredValue(e)};ft.useEffect=function(e,t){return Mn.current.useEffect(e,t)};ft.useId=function(){return Mn.current.useId()};ft.useImperativeHandle=function(e,t,r){return Mn.current.useImperativeHandle(e,t,r)};ft.useInsertionEffect=function(e,t){return Mn.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return Mn.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return Mn.current.useMemo(e,t)};ft.useReducer=function(e,t,r){return Mn.current.useReducer(e,t,r)};ft.useRef=function(e){return Mn.current.useRef(e)};ft.useState=function(e){return Mn.current.useState(e)};ft.useSyncExternalStore=function(e,t,r){return Mn.current.useSyncExternalStore(e,t,r)};ft.useTransition=function(){return Mn.current.useTransition()};ft.version="18.3.1";cR.exports=ft;var p=cR.exports;const ie=Ti(p),yR=s9({__proto__:null,default:ie},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w9=p,_9=Symbol.for("react.element"),j9=Symbol.for("react.fragment"),S9=Object.prototype.hasOwnProperty,k9=w9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N9={key:!0,ref:!0,__self:!0,__source:!0};function xR(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)S9.call(t,n)&&!N9.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_9,type:e,key:i,ref:o,props:s,_owner:k9.current}}rx.Fragment=j9;rx.jsx=xR;rx.jsxs=xR;lR.exports=rx;var a=lR.exports,bR={exports:{}},Ns={},wR={exports:{}},_R={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,M){var L=N.length;N.push(M);e:for(;0<L;){var W=L-1>>>1,K=N[W];if(0<s(K,M))N[W]=M,N[L]=K,L=W;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var M=N[0],L=N.pop();if(L!==M){N[0]=L;e:for(var W=0,K=N.length,z=K>>>1;W<z;){var H=2*(W+1)-1,V=N[H],oe=H+1,te=N[oe];if(0>s(V,L))oe<K&&0>s(te,V)?(N[W]=te,N[oe]=L,W=oe):(N[W]=V,N[H]=L,W=H);else if(oe<K&&0>s(te,L))N[W]=te,N[oe]=L,W=oe;else break e}}return M}function s(N,M){var L=N.sortIndex-M.sortIndex;return L!==0?L:N.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=N)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(N){if(g=!1,v(N),!y)if(r(c)!==null)y=!0,U(j);else{var M=r(u);M!==null&&T(_,M.startTime-N)}}function j(N,M){y=!1,g&&(g=!1,b(C),C=-1),m=!0;var L=h;try{for(v(M),f=r(c);f!==null&&(!(f.expirationTime>M)||N&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var K=W(f.expirationTime<=M);M=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),v(M)}else n(c);f=r(c)}if(f!==null)var z=!0;else{var H=r(u);H!==null&&T(_,H.startTime-M),z=!1}return z}finally{f=null,h=L,m=!1}}var S=!1,k=null,C=-1,E=5,A=-1;function P(){return!(e.unstable_now()-A<E)}function O(){if(k!==null){var N=e.unstable_now();A=N;var M=!0;try{M=k(!0,N)}finally{M?$():(S=!1,k=null)}}else S=!1}var $;if(typeof x=="function")$=function(){x(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=O,$=function(){B.postMessage(null)}}else $=function(){w(O,0)};function U(N){k=N,S||(S=!0,$())}function T(N,M){C=w(function(){N(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,U(j))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var L=h;h=M;try{return N()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,M){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=h;h=N;try{return M()}finally{h=L}},e.unstable_scheduleCallback=function(N,M,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,N={id:d++,callback:M,priorityLevel:N,startTime:L,expirationTime:K,sortIndex:-1},L>W?(N.sortIndex=L,t(u,N),r(c)===null&&N===r(u)&&(g?(b(C),C=-1):g=!0,T(_,L-W))):(N.sortIndex=K,t(c,N),y||m||(y=!0,U(j))),N},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(N){var M=h;return function(){var L=h;h=M;try{return N.apply(this,arguments)}finally{h=L}}}})(_R);wR.exports=_R;var C9=wR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E9=p,ws=C9;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jR=new Set,Nh={};function Mc(e,t){rd(e,t),rd(e+"Capture",t)}function rd(e,t){for(Nh[e]=t,e=0;e<t.length;e++)jR.add(t[e])}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a_=Object.prototype.hasOwnProperty,P9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GE={},XE={};function A9(e){return a_.call(XE,e)?!0:a_.call(GE,e)?!1:P9.test(e)?XE[e]=!0:(GE[e]=!0,!1)}function O9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T9(e,t,r,n){if(t===null||typeof t>"u"||O9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var sS=/[\-:]([a-z])/g;function iS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sS,iS);tn[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sS,iS);tn[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sS,iS);tn[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function aS(e,t,r,n){var s=tn.hasOwnProperty(t)?tn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T9(t,r,s,n)&&(r=null),n||s===null?A9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var eo=E9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sp=Symbol.for("react.element"),du=Symbol.for("react.portal"),fu=Symbol.for("react.fragment"),oS=Symbol.for("react.strict_mode"),o_=Symbol.for("react.profiler"),SR=Symbol.for("react.provider"),kR=Symbol.for("react.context"),lS=Symbol.for("react.forward_ref"),l_=Symbol.for("react.suspense"),c_=Symbol.for("react.suspense_list"),cS=Symbol.for("react.memo"),xo=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),ZE=Symbol.iterator;function af(e){return e===null||typeof e!="object"?null:(e=ZE&&e[ZE]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,gb;function If(e){if(gb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gb=t&&t[1]||""}return`
`+gb+e}var vb=!1;function yb(e,t){if(!e||vb)return"";vb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{vb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?If(e):""}function M9(e){switch(e.tag){case 5:return If(e.type);case 16:return If("Lazy");case 13:return If("Suspense");case 19:return If("SuspenseList");case 0:case 2:case 15:return e=yb(e.type,!1),e;case 11:return e=yb(e.type.render,!1),e;case 1:return e=yb(e.type,!0),e;default:return""}}function u_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fu:return"Fragment";case du:return"Portal";case o_:return"Profiler";case oS:return"StrictMode";case l_:return"Suspense";case c_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kR:return(e.displayName||"Context")+".Consumer";case SR:return(e._context.displayName||"Context")+".Provider";case lS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cS:return t=e.displayName||null,t!==null?t:u_(e.type)||"Memo";case xo:t=e._payload,e=e._init;try{return u_(e(t))}catch{}}return null}function D9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u_(t);case 8:return t===oS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function el(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function CR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R9(e){var t=CR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kp(e){e._valueTracker||(e._valueTracker=R9(e))}function ER(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=CR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function av(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function d_(e,t){var r=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function QE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=el(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PR(e,t){t=t.checked,t!=null&&aS(e,"checked",t,!1)}function f_(e,t){PR(e,t);var r=el(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h_(e,t.type,r):t.hasOwnProperty("defaultValue")&&h_(e,t.type,el(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function JE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function h_(e,t,r){(t!=="number"||av(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $f=Array.isArray;function Eu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+el(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function m_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if($f(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:el(r)}}function AR(e,t){var r=el(t.value),n=el(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Np,TR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Np=Np||document.createElement("div"),Np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ch(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I9=["Webkit","ms","Moz","O"];Object.keys(th).forEach(function(e){I9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),th[t]=th[e]})});function MR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||th.hasOwnProperty(e)&&th[e]?(""+t).trim():t+"px"}function DR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=MR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var $9=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g_(e,t){if(t){if($9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function v_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y_=null;function uS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var x_=null,Pu=null,Au=null;function rP(e){if(e=Mm(e)){if(typeof x_!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=ox(t),x_(e.stateNode,e.type,t))}}function RR(e){Pu?Au?Au.push(e):Au=[e]:Pu=e}function IR(){if(Pu){var e=Pu,t=Au;if(Au=Pu=null,rP(e),t)for(e=0;e<t.length;e++)rP(t[e])}}function $R(e,t){return e(t)}function LR(){}var xb=!1;function FR(e,t,r){if(xb)return e(t,r);xb=!0;try{return $R(e,t,r)}finally{xb=!1,(Pu!==null||Au!==null)&&(LR(),IR())}}function Eh(e,t){var r=e.stateNode;if(r===null)return null;var n=ox(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var b_=!1;if(Ba)try{var of={};Object.defineProperty(of,"passive",{get:function(){b_=!0}}),window.addEventListener("test",of,of),window.removeEventListener("test",of,of)}catch{b_=!1}function L9(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var rh=!1,ov=null,lv=!1,w_=null,F9={onError:function(e){rh=!0,ov=e}};function B9(e,t,r,n,s,i,o,l,c){rh=!1,ov=null,L9.apply(F9,arguments)}function z9(e,t,r,n,s,i,o,l,c){if(B9.apply(this,arguments),rh){if(rh){var u=ov;rh=!1,ov=null}else throw Error(fe(198));lv||(lv=!0,w_=u)}}function Dc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function BR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nP(e){if(Dc(e)!==e)throw Error(fe(188))}function U9(e){var t=e.alternate;if(!t){if(t=Dc(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return nP(s),e;if(i===n)return nP(s),t;i=i.sibling}throw Error(fe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function zR(e){return e=U9(e),e!==null?UR(e):null}function UR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=UR(e);if(t!==null)return t;e=e.sibling}return null}var WR=ws.unstable_scheduleCallback,sP=ws.unstable_cancelCallback,W9=ws.unstable_shouldYield,V9=ws.unstable_requestPaint,dr=ws.unstable_now,H9=ws.unstable_getCurrentPriorityLevel,dS=ws.unstable_ImmediatePriority,VR=ws.unstable_UserBlockingPriority,cv=ws.unstable_NormalPriority,q9=ws.unstable_LowPriority,HR=ws.unstable_IdlePriority,nx=null,Xi=null;function K9(e){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(nx,e,void 0,(e.current.flags&128)===128)}catch{}}var ji=Math.clz32?Math.clz32:X9,Y9=Math.log,G9=Math.LN2;function X9(e){return e>>>=0,e===0?32:31-(Y9(e)/G9|0)|0}var Cp=64,Ep=4194304;function Lf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Lf(l):(i&=o,i!==0&&(n=Lf(i)))}else o=r&~s,o!==0?n=Lf(o):i!==0&&(n=Lf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ji(t),s=1<<r,n|=e[r],t&=~s;return n}function Z9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ji(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Z9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function __(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qR(){var e=Cp;return Cp<<=1,!(Cp&4194240)&&(Cp=64),e}function bb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Om(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ji(t),e[t]=r}function J9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ji(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function fS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ji(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Rt=0;function KR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var YR,hS,GR,XR,ZR,j_=!1,Pp=[],Bo=null,zo=null,Uo=null,Ph=new Map,Ah=new Map,jo=[],e7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iP(e,t){switch(e){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(t.pointerId)}}function lf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mm(t),t!==null&&hS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function t7(e,t,r,n,s){switch(t){case"focusin":return Bo=lf(Bo,e,t,r,n,s),!0;case"dragenter":return zo=lf(zo,e,t,r,n,s),!0;case"mouseover":return Uo=lf(Uo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ph.set(i,lf(Ph.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ah.set(i,lf(Ah.get(i)||null,e,t,r,n,s)),!0}return!1}function QR(e){var t=Vl(e.target);if(t!==null){var r=Dc(t);if(r!==null){if(t=r.tag,t===13){if(t=BR(r),t!==null){e.blockedOn=t,ZR(e.priority,function(){GR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=S_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);y_=n,r.target.dispatchEvent(n),y_=null}else return t=Mm(r),t!==null&&hS(t),e.blockedOn=r,!1;t.shift()}return!0}function aP(e,t,r){Dg(e)&&r.delete(t)}function r7(){j_=!1,Bo!==null&&Dg(Bo)&&(Bo=null),zo!==null&&Dg(zo)&&(zo=null),Uo!==null&&Dg(Uo)&&(Uo=null),Ph.forEach(aP),Ah.forEach(aP)}function cf(e,t){e.blockedOn===t&&(e.blockedOn=null,j_||(j_=!0,ws.unstable_scheduleCallback(ws.unstable_NormalPriority,r7)))}function Oh(e){function t(s){return cf(s,e)}if(0<Pp.length){cf(Pp[0],e);for(var r=1;r<Pp.length;r++){var n=Pp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bo!==null&&cf(Bo,e),zo!==null&&cf(zo,e),Uo!==null&&cf(Uo,e),Ph.forEach(t),Ah.forEach(t),r=0;r<jo.length;r++)n=jo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<jo.length&&(r=jo[0],r.blockedOn===null);)QR(r),r.blockedOn===null&&jo.shift()}var Ou=eo.ReactCurrentBatchConfig,dv=!0;function n7(e,t,r,n){var s=Rt,i=Ou.transition;Ou.transition=null;try{Rt=1,mS(e,t,r,n)}finally{Rt=s,Ou.transition=i}}function s7(e,t,r,n){var s=Rt,i=Ou.transition;Ou.transition=null;try{Rt=4,mS(e,t,r,n)}finally{Rt=s,Ou.transition=i}}function mS(e,t,r,n){if(dv){var s=S_(e,t,r,n);if(s===null)Ab(e,t,n,fv,r),iP(e,n);else if(t7(s,e,t,r,n))n.stopPropagation();else if(iP(e,n),t&4&&-1<e7.indexOf(e)){for(;s!==null;){var i=Mm(s);if(i!==null&&YR(i),i=S_(e,t,r,n),i===null&&Ab(e,t,n,fv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ab(e,t,n,null,r)}}var fv=null;function S_(e,t,r,n){if(fv=null,e=uS(n),e=Vl(e),e!==null)if(t=Dc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=BR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fv=e,null}function JR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H9()){case dS:return 1;case VR:return 4;case cv:case q9:return 16;case HR:return 536870912;default:return 16}default:return 16}}var Do=null,pS=null,Rg=null;function eI(){if(Rg)return Rg;var e,t=pS,r=t.length,n,s="value"in Do?Do.value:Do.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Rg=s.slice(e,1<n?1-n:void 0)}function Ig(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ap(){return!0}function oP(){return!1}function Cs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ap:oP,this.isPropagationStopped=oP,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ap)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ap)},persist:function(){},isPersistent:Ap}),t}var Dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gS=Cs(Dd),Tm=tr({},Dd,{view:0,detail:0}),i7=Cs(Tm),wb,_b,uf,sx=tr({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uf&&(uf&&e.type==="mousemove"?(wb=e.screenX-uf.screenX,_b=e.screenY-uf.screenY):_b=wb=0,uf=e),wb)},movementY:function(e){return"movementY"in e?e.movementY:_b}}),lP=Cs(sx),a7=tr({},sx,{dataTransfer:0}),o7=Cs(a7),l7=tr({},Tm,{relatedTarget:0}),jb=Cs(l7),c7=tr({},Dd,{animationName:0,elapsedTime:0,pseudoElement:0}),u7=Cs(c7),d7=tr({},Dd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f7=Cs(d7),h7=tr({},Dd,{data:0}),cP=Cs(h7),m7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g7[e])?!!t[e]:!1}function vS(){return v7}var y7=tr({},Tm,{key:function(e){if(e.key){var t=m7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ig(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vS,charCode:function(e){return e.type==="keypress"?Ig(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ig(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x7=Cs(y7),b7=tr({},sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uP=Cs(b7),w7=tr({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vS}),_7=Cs(w7),j7=tr({},Dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),S7=Cs(j7),k7=tr({},sx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N7=Cs(k7),C7=[9,13,27,32],yS=Ba&&"CompositionEvent"in window,nh=null;Ba&&"documentMode"in document&&(nh=document.documentMode);var E7=Ba&&"TextEvent"in window&&!nh,tI=Ba&&(!yS||nh&&8<nh&&11>=nh),dP=" ",fP=!1;function rI(e,t){switch(e){case"keyup":return C7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hu=!1;function P7(e,t){switch(e){case"compositionend":return nI(t);case"keypress":return t.which!==32?null:(fP=!0,dP);case"textInput":return e=t.data,e===dP&&fP?null:e;default:return null}}function A7(e,t){if(hu)return e==="compositionend"||!yS&&rI(e,t)?(e=eI(),Rg=pS=Do=null,hu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tI&&t.locale!=="ko"?null:t.data;default:return null}}var O7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O7[e.type]:t==="textarea"}function sI(e,t,r,n){RR(n),t=hv(t,"onChange"),0<t.length&&(r=new gS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var sh=null,Th=null;function T7(e){pI(e,0)}function ix(e){var t=gu(e);if(ER(t))return e}function M7(e,t){if(e==="change")return t}var iI=!1;if(Ba){var Sb;if(Ba){var kb="oninput"in document;if(!kb){var mP=document.createElement("div");mP.setAttribute("oninput","return;"),kb=typeof mP.oninput=="function"}Sb=kb}else Sb=!1;iI=Sb&&(!document.documentMode||9<document.documentMode)}function pP(){sh&&(sh.detachEvent("onpropertychange",aI),Th=sh=null)}function aI(e){if(e.propertyName==="value"&&ix(Th)){var t=[];sI(t,Th,e,uS(e)),FR(T7,t)}}function D7(e,t,r){e==="focusin"?(pP(),sh=t,Th=r,sh.attachEvent("onpropertychange",aI)):e==="focusout"&&pP()}function R7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ix(Th)}function I7(e,t){if(e==="click")return ix(t)}function $7(e,t){if(e==="input"||e==="change")return ix(t)}function L7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ki=typeof Object.is=="function"?Object.is:L7;function Mh(e,t){if(ki(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!a_.call(t,s)||!ki(e[s],t[s]))return!1}return!0}function gP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vP(e,t){var r=gP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gP(r)}}function oI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lI(){for(var e=window,t=av();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=av(e.document)}return t}function xS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F7(e){var t=lI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&oI(r.ownerDocument.documentElement,r)){if(n!==null&&xS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=vP(r,i);var o=vP(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B7=Ba&&"documentMode"in document&&11>=document.documentMode,mu=null,k_=null,ih=null,N_=!1;function yP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;N_||mu==null||mu!==av(n)||(n=mu,"selectionStart"in n&&xS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ih&&Mh(ih,n)||(ih=n,n=hv(k_,"onSelect"),0<n.length&&(t=new gS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mu)))}function Op(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var pu={animationend:Op("Animation","AnimationEnd"),animationiteration:Op("Animation","AnimationIteration"),animationstart:Op("Animation","AnimationStart"),transitionend:Op("Transition","TransitionEnd")},Nb={},cI={};Ba&&(cI=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function ax(e){if(Nb[e])return Nb[e];if(!pu[e])return e;var t=pu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cI)return Nb[e]=t[r];return e}var uI=ax("animationend"),dI=ax("animationiteration"),fI=ax("animationstart"),hI=ax("transitionend"),mI=new Map,xP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(e,t){mI.set(e,t),Mc(t,[e])}for(var Cb=0;Cb<xP.length;Cb++){var Eb=xP[Cb],z7=Eb.toLowerCase(),U7=Eb[0].toUpperCase()+Eb.slice(1);fl(z7,"on"+U7)}fl(uI,"onAnimationEnd");fl(dI,"onAnimationIteration");fl(fI,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(hI,"onTransitionEnd");rd("onMouseEnter",["mouseout","mouseover"]);rd("onMouseLeave",["mouseout","mouseover"]);rd("onPointerEnter",["pointerout","pointerover"]);rd("onPointerLeave",["pointerout","pointerover"]);Mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ff));function bP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,z9(n,t,void 0,e),e.currentTarget=null}function pI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;bP(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;bP(s,l,u),i=c}}}if(lv)throw e=w_,lv=!1,w_=null,e}function Ht(e,t){var r=t[O_];r===void 0&&(r=t[O_]=new Set);var n=e+"__bubble";r.has(n)||(gI(t,e,2,!1),r.add(n))}function Pb(e,t,r){var n=0;t&&(n|=4),gI(r,e,n,t)}var Tp="_reactListening"+Math.random().toString(36).slice(2);function Dh(e){if(!e[Tp]){e[Tp]=!0,jR.forEach(function(r){r!=="selectionchange"&&(W7.has(r)||Pb(r,!1,e),Pb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tp]||(t[Tp]=!0,Pb("selectionchange",!1,t))}}function gI(e,t,r,n){switch(JR(t)){case 1:var s=n7;break;case 4:s=s7;break;default:s=mS}r=s.bind(null,t,r,e),s=void 0,!b_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ab(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Vl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}FR(function(){var u=i,d=uS(r),f=[];e:{var h=mI.get(e);if(h!==void 0){var m=gS,y=e;switch(e){case"keypress":if(Ig(r)===0)break e;case"keydown":case"keyup":m=x7;break;case"focusin":y="focus",m=jb;break;case"focusout":y="blur",m=jb;break;case"beforeblur":case"afterblur":m=jb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=o7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_7;break;case uI:case dI:case fI:m=u7;break;case hI:m=S7;break;case"scroll":m=i7;break;case"wheel":m=N7;break;case"copy":case"cut":case"paste":m=f7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uP}var g=(t&4)!==0,w=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,v;x!==null;){v=x;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,b!==null&&(_=Eh(x,b),_!=null&&g.push(Rh(x,_,v)))),w)break;x=x.return}0<g.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==y_&&(y=r.relatedTarget||r.fromElement)&&(Vl(y)||y[za]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Vl(y):null,y!==null&&(w=Dc(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=lP,_="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=uP,_="onPointerLeave",b="onPointerEnter",x="pointer"),w=m==null?h:gu(m),v=y==null?h:gu(y),h=new g(_,x+"leave",m,r,d),h.target=w,h.relatedTarget=v,_=null,Vl(d)===u&&(g=new g(b,x+"enter",y,r,d),g.target=v,g.relatedTarget=w,_=g),w=_,m&&y)t:{for(g=m,b=y,x=0,v=g;v;v=Yc(v))x++;for(v=0,_=b;_;_=Yc(_))v++;for(;0<x-v;)g=Yc(g),x--;for(;0<v-x;)b=Yc(b),v--;for(;x--;){if(g===b||b!==null&&g===b.alternate)break t;g=Yc(g),b=Yc(b)}g=null}else g=null;m!==null&&wP(f,h,m,g,!1),y!==null&&w!==null&&wP(f,w,y,g,!0)}}e:{if(h=u?gu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=M7;else if(hP(h))if(iI)j=$7;else{j=R7;var S=D7}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=I7);if(j&&(j=j(e,u))){sI(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&h_(h,"number",h.value)}switch(S=u?gu(u):window,e){case"focusin":(hP(S)||S.contentEditable==="true")&&(mu=S,k_=u,ih=null);break;case"focusout":ih=k_=mu=null;break;case"mousedown":N_=!0;break;case"contextmenu":case"mouseup":case"dragend":N_=!1,yP(f,r,d);break;case"selectionchange":if(B7)break;case"keydown":case"keyup":yP(f,r,d)}var k;if(yS)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else hu?rI(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(tI&&r.locale!=="ko"&&(hu||C!=="onCompositionStart"?C==="onCompositionEnd"&&hu&&(k=eI()):(Do=d,pS="value"in Do?Do.value:Do.textContent,hu=!0)),S=hv(u,C),0<S.length&&(C=new cP(C,e,null,r,d),f.push({event:C,listeners:S}),k?C.data=k:(k=nI(r),k!==null&&(C.data=k)))),(k=E7?P7(e,r):A7(e,r))&&(u=hv(u,"onBeforeInput"),0<u.length&&(d=new cP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}pI(f,t)})}function Rh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Eh(e,r),i!=null&&n.unshift(Rh(e,i,s)),i=Eh(e,t),i!=null&&n.push(Rh(e,i,s))),e=e.return}return n}function Yc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wP(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Eh(r,i),c!=null&&o.unshift(Rh(r,c,l))):s||(c=Eh(r,i),c!=null&&o.push(Rh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V7=/\r\n?/g,H7=/\u0000|\uFFFD/g;function _P(e){return(typeof e=="string"?e:""+e).replace(V7,`
`).replace(H7,"")}function Mp(e,t,r){if(t=_P(t),_P(e)!==t&&r)throw Error(fe(425))}function mv(){}var C_=null,E_=null;function P_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var A_=typeof setTimeout=="function"?setTimeout:void 0,q7=typeof clearTimeout=="function"?clearTimeout:void 0,jP=typeof Promise=="function"?Promise:void 0,K7=typeof queueMicrotask=="function"?queueMicrotask:typeof jP<"u"?function(e){return jP.resolve(null).then(e).catch(Y7)}:A_;function Y7(e){setTimeout(function(){throw e})}function Ob(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Oh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Oh(t)}function Wo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function SP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Rd=Math.random().toString(36).slice(2),Vi="__reactFiber$"+Rd,Ih="__reactProps$"+Rd,za="__reactContainer$"+Rd,O_="__reactEvents$"+Rd,G7="__reactListeners$"+Rd,X7="__reactHandles$"+Rd;function Vl(e){var t=e[Vi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[za]||r[Vi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=SP(e);e!==null;){if(r=e[Vi])return r;e=SP(e)}return t}e=r,r=e.parentNode}return null}function Mm(e){return e=e[Vi]||e[za],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function ox(e){return e[Ih]||null}var T_=[],vu=-1;function hl(e){return{current:e}}function Gt(e){0>vu||(e.current=T_[vu],T_[vu]=null,vu--)}function Ut(e,t){vu++,T_[vu]=e.current,e.current=t}var tl={},vn=hl(tl),Gn=hl(!1),mc=tl;function nd(e,t){var r=e.type.contextTypes;if(!r)return tl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xn(e){return e=e.childContextTypes,e!=null}function pv(){Gt(Gn),Gt(vn)}function kP(e,t,r){if(vn.current!==tl)throw Error(fe(168));Ut(vn,t),Ut(Gn,r)}function vI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(fe(108,D9(e)||"Unknown",s));return tr({},r,n)}function gv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tl,mc=vn.current,Ut(vn,e),Ut(Gn,Gn.current),!0}function NP(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=vI(e,t,mc),n.__reactInternalMemoizedMergedChildContext=e,Gt(Gn),Gt(vn),Ut(vn,e)):Gt(Gn),Ut(Gn,r)}var Sa=null,lx=!1,Tb=!1;function yI(e){Sa===null?Sa=[e]:Sa.push(e)}function Z7(e){lx=!0,yI(e)}function ml(){if(!Tb&&Sa!==null){Tb=!0;var e=0,t=Rt;try{var r=Sa;for(Rt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Sa=null,lx=!1}catch(s){throw Sa!==null&&(Sa=Sa.slice(e+1)),WR(dS,ml),s}finally{Rt=t,Tb=!1}}return null}var yu=[],xu=0,vv=null,yv=0,Rs=[],Is=0,pc=null,Ea=1,Pa="";function Ml(e,t){yu[xu++]=yv,yu[xu++]=vv,vv=e,yv=t}function xI(e,t,r){Rs[Is++]=Ea,Rs[Is++]=Pa,Rs[Is++]=pc,pc=e;var n=Ea;e=Pa;var s=32-ji(n)-1;n&=~(1<<s),r+=1;var i=32-ji(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ea=1<<32-ji(t)+s|r<<s|n,Pa=i+e}else Ea=1<<i|r<<s|n,Pa=e}function bS(e){e.return!==null&&(Ml(e,1),xI(e,1,0))}function wS(e){for(;e===vv;)vv=yu[--xu],yu[xu]=null,yv=yu[--xu],yu[xu]=null;for(;e===pc;)pc=Rs[--Is],Rs[Is]=null,Pa=Rs[--Is],Rs[Is]=null,Ea=Rs[--Is],Rs[Is]=null}var ys=null,vs=null,Xt=!1,vi=null;function bI(e,t){var r=Ls(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function CP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ys=e,vs=Wo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ys=e,vs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pc!==null?{id:Ea,overflow:Pa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ls(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ys=e,vs=null,!0):!1;default:return!1}}function M_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D_(e){if(Xt){var t=vs;if(t){var r=t;if(!CP(e,t)){if(M_(e))throw Error(fe(418));t=Wo(r.nextSibling);var n=ys;t&&CP(e,t)?bI(n,r):(e.flags=e.flags&-4097|2,Xt=!1,ys=e)}}else{if(M_(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Xt=!1,ys=e}}}function EP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ys=e}function Dp(e){if(e!==ys)return!1;if(!Xt)return EP(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!P_(e.type,e.memoizedProps)),t&&(t=vs)){if(M_(e))throw wI(),Error(fe(418));for(;t;)bI(e,t),t=Wo(t.nextSibling)}if(EP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vs=Wo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vs=null}}else vs=ys?Wo(e.stateNode.nextSibling):null;return!0}function wI(){for(var e=vs;e;)e=Wo(e.nextSibling)}function sd(){vs=ys=null,Xt=!1}function _S(e){vi===null?vi=[e]:vi.push(e)}var Q7=eo.ReactCurrentBatchConfig;function df(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Rp(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function PP(e){var t=e._init;return t(e._payload)}function _I(e){function t(b,x){if(e){var v=b.deletions;v===null?(b.deletions=[x],b.flags|=16):v.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function s(b,x){return b=Ko(b,x),b.index=0,b.sibling=null,b}function i(b,x,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<x?(b.flags|=2,x):v):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,v,_){return x===null||x.tag!==6?(x=Fb(v,b.mode,_),x.return=b,x):(x=s(x,v),x.return=b,x)}function c(b,x,v,_){var j=v.type;return j===fu?d(b,x,v.props.children,_,v.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xo&&PP(j)===x.type)?(_=s(x,v.props),_.ref=df(b,x,v),_.return=b,_):(_=Wg(v.type,v.key,v.props,null,b.mode,_),_.ref=df(b,x,v),_.return=b,_)}function u(b,x,v,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Bb(v,b.mode,_),x.return=b,x):(x=s(x,v.children||[]),x.return=b,x)}function d(b,x,v,_,j){return x===null||x.tag!==7?(x=ic(v,b.mode,_,j),x.return=b,x):(x=s(x,v),x.return=b,x)}function f(b,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fb(""+x,b.mode,v),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sp:return v=Wg(x.type,x.key,x.props,null,b.mode,v),v.ref=df(b,null,x),v.return=b,v;case du:return x=Bb(x,b.mode,v),x.return=b,x;case xo:var _=x._init;return f(b,_(x._payload),v)}if($f(x)||af(x))return x=ic(x,b.mode,v,null),x.return=b,x;Rp(b,x)}return null}function h(b,x,v,_){var j=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(b,x,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sp:return v.key===j?c(b,x,v,_):null;case du:return v.key===j?u(b,x,v,_):null;case xo:return j=v._init,h(b,x,j(v._payload),_)}if($f(v)||af(v))return j!==null?null:d(b,x,v,_,null);Rp(b,v)}return null}function m(b,x,v,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(v)||null,l(x,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sp:return b=b.get(_.key===null?v:_.key)||null,c(x,b,_,j);case du:return b=b.get(_.key===null?v:_.key)||null,u(x,b,_,j);case xo:var S=_._init;return m(b,x,v,S(_._payload),j)}if($f(_)||af(_))return b=b.get(v)||null,d(x,b,_,j,null);Rp(x,_)}return null}function y(b,x,v,_){for(var j=null,S=null,k=x,C=x=0,E=null;k!==null&&C<v.length;C++){k.index>C?(E=k,k=null):E=k.sibling;var A=h(b,k,v[C],_);if(A===null){k===null&&(k=E);break}e&&k&&A.alternate===null&&t(b,k),x=i(A,x,C),S===null?j=A:S.sibling=A,S=A,k=E}if(C===v.length)return r(b,k),Xt&&Ml(b,C),j;if(k===null){for(;C<v.length;C++)k=f(b,v[C],_),k!==null&&(x=i(k,x,C),S===null?j=k:S.sibling=k,S=k);return Xt&&Ml(b,C),j}for(k=n(b,k);C<v.length;C++)E=m(k,b,C,v[C],_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),x=i(E,x,C),S===null?j=E:S.sibling=E,S=E);return e&&k.forEach(function(P){return t(b,P)}),Xt&&Ml(b,C),j}function g(b,x,v,_){var j=af(v);if(typeof j!="function")throw Error(fe(150));if(v=j.call(v),v==null)throw Error(fe(151));for(var S=j=null,k=x,C=x=0,E=null,A=v.next();k!==null&&!A.done;C++,A=v.next()){k.index>C?(E=k,k=null):E=k.sibling;var P=h(b,k,A.value,_);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&t(b,k),x=i(P,x,C),S===null?j=P:S.sibling=P,S=P,k=E}if(A.done)return r(b,k),Xt&&Ml(b,C),j;if(k===null){for(;!A.done;C++,A=v.next())A=f(b,A.value,_),A!==null&&(x=i(A,x,C),S===null?j=A:S.sibling=A,S=A);return Xt&&Ml(b,C),j}for(k=n(b,k);!A.done;C++,A=v.next())A=m(k,b,C,A.value,_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),x=i(A,x,C),S===null?j=A:S.sibling=A,S=A);return e&&k.forEach(function(O){return t(b,O)}),Xt&&Ml(b,C),j}function w(b,x,v,_){if(typeof v=="object"&&v!==null&&v.type===fu&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sp:e:{for(var j=v.key,S=x;S!==null;){if(S.key===j){if(j=v.type,j===fu){if(S.tag===7){r(b,S.sibling),x=s(S,v.props.children),x.return=b,b=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xo&&PP(j)===S.type){r(b,S.sibling),x=s(S,v.props),x.ref=df(b,S,v),x.return=b,b=x;break e}r(b,S);break}else t(b,S);S=S.sibling}v.type===fu?(x=ic(v.props.children,b.mode,_,v.key),x.return=b,b=x):(_=Wg(v.type,v.key,v.props,null,b.mode,_),_.ref=df(b,x,v),_.return=b,b=_)}return o(b);case du:e:{for(S=v.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(b,x.sibling),x=s(x,v.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=Bb(v,b.mode,_),x.return=b,b=x}return o(b);case xo:return S=v._init,w(b,x,S(v._payload),_)}if($f(v))return y(b,x,v,_);if(af(v))return g(b,x,v,_);Rp(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(b,x.sibling),x=s(x,v),x.return=b,b=x):(r(b,x),x=Fb(v,b.mode,_),x.return=b,b=x),o(b)):r(b,x)}return w}var id=_I(!0),jI=_I(!1),xv=hl(null),bv=null,bu=null,jS=null;function SS(){jS=bu=bv=null}function kS(e){var t=xv.current;Gt(xv),e._currentValue=t}function R_(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tu(e,t){bv=e,jS=bu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Ks(e){var t=e._currentValue;if(jS!==e)if(e={context:e,memoizedValue:t,next:null},bu===null){if(bv===null)throw Error(fe(308));bu=e,bv.dependencies={lanes:0,firstContext:e}}else bu=bu.next=e;return t}var Hl=null;function NS(e){Hl===null?Hl=[e]:Hl.push(e)}function SI(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,NS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ua(e,n)}function Ua(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bo=!1;function CS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,yt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ua(e,r)}return s=n.interleaved,s===null?(t.next=t,NS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ua(e,r)}function $g(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fS(e,r)}}function AP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wv(e,t,r,n){var s=e.updateQueue;bo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(h=t,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=tr({},f,h);break e;case 2:bo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vc|=o,e.lanes=o,e.memoizedState=f}}function OP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(fe(191,s));s.call(n)}}}var Dm={},Zi=hl(Dm),$h=hl(Dm),Lh=hl(Dm);function ql(e){if(e===Dm)throw Error(fe(174));return e}function ES(e,t){switch(Ut(Lh,t),Ut($h,e),Ut(Zi,Dm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:p_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=p_(t,e)}Gt(Zi),Ut(Zi,t)}function ad(){Gt(Zi),Gt($h),Gt(Lh)}function NI(e){ql(Lh.current);var t=ql(Zi.current),r=p_(t,e.type);t!==r&&(Ut($h,e),Ut(Zi,r))}function PS(e){$h.current===e&&(Gt(Zi),Gt($h))}var Jt=hl(0);function _v(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mb=[];function AS(){for(var e=0;e<Mb.length;e++)Mb[e]._workInProgressVersionPrimary=null;Mb.length=0}var Lg=eo.ReactCurrentDispatcher,Db=eo.ReactCurrentBatchConfig,gc=0,er=null,Dr=null,Wr=null,jv=!1,ah=!1,Fh=0,J7=0;function sn(){throw Error(fe(321))}function OS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ki(e[r],t[r]))return!1;return!0}function TS(e,t,r,n,s,i){if(gc=i,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lg.current=e===null||e.memoizedState===null?nH:sH,e=r(n,s),ah){i=0;do{if(ah=!1,Fh=0,25<=i)throw Error(fe(301));i+=1,Wr=Dr=null,t.updateQueue=null,Lg.current=iH,e=r(n,s)}while(ah)}if(Lg.current=Sv,t=Dr!==null&&Dr.next!==null,gc=0,Wr=Dr=er=null,jv=!1,t)throw Error(fe(300));return e}function MS(){var e=Fh!==0;return Fh=0,e}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?er.memoizedState=Wr=e:Wr=Wr.next=e,Wr}function Ys(){if(Dr===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Dr.next;var t=Wr===null?er.memoizedState:Wr.next;if(t!==null)Wr=t,Dr=e;else{if(e===null)throw Error(fe(310));Dr=e,e={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Wr===null?er.memoizedState=Wr=e:Wr=Wr.next=e}return Wr}function Bh(e,t){return typeof t=="function"?t(e):t}function Rb(e){var t=Ys(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Dr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((gc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,er.lanes|=d,vc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ki(n,t.memoizedState)||(Kn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,er.lanes|=i,vc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ib(e){var t=Ys(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ki(i,t.memoizedState)||(Kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function CI(){}function EI(e,t){var r=er,n=Ys(),s=t(),i=!ki(n.memoizedState,s);if(i&&(n.memoizedState=s,Kn=!0),n=n.queue,DS(OI.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Wr!==null&&Wr.memoizedState.tag&1){if(r.flags|=2048,zh(9,AI.bind(null,r,n,s,t),void 0,null),Hr===null)throw Error(fe(349));gc&30||PI(r,t,s)}return s}function PI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function AI(e,t,r,n){t.value=r,t.getSnapshot=n,TI(t)&&MI(e)}function OI(e,t,r){return r(function(){TI(t)&&MI(e)})}function TI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ki(e,r)}catch{return!0}}function MI(e){var t=Ua(e,1);t!==null&&Si(t,e,1,-1)}function TP(e){var t=Fi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bh,lastRenderedState:e},t.queue=e,e=e.dispatch=rH.bind(null,er,e),[t.memoizedState,e]}function zh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function DI(){return Ys().memoizedState}function Fg(e,t,r,n){var s=Fi();er.flags|=e,s.memoizedState=zh(1|t,r,void 0,n===void 0?null:n)}function cx(e,t,r,n){var s=Ys();n=n===void 0?null:n;var i=void 0;if(Dr!==null){var o=Dr.memoizedState;if(i=o.destroy,n!==null&&OS(n,o.deps)){s.memoizedState=zh(t,r,i,n);return}}er.flags|=e,s.memoizedState=zh(1|t,r,i,n)}function MP(e,t){return Fg(8390656,8,e,t)}function DS(e,t){return cx(2048,8,e,t)}function RI(e,t){return cx(4,2,e,t)}function II(e,t){return cx(4,4,e,t)}function $I(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function LI(e,t,r){return r=r!=null?r.concat([e]):null,cx(4,4,$I.bind(null,t,e),r)}function RS(){}function FI(e,t){var r=Ys();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function BI(e,t){var r=Ys();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&OS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zI(e,t,r){return gc&21?(ki(r,t)||(r=qR(),er.lanes|=r,vc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=r)}function eH(e,t){var r=Rt;Rt=r!==0&&4>r?r:4,e(!0);var n=Db.transition;Db.transition={};try{e(!1),t()}finally{Rt=r,Db.transition=n}}function UI(){return Ys().memoizedState}function tH(e,t,r){var n=qo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},WI(e))VI(t,r);else if(r=SI(e,t,r,n),r!==null){var s=An();Si(r,e,n,s),HI(r,t,n)}}function rH(e,t,r){var n=qo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(WI(e))VI(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ki(l,o)){var c=t.interleaved;c===null?(s.next=s,NS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=SI(e,t,s,n),r!==null&&(s=An(),Si(r,e,n,s),HI(r,t,n))}}function WI(e){var t=e.alternate;return e===er||t!==null&&t===er}function VI(e,t){ah=jv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function HI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,fS(e,r)}}var Sv={readContext:Ks,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},nH={readContext:Ks,useCallback:function(e,t){return Fi().memoizedState=[e,t===void 0?null:t],e},useContext:Ks,useEffect:MP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fg(4194308,4,$I.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fg(4,2,e,t)},useMemo:function(e,t){var r=Fi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tH.bind(null,er,e),[n.memoizedState,e]},useRef:function(e){var t=Fi();return e={current:e},t.memoizedState=e},useState:TP,useDebugValue:RS,useDeferredValue:function(e){return Fi().memoizedState=e},useTransition:function(){var e=TP(!1),t=e[0];return e=eH.bind(null,e[1]),Fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=er,s=Fi();if(Xt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Hr===null)throw Error(fe(349));gc&30||PI(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,MP(OI.bind(null,n,i,e),[e]),n.flags|=2048,zh(9,AI.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Fi(),t=Hr.identifierPrefix;if(Xt){var r=Pa,n=Ea;r=(n&~(1<<32-ji(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=J7++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sH={readContext:Ks,useCallback:FI,useContext:Ks,useEffect:DS,useImperativeHandle:LI,useInsertionEffect:RI,useLayoutEffect:II,useMemo:BI,useReducer:Rb,useRef:DI,useState:function(){return Rb(Bh)},useDebugValue:RS,useDeferredValue:function(e){var t=Ys();return zI(t,Dr.memoizedState,e)},useTransition:function(){var e=Rb(Bh)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:CI,useSyncExternalStore:EI,useId:UI,unstable_isNewReconciler:!1},iH={readContext:Ks,useCallback:FI,useContext:Ks,useEffect:DS,useImperativeHandle:LI,useInsertionEffect:RI,useLayoutEffect:II,useMemo:BI,useReducer:Ib,useRef:DI,useState:function(){return Ib(Bh)},useDebugValue:RS,useDeferredValue:function(e){var t=Ys();return Dr===null?t.memoizedState=e:zI(t,Dr.memoizedState,e)},useTransition:function(){var e=Ib(Bh)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:CI,useSyncExternalStore:EI,useId:UI,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function I_(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ux={isMounted:function(e){return(e=e._reactInternals)?Dc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=An(),s=qo(e),i=Ia(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vo(e,i,s),t!==null&&(Si(t,e,s,n),$g(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=An(),s=qo(e),i=Ia(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vo(e,i,s),t!==null&&(Si(t,e,s,n),$g(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=An(),n=qo(e),s=Ia(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vo(e,s,n),t!==null&&(Si(t,e,n,r),$g(t,e,n))}};function DP(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mh(r,n)||!Mh(s,i):!0}function qI(e,t,r){var n=!1,s=tl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ks(i):(s=Xn(t)?mc:vn.current,n=t.contextTypes,i=(n=n!=null)?nd(e,s):tl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ux,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function RP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ux.enqueueReplaceState(t,t.state,null)}function $_(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},CS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ks(i):(i=Xn(t)?mc:vn.current,s.context=nd(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(I_(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ux.enqueueReplaceState(s,s.state,null),wv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function od(e,t){try{var r="",n=t;do r+=M9(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $b(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function L_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aH=typeof WeakMap=="function"?WeakMap:Map;function KI(e,t,r){r=Ia(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Nv||(Nv=!0,Y_=n),L_(e,t)},r}function YI(e,t,r){r=Ia(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){L_(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){L_(e,t),typeof n!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function IP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aH;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=bH.bind(null,e,t,r),t.then(e,e))}function $P(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LP(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ia(-1,1),t.tag=2,Vo(r,t,1))),r.lanes|=1),e)}var oH=eo.ReactCurrentOwner,Kn=!1;function Sn(e,t,r,n){t.child=e===null?jI(t,null,r,n):id(t,e.child,r,n)}function FP(e,t,r,n,s){r=r.render;var i=t.ref;return Tu(t,s),n=TS(e,t,r,n,i,s),r=MS(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s)):(Xt&&r&&bS(t),t.flags|=1,Sn(e,t,n,s),t.child)}function BP(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!WS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,GI(e,t,i,n,s)):(e=Wg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mh,r(o,n)&&e.ref===t.ref)return Wa(e,t,s)}return t.flags|=1,e=Ko(i,n),e.ref=t.ref,e.return=t,t.child=e}function GI(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Mh(i,n)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,Wa(e,t,s)}return F_(e,t,r,n,s)}function XI(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(_u,ds),ds|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(_u,ds),ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ut(_u,ds),ds|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ut(_u,ds),ds|=n;return Sn(e,t,s,r),t.child}function ZI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function F_(e,t,r,n,s){var i=Xn(r)?mc:vn.current;return i=nd(t,i),Tu(t,s),r=TS(e,t,r,n,i,s),n=MS(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s)):(Xt&&n&&bS(t),t.flags|=1,Sn(e,t,r,s),t.child)}function zP(e,t,r,n,s){if(Xn(r)){var i=!0;gv(t)}else i=!1;if(Tu(t,s),t.stateNode===null)Bg(e,t),qI(t,r,n),$_(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ks(u):(u=Xn(r)?mc:vn.current,u=nd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&RP(t,o,n,u),bo=!1;var h=t.memoizedState;o.state=h,wv(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Gn.current||bo?(typeof d=="function"&&(I_(t,r,d,n),c=t.memoizedState),(l=bo||DP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,kI(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:di(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ks(c):(c=Xn(r)?mc:vn.current,c=nd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&RP(t,o,n,c),bo=!1,h=t.memoizedState,o.state=h,wv(t,n,o,s);var y=t.memoizedState;l!==f||h!==y||Gn.current||bo?(typeof m=="function"&&(I_(t,r,m,n),y=t.memoizedState),(u=bo||DP(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return B_(e,t,r,n,i,s)}function B_(e,t,r,n,s,i){ZI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&NP(t,r,!1),Wa(e,t,i);n=t.stateNode,oH.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=id(t,e.child,null,i),t.child=id(t,null,l,i)):Sn(e,t,l,i),t.memoizedState=n.state,s&&NP(t,r,!0),t.child}function QI(e){var t=e.stateNode;t.pendingContext?kP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kP(e,t.context,!1),ES(e,t.containerInfo)}function UP(e,t,r,n,s){return sd(),_S(s),t.flags|=256,Sn(e,t,r,n),t.child}var z_={dehydrated:null,treeContext:null,retryLane:0};function U_(e){return{baseLanes:e,cachePool:null,transitions:null}}function JI(e,t,r){var n=t.pendingProps,s=Jt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ut(Jt,s&1),e===null)return D_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hx(o,n,0,null),e=ic(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=U_(r),t.memoizedState=z_,e):IS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lH(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ko(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ko(l,i):(i=ic(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?U_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=z_,n}return i=e.child,e=i.sibling,n=Ko(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function IS(e,t){return t=hx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ip(e,t,r,n){return n!==null&&_S(n),id(t,e.child,null,r),e=IS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lH(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=$b(Error(fe(422))),Ip(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=hx({mode:"visible",children:n.children},s,0,null),i=ic(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&id(t,e.child,null,o),t.child.memoizedState=U_(o),t.memoizedState=z_,i);if(!(t.mode&1))return Ip(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(fe(419)),n=$b(i,n,void 0),Ip(e,t,o,n)}if(l=(o&e.childLanes)!==0,Kn||l){if(n=Hr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ua(e,s),Si(n,e,s,-1))}return US(),n=$b(Error(fe(421))),Ip(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wH.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vs=Wo(s.nextSibling),ys=t,Xt=!0,vi=null,e!==null&&(Rs[Is++]=Ea,Rs[Is++]=Pa,Rs[Is++]=pc,Ea=e.id,Pa=e.overflow,pc=t),t=IS(t,n.children),t.flags|=4096,t)}function WP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),R_(e.return,t,r)}function Lb(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function e4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Sn(e,t,n.children,r),n=Jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&WP(e,r,t);else if(e.tag===19)WP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ut(Jt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_v(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Lb(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_v(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Lb(t,!0,r,null,i);break;case"together":Lb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=Ko(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ko(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cH(e,t,r){switch(t.tag){case 3:QI(t),sd();break;case 5:NI(t);break;case 1:Xn(t.type)&&gv(t);break;case 4:ES(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ut(xv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ut(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?JI(e,t,r):(Ut(Jt,Jt.current&1),e=Wa(e,t,r),e!==null?e.sibling:null);Ut(Jt,Jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return e4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ut(Jt,Jt.current),n)break;return null;case 22:case 23:return t.lanes=0,XI(e,t,r)}return Wa(e,t,r)}var t4,W_,r4,n4;t4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};W_=function(){};r4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ql(Zi.current);var i=null;switch(r){case"input":s=d_(e,s),n=d_(e,n),i=[];break;case"select":s=tr({},s,{value:void 0}),n=tr({},n,{value:void 0}),i=[];break;case"textarea":s=m_(e,s),n=m_(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mv)}g_(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ht("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};n4=function(e,t,r,n){r!==n&&(t.flags|=4)};function ff(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uH(e,t,r){var n=t.pendingProps;switch(wS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return Xn(t.type)&&pv(),an(t),null;case 3:return n=t.stateNode,ad(),Gt(Gn),Gt(vn),AS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vi!==null&&(Z_(vi),vi=null))),W_(e,t),an(t),null;case 5:PS(t);var s=ql(Lh.current);if(r=t.type,e!==null&&t.stateNode!=null)r4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return an(t),null}if(e=ql(Zi.current),Dp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Vi]=t,n[Ih]=i,e=(t.mode&1)!==0,r){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(s=0;s<Ff.length;s++)Ht(Ff[s],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":QE(n,i),Ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ht("invalid",n);break;case"textarea":eP(n,i),Ht("invalid",n)}g_(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Mp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Mp(n.textContent,l,e),s=["children",""+l]):Nh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ht("scroll",n)}switch(r){case"input":kp(n),JE(n,i,!0);break;case"textarea":kp(n),tP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Vi]=t,e[Ih]=n,t4(e,t,!1,!1),t.stateNode=e;e:{switch(o=v_(r,n),r){case"dialog":Ht("cancel",e),Ht("close",e),s=n;break;case"iframe":case"object":case"embed":Ht("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ff.length;s++)Ht(Ff[s],e);s=n;break;case"source":Ht("error",e),s=n;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),s=n;break;case"details":Ht("toggle",e),s=n;break;case"input":QE(e,n),s=d_(e,n),Ht("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=tr({},n,{value:void 0}),Ht("invalid",e);break;case"textarea":eP(e,n),s=m_(e,n),Ht("invalid",e);break;default:s=n}g_(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?DR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&TR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ch(e,c):typeof c=="number"&&Ch(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ht("scroll",e):c!=null&&aS(e,i,c,o))}switch(r){case"input":kp(e),JE(e,n,!1);break;case"textarea":kp(e),tP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+el(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Eu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Eu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)n4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=ql(Lh.current),ql(Zi.current),Dp(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vi]=t,(i=n.nodeValue!==r)&&(e=ys,e!==null))switch(e.tag){case 3:Mp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vi]=t,t.stateNode=n}return an(t),null;case 13:if(Gt(Jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&vs!==null&&t.mode&1&&!(t.flags&128))wI(),sd(),t.flags|=98560,i=!1;else if(i=Dp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[Vi]=t}else sd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),i=!1}else vi!==null&&(Z_(vi),vi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?Ir===0&&(Ir=3):US())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return ad(),W_(e,t),e===null&&Dh(t.stateNode.containerInfo),an(t),null;case 10:return kS(t.type._context),an(t),null;case 17:return Xn(t.type)&&pv(),an(t),null;case 19:if(Gt(Jt),i=t.memoizedState,i===null)return an(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ff(i,!1);else{if(Ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_v(e),o!==null){for(t.flags|=128,ff(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ut(Jt,Jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&dr()>ld&&(t.flags|=128,n=!0,ff(i,!1),t.lanes=4194304)}else{if(!n)if(e=_v(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ff(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xt)return an(t),null}else 2*dr()-i.renderingStartTime>ld&&r!==1073741824&&(t.flags|=128,n=!0,ff(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dr(),t.sibling=null,r=Jt.current,Ut(Jt,n?r&1|2:r&1),t):(an(t),null);case 22:case 23:return zS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ds&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function dH(e,t){switch(wS(t),t.tag){case 1:return Xn(t.type)&&pv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ad(),Gt(Gn),Gt(vn),AS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return PS(t),null;case 13:if(Gt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));sd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Jt),null;case 4:return ad(),null;case 10:return kS(t.type._context),null;case 22:case 23:return zS(),null;case 24:return null;default:return null}}var $p=!1,dn=!1,fH=typeof WeakSet=="function"?WeakSet:Set,Me=null;function wu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function V_(e,t,r){try{r()}catch(n){sr(e,t,n)}}var VP=!1;function hH(e,t){if(C_=dv,e=lI(),xS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(E_={focusedElem:e,selectionRange:r},dv=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:di(t.type,g),w);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(_){sr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return y=VP,VP=!1,y}function oh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&V_(t,r,i)}s=s.next}while(s!==n)}}function dx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function H_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function s4(e){var t=e.alternate;t!==null&&(e.alternate=null,s4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vi],delete t[Ih],delete t[O_],delete t[G7],delete t[X7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function i4(e){return e.tag===5||e.tag===3||e.tag===4}function HP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function q_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mv));else if(n!==4&&(e=e.child,e!==null))for(q_(e,t,r),e=e.sibling;e!==null;)q_(e,t,r),e=e.sibling}function K_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(K_(e,t,r),e=e.sibling;e!==null;)K_(e,t,r),e=e.sibling}var Qr=null,mi=!1;function ao(e,t,r){for(r=r.child;r!==null;)a4(e,t,r),r=r.sibling}function a4(e,t,r){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(nx,r)}catch{}switch(r.tag){case 5:dn||wu(r,t);case 6:var n=Qr,s=mi;Qr=null,ao(e,t,r),Qr=n,mi=s,Qr!==null&&(mi?(e=Qr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qr.removeChild(r.stateNode));break;case 18:Qr!==null&&(mi?(e=Qr,r=r.stateNode,e.nodeType===8?Ob(e.parentNode,r):e.nodeType===1&&Ob(e,r),Oh(e)):Ob(Qr,r.stateNode));break;case 4:n=Qr,s=mi,Qr=r.stateNode.containerInfo,mi=!0,ao(e,t,r),Qr=n,mi=s;break;case 0:case 11:case 14:case 15:if(!dn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&V_(r,t,o),s=s.next}while(s!==n)}ao(e,t,r);break;case 1:if(!dn&&(wu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){sr(r,t,l)}ao(e,t,r);break;case 21:ao(e,t,r);break;case 22:r.mode&1?(dn=(n=dn)||r.memoizedState!==null,ao(e,t,r),dn=n):ao(e,t,r);break;default:ao(e,t,r)}}function qP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fH),t.forEach(function(n){var s=_H.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function li(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qr=l.stateNode,mi=!1;break e;case 3:Qr=l.stateNode.containerInfo,mi=!0;break e;case 4:Qr=l.stateNode.containerInfo,mi=!0;break e}l=l.return}if(Qr===null)throw Error(fe(160));a4(i,o,s),Qr=null,mi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){sr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)o4(t,e),t=t.sibling}function o4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(li(t,e),Ii(e),n&4){try{oh(3,e,e.return),dx(3,e)}catch(g){sr(e,e.return,g)}try{oh(5,e,e.return)}catch(g){sr(e,e.return,g)}}break;case 1:li(t,e),Ii(e),n&512&&r!==null&&wu(r,r.return);break;case 5:if(li(t,e),Ii(e),n&512&&r!==null&&wu(r,r.return),e.flags&32){var s=e.stateNode;try{Ch(s,"")}catch(g){sr(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&PR(s,i),v_(l,o);var u=v_(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?DR(s,f):d==="dangerouslySetInnerHTML"?TR(s,f):d==="children"?Ch(s,f):aS(s,d,f,u)}switch(l){case"input":f_(s,i);break;case"textarea":AR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Eu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Eu(s,!!i.multiple,i.defaultValue,!0):Eu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ih]=i}catch(g){sr(e,e.return,g)}}break;case 6:if(li(t,e),Ii(e),n&4){if(e.stateNode===null)throw Error(fe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){sr(e,e.return,g)}}break;case 3:if(li(t,e),Ii(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oh(t.containerInfo)}catch(g){sr(e,e.return,g)}break;case 4:li(t,e),Ii(e);break;case 13:li(t,e),Ii(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(FS=dr())),n&4&&qP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(dn=(u=dn)||d,li(t,e),dn=u):li(t,e),Ii(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(f=Me=d;Me!==null;){switch(h=Me,m=h.child,h.tag){case 0:case 11:case 14:case 15:oh(4,h,h.return);break;case 1:wu(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){sr(n,r,g)}}break;case 5:wu(h,h.return);break;case 22:if(h.memoizedState!==null){YP(f);continue}}m!==null?(m.return=h,Me=m):YP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=MR("display",o))}catch(g){sr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){sr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:li(t,e),Ii(e),n&4&&qP(e);break;case 21:break;default:li(t,e),Ii(e)}}function Ii(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(i4(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ch(s,""),n.flags&=-33);var i=HP(e);K_(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=HP(e);q_(e,l,o);break;default:throw Error(fe(161))}}catch(c){sr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mH(e,t,r){Me=e,l4(e)}function l4(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var s=Me,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||$p;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dn;l=$p;var u=dn;if($p=o,(dn=c)&&!u)for(Me=s;Me!==null;)o=Me,c=o.child,o.tag===22&&o.memoizedState!==null?GP(s):c!==null?(c.return=o,Me=c):GP(s);for(;i!==null;)Me=i,l4(i),i=i.sibling;Me=s,$p=l,dn=u}KP(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Me=i):KP(e)}}function KP(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dn||dx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:di(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&OP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}OP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}dn||t.flags&512&&H_(t)}catch(h){sr(t,t.return,h)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function YP(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function GP(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dx(4,t)}catch(c){sr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){sr(t,s,c)}}var i=t.return;try{H_(t)}catch(c){sr(t,i,c)}break;case 5:var o=t.return;try{H_(t)}catch(c){sr(t,o,c)}}}catch(c){sr(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var pH=Math.ceil,kv=eo.ReactCurrentDispatcher,$S=eo.ReactCurrentOwner,zs=eo.ReactCurrentBatchConfig,yt=0,Hr=null,Sr=null,en=0,ds=0,_u=hl(0),Ir=0,Uh=null,vc=0,fx=0,LS=0,lh=null,Vn=null,FS=0,ld=1/0,_a=null,Nv=!1,Y_=null,Ho=null,Lp=!1,Ro=null,Cv=0,ch=0,G_=null,zg=-1,Ug=0;function An(){return yt&6?dr():zg!==-1?zg:zg=dr()}function qo(e){return e.mode&1?yt&2&&en!==0?en&-en:Q7.transition!==null?(Ug===0&&(Ug=qR()),Ug):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:JR(e.type)),e):1}function Si(e,t,r,n){if(50<ch)throw ch=0,G_=null,Error(fe(185));Om(e,r,n),(!(yt&2)||e!==Hr)&&(e===Hr&&(!(yt&2)&&(fx|=r),Ir===4&&So(e,en)),Zn(e,n),r===1&&yt===0&&!(t.mode&1)&&(ld=dr()+500,lx&&ml()))}function Zn(e,t){var r=e.callbackNode;Q9(e,t);var n=uv(e,e===Hr?en:0);if(n===0)r!==null&&sP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sP(r),t===1)e.tag===0?Z7(XP.bind(null,e)):yI(XP.bind(null,e)),K7(function(){!(yt&6)&&ml()}),r=null;else{switch(KR(n)){case 1:r=dS;break;case 4:r=VR;break;case 16:r=cv;break;case 536870912:r=HR;break;default:r=cv}r=g4(r,c4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function c4(e,t){if(zg=-1,Ug=0,yt&6)throw Error(fe(327));var r=e.callbackNode;if(Mu()&&e.callbackNode!==r)return null;var n=uv(e,e===Hr?en:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ev(e,n);else{t=n;var s=yt;yt|=2;var i=d4();(Hr!==e||en!==t)&&(_a=null,ld=dr()+500,sc(e,t));do try{yH();break}catch(l){u4(e,l)}while(!0);SS(),kv.current=i,yt=s,Sr!==null?t=0:(Hr=null,en=0,t=Ir)}if(t!==0){if(t===2&&(s=__(e),s!==0&&(n=s,t=X_(e,s))),t===1)throw r=Uh,sc(e,0),So(e,n),Zn(e,dr()),r;if(t===6)So(e,n);else{if(s=e.current.alternate,!(n&30)&&!gH(s)&&(t=Ev(e,n),t===2&&(i=__(e),i!==0&&(n=i,t=X_(e,i))),t===1))throw r=Uh,sc(e,0),So(e,n),Zn(e,dr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Dl(e,Vn,_a);break;case 3:if(So(e,n),(n&130023424)===n&&(t=FS+500-dr(),10<t)){if(uv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){An(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=A_(Dl.bind(null,e,Vn,_a),t);break}Dl(e,Vn,_a);break;case 4:if(So(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ji(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=dr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pH(n/1960))-n,10<n){e.timeoutHandle=A_(Dl.bind(null,e,Vn,_a),n);break}Dl(e,Vn,_a);break;case 5:Dl(e,Vn,_a);break;default:throw Error(fe(329))}}}return Zn(e,dr()),e.callbackNode===r?c4.bind(null,e):null}function X_(e,t){var r=lh;return e.current.memoizedState.isDehydrated&&(sc(e,t).flags|=256),e=Ev(e,t),e!==2&&(t=Vn,Vn=r,t!==null&&Z_(t)),e}function Z_(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function gH(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ki(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function So(e,t){for(t&=~LS,t&=~fx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ji(t),n=1<<r;e[r]=-1,t&=~n}}function XP(e){if(yt&6)throw Error(fe(327));Mu();var t=uv(e,0);if(!(t&1))return Zn(e,dr()),null;var r=Ev(e,t);if(e.tag!==0&&r===2){var n=__(e);n!==0&&(t=n,r=X_(e,n))}if(r===1)throw r=Uh,sc(e,0),So(e,t),Zn(e,dr()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e,Vn,_a),Zn(e,dr()),null}function BS(e,t){var r=yt;yt|=1;try{return e(t)}finally{yt=r,yt===0&&(ld=dr()+500,lx&&ml())}}function yc(e){Ro!==null&&Ro.tag===0&&!(yt&6)&&Mu();var t=yt;yt|=1;var r=zs.transition,n=Rt;try{if(zs.transition=null,Rt=1,e)return e()}finally{Rt=n,zs.transition=r,yt=t,!(yt&6)&&ml()}}function zS(){ds=_u.current,Gt(_u)}function sc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,q7(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(wS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pv();break;case 3:ad(),Gt(Gn),Gt(vn),AS();break;case 5:PS(n);break;case 4:ad();break;case 13:Gt(Jt);break;case 19:Gt(Jt);break;case 10:kS(n.type._context);break;case 22:case 23:zS()}r=r.return}if(Hr=e,Sr=e=Ko(e.current,null),en=ds=t,Ir=0,Uh=null,LS=fx=vc=0,Vn=lh=null,Hl!==null){for(t=0;t<Hl.length;t++)if(r=Hl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Hl=null}return e}function u4(e,t){do{var r=Sr;try{if(SS(),Lg.current=Sv,jv){for(var n=er.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}jv=!1}if(gc=0,Wr=Dr=er=null,ah=!1,Fh=0,$S.current=null,r===null||r.return===null){Ir=1,Uh=t,Sr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=en,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=$P(o);if(m!==null){m.flags&=-257,LP(m,o,l,i,t),m.mode&1&&IP(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){IP(i,u,t),US();break e}c=Error(fe(426))}}else if(Xt&&l.mode&1){var w=$P(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),LP(w,o,l,i,t),_S(od(c,l));break e}}i=c=od(c,l),Ir!==4&&(Ir=2),lh===null?lh=[i]:lh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=KI(i,c,t);AP(i,b);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ho===null||!Ho.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=YI(i,l,t);AP(i,_);break e}}i=i.return}while(i!==null)}h4(r)}catch(j){t=j,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function d4(){var e=kv.current;return kv.current=Sv,e===null?Sv:e}function US(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Hr===null||!(vc&268435455)&&!(fx&268435455)||So(Hr,en)}function Ev(e,t){var r=yt;yt|=2;var n=d4();(Hr!==e||en!==t)&&(_a=null,sc(e,t));do try{vH();break}catch(s){u4(e,s)}while(!0);if(SS(),yt=r,kv.current=n,Sr!==null)throw Error(fe(261));return Hr=null,en=0,Ir}function vH(){for(;Sr!==null;)f4(Sr)}function yH(){for(;Sr!==null&&!W9();)f4(Sr)}function f4(e){var t=p4(e.alternate,e,ds);e.memoizedProps=e.pendingProps,t===null?h4(e):Sr=t,$S.current=null}function h4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dH(r,t),r!==null){r.flags&=32767,Sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ir=6,Sr=null;return}}else if(r=uH(r,t,ds),r!==null){Sr=r;return}if(t=t.sibling,t!==null){Sr=t;return}Sr=t=e}while(t!==null);Ir===0&&(Ir=5)}function Dl(e,t,r){var n=Rt,s=zs.transition;try{zs.transition=null,Rt=1,xH(e,t,r,n)}finally{zs.transition=s,Rt=n}return null}function xH(e,t,r,n){do Mu();while(Ro!==null);if(yt&6)throw Error(fe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(J9(e,i),e===Hr&&(Sr=Hr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lp||(Lp=!0,g4(cv,function(){return Mu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zs.transition,zs.transition=null;var o=Rt;Rt=1;var l=yt;yt|=4,$S.current=null,hH(e,r),o4(r,e),F7(E_),dv=!!C_,E_=C_=null,e.current=r,mH(r),V9(),yt=l,Rt=o,zs.transition=i}else e.current=r;if(Lp&&(Lp=!1,Ro=e,Cv=s),i=e.pendingLanes,i===0&&(Ho=null),K9(r.stateNode),Zn(e,dr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Nv)throw Nv=!1,e=Y_,Y_=null,e;return Cv&1&&e.tag!==0&&Mu(),i=e.pendingLanes,i&1?e===G_?ch++:(ch=0,G_=e):ch=0,ml(),null}function Mu(){if(Ro!==null){var e=KR(Cv),t=zs.transition,r=Rt;try{if(zs.transition=null,Rt=16>e?16:e,Ro===null)var n=!1;else{if(e=Ro,Ro=null,Cv=0,yt&6)throw Error(fe(331));var s=yt;for(yt|=4,Me=e.current;Me!==null;){var i=Me,o=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:oh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var h=d.sibling,m=d.return;if(s4(d),d===u){Me=null;break}if(h!==null){h.return=m,Me=h;break}Me=m}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Me=o;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Me=b;break e}Me=i.return}}var x=e.current;for(Me=x;Me!==null;){o=Me;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Me=v;else e:for(o=x;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dx(9,l)}}catch(j){sr(l,l.return,j)}if(l===o){Me=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Me=_;break e}Me=l.return}}if(yt=s,ml(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(nx,e)}catch{}n=!0}return n}finally{Rt=r,zs.transition=t}}return!1}function ZP(e,t,r){t=od(r,t),t=KI(e,t,1),e=Vo(e,t,1),t=An(),e!==null&&(Om(e,1,t),Zn(e,t))}function sr(e,t,r){if(e.tag===3)ZP(e,e,r);else for(;t!==null;){if(t.tag===3){ZP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ho===null||!Ho.has(n))){e=od(r,e),e=YI(t,e,1),t=Vo(t,e,1),e=An(),t!==null&&(Om(t,1,e),Zn(t,e));break}}t=t.return}}function bH(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=An(),e.pingedLanes|=e.suspendedLanes&r,Hr===e&&(en&r)===r&&(Ir===4||Ir===3&&(en&130023424)===en&&500>dr()-FS?sc(e,0):LS|=r),Zn(e,t)}function m4(e,t){t===0&&(e.mode&1?(t=Ep,Ep<<=1,!(Ep&130023424)&&(Ep=4194304)):t=1);var r=An();e=Ua(e,t),e!==null&&(Om(e,t,r),Zn(e,r))}function wH(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),m4(e,r)}function _H(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),m4(e,r)}var p4;p4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kn=!1,cH(e,t,r);Kn=!!(e.flags&131072)}else Kn=!1,Xt&&t.flags&1048576&&xI(t,yv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bg(e,t),e=t.pendingProps;var s=nd(t,vn.current);Tu(t,r),s=TS(null,t,n,e,s,r);var i=MS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(n)?(i=!0,gv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,CS(t),s.updater=ux,t.stateNode=s,s._reactInternals=t,$_(t,n,e,r),t=B_(null,t,n,!0,i,r)):(t.tag=0,Xt&&i&&bS(t),Sn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=SH(n),e=di(n,e),s){case 0:t=F_(null,t,n,e,r);break e;case 1:t=zP(null,t,n,e,r);break e;case 11:t=FP(null,t,n,e,r);break e;case 14:t=BP(null,t,n,di(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:di(n,s),F_(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:di(n,s),zP(e,t,n,s,r);case 3:e:{if(QI(t),e===null)throw Error(fe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,kI(e,t),wv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=od(Error(fe(423)),t),t=UP(e,t,n,r,s);break e}else if(n!==s){s=od(Error(fe(424)),t),t=UP(e,t,n,r,s);break e}else for(vs=Wo(t.stateNode.containerInfo.firstChild),ys=t,Xt=!0,vi=null,r=jI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sd(),n===s){t=Wa(e,t,r);break e}Sn(e,t,n,r)}t=t.child}return t;case 5:return NI(t),e===null&&D_(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,P_(n,s)?o=null:i!==null&&P_(n,i)&&(t.flags|=32),ZI(e,t),Sn(e,t,o,r),t.child;case 6:return e===null&&D_(t),null;case 13:return JI(e,t,r);case 4:return ES(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=id(t,null,n,r):Sn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:di(n,s),FP(e,t,n,s,r);case 7:return Sn(e,t,t.pendingProps,r),t.child;case 8:return Sn(e,t,t.pendingProps.children,r),t.child;case 12:return Sn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ut(xv,n._currentValue),n._currentValue=o,i!==null)if(ki(i.value,o)){if(i.children===s.children&&!Gn.current){t=Wa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ia(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),R_(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(fe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),R_(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Sn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Tu(t,r),s=Ks(s),n=n(s),t.flags|=1,Sn(e,t,n,r),t.child;case 14:return n=t.type,s=di(n,t.pendingProps),s=di(n.type,s),BP(e,t,n,s,r);case 15:return GI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:di(n,s),Bg(e,t),t.tag=1,Xn(n)?(e=!0,gv(t)):e=!1,Tu(t,r),qI(t,n,s),$_(t,n,s,r),B_(null,t,n,!0,e,r);case 19:return e4(e,t,r);case 22:return XI(e,t,r)}throw Error(fe(156,t.tag))};function g4(e,t){return WR(e,t)}function jH(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(e,t,r,n){return new jH(e,t,r,n)}function WS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SH(e){if(typeof e=="function")return WS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lS)return 11;if(e===cS)return 14}return 2}function Ko(e,t){var r=e.alternate;return r===null?(r=Ls(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")WS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fu:return ic(r.children,s,i,t);case oS:o=8,s|=8;break;case o_:return e=Ls(12,r,t,s|2),e.elementType=o_,e.lanes=i,e;case l_:return e=Ls(13,r,t,s),e.elementType=l_,e.lanes=i,e;case c_:return e=Ls(19,r,t,s),e.elementType=c_,e.lanes=i,e;case NR:return hx(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SR:o=10;break e;case kR:o=9;break e;case lS:o=11;break e;case cS:o=14;break e;case xo:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Ls(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ic(e,t,r,n){return e=Ls(7,e,n,t),e.lanes=r,e}function hx(e,t,r,n){return e=Ls(22,e,n,t),e.elementType=NR,e.lanes=r,e.stateNode={isHidden:!1},e}function Fb(e,t,r){return e=Ls(6,e,null,t),e.lanes=r,e}function Bb(e,t,r){return t=Ls(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kH(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bb(0),this.expirationTimes=bb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function VS(e,t,r,n,s,i,o,l,c){return e=new kH(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ls(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},CS(i),e}function NH(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function v4(e){if(!e)return tl;e=e._reactInternals;e:{if(Dc(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(Xn(r))return vI(e,r,t)}return t}function y4(e,t,r,n,s,i,o,l,c){return e=VS(r,n,!0,e,s,i,o,l,c),e.context=v4(null),r=e.current,n=An(),s=qo(r),i=Ia(n,s),i.callback=t??null,Vo(r,i,s),e.current.lanes=s,Om(e,s,n),Zn(e,n),e}function mx(e,t,r,n){var s=t.current,i=An(),o=qo(s);return r=v4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ia(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vo(s,t,o),e!==null&&(Si(e,s,o,i),$g(e,s,o)),o}function Pv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function HS(e,t){QP(e,t),(e=e.alternate)&&QP(e,t)}function CH(){return null}var x4=typeof reportError=="function"?reportError:function(e){console.error(e)};function qS(e){this._internalRoot=e}px.prototype.render=qS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));mx(e,t,null,null)};px.prototype.unmount=qS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yc(function(){mx(null,e,null,null)}),t[za]=null}};function px(e){this._internalRoot=e}px.prototype.unstable_scheduleHydration=function(e){if(e){var t=XR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jo.length&&t!==0&&t<jo[r].priority;r++);jo.splice(r,0,e),r===0&&QR(e)}};function KS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function JP(){}function EH(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Pv(o);i.call(u)}}var o=y4(t,n,e,0,null,!1,!1,"",JP);return e._reactRootContainer=o,e[za]=o.current,Dh(e.nodeType===8?e.parentNode:e),yc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Pv(c);l.call(u)}}var c=VS(e,0,!1,null,null,!1,!1,"",JP);return e._reactRootContainer=c,e[za]=c.current,Dh(e.nodeType===8?e.parentNode:e),yc(function(){mx(t,c,r,n)}),c}function vx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Pv(o);l.call(c)}}mx(t,o,e,s)}else o=EH(r,t,e,s,n);return Pv(o)}YR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Lf(t.pendingLanes);r!==0&&(fS(t,r|1),Zn(t,dr()),!(yt&6)&&(ld=dr()+500,ml()))}break;case 13:yc(function(){var n=Ua(e,1);if(n!==null){var s=An();Si(n,e,1,s)}}),HS(e,1)}};hS=function(e){if(e.tag===13){var t=Ua(e,134217728);if(t!==null){var r=An();Si(t,e,134217728,r)}HS(e,134217728)}};GR=function(e){if(e.tag===13){var t=qo(e),r=Ua(e,t);if(r!==null){var n=An();Si(r,e,t,n)}HS(e,t)}};XR=function(){return Rt};ZR=function(e,t){var r=Rt;try{return Rt=e,t()}finally{Rt=r}};x_=function(e,t,r){switch(t){case"input":if(f_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ox(n);if(!s)throw Error(fe(90));ER(n),f_(n,s)}}}break;case"textarea":AR(e,r);break;case"select":t=r.value,t!=null&&Eu(e,!!r.multiple,t,!1)}};$R=BS;LR=yc;var PH={usingClientEntryPoint:!1,Events:[Mm,gu,ox,RR,IR,BS]},hf={findFiberByHostInstance:Vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AH={bundleType:hf.bundleType,version:hf.version,rendererPackageName:hf.rendererPackageName,rendererConfig:hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zR(e),e===null?null:e.stateNode},findFiberByHostInstance:hf.findFiberByHostInstance||CH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{nx=Fp.inject(AH),Xi=Fp}catch{}}Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PH;Ns.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KS(t))throw Error(fe(200));return NH(e,t,null,r)};Ns.createRoot=function(e,t){if(!KS(e))throw Error(fe(299));var r=!1,n="",s=x4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=VS(e,1,!1,null,null,r,!1,n,s),e[za]=t.current,Dh(e.nodeType===8?e.parentNode:e),new qS(t)};Ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=zR(t),e=e===null?null:e.stateNode,e};Ns.flushSync=function(e){return yc(e)};Ns.hydrate=function(e,t,r){if(!gx(t))throw Error(fe(200));return vx(null,e,t,!0,r)};Ns.hydrateRoot=function(e,t,r){if(!KS(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=x4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=y4(t,null,e,1,r??null,s,!1,i,o),e[za]=t.current,Dh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new px(t)};Ns.render=function(e,t,r){if(!gx(t))throw Error(fe(200));return vx(null,e,t,!1,r)};Ns.unmountComponentAtNode=function(e){if(!gx(e))throw Error(fe(40));return e._reactRootContainer?(yc(function(){vx(null,null,e,!1,function(){e._reactRootContainer=null,e[za]=null})}),!0):!1};Ns.unstable_batchedUpdates=BS;Ns.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gx(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return vx(e,t,r,!1,n)};Ns.version="18.3.1-next-f1338f8080-20240426";function b4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b4)}catch(e){console.error(e)}}b4(),bR.exports=Ns;var pl=bR.exports;const w4=Ti(pl);var _4,e2=pl;_4=e2.createRoot,e2.hydrateRoot;const OH=1,TH=1e6;let zb=0;function MH(){return zb=(zb+1)%Number.MAX_SAFE_INTEGER,zb.toString()}const Ub=new Map,t2=e=>{if(Ub.has(e))return;const t=setTimeout(()=>{Ub.delete(e),uh({type:"REMOVE_TOAST",toastId:e})},TH);Ub.set(e,t)},DH=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,OH)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?t2(r):e.toasts.forEach(n=>{t2(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Vg=[];let Hg={toasts:[]};function uh(e){Hg=DH(Hg,e),Vg.forEach(t=>{t(Hg)})}function RH({...e}){const t=MH(),r=s=>uh({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>uh({type:"DISMISS_TOAST",toastId:t});return uh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Er(){const[e,t]=p.useState(Hg);return p.useEffect(()=>(Vg.push(t),()=>{const r=Vg.indexOf(t);r>-1&&Vg.splice(r,1)}),[e]),{...e,toast:RH,dismiss:r=>uh({type:"DISMISS_TOAST",toastId:r})}}function ye(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function IH(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yx(...e){return t=>e.forEach(r=>IH(r,t))}function ut(...e){return p.useCallback(yx(...e),e)}function $H(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][c])||l,w=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,LH(s,...t)]}function LH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Va=p.forwardRef((e,t)=>{const{children:r,...n}=e,s=p.Children.toArray(r),i=s.find(FH);if(i){const o=i.props.children,l=s.map(c=>c===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return a.jsx(Q_,{...n,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return a.jsx(Q_,{...n,ref:t,children:r})});Va.displayName="Slot";var Q_=p.forwardRef((e,t)=>{const{children:r,...n}=e;if(p.isValidElement(r)){const s=zH(r);return p.cloneElement(r,{...BH(n,r.props),ref:t?yx(t,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});Q_.displayName="SlotClone";var YS=({children:e})=>a.jsx(a.Fragment,{children:e});function FH(e){return p.isValidElement(e)&&e.type===YS}function BH(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function zH(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xx(e){const t=e+"CollectionProvider",[r,n]=$H(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:g}=m,w=ie.useRef(null),b=ie.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:b,collectionRef:w,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=ie.forwardRef((m,y)=>{const{scope:g,children:w}=m,b=i(l,g),x=ut(y,b.collectionRef);return a.jsx(Va,{ref:x,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=ie.forwardRef((m,y)=>{const{scope:g,children:w,...b}=m,x=ie.useRef(null),v=ut(y,x),_=i(u,g);return ie.useEffect(()=>(_.itemMap.set(x,{ref:x,...b}),()=>void _.itemMap.delete(x))),a.jsx(Va,{[d]:"",ref:v,children:w})});f.displayName=u;function h(m){const y=i(e+"CollectionConsumer",m);return ie.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,j)=>b.indexOf(_.ref.current)-b.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function UH(e,t){const r=p.createContext(t),n=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Mi(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...y}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,w=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:m})};u.displayName=i+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,WH(s,...t)]}function WH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var VH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=VH.reduce((e,t)=>{const r=p.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?Va:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function GS(e,t){e&&pl.flushSync(()=>e.dispatchEvent(t))}function yn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function HH(e,t=globalThis==null?void 0:globalThis.document){const r=yn(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qH="DismissableLayer",J_="dismissableLayer.update",KH="dismissableLayer.pointerDownOutside",YH="dismissableLayer.focusOutside",r2,j4=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(j4),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=ut(t,k=>f(k)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(w),x=d?g.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,j=XH(k=>{const C=k.target,E=[...u.branches].some(A=>A.contains(C));!_||E||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),S=ZH(k=>{const C=k.target;[...u.branches].some(A=>A.contains(C))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return HH(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(r2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),n2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=r2)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),n2())},[d,u]),p.useEffect(()=>{const k=()=>m({});return document.addEventListener(J_,k),()=>document.removeEventListener(J_,k)},[]),a.jsx(He.div,{...c,ref:y,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,j.onPointerDownCapture)})});Rc.displayName=qH;var GH="DismissableLayerBranch",S4=p.forwardRef((e,t)=>{const r=p.useContext(j4),n=p.useRef(null),s=ut(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(He.div,{...e,ref:s})});S4.displayName=GH;function XH(e,t=globalThis==null?void 0:globalThis.document){const r=yn(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){k4(KH,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ZH(e,t=globalThis==null?void 0:globalThis.document){const r=yn(e),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&k4(YH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function n2(){const e=new CustomEvent(J_);document.dispatchEvent(e)}function k4(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?GS(s,i):s.dispatchEvent(i)}var QH=Rc,JH=S4,xn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},eq="Portal",Id=p.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=p.useState(!1);xn(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?w4.createPortal(a.jsx(He.div,{...n,ref:t}),o):null});Id.displayName=eq;function tq(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var rs=e=>{const{present:t,children:r}=e,n=rq(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=ut(n.ref,nq(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};rs.displayName="Presence";function rq(e){const[t,r]=p.useState(),n=p.useRef({}),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=tq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Bp(n.current);i.current=l==="mounted"?u:"none"},[l]),xn(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Bp(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),xn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Bp(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(i.current=Bp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Bp(e){return(e==null?void 0:e.animationName)||"none"}function nq(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ni({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=sq({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=yn(r),c=p.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[o,c]}function sq({defaultProp:e,onChange:t}){const r=p.useState(e),[n]=r,s=p.useRef(n),i=yn(t);return p.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var iq="VisuallyHidden",Rm=p.forwardRef((e,t)=>a.jsx(He.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Rm.displayName=iq;var aq=Rm,XS="ToastProvider",[ZS,oq,lq]=xx("Toast"),[N4,gCe]=Mi("Toast",[lq]),[cq,bx]=N4(XS),C4=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${XS}\`. Expected non-empty \`string\`.`),a.jsx(ZS.Provider,{scope:t,children:a.jsx(cq,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};C4.displayName=XS;var E4="ToastViewport",uq=["F8"],ej="toast.viewportPause",tj="toast.viewportResume",P4=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=uq,label:s="Notifications ({hotkey})",...i}=e,o=bx(E4,r),l=oq(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=ut(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const w=b=>{var v;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),p.useEffect(()=>{const w=c.current,b=f.current;if(y&&w&&b){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(ej);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(tj);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!w.contains(S.relatedTarget)&&v()},j=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",x),w.addEventListener("focusout",_),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",v)}}},[y,o.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:w})=>{const x=l().map(v=>{const _=v.ref.current,j=[_,...jq(_)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return p.useEffect(()=>{const w=f.current;if(w){const b=x=>{var j,S,k;const v=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!v){const C=document.activeElement,E=x.shiftKey;if(x.target===w&&E){(j=u.current)==null||j.focus();return}const O=g({tabbingDirection:E?"backwards":"forwards"}),$=O.findIndex(I=>I===C);Wb(O.slice($+1))?x.preventDefault():E?(S=u.current)==null||S.focus():(k=d.current)==null||k.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[l,g]),a.jsxs(JH,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(rj,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});Wb(w)}}),a.jsx(ZS.Slot,{scope:r,children:a.jsx(He.ol,{tabIndex:-1,...i,ref:h})}),y&&a.jsx(rj,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});Wb(w)}})]})});P4.displayName=E4;var A4="ToastFocusProxy",rj=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=bx(A4,r);return a.jsx(Rm,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});rj.displayName=A4;var wx="Toast",dq="toast.swipeStart",fq="toast.swipeMove",hq="toast.swipeCancel",mq="toast.swipeEnd",O4=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=Ni({prop:n,defaultProp:s,onChange:i});return a.jsx(rs,{present:r||l,children:a.jsx(vq,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:yn(e.onPause),onResume:yn(e.onResume),onSwipeStart:ye(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ye(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});O4.displayName=wx;var[pq,gq]=N4(wx,{onClose(){}}),vq=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,g=bx(wx,r),[w,b]=p.useState(null),x=ut(t,I=>b(I)),v=p.useRef(null),_=p.useRef(null),j=s||g.duration,S=p.useRef(0),k=p.useRef(j),C=p.useRef(0),{onToastAdd:E,onToastRemove:A}=g,P=yn(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),o()}),O=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(P,I))},[P]);p.useEffect(()=>{const I=g.viewport;if(I){const B=()=>{O(k.current),u==null||u()},U=()=>{const T=new Date().getTime()-S.current;k.current=k.current-T,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(ej,U),I.addEventListener(tj,B),()=>{I.removeEventListener(ej,U),I.removeEventListener(tj,B)}}},[g.viewport,j,c,u,O]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&O(j)},[i,j,g.isClosePausedRef,O]),p.useEffect(()=>(E(),()=>A()),[E,A]);const $=p.useMemo(()=>w?L4(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[$&&a.jsx(yq,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),a.jsx(pq,{scope:r,onClose:P,children:pl.createPortal(a.jsx(ZS.ItemSlot,{scope:r,children:a.jsx(QH,{asChild:!0,onEscapeKeyDown:ye(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||P(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ye(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ye(e.onPointerDown,I=>{I.button===0&&(v.current={x:I.clientX,y:I.clientY})}),onPointerMove:ye(e.onPointerMove,I=>{if(!v.current)return;const B=I.clientX-v.current.x,U=I.clientY-v.current.y,T=!!_.current,N=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=N?M(0,B):0,W=N?0:M(0,U),K=I.pointerType==="touch"?10:2,z={x:L,y:W},H={originalEvent:I,delta:z};T?(_.current=z,zp(fq,f,H,{discrete:!1})):s2(z,g.swipeDirection,K)?(_.current=z,zp(dq,d,H,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(B)>K||Math.abs(U)>K)&&(v.current=null)}),onPointerUp:ye(e.onPointerUp,I=>{const B=_.current,U=I.target;if(U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),_.current=null,v.current=null,B){const T=I.currentTarget,N={originalEvent:I,delta:B};s2(B,g.swipeDirection,g.swipeThreshold)?zp(mq,m,N,{discrete:!0}):zp(hq,h,N,{discrete:!0}),T.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),yq=e=>{const{__scopeToast:t,children:r,...n}=e,s=bx(wx,t),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return wq(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Id,{asChild:!0,children:a.jsx(Rm,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},xq="ToastTitle",T4=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(He.div,{...n,ref:t})});T4.displayName=xq;var bq="ToastDescription",M4=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(He.div,{...n,ref:t})});M4.displayName=bq;var D4="ToastAction",R4=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx($4,{altText:r,asChild:!0,children:a.jsx(QS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${D4}\`. Expected non-empty \`string\`.`),null)});R4.displayName=D4;var I4="ToastClose",QS=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=gq(I4,r);return a.jsx($4,{asChild:!0,children:a.jsx(He.button,{type:"button",...n,ref:t,onClick:ye(e.onClick,s.onClose)})})});QS.displayName=I4;var $4=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function L4(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),_q(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...L4(n))}}),t}function zp(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?GS(s,i):s.dispatchEvent(i)}var s2=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function wq(e=()=>{}){const t=yn(e);xn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function _q(e){return e.nodeType===e.ELEMENT_NODE}function jq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Wb(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Sq=C4,F4=P4,B4=O4,z4=T4,U4=M4,W4=R4,V4=QS;function H4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=H4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=H4(e))&&(n&&(n+=" "),n+=t);return n}const i2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,a2=xt,Im=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return a2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=i2(d)||i2(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...u,f,h]:u},[]);return a2(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...Nq,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:q4("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement(Cq,{ref:i,iconNode:t,className:q4(`lucide-${kq(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=ze("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ze("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=ze("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=ze("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=ze("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ze("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ze("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ze("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=ze("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=ze("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ek="-",qq=e=>{const t=Yq(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ek);return l[0]===""&&l.length!==1&&l.shift(),X4(l,t)||Kq(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},X4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?X4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(ek);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},u2=/^\[(.+)\]$/,Kq=e=>{if(u2.test(e)){const t=u2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Yq=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Xq(Object.entries(e.classGroups),r).forEach(([i,o])=>{ij(o,n,i,t)}),n},ij=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:d2(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Gq(s)){ij(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{ij(o,d2(t,i),r,n)})})},d2=(e,t)=>{let r=e;return t.split(ek).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gq=e=>e.isThemeGetter,Xq=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,Zq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Z4="!",Qq=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let b=l[w];if(u===0){if(b===s&&(n||l.slice(w,w+i)===t)){c.push(l.slice(d,w)),d=w+i;continue}if(b==="/"){f=w;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(Z4),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Jq=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},eK=e=>({cache:Zq(e.cacheSize),parseClassName:Qq(e),...qq(e)}),tK=/\s+/,rK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(tK);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,g=n(y?h.substring(0,m):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=Jq(d).join(":"),b=f?w+Z4:w,x=b+g;if(i.includes(x))continue;i.push(x);const v=s(g,y);for(let _=0;_<v.length;++_){const j=v[_];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function nK(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Q4(t))&&(n&&(n+=" "),n+=r);return n}const Q4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Q4(e[n]))&&(r&&(r+=" "),r+=t);return r};function sK(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=eK(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=rK(c,r);return s(c,d),d}return function(){return i(nK.apply(null,arguments))}}const Vt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},J4=/^\[(?:([a-z-]+):)?(.+)\]$/i,iK=/^\d+\/\d+$/,aK=new Set(["px","full","screen"]),oK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ha=e=>Iu(e)||aK.has(e)||iK.test(e),oo=e=>$d(e,"length",xK),Iu=e=>!!e&&!Number.isNaN(Number(e)),Hb=e=>$d(e,"number",Iu),mf=e=>!!e&&Number.isInteger(Number(e)),fK=e=>e.endsWith("%")&&Iu(e.slice(0,-1)),nt=e=>J4.test(e),lo=e=>oK.test(e),hK=new Set(["length","size","percentage"]),mK=e=>$d(e,hK,e$),pK=e=>$d(e,"position",e$),gK=new Set(["image","url"]),vK=e=>$d(e,gK,wK),yK=e=>$d(e,"",bK),pf=()=>!0,$d=(e,t,r)=>{const n=J4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xK=e=>lK.test(e)&&!cK.test(e),e$=()=>!1,bK=e=>uK.test(e),wK=e=>dK.test(e),_K=()=>{const e=Vt("colors"),t=Vt("spacing"),r=Vt("blur"),n=Vt("brightness"),s=Vt("borderColor"),i=Vt("borderRadius"),o=Vt("borderSpacing"),l=Vt("borderWidth"),c=Vt("contrast"),u=Vt("grayscale"),d=Vt("hueRotate"),f=Vt("invert"),h=Vt("gap"),m=Vt("gradientColorStops"),y=Vt("gradientColorStopPositions"),g=Vt("inset"),w=Vt("margin"),b=Vt("opacity"),x=Vt("padding"),v=Vt("saturate"),_=Vt("scale"),j=Vt("sepia"),S=Vt("skew"),k=Vt("space"),C=Vt("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",nt,t],O=()=>[nt,t],$=()=>["",ha,oo],I=()=>["auto",Iu,nt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",nt],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Iu,nt];return{cacheSize:500,separator:":",theme:{colors:[pf],spacing:[ha,oo],blur:["none","",lo,nt],brightness:W(),borderColor:[e],borderRadius:["none","","full",lo,nt],borderSpacing:O(),borderWidth:$(),contrast:W(),grayscale:M(),hueRotate:W(),invert:M(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[fK,oo],inset:P(),margin:P(),opacity:W(),padding:O(),saturate:W(),scale:W(),sepia:M(),skew:W(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[lo]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),nt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mf,nt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",mf,nt]}],"grid-cols":[{"grid-cols":[pf]}],"col-start-end":[{col:["auto",{span:["full",mf,nt]},nt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[pf]}],"row-start-end":[{row:["auto",{span:[mf,nt]},nt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,t]}],"min-w":[{"min-w":[nt,t,"min","max","fit"]}],"max-w":[{"max-w":[nt,t,"none","full","min","max","fit","prose",{screen:[lo]},lo]}],h:[{h:[nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",lo,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hb]}],"font-family":[{font:[pf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Iu,Hb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ha,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ha,oo]}],"underline-offset":[{"underline-offset":["auto",ha,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),pK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vK]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ha,nt]}],"outline-w":[{outline:[ha,oo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ha,oo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lo,yK]}],"shadow-color":[{shadow:[pf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lo,nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[mf,nt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ha,oo,Hb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jK=sK(_K);function be(...e){return jK(xt(e))}const SK=Sq,t$=p.forwardRef(({className:e,...t},r)=>a.jsx(F4,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));t$.displayName=F4.displayName;const kK=Im("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),r$=p.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(B4,{ref:n,className:be(kK({variant:t}),e),...r}));r$.displayName=B4.displayName;const NK=p.forwardRef(({className:e,...t},r)=>a.jsx(W4,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));NK.displayName=W4.displayName;const n$=p.forwardRef(({className:e,...t},r)=>a.jsx(V4,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(ra,{className:"h-4 w-4"})}));n$.displayName=V4.displayName;const s$=p.forwardRef(({className:e,...t},r)=>a.jsx(z4,{ref:r,className:be("text-sm font-semibold",e),...t}));s$.displayName=z4.displayName;const i$=p.forwardRef(({className:e,...t},r)=>a.jsx(U4,{ref:r,className:be("text-sm opacity-90",e),...t}));i$.displayName=U4.displayName;function CK(){const{toasts:e}=Er();return a.jsxs(SK,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(r$,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(s$,{children:r}),n&&a.jsx(i$,{children:n})]}),s,a.jsx(n$,{})]},t)}),a.jsx(t$,{})]})}var f2=["light","dark"],EK="(prefers-color-scheme: dark)",PK=p.createContext(void 0),AK={setTheme:e=>{},themes:[]},OK=()=>{var e;return(e=p.useContext(PK))!=null?e:AK};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?f2.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,w=!0)=>{let b=o?o[y]:y,x=g?y+"|| ''":`'${b}'`,v="";return s&&w&&!g&&f2.includes(y)&&(v+=`d.style.colorScheme = '${y}';`),r==="class"?g||b?v+=`c.add(${x})`:v+="null":b&&(v+=`d[s](n,${x})`),v},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${EK}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var TK=e=>{switch(e){case"success":return RK;case"info":return $K;case"warning":return IK;case"error":return LK;default:return null}},MK=Array(12).fill(0),DK=({visible:e})=>ie.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ie.createElement("div",{className:"sonner-spinner"},MK.map((t,r)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),RK=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IK=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$K=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LK=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FK=()=>{let[e,t]=ie.useState(document.hidden);return ie.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},aj=1,BK=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:aj++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async i=>{if(UK(i)&&!i.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||aj++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},us=new BK,zK=(e,t)=>{let r=(t==null?void 0:t.id)||aj++;return us.addToast({title:e,...t,id:r}),r},UK=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",WK=zK,VK=()=>us.toasts,Gc=Object.assign(WK,{success:us.success,info:us.info,warning:us.warning,error:us.error,custom:us.custom,message:us.message,promise:us.promise,dismiss:us.dismiss,loading:us.loading},{getHistory:VK});function HK(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}HK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wp(e){return e.label!==void 0}var qK=3,KK="32px",YK=4e3,GK=356,XK=14,ZK=20,QK=200;function JK(...e){return e.filter(Boolean).join(" ")}var eY=e=>{var t,r,n,s,i,o,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:y,setHeights:g,visibleToasts:w,heights:b,index:x,toasts:v,expanded:_,removeToast:j,defaultRichColors:S,closeButton:k,style:C,cancelButtonStyle:E,actionButtonStyle:A,className:P="",descriptionClassName:O="",duration:$,position:I,gap:B,loadingIcon:U,expandByDefault:T,classNames:N,icons:M,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:W,cn:K}=e,[z,H]=ie.useState(!1),[V,oe]=ie.useState(!1),[te,Ne]=ie.useState(!1),[ee,pe]=ie.useState(!1),[we,Q]=ie.useState(0),[Je,Le]=ie.useState(0),et=ie.useRef(null),it=ie.useRef(null),re=x===0,D=x+1<=w,F=h.type,Y=h.dismissible!==!1,me=h.className||"",ce=h.descriptionClassName||"",le=ie.useMemo(()=>b.findIndex(Ke=>Ke.toastId===h.id)||0,[b,h.id]),Ie=ie.useMemo(()=>{var Ke;return(Ke=h.closeButton)!=null?Ke:k},[h.closeButton,k]),Be=ie.useMemo(()=>h.duration||$||YK,[h.duration,$]),jt=ie.useRef(0),Xe=ie.useRef(0),Pr=ie.useRef(0),Fr=ie.useRef(null),[$n,da]=I.split("-"),ns=ie.useMemo(()=>b.reduce((Ke,ge,St)=>St>=le?Ke:Ke+ge.height,0),[b,le]),Ln=FK(),fa=h.invert||f,ii=F==="loading";Xe.current=ie.useMemo(()=>le*B+ns,[le,ns]),ie.useEffect(()=>{H(!0)},[]),ie.useLayoutEffect(()=>{if(!z)return;let Ke=it.current,ge=Ke.style.height;Ke.style.height="auto";let St=Ke.getBoundingClientRect().height;Ke.style.height=ge,Le(St),g(X=>X.find(se=>se.toastId===h.id)?X.map(se=>se.toastId===h.id?{...se,height:St}:se):[{toastId:h.id,height:St,position:h.position},...X])},[z,h.title,h.description,g,h.id]);let Es=ie.useCallback(()=>{oe(!0),Q(Xe.current),g(Ke=>Ke.filter(ge=>ge.toastId!==h.id)),setTimeout(()=>{j(h)},QK)},[h,j,g,Xe]);ie.useEffect(()=>{if(h.promise&&F==="loading"||h.duration===1/0||h.type==="loading")return;let Ke,ge=Be;return _||y||W&&Ln?(()=>{if(Pr.current<jt.current){let St=new Date().getTime()-jt.current;ge=ge-St}Pr.current=new Date().getTime()})():ge!==1/0&&(jt.current=new Date().getTime(),Ke=setTimeout(()=>{var St;(St=h.onAutoClose)==null||St.call(h,h),Es()},ge)),()=>clearTimeout(Ke)},[_,y,T,h,Be,Es,h.promise,F,W,Ln]),ie.useEffect(()=>{let Ke=it.current;if(Ke){let ge=Ke.getBoundingClientRect().height;return Le(ge),g(St=>[{toastId:h.id,height:ge,position:h.position},...St]),()=>g(St=>St.filter(X=>X.toastId!==h.id))}},[g,h.id]),ie.useEffect(()=>{h.delete&&Es()},[Es,h.delete]);function Kc(){return M!=null&&M.loading?ie.createElement("div",{className:"sonner-loader","data-visible":F==="loading"},M.loading):U?ie.createElement("div",{className:"sonner-loader","data-visible":F==="loading"},U):ie.createElement(DK,{visible:F==="loading"})}return ie.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:it,className:K(P,me,N==null?void 0:N.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[F],(r=h==null?void 0:h.classNames)==null?void 0:r[F]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":z,"data-promise":!!h.promise,"data-removed":V,"data-visible":D,"data-y-position":$n,"data-x-position":da,"data-index":x,"data-front":re,"data-swiping":te,"data-dismissible":Y,"data-type":F,"data-invert":fa,"data-swipe-out":ee,"data-expanded":!!(_||T&&z),style:{"--index":x,"--toasts-before":x,"--z-index":v.length-x,"--offset":`${V?we:Xe.current}px`,"--initial-height":T?"auto":`${Je}px`,...C,...h.style},onPointerDown:Ke=>{ii||!Y||(et.current=new Date,Q(Xe.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(Ne(!0),Fr.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,ge,St,X;if(ee||!Y)return;Fr.current=null;let se=Number(((Ke=it.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ve=new Date().getTime()-((ge=et.current)==null?void 0:ge.getTime()),Ze=Math.abs(se)/ve;if(Math.abs(se)>=ZK||Ze>.11){Q(Xe.current),(St=h.onDismiss)==null||St.call(h,h),Es(),pe(!0);return}(X=it.current)==null||X.style.setProperty("--swipe-amount","0px"),Ne(!1)},onPointerMove:Ke=>{var ge;if(!Fr.current||!Y)return;let St=Ke.clientY-Fr.current.y,X=Ke.clientX-Fr.current.x,se=($n==="top"?Math.min:Math.max)(0,St),ve=Ke.pointerType==="touch"?10:2;Math.abs(se)>ve?(ge=it.current)==null||ge.style.setProperty("--swipe-amount",`${St}px`):Math.abs(X)>ve&&(Fr.current=null)}},Ie&&!h.jsx?ie.createElement("button",{"aria-label":L,"data-disabled":ii,"data-close-button":!0,onClick:ii||!Y?()=>{}:()=>{var Ke;Es(),(Ke=h.onDismiss)==null||Ke.call(h,h)},className:K(N==null?void 0:N.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||ie.isValidElement(h.title)?h.jsx||h.title:ie.createElement(ie.Fragment,null,F||h.icon||h.promise?ie.createElement("div",{"data-icon":"",className:K(N==null?void 0:N.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Kc():null,h.type!=="loading"?h.icon||(M==null?void 0:M[F])||TK(F):null):null,ie.createElement("div",{"data-content":"",className:K(N==null?void 0:N.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},ie.createElement("div",{"data-title":"",className:K(N==null?void 0:N.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?ie.createElement("div",{"data-description":"",className:K(O,ce,N==null?void 0:N.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),ie.isValidElement(h.cancel)?h.cancel:h.cancel&&Wp(h.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:Ke=>{var ge,St;Wp(h.cancel)&&Y&&((St=(ge=h.cancel).onClick)==null||St.call(ge,Ke),Es())},className:K(N==null?void 0:N.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,ie.isValidElement(h.action)?h.action:h.action&&Wp(h.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:Ke=>{var ge,St;Wp(h.action)&&(Ke.defaultPrevented||((St=(ge=h.action).onClick)==null||St.call(ge,Ke),Es()))},className:K(N==null?void 0:N.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function h2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var tY=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=qK,toastOptions:m,dir:y=h2(),gap:g=XK,loadingIcon:w,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:v,cn:_=JK}=e,[j,S]=ie.useState([]),k=ie.useMemo(()=>Array.from(new Set([r].concat(j.filter(W=>W.position).map(W=>W.position)))),[j,r]),[C,E]=ie.useState([]),[A,P]=ie.useState(!1),[O,$]=ie.useState(!1),[I,B]=ie.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=ie.useRef(null),T=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=ie.useRef(null),M=ie.useRef(!1),L=ie.useCallback(W=>{var K;(K=j.find(z=>z.id===W.id))!=null&&K.delete||us.dismiss(W.id),S(z=>z.filter(({id:H})=>H!==W.id))},[j]);return ie.useEffect(()=>us.subscribe(W=>{if(W.dismiss){S(K=>K.map(z=>z.id===W.id?{...z,delete:!0}:z));return}setTimeout(()=>{w4.flushSync(()=>{S(K=>{let z=K.findIndex(H=>H.id===W.id);return z!==-1?[...K.slice(0,z),{...K[z],...W},...K.slice(z+1)]:[W,...K]})})})}),[]),ie.useEffect(()=>{if(c!=="system"){B(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{B(W?"dark":"light")})},[c]),ie.useEffect(()=>{j.length<=1&&P(!1)},[j]),ie.useEffect(()=>{let W=K=>{var z,H;n.every(V=>K[V]||K.code===V)&&(P(!0),(z=U.current)==null||z.focus()),K.code==="Escape"&&(document.activeElement===U.current||(H=U.current)!=null&&H.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[n]),ie.useEffect(()=>{if(U.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,M.current=!1)}},[U.current]),j.length?ie.createElement("section",{"aria-label":`${x} ${T}`,tabIndex:-1},k.map((W,K)=>{var z;let[H,V]=W.split("-");return ie.createElement("ol",{key:W,dir:y==="auto"?h2():y,tabIndex:-1,ref:U,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":H,"data-x-position":V,style:{"--front-toast-height":`${((z=C[0])==null?void 0:z.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||KK,"--width":`${GK}px`,"--gap":`${g}px`,...f},onBlur:oe=>{M.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(M.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||M.current||(M.current=!0,N.current=oe.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{O||P(!1)},onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},j.filter(oe=>!oe.position&&K===0||oe.position===W).map((oe,te)=>{var Ne,ee;return ie.createElement(eY,{key:oe.id,icons:b,index:te,toast:oe,defaultRichColors:u,duration:(Ne=m==null?void 0:m.duration)!=null?Ne:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(ee=m==null?void 0:m.closeButton)!=null?ee:i,interacting:O,position:W,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:L,toasts:j.filter(pe=>pe.position==oe.position),heights:C.filter(pe=>pe.position==oe.position),setHeights:E,expandByDefault:s,gap:g,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:v,cn:_})}))})):null};const rY=({...e})=>{const{theme:t="system"}=OK();return a.jsx(tY,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var nY=yR.useId||(()=>{}),sY=0;function Ws(e){const[t,r]=p.useState(nY());return xn(()=>{e||r(n=>n??String(sY++))},[e]),e||(t?`radix-${t}`:"")}const iY=["top","right","bottom","left"],rl=Math.min,hs=Math.max,Dv=Math.round,Vp=Math.floor,nl=e=>({x:e,y:e}),aY={left:"right",right:"left",bottom:"top",top:"bottom"},oY={start:"end",end:"start"};function oj(e,t,r){return hs(e,rl(t,r))}function qa(e,t){return typeof e=="function"?e(t):e}function Ka(e){return e.split("-")[0]}function Ld(e){return e.split("-")[1]}function tk(e){return e==="x"?"y":"x"}function rk(e){return e==="y"?"height":"width"}function sl(e){return["top","bottom"].includes(Ka(e))?"y":"x"}function nk(e){return tk(sl(e))}function lY(e,t,r){r===void 0&&(r=!1);const n=Ld(e),s=nk(e),i=rk(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Rv(o)),[o,Rv(o)]}function cY(e){const t=Rv(e);return[lj(e),t,lj(t)]}function lj(e){return e.replace(/start|end/g,t=>oY[t])}function uY(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function dY(e,t,r,n){const s=Ld(e);let i=uY(Ka(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(lj)))),i}function Rv(e){return e.replace(/left|right|bottom|top/g,t=>aY[t])}function fY(e){return{top:0,right:0,bottom:0,left:0,...e}}function a$(e){return typeof e!="number"?fY(e):{top:e,right:e,bottom:e,left:e}}function Iv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function m2(e,t,r){let{reference:n,floating:s}=e;const i=sl(t),o=nk(t),l=rk(o),c=Ka(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Ld(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const hY=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=m2(u,n,c),h=n,m={},y=0;for(let g=0;g<l.length;g++){const{name:w,fn:b}=l[g],{x,y:v,data:_,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=v??f,m={...m,[w]:{...m[w],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=m2(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Hh(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=qa(t,e),y=a$(m),w=l[h?f==="floating"?"reference":"floating":f],b=Iv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},j=Iv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:v,strategy:c}):x);return{top:(b.top-j.top+y.top)/_.y,bottom:(j.bottom-b.bottom+y.bottom)/_.y,left:(b.left-j.left+y.left)/_.x,right:(j.right-b.right+y.right)/_.x}}const mY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=qa(e,t)||{};if(u==null)return{};const f=a$(d),h={x:r,y:n},m=nk(s),y=rk(m),g=await o.getDimensions(u),w=m==="y",b=w?"top":"left",x=w?"bottom":"right",v=w?"clientHeight":"clientWidth",_=i.reference[y]+i.reference[m]-h[m]-i.floating[y],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=S?S[v]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=l.floating[v]||i.floating[y]);const C=_/2-j/2,E=k/2-g[y]/2-1,A=rl(f[b],E),P=rl(f[x],E),O=A,$=k-g[y]-P,I=k/2-g[y]/2+C,B=oj(O,I,$),U=!c.arrow&&Ld(s)!=null&&I!==B&&i.reference[y]/2-(I<O?A:P)-g[y]/2<0,T=U?I<O?I-O:I-$:0;return{[m]:h[m]+T,data:{[m]:B,centerOffset:I-B-T,...U&&{alignmentOffset:T}},reset:U}}}),pY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=qa(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Ka(s),x=sl(l),v=Ka(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(v||!g?[Rv(l)]:cY(l)),S=y!=="none";!h&&S&&j.push(...dY(l,g,y,_));const k=[l,...j],C=await Hh(t,w),E=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&E.push(C[b]),f){const I=lY(s,o,_);E.push(C[I[0]],C[I[1]])}if(A=[...A,{placement:s,overflows:E}],!E.every(I=>I<=0)){var P,O;const I=(((P=i.flip)==null?void 0:P.index)||0)+1,B=k[I];if(B)return{data:{index:I,overflows:A},reset:{placement:B}};let U=(O=A.filter(T=>T.overflows[0]<=0).sort((T,N)=>T.overflows[1]-N.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var $;const T=($=A.filter(N=>{if(S){const M=sl(N.placement);return M===x||M==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(M=>M>0).reduce((M,L)=>M+L,0)]).sort((N,M)=>N[1]-M[1])[0])==null?void 0:$[0];T&&(U=T);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function p2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function g2(e){return iY.some(t=>e[t]>=0)}const gY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=qa(e,t);switch(n){case"referenceHidden":{const i=await Hh(t,{...s,elementContext:"reference"}),o=p2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:g2(o)}}}case"escaped":{const i=await Hh(t,{...s,altBoundary:!0}),o=p2(i,r.floating);return{data:{escapedOffsets:o,escaped:g2(o)}}}default:return{}}}}};async function vY(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ka(r),l=Ld(r),c=sl(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=qa(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const yY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await vY(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},xY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:b,y:x}=w;return{x:b,y:x}}},...c}=qa(e,t),u={x:r,y:n},d=await Hh(t,c),f=sl(Ka(s)),h=tk(f);let m=u[h],y=u[f];if(i){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[w],v=m-d[b];m=oj(x,m,v)}if(o){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=y+d[w],v=y-d[b];y=oj(x,y,v)}const g=l.fn({...t,[h]:m,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},bY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=qa(e,t),d={x:r,y:n},f=sl(s),h=tk(f);let m=d[h],y=d[f];const g=qa(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const v=h==="y"?"height":"width",_=i.reference[h]-i.floating[v]+w.mainAxis,j=i.reference[h]+i.reference[v]-w.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,x;const v=h==="y"?"width":"height",_=["top","left"].includes(Ka(s)),j=i.reference[f]-i.floating[v]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:w.crossAxis),S=i.reference[f]+i.reference[v]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?w.crossAxis:0);y<j?y=j:y>S&&(y=S)}return{[h]:m,[f]:y}}}},wY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=qa(e,t),d=await Hh(t,u),f=Ka(s),h=Ld(s),m=sl(s)==="y",{width:y,height:g}=i.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,w=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,v=y-d.left-d.right,_=rl(g-d[w],x),j=rl(y-d[b],v),S=!t.middlewareData.shift;let k=_,C=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),S&&!h){const A=hs(d.left,0),P=hs(d.right,0),O=hs(d.top,0),$=hs(d.bottom,0);m?C=y-2*(A!==0||P!==0?A+P:hs(d.left,d.right)):k=g-2*(O!==0||$!==0?O+$:hs(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:k});const E=await o.getDimensions(l.floating);return y!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function kx(){return typeof window<"u"}function Fd(e){return o$(e)?(e.nodeName||"").toLowerCase():"#document"}function xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ca(e){var t;return(t=(o$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function o$(e){return kx()?e instanceof Node||e instanceof xs(e).Node:!1}function Ei(e){return kx()?e instanceof Element||e instanceof xs(e).Element:!1}function na(e){return kx()?e instanceof HTMLElement||e instanceof xs(e).HTMLElement:!1}function v2(e){return!kx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xs(e).ShadowRoot}function Lm(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Pi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function _Y(e){return["table","td","th"].includes(Fd(e))}function Nx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sk(e){const t=ik(),r=Ei(e)?Pi(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function jY(e){let t=il(e);for(;na(t)&&!ud(t);){if(sk(t))return t;if(Nx(t))return null;t=il(t)}return null}function ik(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ud(e){return["html","body","#document"].includes(Fd(e))}function Pi(e){return xs(e).getComputedStyle(e)}function Cx(e){return Ei(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function il(e){if(Fd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||v2(e)&&e.host||ca(e);return v2(t)?t.host:t}function l$(e){const t=il(e);return ud(t)?e.ownerDocument?e.ownerDocument.body:e.body:na(t)&&Lm(t)?t:l$(t)}function qh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=l$(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=xs(s);if(i){const l=cj(o);return t.concat(o,o.visualViewport||[],Lm(s)?s:[],l&&r?qh(l):[])}return t.concat(s,qh(s,[],r))}function cj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c$(e){const t=Pi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=na(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Dv(r)!==i||Dv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function ak(e){return Ei(e)?e:e.contextElement}function $u(e){const t=ak(e);if(!na(t))return nl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=c$(t);let o=(i?Dv(r.width):r.width)/n,l=(i?Dv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const SY=nl(0);function u$(e){const t=xs(e);return!ik()||!t.visualViewport?SY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==xs(e)?!1:t}function xc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=ak(e);let o=nl(1);t&&(n?Ei(n)&&(o=$u(n)):o=$u(e));const l=kY(i,r,n)?u$(i):nl(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=xs(i),m=n&&Ei(n)?xs(n):n;let y=h,g=cj(y);for(;g&&n&&m!==y;){const w=$u(g),b=g.getBoundingClientRect(),x=Pi(g),v=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,_=b.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=v,u+=_,y=xs(g),g=cj(y)}}return Iv({width:d,height:f,x:c,y:u})}function NY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=ca(n),l=t?Nx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=nl(1);const d=nl(0),f=na(n);if((f||!f&&!i)&&((Fd(n)!=="body"||Lm(o))&&(c=Cx(n)),na(n))){const h=xc(n);u=$u(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function CY(e){return Array.from(e.getClientRects())}function uj(e,t){const r=Cx(e).scrollLeft;return t?t.left+r:xc(ca(e)).left+r}function EY(e){const t=ca(e),r=Cx(e),n=e.ownerDocument.body,s=hs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=hs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+uj(e);const l=-r.scrollTop;return Pi(n).direction==="rtl"&&(o+=hs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function PY(e,t){const r=xs(e),n=ca(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=ik();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function AY(e,t){const r=xc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=na(e)?$u(e):nl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function y2(e,t,r){let n;if(t==="viewport")n=PY(e,r);else if(t==="document")n=EY(ca(e));else if(Ei(t))n=AY(t,r);else{const s=u$(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Iv(n)}function d$(e,t){const r=il(e);return r===t||!Ei(r)||ud(r)?!1:Pi(r).position==="fixed"||d$(r,t)}function OY(e,t){const r=t.get(e);if(r)return r;let n=qh(e,[],!1).filter(l=>Ei(l)&&Fd(l)!=="body"),s=null;const i=Pi(e).position==="fixed";let o=i?il(e):e;for(;Ei(o)&&!ud(o);){const l=Pi(o),c=sk(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Lm(o)&&!c&&d$(e,o))?n=n.filter(d=>d!==o):s=l,o=il(o)}return t.set(e,n),n}function TY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Nx(t)?[]:OY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=y2(t,d,s);return u.top=hs(f.top,u.top),u.right=rl(f.right,u.right),u.bottom=rl(f.bottom,u.bottom),u.left=hs(f.left,u.left),u},y2(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MY(e){const{width:t,height:r}=c$(e);return{width:t,height:r}}function DY(e,t,r){const n=na(t),s=ca(t),i=r==="fixed",o=xc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=nl(0);if(n||!n&&!i)if((Fd(t)!=="body"||Lm(s))&&(l=Cx(t)),n){const m=xc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=uj(s));let u=0,d=0;if(s&&!n&&!i){const m=s.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-uj(s,m)}const f=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function qb(e){return Pi(e).position==="static"}function x2(e,t){if(!na(e)||Pi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ca(e)===r&&(r=r.ownerDocument.body),r}function f$(e,t){const r=xs(e);if(Nx(e))return r;if(!na(e)){let s=il(e);for(;s&&!ud(s);){if(Ei(s)&&!qb(s))return s;s=il(s)}return r}let n=x2(e,t);for(;n&&_Y(n)&&qb(n);)n=x2(n,t);return n&&ud(n)&&qb(n)&&!sk(n)?r:n||jY(e)||r}const RY=async function(e){const t=this.getOffsetParent||f$,r=this.getDimensions,n=await r(e.floating);return{reference:DY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function IY(e){return Pi(e).direction==="rtl"}const $Y={convertOffsetParentRelativeRectToViewportRelativeRect:NY,getDocumentElement:ca,getClippingRect:TY,getOffsetParent:f$,getElementRects:RY,getClientRects:CY,getDimensions:MY,getScale:$u,isElement:Ei,isRTL:IY};function LY(e,t){let r=null,n;const s=ca(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Vp(d),y=Vp(s.clientWidth-(u+f)),g=Vp(s.clientHeight-(d+h)),w=Vp(u),x={rootMargin:-m+"px "+-y+"px "+-g+"px "+-w+"px",threshold:hs(0,rl(1,c))||1};let v=!0;function _(j){const S=j[0].intersectionRatio;if(S!==c){if(!v)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}v=!1}try{r=new IntersectionObserver(_,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,x)}r.observe(e)}return o(!0),i}function FY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ak(e),d=s||i?[...u?qh(u):[],...qh(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?LY(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,g=c?xc(e):null;c&&w();function w(){const b=xc(e);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&r(),g=b,y=requestAnimationFrame(w)}return r(),()=>{var b;d.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const BY=yY,zY=xY,UY=pY,WY=wY,VY=gY,b2=mY,HY=bY,qY=(e,t,r)=>{const n=new Map,s={platform:$Y,...r},i={...s.platform,_c:n};return hY(e,t,{...s,platform:i})};var qg=typeof document<"u"?p.useLayoutEffect:p.useEffect;function $v(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$v(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!$v(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function h$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function w2(e,t){const r=h$(e);return Math.round(t*r)/r}function Kb(e){const t=p.useRef(e);return qg(()=>{t.current=e}),t}function KY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(n);$v(h,n)||m(n);const[y,g]=p.useState(null),[w,b]=p.useState(null),x=p.useCallback(N=>{N!==S.current&&(S.current=N,g(N))},[]),v=p.useCallback(N=>{N!==k.current&&(k.current=N,b(N))},[]),_=i||y,j=o||w,S=p.useRef(null),k=p.useRef(null),C=p.useRef(d),E=c!=null,A=Kb(c),P=Kb(s),O=Kb(u),$=p.useCallback(()=>{if(!S.current||!k.current)return;const N={placement:t,strategy:r,middleware:h};P.current&&(N.platform=P.current),qY(S.current,k.current,N).then(M=>{const L={...M,isPositioned:O.current!==!1};I.current&&!$v(C.current,L)&&(C.current=L,pl.flushSync(()=>{f(L)}))})},[h,t,r,P,O]);qg(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[u]);const I=p.useRef(!1);qg(()=>(I.current=!0,()=>{I.current=!1}),[]),qg(()=>{if(_&&(S.current=_),j&&(k.current=j),_&&j){if(A.current)return A.current(_,j,$);$()}},[_,j,$,A,E]);const B=p.useMemo(()=>({reference:S,floating:k,setReference:x,setFloating:v}),[x,v]),U=p.useMemo(()=>({reference:_,floating:j}),[_,j]),T=p.useMemo(()=>{const N={position:r,left:0,top:0};if(!U.floating)return N;const M=w2(U.floating,d.x),L=w2(U.floating,d.y);return l?{...N,transform:"translate("+M+"px, "+L+"px)",...h$(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:L}},[r,l,U.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:$,refs:B,elements:U,floatingStyles:T}),[d,$,B,U,T])}const YY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?b2({element:n.current,padding:s}).fn(r):{}:n?b2({element:n,padding:s}).fn(r):{}}}},GY=(e,t)=>({...BY(e),options:[e,t]}),XY=(e,t)=>({...zY(e),options:[e,t]}),ZY=(e,t)=>({...HY(e),options:[e,t]}),QY=(e,t)=>({...UY(e),options:[e,t]}),JY=(e,t)=>({...WY(e),options:[e,t]}),eG=(e,t)=>({...VY(e),options:[e,t]}),tG=(e,t)=>({...YY(e),options:[e,t]});var rG="Arrow",m$=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(He.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});m$.displayName=rG;var nG=m$;function sG(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][c])||l,w=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,iG(s,...t)]}function iG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ok(e){const[t,r]=p.useState(void 0);return xn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var lk="Popper",[p$,gl]=sG(lk),[aG,g$]=p$(lk),v$=e=>{const{__scopePopper:t,children:r}=e,[n,s]=p.useState(null);return a.jsx(aG,{scope:t,anchor:n,onAnchorChange:s,children:r})};v$.displayName=lk;var y$="PopperAnchor",x$=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=g$(y$,r),o=p.useRef(null),l=ut(t,o);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(He.div,{...s,ref:l})});x$.displayName=y$;var ck="PopperContent",[oG,lG]=p$(ck),b$=p.forwardRef((e,t)=>{var te,Ne,ee,pe,we,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=e,w=g$(ck,r),[b,x]=p.useState(null),v=ut(t,Je=>x(Je)),[_,j]=p.useState(null),S=ok(_),k=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,E=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],O=P.length>0,$={padding:A,boundary:P.filter(uG),altBoundary:O},{refs:I,floatingStyles:B,placement:U,isPositioned:T,middlewareData:N}=KY({strategy:"fixed",placement:E,whileElementsMounted:(...Je)=>FY(...Je,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[GY({mainAxis:s+C,alignmentAxis:o}),c&&XY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ZY():void 0,...$}),c&&QY({...$}),JY({...$,apply:({elements:Je,rects:Le,availableWidth:et,availableHeight:it})=>{const{width:re,height:D}=Le.reference,F=Je.floating.style;F.setProperty("--radix-popper-available-width",`${et}px`),F.setProperty("--radix-popper-available-height",`${it}px`),F.setProperty("--radix-popper-anchor-width",`${re}px`),F.setProperty("--radix-popper-anchor-height",`${D}px`)}}),_&&tG({element:_,padding:l}),dG({arrowWidth:k,arrowHeight:C}),h&&eG({strategy:"referenceHidden",...$})]}),[M,L]=j$(U),W=yn(y);xn(()=>{T&&(W==null||W())},[T,W]);const K=(te=N.arrow)==null?void 0:te.x,z=(Ne=N.arrow)==null?void 0:Ne.y,H=((ee=N.arrow)==null?void 0:ee.centerOffset)!==0,[V,oe]=p.useState();return xn(()=>{b&&oe(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:T?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(pe=N.transformOrigin)==null?void 0:pe.x,(we=N.transformOrigin)==null?void 0:we.y].join(" "),...((Q=N.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(oG,{scope:r,placedSide:M,onArrowChange:j,arrowX:K,arrowY:z,shouldHideArrow:H,children:a.jsx(He.div,{"data-side":M,"data-align":L,...g,ref:v,style:{...g.style,animation:T?void 0:"none"}})})})});b$.displayName=ck;var w$="PopperArrow",cG={top:"bottom",right:"left",bottom:"top",left:"right"},_$=p.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=lG(w$,n),o=cG[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(nG,{...s,ref:r,style:{...s.style,display:"block"}})})});_$.displayName=w$;function uG(e){return e!==null}var dG=e=>({name:"transformOrigin",options:e,fn(t){var w,b,x;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=j$(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):u==="top"?(y=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:y,y:g}}}});function j$(e){const[t,r="center"]=e.split("-");return[t,r]}var Ex=v$,Fm=x$,Px=b$,Ax=_$,[Ox,vCe]=Mi("Tooltip",[gl]),Tx=gl(),S$="TooltipProvider",fG=700,dj="tooltip.open",[hG,uk]=Ox(S$),k$=e=>{const{__scopeTooltip:t,delayDuration:r=fG,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[o,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx(hG,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};k$.displayName=S$;var Mx="Tooltip",[mG,Dx]=Ox(Mx),N$=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=uk(Mx,e.__scopeTooltip),u=Tx(t),[d,f]=p.useState(null),h=Ws(),m=p.useRef(0),y=o??c.disableHoverableContent,g=l??c.delayDuration,w=p.useRef(!1),[b=!1,x]=Ni({prop:n,defaultProp:s,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(dj))):c.onClose(),i==null||i(k)}}),v=p.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),_=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,x(!0)},[x]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,x(!0),m.current=0},g)},[g,x]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),a.jsx(Ex,{...u,children:a.jsx(mG,{scope:t,contentId:h,open:b,stateAttribute:v,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?S():_()},[c.isOpenDelayed,S,_]),onTriggerLeave:p.useCallback(()=>{y?j():(window.clearTimeout(m.current),m.current=0)},[j,y]),onOpen:_,onClose:j,disableHoverableContent:y,children:r})})};N$.displayName=Mx;var fj="TooltipTrigger",C$=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Dx(fj,r),i=uk(fj,r),o=Tx(r),l=p.useRef(null),c=ut(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Fm,{asChild:!0,...o,children:a.jsx(He.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ye(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ye(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ye(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ye(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ye(e.onBlur,s.onClose),onClick:ye(e.onClick,s.onClose)})})});C$.displayName=fj;var pG="TooltipPortal",[yCe,gG]=Ox(pG,{forceMount:void 0}),dd="TooltipContent",E$=p.forwardRef((e,t)=>{const r=gG(dd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=Dx(dd,e.__scopeTooltip);return a.jsx(rs,{present:n||o.open,children:o.disableHoverableContent?a.jsx(P$,{side:s,...i,ref:t}):a.jsx(vG,{side:s,...i,ref:t})})}),vG=p.forwardRef((e,t)=>{const r=Dx(dd,e.__scopeTooltip),n=uk(dd,e.__scopeTooltip),s=p.useRef(null),i=ut(t,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((y,g)=>{const w=y.currentTarget,b={x:y.clientX,y:y.clientY},x=wG(b,w.getBoundingClientRect()),v=_G(b,x),_=jG(g.getBoundingClientRect()),j=kG([...v,..._]);l(j),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const y=w=>m(w,d),g=w=>m(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),p.useEffect(()=>{if(o){const y=g=>{const w=g.target,b={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),v=!SG(b,o);x?h():v&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),a.jsx(P$,{...e,ref:i})}),[yG,xG]=Ox(Mx,{isInside:!1}),P$=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Dx(dd,r),u=Tx(r),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(dj,d),()=>document.removeEventListener(dj,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Px,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(YS,{children:n}),a.jsx(yG,{scope:r,isInside:!0,children:a.jsx(aq,{id:c.contentId,role:"tooltip",children:s||n})})]})})});E$.displayName=dd;var A$="TooltipArrow",bG=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Tx(r);return xG(A$,r).isInside?null:a.jsx(Ax,{...s,...n,ref:t})});bG.displayName=A$;function wG(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _G(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function jG(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function SG(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function kG(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),NG(t)}function NG(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var CG=k$,EG=N$,PG=C$,O$=E$;const T$=CG,_2=EG,j2=PG,hj=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(O$,{ref:n,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));hj.displayName=O$.displayName;var Rx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ix=typeof window>"u"||"Deno"in globalThis;function fi(){}function AG(e,t){return typeof e=="function"?e(t):e}function OG(e){return typeof e=="number"&&e>=0&&e!==1/0}function TG(e,t){return Math.max(e+(t||0)-Date.now(),0)}function S2(e,t){return typeof e=="function"?e(t):e}function MG(e,t){return typeof e=="function"?e(t):e}function k2(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==dk(o,t.options))return!1}else if(!Yh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function N2(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Kh(t.options.mutationKey)!==Kh(i))return!1}else if(!Yh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function dk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kh)(e)}function Kh(e){return JSON.stringify(e,(t,r)=>mj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Yh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Yh(e[r],t[r])):!1}function M$(e,t){if(e===t)return e;const r=C2(e)&&C2(t);if(r||mj(e)&&mj(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=M$(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function C2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mj(e){if(!E2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!E2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function E2(e){return Object.prototype.toString.call(e)==="[object Object]"}function DG(e){return new Promise(t=>{setTimeout(t,e)})}function RG(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?M$(e,t):t}function IG(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function $G(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var fk=Symbol();function D$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ec,Po,Ku,eR,LG=(eR=class extends Rx{constructor(){super();Ct(this,ec);Ct(this,Po);Ct(this,Ku);st(this,Ku,t=>{if(!Ix&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,Po)||this.setEventListener(ae(this,Ku))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Po))==null||t.call(this),st(this,Po,void 0))}setEventListener(t){var r;st(this,Ku,t),(r=ae(this,Po))==null||r.call(this),st(this,Po,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ae(this,ec)!==t&&(st(this,ec,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,ec)=="boolean"?ae(this,ec):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ec=new WeakMap,Po=new WeakMap,Ku=new WeakMap,eR),R$=new LG,Yu,Ao,Gu,tR,FG=(tR=class extends Rx{constructor(){super();Ct(this,Yu,!0);Ct(this,Ao);Ct(this,Gu);st(this,Gu,t=>{if(!Ix&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ae(this,Ao)||this.setEventListener(ae(this,Gu))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Ao))==null||t.call(this),st(this,Ao,void 0))}setEventListener(t){var r;st(this,Gu,t),(r=ae(this,Ao))==null||r.call(this),st(this,Ao,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Yu)!==t&&(st(this,Yu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ae(this,Yu)}},Yu=new WeakMap,Ao=new WeakMap,Gu=new WeakMap,tR),Lv=new FG;function BG(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function zG(e){return Math.min(1e3*2**e,3e4)}function I$(e){return(e??"online")==="online"?Lv.isOnline():!0}var $$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yb(e){return e instanceof $$}function L$(e){let t=!1,r=0,n=!1,s;const i=BG(),o=g=>{var w;n||(h(new $$(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>R$.isFocused()&&(e.networkMode==="always"||Lv.isOnline())&&e.canRun(),d=()=>I$(e.networkMode)&&e.canRun(),f=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var w;s=b=>{(n||u())&&g(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var S;if(n)return;const x=e.retry??(Ix?0:3),v=e.retryDelay??zG,_=typeof v=="function"?v(r,b):v,j=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),DG(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),i)}}function UG(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Cn=UG(),tc,rR,F$=(rR=class{constructor(){Ct(this,tc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),OG(this.gcTime)&&st(this,tc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ix?1/0:5*60*1e3))}clearGcTimeout(){ae(this,tc)&&(clearTimeout(ae(this,tc)),st(this,tc,void 0))}},tc=new WeakMap,rR),Xu,Zu,Ms,ln,Em,rc,hi,va,nR,WG=(nR=class extends F${constructor(t){super();Ct(this,hi);Ct(this,Xu);Ct(this,Zu);Ct(this,Ms);Ct(this,ln);Ct(this,Em);Ct(this,rc);st(this,rc,!1),st(this,Em,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,Ms,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,Xu,HG(this.options)),this.state=t.state??ae(this,Xu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,ln))==null?void 0:t.promise}setOptions(t){this.options={...ae(this,Em),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Ms).remove(this)}setData(t,r){const n=RG(this.state.data,t,this.options);return nn(this,hi,va).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){nn(this,hi,va).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=ae(this,ln))==null?void 0:n.promise;return(s=ae(this,ln))==null||s.cancel(t),r?r.then(fi).catch(fi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Xu))}isActive(){return this.observers.some(t=>MG(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!TG(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,ln))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,ln))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,Ms).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,ln)&&(ae(this,rc)?ae(this,ln).cancel({revert:!0}):ae(this,ln).cancelRetry()),this.scheduleGc()),ae(this,Ms).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nn(this,hi,va).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,ln))return ae(this,ln).continueRetry(),ae(this,ln).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(st(this,rc,!0),n.signal)})},i=()=>{const f=D$(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),st(this,rc,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),st(this,Zu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&nn(this,hi,va).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,y,g;Yb(f)&&f.silent||nn(this,hi,va).call(this,{type:"error",error:f}),Yb(f)||((m=(h=ae(this,Ms).config).onError)==null||m.call(h,f,this),(g=(y=ae(this,Ms).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return st(this,ln,L$({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,y,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(m=(h=ae(this,Ms).config).onSuccess)==null||m.call(h,f,this),(g=(y=ae(this,Ms).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{nn(this,hi,va).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{nn(this,hi,va).call(this,{type:"pause"})},onContinue:()=>{nn(this,hi,va).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ae(this,ln).start()}},Xu=new WeakMap,Zu=new WeakMap,Ms=new WeakMap,ln=new WeakMap,Em=new WeakMap,rc=new WeakMap,hi=new WeakSet,va=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...VG(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Yb(s)&&s.revert&&ae(this,Zu)?{...ae(this,Zu),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Cn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ae(this,Ms).notify({query:this,type:"updated",action:t})})},nR);function VG(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function HG(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zi,sR,qG=(sR=class extends Rx{constructor(t={}){super();Ct(this,zi);this.config=t,st(this,zi,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??dk(s,r);let o=this.get(i);return o||(o=new WG({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){ae(this,zi).has(t.queryHash)||(ae(this,zi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,zi).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,zi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,zi).get(t)}getAll(){return[...ae(this,zi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>k2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>k2(t,n)):r}notify(t){Cn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zi=new WeakMap,sR),Ui,jn,nc,Wi,go,iR,KG=(iR=class extends F${constructor(t){super();Ct(this,Wi);Ct(this,Ui);Ct(this,jn);Ct(this,nc);this.mutationId=t.mutationId,st(this,jn,t.mutationCache),st(this,Ui,[]),this.state=t.state||YG(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,Ui).includes(t)||(ae(this,Ui).push(t),this.clearGcTimeout(),ae(this,jn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,Ui,ae(this,Ui).filter(r=>r!==t)),this.scheduleGc(),ae(this,jn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,Ui).length||(this.state.status==="pending"?this.scheduleGc():ae(this,jn).remove(this))}continue(){var t;return((t=ae(this,nc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,c,u,d,f,h,m,y,g,w,b,x,v,_,j,S,k;st(this,nc,L$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{nn(this,Wi,go).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{nn(this,Wi,go).call(this,{type:"pause"})},onContinue:()=>{nn(this,Wi,go).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,jn).canRun(this)}));const r=this.state.status==="pending",n=!ae(this,nc).canStart();try{if(!r){nn(this,Wi,go).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=ae(this,jn).config).onMutate)==null?void 0:i.call(s,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&nn(this,Wi,go).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const C=await ae(this,nc).start();return await((u=(c=ae(this,jn).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context)),await((m=(h=ae(this,jn).config).onSettled)==null?void 0:m.call(h,C,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,C,null,t,this.state.context)),nn(this,Wi,go).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(w=ae(this,jn).config).onError)==null?void 0:b.call(w,C,t,this.state.context,this)),await((v=(x=this.options).onError)==null?void 0:v.call(x,C,t,this.state.context)),await((j=(_=ae(this,jn).config).onSettled)==null?void 0:j.call(_,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{nn(this,Wi,go).call(this,{type:"error",error:C})}}finally{ae(this,jn).runNext(this)}}},Ui=new WeakMap,jn=new WeakMap,nc=new WeakMap,Wi=new WeakSet,go=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Cn.batch(()=>{ae(this,Ui).forEach(n=>{n.onMutationUpdate(t)}),ae(this,jn).notify({mutation:this,type:"updated",action:t})})},iR);function YG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cs,Pm,aR,GG=(aR=class extends Rx{constructor(t={}){super();Ct(this,cs);Ct(this,Pm);this.config=t,st(this,cs,new Map),st(this,Pm,Date.now())}build(t,r,n){const s=new KG({mutationCache:this,mutationId:++_p(this,Pm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Hp(t),n=ae(this,cs).get(r)??[];n.push(t),ae(this,cs).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Hp(t);if(ae(this,cs).has(r)){const s=(n=ae(this,cs).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?ae(this,cs).delete(r):ae(this,cs).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=ae(this,cs).get(Hp(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=ae(this,cs).get(Hp(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...ae(this,cs).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>N2(r,n))}findAll(t={}){return this.getAll().filter(r=>N2(t,r))}notify(t){Cn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Cn.batch(()=>Promise.all(t.map(r=>r.continue().catch(fi))))}},cs=new WeakMap,Pm=new WeakMap,aR);function Hp(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function P2(e){return{onFetch:(t,r)=>{var d,f,h,m,y;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const w=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=D$(t.options,t.fetchOptions),x=async(v,_,j)=>{if(g)return Promise.reject();if(_==null&&v.pages.length)return Promise.resolve(v);const S={queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};w(S);const k=await b(S),{maxPages:C}=t.options,E=j?$G:IG;return{pages:E(v.pages,k,C),pageParams:E(v.pageParams,_,C)}};if(s&&i.length){const v=s==="backward",_=v?XG:A2,j={pages:i,pageParams:o},S=_(n,j);l=await x(j,S,v)}else{const v=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:A2(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function A2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function XG(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rr,Oo,To,Qu,Ju,Mo,ed,td,oR,ZG=(oR=class{constructor(e={}){Ct(this,rr);Ct(this,Oo);Ct(this,To);Ct(this,Qu);Ct(this,Ju);Ct(this,Mo);Ct(this,ed);Ct(this,td);st(this,rr,e.queryCache||new qG),st(this,Oo,e.mutationCache||new GG),st(this,To,e.defaultOptions||{}),st(this,Qu,new Map),st(this,Ju,new Map),st(this,Mo,0)}mount(){_p(this,Mo)._++,ae(this,Mo)===1&&(st(this,ed,R$.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,rr).onFocus())})),st(this,td,Lv.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,rr).onOnline())})))}unmount(){var e,t;_p(this,Mo)._--,ae(this,Mo)===0&&((e=ae(this,ed))==null||e.call(this),st(this,ed,void 0),(t=ae(this,td))==null||t.call(this),st(this,td,void 0))}isFetching(e){return ae(this,rr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,Oo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,rr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=ae(this,rr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(S2(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return ae(this,rr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=ae(this,rr).get(n.queryHash),i=s==null?void 0:s.state.data,o=AG(t,i);if(o!==void 0)return ae(this,rr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Cn.batch(()=>ae(this,rr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,rr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,rr);Cn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,rr),n={type:"active",...e};return Cn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Cn.batch(()=>ae(this,rr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(fi).catch(fi)}invalidateQueries(e={},t={}){return Cn.batch(()=>{if(ae(this,rr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Cn.batch(()=>ae(this,rr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(fi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(fi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,rr).build(this,t);return r.isStaleByTime(S2(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fi).catch(fi)}fetchInfiniteQuery(e){return e.behavior=P2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fi).catch(fi)}ensureInfiniteQueryData(e){return e.behavior=P2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lv.isOnline()?ae(this,Oo).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,rr)}getMutationCache(){return ae(this,Oo)}getDefaultOptions(){return ae(this,To)}setDefaultOptions(e){st(this,To,e)}setQueryDefaults(e,t){ae(this,Qu).set(Kh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Qu).values()];let r={};return t.forEach(n=>{Yh(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){ae(this,Ju).set(Kh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Ju).values()];let r={};return t.forEach(n=>{Yh(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,To).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===fk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,To).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,rr).clear(),ae(this,Oo).clear()}},rr=new WeakMap,Oo=new WeakMap,To=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Mo=new WeakMap,ed=new WeakMap,td=new WeakMap,oR),QG=p.createContext(void 0),JG=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(QG.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}var Io;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Io||(Io={}));const O2="popstate";function eX(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return pj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:z$(s)}return rX(t,r,null,e)}function Nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tX(){return Math.random().toString(36).substr(2,8)}function T2(e,t){return{usr:e.state,key:e.key,idx:t}}function pj(e,t,r,n){return r===void 0&&(r=null),Gh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bd(t):t,{state:r,key:t&&t.key||n||tX()})}function z$(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function rX(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Io.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Gh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Io.Pop;let w=d(),b=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:b})}function h(w,b){l=Io.Push;let x=pj(g.location,w,b);u=d()+1;let v=T2(x,u),_=g.createHref(x);try{o.pushState(v,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function m(w,b){l=Io.Replace;let x=pj(g.location,w,b);u=d();let v=T2(x,u),_=g.createHref(x);o.replaceState(v,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function y(w){let b=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:z$(w);return x=x.replace(/ $/,"%20"),Nr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(O2,f),c=w,()=>{s.removeEventListener(O2,f),c=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(w){return o.go(w)}};return g}var M2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(M2||(M2={}));function nX(e,t,r){return r===void 0&&(r="/"),sX(e,t,r,!1)}function sX(e,t,r,n){let s=typeof t=="string"?Bd(t):t,i=V$(s.pathname||"/",r);if(i==null)return null;let o=U$(e);iX(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=gX(i);l=mX(o[c],u,n)}return l}function U$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Nr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ac([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Nr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U$(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:fX(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of W$(i.path))s(i,o,c)}),t}function W$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=W$(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iX(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:hX(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aX=/^:[\w-]+$/,oX=3,lX=2,cX=1,uX=10,dX=-2,D2=e=>e==="*";function fX(e,t){let r=e.split("/"),n=r.length;return r.some(D2)&&(n+=dX),t&&(n+=lX),r.filter(s=>!D2(s)).reduce((s,i)=>s+(aX.test(i)?oX:i===""?cX:uX),n)}function hX(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function mX(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=R2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=R2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ac([i,f.pathname]),pathnameBase:bX(ac([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ac([i,f.pathnameBase]))}return o}function R2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=pX(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function pX(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),B$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function gX(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return B$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function V$(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function vX(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Bd(e):e;return{pathname:r?r.startsWith("/")?r:yX(r,t):t,search:wX(n),hash:_X(s)}}function yX(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xX(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function H$(e,t){let r=xX(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function q$(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Bd(e):(s=Gh({},e),Nr(!s.pathname||!s.pathname.includes("?"),Gb("?","pathname","search",s)),Nr(!s.pathname||!s.pathname.includes("#"),Gb("#","pathname","hash",s)),Nr(!s.search||!s.search.includes("#"),Gb("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=vX(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ac=e=>e.join("/").replace(/\/\/+/g,"/"),bX=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wX=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_X=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const K$=["post","put","patch","delete"];new Set(K$);const SX=["get",...K$];new Set(SX);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}const hk=p.createContext(null),kX=p.createContext(null),Bm=p.createContext(null),$x=p.createContext(null),Ic=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Y$=p.createContext(null);function zm(){return p.useContext($x)!=null}function zd(){return zm()||Nr(!1),p.useContext($x).location}function G$(e){p.useContext(Bm).static||p.useLayoutEffect(e)}function Um(){let{isDataRoute:e}=p.useContext(Ic);return e?LX():NX()}function NX(){zm()||Nr(!1);let e=p.useContext(hk),{basename:t,future:r,navigator:n}=p.useContext(Bm),{matches:s}=p.useContext(Ic),{pathname:i}=zd(),o=JSON.stringify(H$(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return G$(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=q$(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ac([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function CX(e,t){return EX(e,t)}function EX(e,t,r,n){zm()||Nr(!1);let{navigator:s}=p.useContext(Bm),{matches:i}=p.useContext(Ic),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=zd(),d;if(t){var f;let w=typeof t=="string"?Bd(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Nr(!1),d=w}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=nX(e,{pathname:m}),g=MX(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ac([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ac([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&g?p.createElement($x.Provider,{value:{location:Xh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Io.Pop}},g):g}function PX(){let e=$X(),t=jX(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,null)}const AX=p.createElement(PX,null);class OX extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(Ic.Provider,{value:this.props.routeContext},p.createElement(Y$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TX(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext(hk);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Ic.Provider,{value:t},n)}function MX(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Nr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,g=null,w=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||AX,c&&(u<0&&h===0?(y=!0,w=null):u===h&&(y=!0,w=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let v;return m?v=g:y?v=w:f.route.Component?v=p.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,p.createElement(TX,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(OX,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var X$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(X$||{}),Fv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fv||{});function DX(e){let t=p.useContext(hk);return t||Nr(!1),t}function RX(e){let t=p.useContext(kX);return t||Nr(!1),t}function IX(e){let t=p.useContext(Ic);return t||Nr(!1),t}function Z$(e){let t=IX(),r=t.matches[t.matches.length-1];return r.route.id||Nr(!1),r.route.id}function $X(){var e;let t=p.useContext(Y$),r=RX(Fv.UseRouteError),n=Z$(Fv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function LX(){let{router:e}=DX(X$.UseNavigateStable),t=Z$(Fv.UseNavigateStable),r=p.useRef(!1);return G$(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Xh({fromRouteId:t},i)))},[e,t])}function FX(e){let{to:t,replace:r,state:n,relative:s}=e;zm()||Nr(!1);let{future:i,static:o}=p.useContext(Bm),{matches:l}=p.useContext(Ic),{pathname:c}=zd(),u=Um(),d=q$(t,H$(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Br(e){Nr(!1)}function BX(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Io.Pop,navigator:i,static:o=!1,future:l}=e;zm()&&Nr(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Xh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Bd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,g=p.useMemo(()=>{let w=V$(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:m,key:y},navigationType:s}},[c,d,f,h,m,y,s]);return g==null?null:p.createElement(Bm.Provider,{value:u},p.createElement($x.Provider,{children:r,value:g}))}function zX(e){let{children:t,location:r}=e;return CX(gj(t),r)}new Promise(()=>{});function gj(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){r.push.apply(r,gj(n.props.children,i));return}n.type!==Br&&Nr(!1),!n.props.index||!n.props.children||Nr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const UX="6";try{window.__reactRouterVersion=UX}catch{}const WX="startTransition",I2=yR[WX];function VX(e){let{basename:t,children:r,future:n,window:s}=e,i=p.useRef();i.current==null&&(i.current=eX({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&I2?I2(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(BX,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var $2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($2||($2={}));var L2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(L2||(L2={}));const HX="modulepreload",qX=function(e){return"/"+e},F2={},Wm=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=qX(c),c in F2)return;F2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":HX,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},KX=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wm(async()=>{const{default:n}=await Promise.resolve().then(()=>Ud);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class mk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class YX extends mk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class B2 extends mk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class z2 extends mk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vj||(vj={}));var GX=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class XX{constructor(t,{headers:r={},customFetch:n,region:s=vj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=KX(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return GX(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(g=>{throw new YX(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new B2(f);if(!f.ok)throw new z2(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof z2||s instanceof B2?s.context:void 0}}})}}var Hn={},pk={},Lx={},Vm={},Fx={},Bx={},ZX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fd=ZX();const QX=fd.fetch,Q$=fd.fetch.bind(fd),J$=fd.Headers,JX=fd.Request,eZ=fd.Response,Ud=Object.freeze(Object.defineProperty({__proto__:null,Headers:J$,Request:JX,Response:eZ,default:Q$,fetch:QX},Symbol.toStringTag,{value:"Module"})),tZ=i9(Ud);var zx={};Object.defineProperty(zx,"__esModule",{value:!0});let rZ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zx.default=rZ;var eL=qs&&qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bx,"__esModule",{value:!0});const nZ=eL(tZ),sZ=eL(zx);let iZ=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nZ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&g===""?(h=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new sZ.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Bx.default=iZ;var aZ=qs&&qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fx,"__esModule",{value:!0});const oZ=aZ(Bx);let lZ=class extends oZ.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fx.default=lZ;var cZ=qs&&qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vm,"__esModule",{value:!0});const uZ=cZ(Fx);let dZ=class extends uZ.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Vm.default=dZ;var fZ=qs&&qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lx,"__esModule",{value:!0});const gf=fZ(Vm);let hZ=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new gf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new gf.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new gf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Lx.default=hZ;var Ux={},Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});Wx.version=void 0;Wx.version="0.0.0-automated";Object.defineProperty(Ux,"__esModule",{value:!0});Ux.DEFAULT_HEADERS=void 0;const mZ=Wx;Ux.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mZ.version}`};var tL=qs&&qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pk,"__esModule",{value:!0});const pZ=tL(Lx),gZ=tL(Vm),vZ=Ux;let yZ=class rL{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},vZ.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new pZ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new rL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new gZ.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};pk.default=yZ;var Wd=qs&&qs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.PostgrestError=Hn.PostgrestBuilder=Hn.PostgrestTransformBuilder=Hn.PostgrestFilterBuilder=Hn.PostgrestQueryBuilder=Hn.PostgrestClient=void 0;const nL=Wd(pk);Hn.PostgrestClient=nL.default;const sL=Wd(Lx);Hn.PostgrestQueryBuilder=sL.default;const iL=Wd(Vm);Hn.PostgrestFilterBuilder=iL.default;const aL=Wd(Fx);Hn.PostgrestTransformBuilder=aL.default;const oL=Wd(Bx);Hn.PostgrestBuilder=oL.default;const lL=Wd(zx);Hn.PostgrestError=lL.default;var xZ=Hn.default={PostgrestClient:nL.default,PostgrestQueryBuilder:sL.default,PostgrestFilterBuilder:iL.default,PostgrestTransformBuilder:aL.default,PostgrestBuilder:oL.default,PostgrestError:lL.default};const{PostgrestClient:bZ,PostgrestQueryBuilder:SCe,PostgrestFilterBuilder:kCe,PostgrestTransformBuilder:NCe,PostgrestBuilder:CCe,PostgrestError:ECe}=xZ;function wZ(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const _Z=wZ(),jZ="2.11.15",SZ=`realtime-js/${jZ}`,kZ="1.0.0",cL=1e4,NZ=1e3;var fh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fh||(fh={}));var on;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(on||(on={}));var pi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pi||(pi={}));var yj;(function(e){e.websocket="websocket"})(yj||(yj={}));var Ul;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ul||(Ul={}));class CZ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class uL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Bt||(Bt={}));const U2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=EZ(o,e,t,s),i),{})},EZ=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?dL(i,o):xj(o)},dL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return TZ(t,r)}switch(e){case Bt.bool:return PZ(t);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return AZ(t);case Bt.json:case Bt.jsonb:return OZ(t);case Bt.timestamp:return MZ(t);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return xj(t);default:return xj(t)}},xj=e=>e,PZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},AZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},OZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>dL(t,l))}return e},MZ=e=>typeof e=="string"?e.replace(" ","T"):e,fL=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Xb{constructor(t,r,n={},s=cL){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var W2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(W2||(W2={}));class hh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=hh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),g=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(V2||(V2={}));var H2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(H2||(H2={}));var ja;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class gk{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xb(this,pi.join,this.params,this.timeout),this.rejoinTimer=new uL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pi.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new hh(this),this.broadcastEndpointURL=fL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==on.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ja.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ja.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ja.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let g=0;g<m;g++){const w=h[g],{filter:{event:b,schema:x,table:v,filter:_}}=w,j=d&&d[g];if(j&&j.event===b&&j.schema===x&&j.table===v&&j.filter===_)y.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=on.errored,t==null||t(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ja.SUBSCRIBED);return}}).receive("error",d=>{this.state=on.errored,t==null||t(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=on.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Xb(this,pi.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xb(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=pi;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,g,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(g=m.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,g,w,b,x,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(x=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:w,commit_timestamp:b,type:x,errors:v}=y;h=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:b,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gk.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pi.close,{},t)}_onError(t){this._on(pi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=U2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=U2(t.columns,t.old_record)),r}}const q2=()=>{},DZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RZ{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cL,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q2,this.ref=0,this.logger=q2,this.conn=null,this.sendBuffer=[],this.serializer=new CZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Wm(async()=>{const{default:c}=await Promise.resolve().then(()=>Ud);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${yj.websocket}`,this.httpEndpoint=fL(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uL(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=_Z),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kZ}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fh.connecting:return Ul.Connecting;case fh.open:return Ul.Open;case fh.closing:return Ul.Closing;default:return Ul.Closed}}isConnected(){return this.connectionState()===Ul.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new gk(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:SZ};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(pi.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(NZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([DZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class vk extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IZ extends vk{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bj extends vk{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $Z=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const hL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wm(async()=>{const{default:n}=await Promise.resolve().then(()=>Ud);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},LZ=()=>$Z(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wm(()=>Promise.resolve().then(()=>Ud),void 0)).Response:Response}),wj=e=>{if(Array.isArray(e))return e.map(r=>wj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=wj(n)}),t};var $c=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Zb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FZ=(e,t,r)=>$c(void 0,void 0,void 0,function*(){const n=yield LZ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new IZ(Zb(s),e.status||500))}).catch(s=>{t(new bj(Zb(s),s))}):t(new bj(Zb(e),e))}),BZ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Hm(e,t,r,n,s,i){return $c(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,BZ(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>FZ(c,l,n))})})}function Bv(e,t,r,n){return $c(this,void 0,void 0,function*(){return Hm(e,"GET",t,r,n)})}function wo(e,t,r,n,s){return $c(this,void 0,void 0,function*(){return Hm(e,"POST",t,n,s,r)})}function zZ(e,t,r,n,s){return $c(this,void 0,void 0,function*(){return Hm(e,"PUT",t,n,s,r)})}function UZ(e,t,r,n){return $c(this,void 0,void 0,function*(){return Hm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mL(e,t,r,n,s){return $c(this,void 0,void 0,function*(){return Hm(e,"DELETE",t,n,s,r)})}var Fn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const WZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VZ{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=hL(s)}uploadOrUpdate(t,r,n,s){return Fn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},K2),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(zr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Fn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:K2.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(zr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Fn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new vk("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Fn(this,void 0,void 0,function*(){try{return{data:yield wo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(zr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Fn(this,void 0,void 0,function*(){try{return{data:{path:(yield wo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(zr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield wo(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(zr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Fn(this,void 0,void 0,function*(){try{const s=yield wo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(zr(s))return{data:null,error:s};throw s}})}download(t,r){return Fn(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Bv(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(zr(l))return{data:null,error:l};throw l}})}info(t){return Fn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wj(n),error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}exists(t){return Fn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield UZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(zr(n)&&n instanceof bj){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Fn(this,void 0,void 0,function*(){try{return{data:yield mL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Fn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},WZ),r),{prefix:t||""});return{data:yield wo(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(zr(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const HZ="2.7.1",qZ={"X-Client-Info":`storage-js/${HZ}`};var Xc=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class KZ{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},qZ),r),this.fetch=hL(n)}listBuckets(){return Xc(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(zr(t))return{data:null,error:t};throw t}})}getBucket(t){return Xc(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Xc(this,void 0,void 0,function*(){try{return{data:yield wo(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Xc(this,void 0,void 0,function*(){try{return{data:yield zZ(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(zr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xc(this,void 0,void 0,function*(){try{return{data:yield wo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xc(this,void 0,void 0,function*(){try{return{data:yield mL(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(zr(r))return{data:null,error:r};throw r}})}}class YZ extends KZ{constructor(t,r={},n){super(t,r,n)}from(t){return new VZ(this.url,this.headers,t,this.fetch)}}const GZ="2.50.3";let Uf="";typeof Deno<"u"?Uf="deno":typeof document<"u"?Uf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uf="react-native":Uf="node";const XZ={"X-Client-Info":`supabase-js-${Uf}/${GZ}`},ZZ={headers:XZ},QZ={schema:"public"},JZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eQ={};var tQ=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const rQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=Q$:t=fetch,(...r)=>t(...r)},nQ=()=>typeof Headers>"u"?J$:Headers,sQ=(e,t,r)=>{const n=rQ(r),s=nQ();return(i,o)=>tQ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var iQ=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function aQ(e){return e.endsWith("/")?e:e+"/"}function oQ(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>iQ(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const pL="2.70.0",cu=30*1e3,_j=3,Qb=_j*cu,lQ="http://localhost:9999",cQ="supabase.auth.token",uQ={"X-Client-Info":`gotrue-js/${pL}`},jj="X-Supabase-Api-Version",gL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fQ=6e5;class yk extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hQ extends yk{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mQ(e){return tt(e)&&e.name==="AuthApiError"}class vL extends yk{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vl extends yk{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class vo extends vl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pQ(e){return tt(e)&&e.name==="AuthSessionMissingError"}class qp extends vl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kp extends vl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yp extends vl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gQ(e){return tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Y2 extends vl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sj extends vl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Jb(e){return tt(e)&&e.name==="AuthRetryableFetchError"}class G2 extends vl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class mh extends vl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X2=` 	
\r=`.split(""),vQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<X2.length;t+=1)e[X2[t].charCodeAt(0)]=-2;for(let t=0;t<zv.length;t+=1)e[zv[t].charCodeAt(0)]=t;return e})();function Z2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zv[n]),t.queuedBits-=6}}function yL(e,t,r){const n=vQ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Q2(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{bQ(o,n,r)};for(let o=0;o<e.length;o+=1)yL(e.charCodeAt(o),s,i);return t.join("")}function yQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xQ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}yQ(n,t)}}function bQ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wQ(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yL(e.charCodeAt(s),r,n);return new Uint8Array(t)}function _Q(e){const t=[];return xQ(e,r=>t.push(r)),new Uint8Array(t)}function jQ(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Z2(s,r,n)),Z2(null,r,n),t.join("")}function SQ(e){return Math.round(Date.now()/1e3)+e}function kQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ci=()=>typeof window<"u"&&typeof document<"u",El={tested:!1,writable:!1},ph=()=>{if(!ci())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(El.tested)return El.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),El.tested=!0,El.writable=!0}catch{El.tested=!0,El.writable=!1}return El.writable};function NQ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const xL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wm(async()=>{const{default:n}=await Promise.resolve().then(()=>Ud);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},CQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bL=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gp=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xp=async(e,t)=>{await e.removeItem(t)};class Vx{constructor(){this.promise=new Vx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vx.promiseConstructor=Promise;function ew(e){const t=e.split(".");if(t.length!==3)throw new mh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!dQ.test(t[n]))throw new mh("JWT not in base64url format");return{header:JSON.parse(Q2(t[0])),payload:JSON.parse(Q2(t[1])),signature:wQ(t[2]),raw:{header:t[0],payload:t[1]}}}async function EQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PQ(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function AQ(e){return("0"+e.toString(16)).substr(-2)}function OQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,AQ).join("")}async function TQ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function MQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await TQ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zc(e,t,r=!1){const n=OQ();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await bL(e,`${t}-code-verifier`,s);const i=await MQ(n);return[i,n===i?"plain":"s256"]}const DQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RQ(e){const t=e.headers.get(jj);if(!t||!t.match(DQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $Q(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qc(e){if(!LQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var FQ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BQ=[502,503,504];async function J2(e){var t;if(!CQ(e))throw new Sj(Rl(e),0);if(BQ.includes(e.status))throw new Sj(Rl(e),e.status);let r;try{r=await e.json()}catch(i){throw new vL(Rl(i),i)}let n;const s=RQ(e);if(s&&s.getTime()>=gL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G2(Rl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new G2(Rl(r),e.status,r.weak_password.reasons);throw new hQ(Rl(r),e.status||500,n)}const zQ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ct(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[jj]||(i[jj]=gL["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await UQ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function UQ(e,t,r,n,s,i){const o=zQ(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Sj(Rl(c),0)}if(l.ok||await J2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await J2(c)}}function ya(e){var t;let r=null;qQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=SQ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eA(e){const t=ya(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ko(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WQ(e){return{data:e,error:null}}function VQ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=FQ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HQ(e){return e}function qQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const tw=["global","local","others"];var KQ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class YQ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=tw[0]){if(tw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tw.join(", ")}`);try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ko})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=KQ(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:VQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ko})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:HQ});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(tt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qc(t);try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ko})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Qc(t);try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ko})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Qc(t);try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ko})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qc(t.userId);try{const{data:r,error:n}=await ct(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Qc(t.userId),Qc(t.id);try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}}const GQ={getItem:e=>ph()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ph()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ph()&&globalThis.localStorage.removeItem(e)}};function tA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function XQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jc={debug:!!(globalThis&&ph()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ZQ extends wL{}async function QQ(e,t,r){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}XQ();const JQ={url:lQ,storageKey:cQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rA(e,t,r){return await r()}class Zh{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zh.nextInstanceID,Zh.nextInstanceID+=1,this.instanceID>0&&ci()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},JQ),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new YQ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xL(s.fetch),this.lock=s.lock||rA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ci()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=QQ:this.lock=rA,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ph()?this.storage=GQ:(this.memoryStorage={},this.storage=tA(this.memoryStorage)):(this.memoryStorage={},this.storage=tA(this.memoryStorage)),ci()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pL}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=NQ(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ci()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gQ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return tt(r)?{error:r}:{error:new vL("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ya}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Zc(this.storage,this.storageKey)),i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:ya})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ya})}else throw new Kp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eA})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eA})}else throw new Kp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new qp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:w,wallet:b,statement:x,options:v}=t;let _;if(ci())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:w,error:b}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:jQ(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ya});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new qp}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(tt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Gp(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ya});if(await Xp(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new qp}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(tt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ya}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new qp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zc(this.storage,this.storageKey));const{error:f}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Kp("You must provide either an email or phone number.")}catch(l){if(tt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ya});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(tt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zc(this.storage,this.storageKey)),await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:WQ})}catch(i){if(tt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new vo;const{error:s}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ct(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ct(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Kp("You must provide either an email or phone number and a type")}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Qb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ko}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vo}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ko})})}catch(r){if(tt(r))return pQ(r)&&(await this._removeSession(),await Xp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new vo;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Zc(this.storage,this.storageKey));const{data:u,error:d}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ko});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vo;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ew(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(tt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new vo;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ci())throw new Yp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Y2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Y2("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Yp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(tt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gp(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(mQ(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Xp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=kQ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Zc(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(tt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ci()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(tt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await PQ(async s=>(s>0&&await EQ(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ya})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Jb(i)&&Date.now()+o-n<cu})}catch(n){if(this._debug(r,"error",n),tt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ci()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Gp(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Qb;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Qb}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Jb(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new vo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new vo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),tt(i)){const o={session:null,error:i};return Jb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bL(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ci()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cu}ms, refresh threshold is ${_j} ticks`),s<=_j&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ci()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ct(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ew(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+fQ>Date.now()))return n;const{data:s,error:i}=await ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new mh("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new mh("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ew(n);if(IQ(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=$Q(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,_Q(`${l}.${c}`)))throw new mh("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}}Zh.nextInstanceID=0;const eJ=Zh;class tJ extends eJ{constructor(t){super(t)}}var rJ=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class nJ{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=aQ(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:QZ,realtime:eQ,auth:Object.assign(Object.assign({},JZ),{storageKey:u}),global:ZZ},f=oQ(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=sQ(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new bZ(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new XX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new YZ(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return rJ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tJ({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new RZ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sJ=(e,t,r)=>new nJ(e,t,r),iJ="http://localhost:8000",aJ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE",de=sJ(iJ,aJ,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:typeof window<"u"?localStorage:void 0}}),_L=p.createContext(void 0),ua=()=>{const e=p.useContext(_L);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},oJ=({children:e})=>{const[t,r]=p.useState(null),[n,s]=p.useState(null),[i,o]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(!0),[f,h]=p.useState(null),[m,y]=p.useState(!1),{toast:g}=Er(),w=p.useRef(!1),b=p.useRef(null),x=p.useRef(!0),v=async O=>{try{console.log("Fetching profile for user:",O);const $=de.from("profiles").select("*").eq("id",O).single(),I=new Promise((L,W)=>{setTimeout(()=>W(new Error("Profile fetch timeout")),1e4)}),{data:B,error:U}=await Promise.race([$,I]);if(U)return console.error("Error fetching profile:",U),h("Failed to load user profile"),!1;if(!x.current)return!1;console.log("Profile data:",B),o(B);const T=de.from("user_roles").select("role").eq("user_id",O).single(),{data:N,error:M}=await Promise.race([T,new Promise((L,W)=>setTimeout(()=>W(new Error("Role fetch timeout")),1e4))]);return M?(console.error("Error fetching role:",M),x.current&&c("viewer"),!0):(x.current&&(console.log("Role data:",N),c(N.role)),!0)}catch($){return console.error("Error in fetchUserProfile:",$),x.current&&h("Failed to load user data"),!1}},_=async O=>{let I=0,B=null;for(;I<3;)try{const U=5e3+I*5e3,{data:T,error:N}=await Promise.race([de.from("profiles").select("status").eq("id",O.id).single(),new Promise((M,L)=>setTimeout(()=>L(new Error("Status check timeout")),U))]);if(N)throw N;if(!(T!=null&&T.status))throw new Error("Inactive or missing status");return!0}catch(U){B=U,I++,I<3&&console.warn(`Status check failed (attempt ${I}):`,U)}return x.current&&(await de.auth.signOut(),g({title:"Account Pending Approval or Status Check Failed",description:(B==null?void 0:B.message)||"Your account is pending admin approval or could not be verified. Please contact your administrator.",variant:"destructive"})),!1},j=async(O,$)=>{if(w.current){console.log("Auth state change ignored - already initializing");return}if(m){console.log("Auth state change ignored - signing up");return}console.log("Auth state change:",O,$);try{if($!=null&&$.user){if(!await _($.user)||!x.current){x.current&&(s(null),r(null),o(null),c(null),h("Account verification failed"));return}x.current&&(s($),r($.user),h(null)),!await v($.user.id)&&x.current&&h("Failed to load user profile")}else x.current&&(s(null),r(null),o(null),c(null),h(null))}catch(I){console.error("Error in auth state change handler:",I),x.current&&h("Authentication error occurred")}finally{x.current&&d(!1)}};p.useEffect(()=>{let O=null;const $=async()=>{if(!w.current){w.current=!0;try{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{x.current&&u&&(console.error("Auth initialization timeout"),h("Authentication timeout - please refresh the page"),d(!1))},15e3),console.log("Initializing auth...");const{data:{session:B},error:U}=await Promise.race([de.auth.getSession(),new Promise((T,N)=>setTimeout(()=>N(new Error("Session fetch timeout")),1e4))]);if(U){console.error("Error getting initial session:",U),x.current&&(h("Failed to restore session"),d(!1));return}if(console.log("Initial session:",B),B!=null&&B.user&&x.current){if(!await _(B.user)||!x.current){x.current&&(s(null),r(null),o(null),c(null),d(!1));return}x.current&&(s(B),r(B.user),h(null)),!await v(B.user.id)&&x.current&&h("Failed to load user profile")}else x.current&&(s(null),r(null),o(null),c(null));x.current&&d(!1),b.current&&(clearTimeout(b.current),b.current=null)}catch(B){console.error("Auth initialization error:",B),x.current&&(h("Failed to initialize authentication"),d(!1))}finally{w.current=!1}}},I=()=>{const{data:{subscription:B}}=de.auth.onAuthStateChange(j);O=B};return $().then(()=>{x.current&&I()}),()=>{x.current=!1,O&&O.unsubscribe(),b.current&&clearTimeout(b.current)}},[]);const P={user:t,session:n,profile:i,userRole:l,loading:u,error:f,isSigningUp:m,signIn:async(O,$)=>{try{console.log("Attempting sign in with:",O),h(null);const{error:I,data:B}=await de.auth.signInWithPassword({email:O,password:$});if(console.log("Sign in response:",{error:I,data:B}),I)return console.error("Sign in error:",I),g({title:"Sign In Failed",description:I.message,variant:"destructive"}),{error:I};if(B.user){const{data:U,error:T}=await de.from("profiles").select("status").eq("id",B.user.id).single();if(T)return console.error("Error fetching user status:",T),await de.auth.signOut(),{error:new Error("Unable to verify your account status. Please try again later.")};if(U.status===!1)return await de.auth.signOut(),{error:new Error("Your account is pending admin approval. Please contact your administrator.")}}return{error:null}}catch(I){return console.error("Sign in error:",I),await de.auth.signOut(),{error:I instanceof Error?I:new Error("An unexpected error occurred during sign in")}}},signUp:async(O,$,I,B)=>{try{h(null),y(!0);const{data:{session:U},error:T}=await de.auth.getSession(),M=await fetch("http://localhost:8000/functions/v1/admin-create-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({email:O,password:$,fullName:B||I,role:"viewer",status:!1})}),L=await M.json();if(!M.ok)throw new Error(L.error||"Failed to create account");return{error:null,success:!0}}catch(U){return console.error("Sign up error:",U),{error:U instanceof Error?U:new Error("An unexpected error occurred during sign up"),success:!1}}finally{y(!1)}},signOut:async()=>{try{await de.auth.signOut(),g({title:"Signed Out",description:"You have been successfully signed out."})}catch(O){console.error("Sign out error:",O)}},updatePassword:async(O,$)=>{try{h(null);const{data:{session:I},error:B}=await de.auth.getSession();if(B||!I)return{error:new Error("No active session. Please log in again.")};if($.length<6)return{error:new Error("New password must be at least 6 characters long")};const T=await fetch("http://localhost:8000/functions/v1/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I.access_token}`,apikey:""},body:JSON.stringify({currentPassword:O,newPassword:$})}),N=await T.json();if(!T.ok)throw new Error(N.error||"Failed to update password");try{const{data:M,error:L}=await de.auth.signInWithPassword({email:(t==null?void 0:t.email)||"",password:$});L?(console.warn("Password updated but session refresh failed:",L),g({title:"Success",description:"Password updated successfully. Please sign in again if needed."})):(M.session&&(s(M.session),r(M.user)),g({title:"Success",description:"Your password has been updated successfully."}))}catch(M){console.warn("Session refresh after password change failed:",M),g({title:"Success",description:"Password updated successfully. Please sign in again if needed."})}return{error:null}}catch(I){return console.error("Error updating password:",I),{error:I instanceof Error?I:new Error("Failed to update password")}}},hasRole:O=>{if(!l)return!1;const $={super_admin:3,engineer:2,viewer:1};return $[l]>=$[O]}};return a.jsx(_L.Provider,{value:P,children:e})},Zp={status:["Active","Ready","Inactive","Maintenance","Decommissioned","Retired"],deviceTypes:["Server","Storage","Network"],allocationTypes:["IAAS","PAAS","SAAS","Load Balancer","Database"],environmentTypes:["Production","Testing","Pre-Production","Development"],racks:Array.from({length:31},(e,t)=>`RACK-${String(t+1).padStart(2,"0")}`),units:Array.from({length:42},(e,t)=>`U${t+1}`),brands:["Dell","HPE","Cisco","Juniper","NetApp","Huawei","Inspur","Kaytus","ZTE","Meta Brain"],models:["PowerEdge R740","PowerEdge R750","PowerEdge R750xd","PowerVault ME4","ProLiant DL380","ProLiant DL360","Apollo 4510","ASA 5525-X","Nexus 93180YC-EX","MX204","AFF A400","Other"],osTypes:["Ubuntu 22.04 LTS","Ubuntu 20.04 LTS","RHEL 8","CentOS 7","Oracle Linux 8","Windows Server 2022","Windows Server 2019","Storage OS 2.1","Cisco ASA 9.16","NX-OS 9.3","JunOS 21.2","ONTAP 9.10","Other"],sites:["DC-East","DC-West","DC-North","DC-South","DC-Central","DC1","DC2","DC3","DC4","DC5"],buildings:["Building-A","Building-B","Building-C","Building-D","Building-E","Other"],floors:["1","2","3","4","5","B1","B2","Ground","Mezzanine"],rooms:["MDF","101","102","103","104","105","106","107","108","109","110","201","202","203","204","205","206","207","208","209","210","301","302","303","304","305","306","307","308","309","310","401","402","403","404","405","406","407","408","409","410","Server Room A","Server Room B","Network Room","Storage Room","Other"]},jL=p.createContext(void 0),lJ=({children:e})=>{const[t,r]=p.useState(Zp),[n,s]=p.useState(!0),[i,o]=p.useState(null),[l,c]=p.useState([]),u={status:"server_status",device_type:"device_type",allocation:"allocation_type",environment:"environment_type",brand:"brand_type",model:"model_type",operating_system:"os_type",dc_site:"site_type",dc_building:"building_type",dc_floor:"floor_type",dc_room:"room_type",rack:"rack_type",unit:"unit_type"},d=x=>{const v=Object.keys(u).find(j=>x.toLowerCase().includes(j));return v?u[v]:l.find(j=>j.key===x&&j.property_type==="enum")?x:null},f=p.useCallback(async x=>{try{const v="http://localhost:8000/functions/v1/get-enums";console.log("Fetching enums from:",v);const _=await fetch(v,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`,apikey:""}});if(!_.ok){const k=await _.text();throw console.error("Error response:",{status:_.status,statusText:_.statusText,errorText:k}),new Error(`HTTP error! status: ${_.status}`)}const j=await _.json();if(!j)throw new Error("No data returned from get-enums");return console.log("Fetched enums:",j),{status:j.status||[],deviceTypes:j.deviceTypes||[],allocationTypes:j.allocationTypes||[],environmentTypes:j.environmentTypes||[],brands:j.brands||[],models:j.models||[],osTypes:j.osTypes||[],sites:j.sites||[],buildings:j.buildings||[],floors:j.floors||[],rooms:j.rooms||[],racks:j.racks||[],units:j.units||[],...Object.keys(j).reduce((k,C)=>(["status","deviceTypes","allocationTypes","environmentTypes","brands","models","osTypes","sites","buildings","floors","rooms","racks","units"].includes(C)||(k[C]=j[C]||[]),k),{})}}catch(v){throw console.error("Error in fetchEnums:",v),v}},[]),h=p.useCallback(async()=>{try{s(!0);const{data:{session:x}}=await de.auth.getSession();if(!x)throw new Error("Not authenticated");const v=await f(x.access_token);return r(v),o(null),window.dispatchEvent(new CustomEvent("enumsUpdated",{detail:v})),v}catch(x){console.error("Error refreshing enums:",x);const v=x instanceof Error?x:new Error("Failed to refresh enums");return o(v),r(Zp),Zp}finally{s(!1)}},[f]),m=p.useCallback(async(x,v)=>{try{let _=d(x);_||(console.log("EnumContext: No enum type found for column, refreshing property definitions:",x),await g(),_=d(x)),_||(console.log("EnumContext: Still no enum type found, using column name as enum type:",x),_=x);const{data:{session:j},error:S}=await de.auth.getSession();if(S||!j)throw console.error("Session error:",S),new Error("Not authenticated or session error");console.log("Adding enum value:",{enumType:_,value:v});const k={type:_,value:v.trim(),action:"add"};console.log("Request body:",k);const C="http://localhost:8000/functions/v1/enum-manager";console.log("Making request to:",C);const E=await fetch(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.access_token}`,apikey:""},body:JSON.stringify(k)});console.log("Response status:",E.status);const A=await E.text();let P;try{if(A&&(A.trim().startsWith("{")||A.trim().startsWith("[")))P=JSON.parse(A);else if(E.ok)console.log("Non-JSON response but request was successful. Response:",A),P={success:!0,message:"Operation completed successfully"};else throw new Error(A||"Unknown error occurred");console.log("Response data:",P)}catch(O){if(console.error("Error parsing response:",O),E.ok)console.log("Assuming success despite parse error"),P={success:!0,message:"Operation completed"};else throw new Error(`Server error: ${E.status} ${E.statusText}`)}if(!E.ok)throw console.error("Error response:",{status:E.status,statusText:E.statusText,responseText:A}),new Error((P==null?void 0:P.message)||`Failed to add enum value: ${E.statusText}`);console.log("Successfully added enum value:",{columnName:x,value:v});try{await h(),Gc.success(`Added ${v} to ${x}`)}catch(O){console.error("Error refreshing enums:",O),Gc.success(`Added ${v} to ${x} (refresh to see changes)`)}return!0}catch(_){console.error("Error in addEnumValue:",{error:_,message:_ instanceof Error?_.message:"Unknown error",stack:_ instanceof Error?_.stack:void 0});const j=_ instanceof Error?_.message:"Unknown error";throw Gc.error(`Failed to add enum value: ${j}`),_}},[d,h]),y=p.useCallback(async(x,v)=>{try{let _=d(x);_||(console.log("EnumContext: No enum type found for column, refreshing property definitions:",x),await g(),_=d(x)),_||(console.log("EnumContext: Still no enum type found, using column name as enum type:",x),_=x);const{data:{session:j},error:S}=await de.auth.getSession();if(S||!j)throw console.error("Session error:",S),new Error("Not authenticated or session error");console.log("Removing enum value:",{enumType:_,value:v});const k={type:_,value:v.trim(),action:"remove"};console.log("Request body:",k);const C="http://localhost:8000/functions/v1/enum-manager";console.log("Making request to:",C);const E=await fetch(C,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.access_token}`,apikey:""},body:JSON.stringify(k)});console.log("Response status:",E.status);const A=await E.text();let P;try{if(A&&(A.trim().startsWith("{")||A.trim().startsWith("[")))P=JSON.parse(A);else if(E.ok)console.log("Non-JSON response but request was successful. Response:",A),P={success:!0,message:"Operation completed successfully"};else throw new Error(A||"Unknown error occurred");console.log("Response data:",P)}catch(O){if(console.error("Error parsing response:",O),E.ok)console.log("Assuming success despite parse error"),P={success:!0,message:"Operation completed"};else throw new Error(`Server error: ${E.status} ${E.statusText}`)}if(!E.ok)throw console.error("Error response:",{status:E.status,statusText:E.statusText,responseText:A}),new Error((P==null?void 0:P.message)||`Failed to remove enum value: ${E.statusText}`);console.log("Successfully removed enum value:",{columnName:x,value:v});try{await h(),Gc.success(`Removed ${v} from ${x}`)}catch(O){console.error("Error refreshing enums:",O),Gc.success(`Removed ${v} from ${x} (refresh to see changes)`)}return!0}catch(_){console.error("Error in removeEnumValue:",{error:_,message:_ instanceof Error?_.message:"Unknown error",stack:_ instanceof Error?_.stack:void 0});const j=_ instanceof Error?_.message:"Unknown error";throw Gc.error(`Failed to remove enum value: ${j}`),_}},[d,h]),g=p.useCallback(async()=>{try{const{data:x,error:v}=await de.from("property_definitions").select("key, property_type").eq("property_type","enum").eq("active",!0);if(v){console.error("Error fetching property definitions:",v);return}c(x||[])}catch(x){console.error("Error fetching property definitions:",x)}},[]),w=async()=>{try{await g(),await h()}catch(x){console.error("Error initializing enums:",x)}};p.useEffect(()=>{(async()=>{try{s(!0),console.log("Fetching initial server enums from get-enums endpoint...");const{data:{session:v}}=await de.auth.getSession();if(!v)throw new Error("Not authenticated");const _=await f(v.access_token);r(_),o(null)}catch(v){console.error("Error fetching initial server enums:",v);const _=v instanceof Error?v:new Error("Failed to fetch server enums");o(_),r(Zp)}finally{s(!1)}})(),w()},[f,g]),p.useEffect(()=>{const x=()=>{g()},v=_=>{console.log("EnumContext: Schema updated, refreshing property definitions",_.detail),g()};return window.addEventListener("enumsUpdated",x),window.addEventListener("schemaUpdated",v),()=>{window.removeEventListener("enumsUpdated",x),window.removeEventListener("schemaUpdated",v)}},[g]);const b={enums:t,loading:n,error:i,refreshEnums:h,addEnumValue:m,removeEnumValue:y};return a.jsx(jL.Provider,{value:b,children:e})},Vd=()=>{const e=p.useContext(jL);if(e===void 0)throw new Error("useEnumContext must be used within an EnumContextProvider");return e};function cJ(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][c])||l,w=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,uJ(s,...t)]}function uJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var dJ=p.createContext(void 0);function Hx(e){const t=p.useContext(dJ);return e||t||"ltr"}var rw="rovingFocusGroup.onEntryFocus",fJ={bubbles:!1,cancelable:!0},qx="RovingFocusGroup",[kj,SL,hJ]=xx(qx),[mJ,Kx]=cJ(qx,[hJ]),[pJ,gJ]=mJ(qx),kL=p.forwardRef((e,t)=>a.jsx(kj.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(kj.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(vJ,{...e,ref:t})})}));kL.displayName=qx;var vJ=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=ut(t,h),y=Hx(i),[g=null,w]=Ni({prop:o,defaultProp:l,onChange:c}),[b,x]=p.useState(!1),v=yn(u),_=SL(r),j=p.useRef(!1),[S,k]=p.useState(0);return p.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(rw,v),()=>C.removeEventListener(rw,v)},[v]),a.jsx(pJ,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(C=>w(C),[w]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>k(C=>C-1),[]),children:a.jsx(He.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ye(e.onMouseDown,()=>{j.current=!0}),onFocus:ye(e.onFocus,C=>{const E=!j.current;if(C.target===C.currentTarget&&E&&!b){const A=new CustomEvent(rw,fJ);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=_().filter(U=>U.focusable),O=P.find(U=>U.active),$=P.find(U=>U.id===g),B=[O,$,...P].filter(Boolean).map(U=>U.ref.current);EL(B,d)}}j.current=!1}),onBlur:ye(e.onBlur,()=>x(!1))})})}),NL="RovingFocusGroupItem",CL=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=Ws(),c=i||l,u=gJ(NL,r),d=u.currentTabStopId===c,f=SL(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return p.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),a.jsx(kj.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(He.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:ye(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:ye(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ye(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=bJ(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const x=b.indexOf(y.currentTarget);b=u.loop?wJ(b,x+1):b.slice(x+1)}setTimeout(()=>EL(b))}})})})});CL.displayName=NL;var yJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bJ(e,t,r){const n=xJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return yJ[n]}function EL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function wJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var PL=kL,AL=CL,xk="Tabs",[_J,PCe]=Mi(xk,[Kx]),OL=Kx(),[jJ,bk]=_J(xk),TL=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Hx(l),[f,h]=Ni({prop:n,onChange:s,defaultProp:i});return a.jsx(jJ,{scope:r,baseId:Ws(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(He.div,{dir:d,"data-orientation":o,...u,ref:t})})});TL.displayName=xk;var ML="TabsList",DL=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=bk(ML,r),o=OL(r);return a.jsx(PL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(He.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});DL.displayName=ML;var RL="TabsTrigger",IL=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=bk(RL,r),l=OL(r),c=FL(o.baseId,n),u=BL(o.baseId,n),d=n===o.value;return a.jsx(AL,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(He.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ye(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ye(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ye(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});IL.displayName=RL;var $L="TabsContent",LL=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=bk($L,r),c=FL(l.baseId,n),u=BL(l.baseId,n),d=n===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(rs,{present:s||d,children:({present:h})=>a.jsx(He.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});LL.displayName=$L;function FL(e,t){return`${e}-trigger-${t}`}function BL(e,t){return`${e}-content-${t}`}var SJ=TL,zL=DL,UL=IL,WL=LL;const qm=SJ,Hd=p.forwardRef(({className:e,...t},r)=>a.jsx(zL,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hd.displayName=zL.displayName;const Tr=p.forwardRef(({className:e,...t},r)=>a.jsx(UL,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Tr.displayName=UL.displayName;const Mr=p.forwardRef(({className:e,...t},r)=>a.jsx(WL,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Mr.displayName=WL.displayName;const Qh=Im("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Va:"button";return a.jsx(o,{className:be(Qh({variant:t,size:r,className:e})),ref:i,...s})});G.displayName="Button";const kJ=Im("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function We({className:e,variant:t,children:r,...n}){return a.jsx("div",{className:be(kJ({variant:t}),e),...n,children:r})}function wt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function es(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function kn(e,t){const r=wt(e);return isNaN(t)?es(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ai(e,t){const r=wt(e);if(isNaN(t))return es(e,NaN);if(!t)return r;const n=r.getDate(),s=es(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const wk=6048e5,NJ=864e5,VL=6e4,HL=36e5;let CJ={};function Km(){return CJ}function sa(e,t){var l,c,u,d;const r=Km(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=wt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function bc(e){return sa(e,{weekStartsOn:1})}function qL(e){const t=wt(e),r=t.getFullYear(),n=es(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=bc(n),i=es(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=bc(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function hd(e){const t=wt(e);return t.setHours(0,0,0,0),t}function Uv(e){const t=wt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ki(e,t){const r=hd(e),n=hd(t),s=+r-Uv(r),i=+n-Uv(n);return Math.round((s-i)/NJ)}function EJ(e){const t=qL(e),r=es(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),bc(r)}function Nj(e,t){const r=t*7;return kn(e,r)}function PJ(e,t){return Ai(e,t*12)}function AJ(e){let t;return e.forEach(function(r){const n=wt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function OJ(e){let t;return e.forEach(r=>{const n=wt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function KL(e){return es(e,Date.now())}function mn(e,t){const r=hd(e),n=hd(t);return+r==+n}function _k(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TJ(e){if(!_k(e)&&typeof e!="number")return!1;const t=wt(e);return!isNaN(Number(t))}function Jh(e,t){const r=wt(e),n=wt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function MJ(e,t,r){const n=sa(e,r),s=sa(t,r),i=+n-Uv(n),o=+s-Uv(s);return Math.round((i-o)/wk)}function jk(e){const t=wt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qn(e){const t=wt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function YL(e){const t=wt(e),r=es(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Sk(e,t){var l,c,u,d;const r=Km(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=wt(e),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function GL(e){return Sk(e,{weekStartsOn:1})}const DJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RJ=(e,t,r)=>{let n;const s=DJ[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function nw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const IJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$J={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FJ={date:nw({formats:IJ,defaultWidth:"full"}),time:nw({formats:$J,defaultWidth:"full"}),dateTime:nw({formats:LJ,defaultWidth:"full"})},BJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zJ=(e,t,r,n)=>BJ[e];function vf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const UJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YJ=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},GJ={ordinalNumber:YJ,era:vf({values:UJ,defaultWidth:"wide"}),quarter:vf({values:WJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vf({values:VJ,defaultWidth:"wide"}),day:vf({values:HJ,defaultWidth:"wide"}),dayPeriod:vf({values:qJ,defaultWidth:"wide",formattingValues:KJ,defaultFormattingWidth:"wide"})};function yf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ZJ(l,f=>f.test(o)):XJ(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function XJ(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function ZJ(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function QJ(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const JJ=/^(\d+)(th|st|nd|rd)?/i,eee=/\d+/i,tee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ree={any:[/^b/i,/^(a|c)/i]},nee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},see={any:[/1/i,/2/i,/3/i,/4/i]},iee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dee={ordinalNumber:QJ({matchPattern:JJ,parsePattern:eee,valueCallback:e=>parseInt(e,10)}),era:yf({matchPatterns:tee,defaultMatchWidth:"wide",parsePatterns:ree,defaultParseWidth:"any"}),quarter:yf({matchPatterns:nee,defaultMatchWidth:"wide",parsePatterns:see,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yf({matchPatterns:iee,defaultMatchWidth:"wide",parsePatterns:aee,defaultParseWidth:"any"}),day:yf({matchPatterns:oee,defaultMatchWidth:"wide",parsePatterns:lee,defaultParseWidth:"any"}),dayPeriod:yf({matchPatterns:cee,defaultMatchWidth:"any",parsePatterns:uee,defaultParseWidth:"any"})},XL={code:"en-US",formatDistance:RJ,formatLong:FJ,formatRelative:zJ,localize:GJ,match:dee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fee(e){const t=wt(e);return Ki(t,YL(t))+1}function ZL(e){const t=wt(e),r=+bc(t)-+EJ(t);return Math.round(r/wk)+1}function QL(e,t){var d,f,h,m;const r=wt(e),n=r.getFullYear(),s=Km(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=es(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=sa(o,t),c=es(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=sa(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function hee(e,t){var l,c,u,d;const r=Km(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=QL(e,t),i=es(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),sa(i,t)}function JL(e,t){const r=wt(e),n=+sa(r,t)-+hee(r,t);return Math.round(n/wk)+1}function Tt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const co={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Tt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Tt(r+1,2)},d(e,t){return Tt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Tt(e.getHours()%12||12,t.length)},H(e,t){return Tt(e.getHours(),t.length)},m(e,t){return Tt(e.getMinutes(),t.length)},s(e,t){return Tt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Tt(s,t.length)}},eu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return co.y(e,t)},Y:function(e,t,r,n){const s=QL(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Tt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Tt(i,t.length)},R:function(e,t){const r=qL(e);return Tt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Tt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Tt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Tt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return co.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Tt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=JL(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Tt(s,t.length)},I:function(e,t,r){const n=ZL(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Tt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):co.d(e,t)},D:function(e,t,r){const n=fee(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Tt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Tt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Tt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Tt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=eu.noon:n===0?s=eu.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=eu.evening:n>=12?s=eu.afternoon:n>=4?s=eu.morning:s=eu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return co.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):co.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):co.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):co.s(e,t)},S:function(e,t){return co.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iA(n);case"XXXX":case"XX":return Il(n);case"XXXXX":case"XXX":default:return Il(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iA(n);case"xxxx":case"xx":return Il(n);case"xxxxx":case"xxx":default:return Il(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sA(n,":");case"OOOO":default:return"GMT"+Il(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sA(n,":");case"zzzz":default:return"GMT"+Il(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Tt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Tt(n,t.length)}};function sA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Tt(i,2)}function iA(e,t){return e%60===0?(e>0?"-":"+")+Tt(Math.abs(e)/60,2):Il(e,t)}function Il(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Tt(Math.trunc(n/60),2),i=Tt(n%60,2);return r+s+t+i}const aA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},e5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mee=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return aA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",aA(n,t)).replace("{{time}}",e5(s,t))},pee={p:e5,P:mee},gee=/^D+$/,vee=/^Y+$/,yee=["D","DD","YY","YYYY"];function xee(e){return gee.test(e)}function bee(e){return vee.test(e)}function wee(e,t,r){const n=_ee(e,t,r);if(console.warn(n),yee.includes(e))throw new RangeError(n)}function _ee(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,See=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kee=/^'([^]*?)'?$/,Nee=/''/g,Cee=/[a-zA-Z]/;function Jn(e,t,r){var d,f,h,m,y,g,w,b;const n=Km(),s=(r==null?void 0:r.locale)??n.locale??XL,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(w=n.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,l=wt(e);if(!TJ(l))throw new RangeError("Invalid time value");let c=t.match(See).map(x=>{const v=x[0];if(v==="p"||v==="P"){const _=pee[v];return _(x,s.formatLong)}return x}).join("").match(jee).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:Eee(x)};if(nA[v])return{isToken:!0,value:x};if(v.match(Cee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const v=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&bee(v)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&xee(v))&&wee(v,t,String(e));const _=nA[v[0]];return _(l,v,s.localize,u)}).join("")}function Eee(e){const t=e.match(kee);return t?t[1].replace(Nee,"'"):e}function Pee(e){const t=wt(e),r=t.getFullYear(),n=t.getMonth(),s=es(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Aee(e){return Math.trunc(+wt(e)/1e3)}function Oee(e){const t=wt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Tee(e,t){return MJ(Oee(e),Qn(e),t)+1}function Cj(e,t){const r=wt(e),n=wt(t);return r.getTime()>n.getTime()}function t5(e,t){const r=wt(e),n=wt(t);return+r<+n}function kk(e,t){const r=wt(e),n=wt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Mee(e,t){const r=wt(e),n=wt(t);return r.getFullYear()===n.getFullYear()}function Dee(e){return mn(e,KL(e))}function Kg(e,t){return kn(e,-t)}function Ree(e){return mn(e,Kg(KL(e),1))}function Iee(e,t){const n=Bee(e);let s;if(n.date){const c=zee(n.date,2);s=Uee(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=Wee(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Vee(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Qp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$ee=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lee=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fee=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bee(e){const t={},r=e.split(Qp.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Qp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Qp.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function zee(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Uee(e,t){if(t===null)return new Date(NaN);const r=e.match($ee);if(!r)return new Date(NaN);const n=!!r[4],s=xf(r[1]),i=xf(r[2])-1,o=xf(r[3]),l=xf(r[4]),c=xf(r[5])-1;if(n)return Gee(t,l,c)?Hee(t,l,c):new Date(NaN);{const u=new Date(0);return!Kee(t,i,o)||!Yee(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function xf(e){return e?parseInt(e):1}function Wee(e){const t=e.match(Lee);if(!t)return NaN;const r=sw(t[1]),n=sw(t[2]),s=sw(t[3]);return Xee(r,n,s)?r*HL+n*VL+s*1e3:NaN}function sw(e){return e&&parseFloat(e.replace(",","."))||0}function Vee(e){if(e==="Z")return 0;const t=e.match(Fee);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Zee(n,s)?r*(n*HL+s*VL):NaN}function Hee(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const qee=[31,null,31,30,31,30,31,31,30,31,30,31];function r5(e){return e%400===0||e%4===0&&e%100!==0}function Kee(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(qee[t]||(r5(e)?29:28))}function Yee(e,t){return t>=1&&t<=(r5(e)?366:365)}function Gee(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xee(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Zee(e,t){return t>=0&&t<=59}function iw(e,t){const r=wt(e),n=r.getFullYear(),s=r.getDate(),i=es(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Pee(i);return r.setMonth(t,Math.min(s,o)),r}function oA(e,t){const r=wt(e);return isNaN(+r)?es(e,NaN):(r.setFullYear(t),r)}var Ym=e=>e.type==="checkbox",Kl=e=>e instanceof Date,Nn=e=>e==null;const n5=e=>typeof e=="object";var yr=e=>!Nn(e)&&!Array.isArray(e)&&n5(e)&&!Kl(e),s5=e=>yr(e)&&e.target?Ym(e.target)?e.target.checked:e.target.value:e,Qee=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,i5=(e,t)=>e.has(Qee(t)),Jee=e=>{const t=e.constructor&&e.constructor.prototype;return yr(t)&&t.hasOwnProperty("isPrototypeOf")},Nk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zn(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Nk&&(e instanceof Blob||e instanceof FileList))&&(r||yr(e)))if(t=r?[]:{},!r&&!Jee(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=zn(e[n]));else return e;return t}var Yx=e=>Array.isArray(e)?e.filter(Boolean):[],ir=e=>e===void 0,xe=(e,t,r)=>{if(!t||!yr(e))return r;const n=Yx(t.split(/[,[\].]+?/)).reduce((s,i)=>Nn(s)?s:s[i],e);return ir(n)||n===e?ir(e[t])?r:e[t]:n},Ds=e=>typeof e=="boolean",Ck=e=>/^\w*$/.test(e),a5=e=>Yx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(e,t,r)=>{let n=-1;const s=Ck(t)?[t]:a5(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=yr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Wv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ete=ie.createContext(null),Gx=()=>ie.useContext(ete);var o5=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==xi.all&&(t._proxyFormState[o]=!n||xi.all),r&&(r[o]=!0),e[o]}});return s},Un=e=>yr(e)&&!Object.keys(e).length,l5=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Un(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||xi.all))},gh=e=>Array.isArray(e)?e:[e],c5=(e,t,r)=>!e||!t||e===t||gh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function Ek(e){const t=ie.useRef(e);t.current=e,ie.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function tte(e){const t=Gx(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=ie.useState(r._formState),c=ie.useRef(!0),u=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ie.useRef(s);return d.current=s,Ek({disabled:n,next:f=>c.current&&c5(d.current,f.name,i)&&l5(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),ie.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),o5(o,r,u.current,!1)}var Yi=e=>typeof e=="string",u5=(e,t,r,n,s)=>Yi(e)?(n&&t.watch.add(e),xe(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),xe(r,i))):(n&&(t.watchAll=!0),r);function Yg(e){const t=Gx(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},l=ie.useRef(n);l.current=n,Ek({disabled:i,subject:r._subjects.values,next:d=>{c5(l.current,d.name,o)&&u(zn(u5(l.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=ie.useState(r._getWatch(n,s));return ie.useEffect(()=>r._removeUnmounted()),c}function rte(e){const t=Gx(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=i5(s._names.array,r),l=Yg({control:s,name:r,defaultValue:xe(s._formValues,r,xe(s._defaultValues,r,e.defaultValue)),exact:!0}),c=tte({control:s,name:r,exact:!0}),u=ie.useRef(s.register(r,{...e.rules,value:l,...Ds(e.disabled)?{disabled:e.disabled}:{}}));return ie.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(h,m)=>{const y=xe(s._fields,h);y&&y._f&&(y._f.mount=m)};if(f(r,!0),d){const h=zn(xe(s._options.defaultValues,r));Et(s._defaultValues,r,h),ir(xe(s._formValues,r))&&Et(s._formValues,r,h)}return()=>{(o?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,o,i]),ie.useEffect(()=>{xe(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:xe(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...Ds(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:ie.useCallback(d=>u.current.onChange({target:{value:s5(d),name:r},type:Wv.CHANGE}),[r]),onBlur:ie.useCallback(()=>u.current.onBlur({target:{value:xe(s._formValues,r),name:r},type:Wv.BLUR}),[r,s]),ref:ie.useCallback(d=>{const f=xe(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(c.validatingFields,r)},error:{enumerable:!0,get:()=>xe(c.errors,r)}})}}const nr=e=>e.render(rte(e));var d5=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},lA=e=>({isOnSubmit:!e||e===xi.onSubmit,isOnBlur:e===xi.onBlur,isOnChange:e===xi.onChange,isOnAll:e===xi.all,isOnTouch:e===xi.onTouched}),cA=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const vh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=xe(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(vh(l,t))break}else if(yr(l)&&vh(l,t))break}}};var nte=(e,t,r)=>{const n=gh(xe(e,r));return Et(n,"root",t[r]),Et(e,r,n),e},Pk=e=>e.type==="file",Oa=e=>typeof e=="function",Vv=e=>{if(!Nk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Gg=e=>Yi(e),Ak=e=>e.type==="radio",Hv=e=>e instanceof RegExp;const uA={value:!1,isValid:!1},dA={value:!0,isValid:!0};var f5=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ir(e[0].attributes.value)?ir(e[0].value)||e[0].value===""?dA:{value:e[0].value,isValid:!0}:dA:uA}return uA};const fA={isValid:!1,value:null};var h5=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,fA):fA;function hA(e,t,r="validate"){if(Gg(e)||Array.isArray(e)&&e.every(Gg)||Ds(e)&&!e)return{type:r,message:Gg(e)?e:"",ref:t}}var tu=e=>yr(e)&&!Hv(e)?e:{value:e,message:""},mA=async(e,t,r,n,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:m,name:y,valueAsNumber:g,mount:w,disabled:b}=e._f,x=xe(t,y);if(!w||b)return{};const v=o?o[0]:i,_=O=>{n&&v.reportValidity&&(v.setCustomValidity(Ds(O)?"":O||""),v.reportValidity())},j={},S=Ak(i),k=Ym(i),C=S||k,E=(g||Pk(i))&&ir(i.value)&&ir(x)||Vv(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,A=d5.bind(null,y,r,j),P=(O,$,I,B=ma.maxLength,U=ma.minLength)=>{const T=O?$:I;j[y]={type:O?B:U,message:T,ref:i,...A(O?B:U,T)}};if(s?!Array.isArray(x)||!x.length:l&&(!C&&(E||Nn(x))||Ds(x)&&!x||k&&!f5(o).isValid||S&&!h5(o).isValid)){const{value:O,message:$}=Gg(l)?{value:!!l,message:l}:tu(l);if(O&&(j[y]={type:ma.required,message:$,ref:v,...A(ma.required,$)},!r))return _($),j}if(!E&&(!Nn(d)||!Nn(f))){let O,$;const I=tu(f),B=tu(d);if(!Nn(x)&&!isNaN(x)){const U=i.valueAsNumber||x&&+x;Nn(I.value)||(O=U>I.value),Nn(B.value)||($=U<B.value)}else{const U=i.valueAsDate||new Date(x),T=L=>new Date(new Date().toDateString()+" "+L),N=i.type=="time",M=i.type=="week";Yi(I.value)&&x&&(O=N?T(x)>T(I.value):M?x>I.value:U>new Date(I.value)),Yi(B.value)&&x&&($=N?T(x)<T(B.value):M?x<B.value:U<new Date(B.value))}if((O||$)&&(P(!!O,I.message,B.message,ma.max,ma.min),!r))return _(j[y].message),j}if((c||u)&&!E&&(Yi(x)||s&&Array.isArray(x))){const O=tu(c),$=tu(u),I=!Nn(O.value)&&x.length>+O.value,B=!Nn($.value)&&x.length<+$.value;if((I||B)&&(P(I,O.message,$.message),!r))return _(j[y].message),j}if(h&&!E&&Yi(x)){const{value:O,message:$}=tu(h);if(Hv(O)&&!x.match(O)&&(j[y]={type:ma.pattern,message:$,ref:i,...A(ma.pattern,$)},!r))return _($),j}if(m){if(Oa(m)){const O=await m(x,t),$=hA(O,v);if($&&(j[y]={...$,...A(ma.validate,$.message)},!r))return _($.message),j}else if(yr(m)){let O={};for(const $ in m){if(!Un(O)&&!r)break;const I=hA(await m[$](x,t),v,$);I&&(O={...I,...A($,I.message)},_(I.message),r&&(j[y]=O))}if(!Un(O)&&(j[y]={ref:v,...O},!r))return j}}return _(!0),j};function ste(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ir(e)?n++:e[t[n++]];return e}function ite(e){for(const t in e)if(e.hasOwnProperty(t)&&!ir(e[t]))return!1;return!0}function Or(e,t){const r=Array.isArray(t)?t:Ck(t)?[t]:a5(t),n=r.length===1?e:ste(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(yr(n)&&Un(n)||Array.isArray(n)&&ite(n))&&Or(e,r.slice(0,-1)),e}var aw=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Ej=e=>Nn(e)||!n5(e);function No(e,t){if(Ej(e)||Ej(t))return e===t;if(Kl(e)&&Kl(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Kl(i)&&Kl(o)||yr(i)&&yr(o)||Array.isArray(i)&&Array.isArray(o)?!No(i,o):i!==o)return!1}}return!0}var m5=e=>e.type==="select-multiple",ate=e=>Ak(e)||Ym(e),ow=e=>Vv(e)&&e.isConnected,p5=e=>{for(const t in e)if(Oa(e[t]))return!0;return!1};function qv(e,t={}){const r=Array.isArray(e);if(yr(e)||r)for(const n in e)Array.isArray(e[n])||yr(e[n])&&!p5(e[n])?(t[n]=Array.isArray(e[n])?[]:{},qv(e[n],t[n])):Nn(e[n])||(t[n]=!0);return t}function g5(e,t,r){const n=Array.isArray(e);if(yr(e)||n)for(const s in e)Array.isArray(e[s])||yr(e[s])&&!p5(e[s])?ir(t)||Ej(r[s])?r[s]=Array.isArray(e[s])?qv(e[s],[]):{...qv(e[s])}:g5(e[s],Nn(t)?{}:t[s],r[s]):r[s]=!No(e[s],t[s]);return r}var bf=(e,t)=>g5(e,t,qv(t)),v5=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ir(e)?e:t?e===""?NaN:e&&+e:r&&Yi(e)?new Date(e):n?n(e):e;function lw(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Pk(t)?t.files:Ak(t)?h5(e.refs).value:m5(t)?[...t.selectedOptions].map(({value:r})=>r):Ym(t)?f5(e.refs).value:v5(ir(t.value)?e.ref.value:t.value,e)}var ote=(e,t,r,n)=>{const s={};for(const i of e){const o=xe(t,i);o&&Et(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},wf=e=>ir(e)?e:Hv(e)?e.source:yr(e)?Hv(e.value)?e.value.source:e.value:e;const pA="AsyncFunction";var lte=e=>(!e||!e.validate)&&!!(Oa(e.validate)&&e.validate.constructor.name===pA||yr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===pA)),cte=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gA(e,t,r){const n=xe(e,r);if(n||Ck(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=xe(t,i),l=xe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var ute=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,dte=(e,t)=>!Yx(xe(e,t)).length&&Or(e,t);const fte={mode:xi.onSubmit,reValidateMode:xi.onChange,shouldFocusError:!0};function hte(e={}){let t={...fte,...e},r={submitCount:0,isDirty:!1,isLoading:Oa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=yr(t.defaultValues)||yr(t.values)?zn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:zn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:aw(),array:aw(),state:aw()},h=lA(t.mode),m=lA(t.reValidateMode),y=t.criteriaMode===xi.all,g=D=>F=>{clearTimeout(u),u=setTimeout(D,F)},w=async D=>{if(!e.disabled&&(d.isValid||D)){const F=t.resolver?Un((await C()).errors):await A(n,!0);F!==r.isValid&&f.state.next({isValid:F})}},b=(D,F)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((D||Array.from(l.mount)).forEach(Y=>{Y&&(F?Et(r.validatingFields,Y,F):Or(r.validatingFields,Y))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Un(r.validatingFields)}))},x=(D,F=[],Y,me,ce=!0,le=!0)=>{if(me&&Y&&!e.disabled){if(o.action=!0,le&&Array.isArray(xe(n,D))){const Ie=Y(xe(n,D),me.argA,me.argB);ce&&Et(n,D,Ie)}if(le&&Array.isArray(xe(r.errors,D))){const Ie=Y(xe(r.errors,D),me.argA,me.argB);ce&&Et(r.errors,D,Ie),dte(r.errors,D)}if(d.touchedFields&&le&&Array.isArray(xe(r.touchedFields,D))){const Ie=Y(xe(r.touchedFields,D),me.argA,me.argB);ce&&Et(r.touchedFields,D,Ie)}d.dirtyFields&&(r.dirtyFields=bf(s,i)),f.state.next({name:D,isDirty:O(D,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Et(i,D,F)},v=(D,F)=>{Et(r.errors,D,F),f.state.next({errors:r.errors})},_=D=>{r.errors=D,f.state.next({errors:r.errors,isValid:!1})},j=(D,F,Y,me)=>{const ce=xe(n,D);if(ce){const le=xe(i,D,ir(Y)?xe(s,D):Y);ir(le)||me&&me.defaultChecked||F?Et(i,D,F?le:lw(ce._f)):B(D,le),o.mount&&w()}},S=(D,F,Y,me,ce)=>{let le=!1,Ie=!1;const Be={name:D};if(!e.disabled){const jt=!!(xe(n,D)&&xe(n,D)._f&&xe(n,D)._f.disabled);if(!Y||me){d.isDirty&&(Ie=r.isDirty,r.isDirty=Be.isDirty=O(),le=Ie!==Be.isDirty);const Xe=jt||No(xe(s,D),F);Ie=!!(!jt&&xe(r.dirtyFields,D)),Xe||jt?Or(r.dirtyFields,D):Et(r.dirtyFields,D,!0),Be.dirtyFields=r.dirtyFields,le=le||d.dirtyFields&&Ie!==!Xe}if(Y){const Xe=xe(r.touchedFields,D);Xe||(Et(r.touchedFields,D,Y),Be.touchedFields=r.touchedFields,le=le||d.touchedFields&&Xe!==Y)}le&&ce&&f.state.next(Be)}return le?Be:{}},k=(D,F,Y,me)=>{const ce=xe(r.errors,D),le=d.isValid&&Ds(F)&&r.isValid!==F;if(e.delayError&&Y?(c=g(()=>v(D,Y)),c(e.delayError)):(clearTimeout(u),c=null,Y?Et(r.errors,D,Y):Or(r.errors,D)),(Y?!No(ce,Y):ce)||!Un(me)||le){const Ie={...me,...le&&Ds(F)?{isValid:F}:{},errors:r.errors,name:D};r={...r,...Ie},f.state.next(Ie)}},C=async D=>{b(D,!0);const F=await t.resolver(i,t.context,ote(D||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(D),F},E=async D=>{const{errors:F}=await C(D);if(D)for(const Y of D){const me=xe(F,Y);me?Et(r.errors,Y,me):Or(r.errors,Y)}else r.errors=F;return F},A=async(D,F,Y={valid:!0})=>{for(const me in D){const ce=D[me];if(ce){const{_f:le,...Ie}=ce;if(le){const Be=l.array.has(le.name),jt=ce._f&&lte(ce._f);jt&&d.validatingFields&&b([me],!0);const Xe=await mA(ce,i,y,t.shouldUseNativeValidation&&!F,Be);if(jt&&d.validatingFields&&b([me]),Xe[le.name]&&(Y.valid=!1,F))break;!F&&(xe(Xe,le.name)?Be?nte(r.errors,Xe,le.name):Et(r.errors,le.name,Xe[le.name]):Or(r.errors,le.name))}!Un(Ie)&&await A(Ie,F,Y)}}return Y.valid},P=()=>{for(const D of l.unMount){const F=xe(n,D);F&&(F._f.refs?F._f.refs.every(Y=>!ow(Y)):!ow(F._f.ref))&&oe(D)}l.unMount=new Set},O=(D,F)=>!e.disabled&&(D&&F&&Et(i,D,F),!No(W(),s)),$=(D,F,Y)=>u5(D,l,{...o.mount?i:ir(F)?s:Yi(D)?{[D]:F}:F},Y,F),I=D=>Yx(xe(o.mount?i:s,D,e.shouldUnregister?xe(s,D,[]):[])),B=(D,F,Y={})=>{const me=xe(n,D);let ce=F;if(me){const le=me._f;le&&(!le.disabled&&Et(i,D,v5(F,le)),ce=Vv(le.ref)&&Nn(F)?"":F,m5(le.ref)?[...le.ref.options].forEach(Ie=>Ie.selected=ce.includes(Ie.value)):le.refs?Ym(le.ref)?le.refs.length>1?le.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(ce)?!!ce.find(Be=>Be===Ie.value):ce===Ie.value)):le.refs[0]&&(le.refs[0].checked=!!ce):le.refs.forEach(Ie=>Ie.checked=Ie.value===ce):Pk(le.ref)?le.ref.value="":(le.ref.value=ce,le.ref.type||f.values.next({name:D,values:{...i}})))}(Y.shouldDirty||Y.shouldTouch)&&S(D,ce,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&L(D)},U=(D,F,Y)=>{for(const me in F){const ce=F[me],le=`${D}.${me}`,Ie=xe(n,le);(l.array.has(D)||yr(ce)||Ie&&!Ie._f)&&!Kl(ce)?U(le,ce,Y):B(le,ce,Y)}},T=(D,F,Y={})=>{const me=xe(n,D),ce=l.array.has(D),le=zn(F);Et(i,D,le),ce?(f.array.next({name:D,values:{...i}}),(d.isDirty||d.dirtyFields)&&Y.shouldDirty&&f.state.next({name:D,dirtyFields:bf(s,i),isDirty:O(D,le)})):me&&!me._f&&!Nn(le)?U(D,le,Y):B(D,le,Y),cA(D,l)&&f.state.next({...r}),f.values.next({name:o.mount?D:void 0,values:{...i}})},N=async D=>{o.mount=!0;const F=D.target;let Y=F.name,me=!0;const ce=xe(n,Y),le=()=>F.type?lw(ce._f):s5(D),Ie=Be=>{me=Number.isNaN(Be)||Kl(Be)&&isNaN(Be.getTime())||No(Be,xe(i,Y,Be))};if(ce){let Be,jt;const Xe=le(),Pr=D.type===Wv.BLUR||D.type===Wv.FOCUS_OUT,Fr=!cte(ce._f)&&!t.resolver&&!xe(r.errors,Y)&&!ce._f.deps||ute(Pr,xe(r.touchedFields,Y),r.isSubmitted,m,h),$n=cA(Y,l,Pr);Et(i,Y,Xe),Pr?(ce._f.onBlur&&ce._f.onBlur(D),c&&c(0)):ce._f.onChange&&ce._f.onChange(D);const da=S(Y,Xe,Pr,!1),ns=!Un(da)||$n;if(!Pr&&f.values.next({name:Y,type:D.type,values:{...i}}),Fr)return d.isValid&&(e.mode==="onBlur"?Pr&&w():w()),ns&&f.state.next({name:Y,...$n?{}:da});if(!Pr&&$n&&f.state.next({...r}),t.resolver){const{errors:Ln}=await C([Y]);if(Ie(Xe),me){const fa=gA(r.errors,n,Y),ii=gA(Ln,n,fa.name||Y);Be=ii.error,Y=ii.name,jt=Un(Ln)}}else b([Y],!0),Be=(await mA(ce,i,y,t.shouldUseNativeValidation))[Y],b([Y]),Ie(Xe),me&&(Be?jt=!1:d.isValid&&(jt=await A(n,!0)));me&&(ce._f.deps&&L(ce._f.deps),k(Y,jt,Be,da))}},M=(D,F)=>{if(xe(r.errors,F)&&D.focus)return D.focus(),1},L=async(D,F={})=>{let Y,me;const ce=gh(D);if(t.resolver){const le=await E(ir(D)?D:ce);Y=Un(le),me=D?!ce.some(Ie=>xe(le,Ie)):Y}else D?(me=(await Promise.all(ce.map(async le=>{const Ie=xe(n,le);return await A(Ie&&Ie._f?{[le]:Ie}:Ie)}))).every(Boolean),!(!me&&!r.isValid)&&w()):me=Y=await A(n);return f.state.next({...!Yi(D)||d.isValid&&Y!==r.isValid?{}:{name:D},...t.resolver||!D?{isValid:Y}:{},errors:r.errors}),F.shouldFocus&&!me&&vh(n,M,D?ce:l.mount),me},W=D=>{const F={...o.mount?i:s};return ir(D)?F:Yi(D)?xe(F,D):D.map(Y=>xe(F,Y))},K=(D,F)=>({invalid:!!xe((F||r).errors,D),isDirty:!!xe((F||r).dirtyFields,D),error:xe((F||r).errors,D),isValidating:!!xe(r.validatingFields,D),isTouched:!!xe((F||r).touchedFields,D)}),z=D=>{D&&gh(D).forEach(F=>Or(r.errors,F)),f.state.next({errors:D?r.errors:{}})},H=(D,F,Y)=>{const me=(xe(n,D,{_f:{}})._f||{}).ref,ce=xe(r.errors,D)||{},{ref:le,message:Ie,type:Be,...jt}=ce;Et(r.errors,D,{...jt,...F,ref:me}),f.state.next({name:D,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&me&&me.focus&&me.focus()},V=(D,F)=>Oa(D)?f.values.subscribe({next:Y=>D($(void 0,F),Y)}):$(D,F,!0),oe=(D,F={})=>{for(const Y of D?gh(D):l.mount)l.mount.delete(Y),l.array.delete(Y),F.keepValue||(Or(n,Y),Or(i,Y)),!F.keepError&&Or(r.errors,Y),!F.keepDirty&&Or(r.dirtyFields,Y),!F.keepTouched&&Or(r.touchedFields,Y),!F.keepIsValidating&&Or(r.validatingFields,Y),!t.shouldUnregister&&!F.keepDefaultValue&&Or(s,Y);f.values.next({values:{...i}}),f.state.next({...r,...F.keepDirty?{isDirty:O()}:{}}),!F.keepIsValid&&w()},te=({disabled:D,name:F,field:Y,fields:me,value:ce})=>{if(Ds(D)&&o.mount||D){const le=D?void 0:ir(ce)?lw(Y?Y._f:xe(me,F)._f):ce;Et(i,F,le),S(F,le,!1,!1,!0)}},Ne=(D,F={})=>{let Y=xe(n,D);const me=Ds(F.disabled)||Ds(e.disabled);return Et(n,D,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:D}},name:D,mount:!0,...F}}),l.mount.add(D),Y?te({field:Y,disabled:Ds(F.disabled)?F.disabled:e.disabled,name:D,value:F.value}):j(D,!0,F.value),{...me?{disabled:F.disabled||e.disabled}:{},...t.progressive?{required:!!F.required,min:wf(F.min),max:wf(F.max),minLength:wf(F.minLength),maxLength:wf(F.maxLength),pattern:wf(F.pattern)}:{},name:D,onChange:N,onBlur:N,ref:ce=>{if(ce){Ne(D,F),Y=xe(n,D);const le=ir(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,Ie=ate(le),Be=Y._f.refs||[];if(Ie?Be.find(jt=>jt===le):le===Y._f.ref)return;Et(n,D,{_f:{...Y._f,...Ie?{refs:[...Be.filter(ow),le,...Array.isArray(xe(s,D))?[{}]:[]],ref:{type:le.type,name:D}}:{ref:le}}}),j(D,!1,void 0,le)}else Y=xe(n,D,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||F.shouldUnregister)&&!(i5(l.array,D)&&o.action)&&l.unMount.add(D)}}},ee=()=>t.shouldFocusError&&vh(n,M,l.mount),pe=D=>{Ds(D)&&(f.state.next({disabled:D}),vh(n,(F,Y)=>{const me=xe(n,Y);me&&(F.disabled=me._f.disabled||D,Array.isArray(me._f.refs)&&me._f.refs.forEach(ce=>{ce.disabled=me._f.disabled||D}))},0,!1))},we=(D,F)=>async Y=>{let me;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ce=zn(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:Ie}=await C();r.errors=le,ce=Ie}else await A(n);if(Or(r.errors,"root"),Un(r.errors)){f.state.next({errors:{}});try{await D(ce,Y)}catch(le){me=le}}else F&&await F({...r.errors},Y),ee(),setTimeout(ee);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},Q=(D,F={})=>{xe(n,D)&&(ir(F.defaultValue)?T(D,zn(xe(s,D))):(T(D,F.defaultValue),Et(s,D,zn(F.defaultValue))),F.keepTouched||Or(r.touchedFields,D),F.keepDirty||(Or(r.dirtyFields,D),r.isDirty=F.defaultValue?O(D,zn(xe(s,D))):O()),F.keepError||(Or(r.errors,D),d.isValid&&w()),f.state.next({...r}))},Je=(D,F={})=>{const Y=D?zn(D):s,me=zn(Y),ce=Un(D),le=ce?s:me;if(F.keepDefaultValues||(s=Y),!F.keepValues){if(F.keepDirtyValues){const Ie=new Set([...l.mount,...Object.keys(bf(s,i))]);for(const Be of Array.from(Ie))xe(r.dirtyFields,Be)?Et(le,Be,xe(i,Be)):T(Be,xe(le,Be))}else{if(Nk&&ir(D))for(const Ie of l.mount){const Be=xe(n,Ie);if(Be&&Be._f){const jt=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Vv(jt)){const Xe=jt.closest("form");if(Xe){Xe.reset();break}}}}n={}}i=e.shouldUnregister?F.keepDefaultValues?zn(s):{}:zn(le),f.array.next({values:{...le}}),f.values.next({values:{...le}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:ce?!1:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!No(D,s)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ce?{}:F.keepDirtyValues?F.keepDefaultValues&&i?bf(s,i):r.dirtyFields:F.keepDefaultValues&&D?bf(s,D):F.keepDirty?r.dirtyFields:{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Le=(D,F)=>Je(Oa(D)?D(i):D,F);return{control:{register:Ne,unregister:oe,getFieldState:K,handleSubmit:we,setError:H,_executeSchema:C,_getWatch:$,_getDirty:O,_updateValid:w,_removeUnmounted:P,_updateFieldArray:x,_updateDisabledField:te,_getFieldArray:I,_reset:Je,_resetDefaultValues:()=>Oa(t.defaultValues)&&t.defaultValues().then(D=>{Le(D,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:D=>{r={...r,...D}},_disableForm:pe,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(D){o=D},get _defaultValues(){return s},get _names(){return l},set _names(D){l=D},get _formState(){return r},set _formState(D){r=D},get _options(){return t},set _options(D){t={...t,...D}}},trigger:L,register:Ne,handleSubmit:we,watch:V,setValue:T,getValues:W,reset:Le,resetField:Q,clearErrors:z,unregister:oe,setError:H,setFocus:(D,F={})=>{const Y=xe(n,D),me=Y&&Y._f;if(me){const ce=me.refs?me.refs[0]:me.ref;ce.focus&&(ce.focus(),F.shouldSelect&&ce.select())}},getFieldState:K}}function vA(e={}){const t=ie.useRef(),r=ie.useRef(),[n,s]=ie.useState({isDirty:!1,isValidating:!1,isLoading:Oa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Oa(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...hte(e),formState:n});const i=t.current.control;return i._options=e,Ek({subject:i._subjects.state,next:o=>{l5(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),ie.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ie.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ie.useEffect(()=>{e.values&&!No(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),ie.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),ie.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ie.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),ie.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=o5(n,i),t.current}const yA=(e,t,r)=>{if(e&&"reportValidity"in e){const n=xe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},y5=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?yA(n.ref,r,e):n.refs&&n.refs.forEach(s=>yA(s,r,e))}},mte=(e,t)=>{t.shouldUseNativeValidation&&y5(e,t);const r={};for(const n in e){const s=xe(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(pte(t.names||Object.keys(e),n)){const o=Object.assign({},xe(r,n));Et(o,"root",i),Et(r,n,o)}else Et(r,n,i)}return r},pte=(e,t)=>e.some(r=>r.startsWith(t+"."));var gte=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=d5(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},xA=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&y5({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:mte(gte(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},vt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(vt||(vt={}));var bA;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(bA||(bA={}));const Oe=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wl=e=>{switch(typeof e){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return isNaN(e)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(e)?Oe.array:e===null?Oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Oe.promise:typeof Map<"u"&&e instanceof Map?Oe.map:typeof Set<"u"&&e instanceof Set?Oe.set:typeof Date<"u"&&e instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},he=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vs extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Vs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Vs.create=e=>new Vs(e);const em=(e,t)=>{let r;switch(e.code){case he.invalid_type:e.received===Oe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,vt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${vt.joinValues(e.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${vt.joinValues(e.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${vt.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:vt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case he.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case he.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=t.defaultError,vt.assertNever(e)}return{message:r}};let vte=em;function Pj(){return vte}const Aj=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Pe(e,t){const r=Pj(),n=Aj({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===em?void 0:em].filter(s=>!!s)});e.common.issues.push(n)}class Tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Qe;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Tn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Qe;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Qe=Object.freeze({status:"aborted"}),Wf=e=>({status:"dirty",value:e}),ts=e=>({status:"valid",value:e}),wA=e=>e.status==="aborted",_A=e=>e.status==="dirty",Kv=e=>e.status==="valid",Yv=e=>typeof Promise<"u"&&e instanceof Promise;function Gv(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function x5(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));var Vf,Hf;class ia{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jA=(e,t)=>{if(Kv(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Vs(e.common.issues);return this._error=r,this._error}}};function rt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class dt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Wl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Wl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Tn,ctx:{common:t.parent.common,data:t.data,parsedType:Wl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Yv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wl(t)},i=this._parseSync({data:t,path:s.path,parent:s});return jA(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wl(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Yv(s)?s:Promise.resolve(s));return jA(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:he.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ga({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return La.create(this,this._def)}nullable(){return _c.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ji.create(this,this._def)}promise(){return rm.create(this,this._def)}or(t){return Qv.create([this,t],this._def)}and(t){return Jv.create(this,t,this._def)}transform(t){return new Ga({...rt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new sy({...rt(this._def),innerType:this,defaultValue:r,typeName:Ge.ZodDefault})}brand(){return new j5({typeName:Ge.ZodBranded,type:this,...rt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new iy({...rt(this._def),innerType:this,catchValue:r,typeName:Ge.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Xx.create(this,t)}readonly(){return ay.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yte=/^c[^\s-]{8,}$/i,xte=/^[0-9a-z]+$/,bte=/^[0-9A-HJKMNP-TV-Z]{26}$/,wte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_te=/^[a-z0-9_-]{21}$/i,jte=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ste=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cw;const Nte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cte=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ete=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,b5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pte=new RegExp(`^${b5}$`);function w5(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Ate(e){return new RegExp(`^${w5(e)}$`)}function Ote(e){let t=`${b5}T${w5(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Tte(e,t){return!!((t==="v4"||!t)&&Nte.test(e)||(t==="v6"||!t)&&Cte.test(e))}class Ta extends dt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Oe.string){const i=this._getOrReturnCtx(t);return Pe(i,{code:he.invalid_type,expected:Oe.string,received:i.parsedType}),Qe}const n=new Tn;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Pe(s,{code:he.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Pe(s,{code:he.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Ste.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"email",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")cw||(cw=new RegExp(kte,"u")),cw.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"emoji",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")wte.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"uuid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")_te.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"nanoid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")yte.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")xte.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid2",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")bte.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ulid",code:he.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Pe(s,{validation:"url",code:he.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"regex",code:he.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ote(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Pte.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ate(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?jte.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"duration",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Tte(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ip",code:he.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Ete.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"base64",code:he.invalid_string,message:i.message}),n.dirty()):vt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:he.invalid_string,...Fe.errToObj(n)})}_addCheck(t){return new Ta({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Fe.errToObj(r)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new Ta({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ta({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ta({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ta.create=e=>{var t;return new Ta({checks:[],typeName:Ge.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...rt(e)})};function Mte(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class md extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Oe.number){const i=this._getOrReturnCtx(t);return Pe(i,{code:he.invalid_type,expected:Oe.number,received:i.parsedType}),Qe}let n;const s=new Tn;for(const i of this._def.checks)i.kind==="int"?vt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Mte(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.not_finite,message:i.message}),s.dirty()):vt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new md({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new md({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}md.create=e=>new md({checks:[],typeName:Ge.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class pd extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Oe.bigint){const i=this._getOrReturnCtx(t);return Pe(i,{code:he.invalid_type,expected:Oe.bigint,received:i.parsedType}),Qe}let n;const s=new Tn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:he.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):vt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,s){return new pd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(s)}]})}_addCheck(t){return new pd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pd.create=e=>{var t;return new pd({checks:[],typeName:Ge.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...rt(e)})};class Oj extends dt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Oe.boolean){const n=this._getOrReturnCtx(t);return Pe(n,{code:he.invalid_type,expected:Oe.boolean,received:n.parsedType}),Qe}return ts(t.data)}}Oj.create=e=>new Oj({typeName:Ge.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class tm extends dt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Oe.date){const i=this._getOrReturnCtx(t);return Pe(i,{code:he.invalid_type,expected:Oe.date,received:i.parsedType}),Qe}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Pe(i,{code:he.invalid_date}),Qe}const n=new Tn;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:he.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):vt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new tm({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}tm.create=e=>new tm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ge.ZodDate,...rt(e)});class Tj extends dt{_parse(t){if(this._getType(t)!==Oe.symbol){const n=this._getOrReturnCtx(t);return Pe(n,{code:he.invalid_type,expected:Oe.symbol,received:n.parsedType}),Qe}return ts(t.data)}}Tj.create=e=>new Tj({typeName:Ge.ZodSymbol,...rt(e)});class Xv extends dt{_parse(t){if(this._getType(t)!==Oe.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:he.invalid_type,expected:Oe.undefined,received:n.parsedType}),Qe}return ts(t.data)}}Xv.create=e=>new Xv({typeName:Ge.ZodUndefined,...rt(e)});class Zv extends dt{_parse(t){if(this._getType(t)!==Oe.null){const n=this._getOrReturnCtx(t);return Pe(n,{code:he.invalid_type,expected:Oe.null,received:n.parsedType}),Qe}return ts(t.data)}}Zv.create=e=>new Zv({typeName:Ge.ZodNull,...rt(e)});class Mj extends dt{constructor(){super(...arguments),this._any=!0}_parse(t){return ts(t.data)}}Mj.create=e=>new Mj({typeName:Ge.ZodAny,...rt(e)});class Lu extends dt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ts(t.data)}}Lu.create=e=>new Lu({typeName:Ge.ZodUnknown,...rt(e)});class al extends dt{_parse(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:he.invalid_type,expected:Oe.never,received:r.parsedType}),Qe}}al.create=e=>new al({typeName:Ge.ZodNever,...rt(e)});class Dj extends dt{_parse(t){if(this._getType(t)!==Oe.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:he.invalid_type,expected:Oe.void,received:n.parsedType}),Qe}return ts(t.data)}}Dj.create=e=>new Dj({typeName:Ge.ZodVoid,...rt(e)});class Ji extends dt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Oe.array)return Pe(r,{code:he.invalid_type,expected:Oe.array,received:r.parsedType}),Qe;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Pe(r,{code:o?he.too_big:he.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Pe(r,{code:he.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Pe(r,{code:he.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ia(r,o,r.path,l)))).then(o=>Tn.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new ia(r,o,r.path,l)));return Tn.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ji({...this._def,minLength:{value:t,message:Fe.toString(r)}})}max(t,r){return new Ji({...this._def,maxLength:{value:t,message:Fe.toString(r)}})}length(t,r){return new Ji({...this._def,exactLength:{value:t,message:Fe.toString(r)}})}nonempty(t){return this.min(1,t)}}Ji.create=(e,t)=>new Ji({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...rt(t)});function uu(e){if(e instanceof Qt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=La.create(uu(n))}return new Qt({...e._def,shape:()=>t})}else return e instanceof Ji?new Ji({...e._def,type:uu(e.element)}):e instanceof La?La.create(uu(e.unwrap())):e instanceof _c?_c.create(uu(e.unwrap())):e instanceof Ya?Ya.create(e.items.map(t=>uu(t))):e}class Qt extends dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=vt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Oe.object){const u=this._getOrReturnCtx(t);return Pe(u,{code:he.invalid_type,expected:Oe.object,received:u.parsedType}),Qe}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof al&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ia(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof al){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Pe(s,{code:he.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ia(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Tn.mergeObjectSync(n,u)):Tn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new Qt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Fe.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ge.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qt({...this._def,catchall:t})}pick(t){const r={};return vt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Qt({...this._def,shape:()=>r})}omit(t){const r={};return vt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Qt({...this._def,shape:()=>r})}deepPartial(){return uu(this)}partial(t){const r={};return vt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Qt({...this._def,shape:()=>r})}required(t){const r={};return vt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof La;)i=i._def.innerType;r[n]=i}}),new Qt({...this._def,shape:()=>r})}keyof(){return _5(vt.objectKeys(this.shape))}}Qt.create=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strip",catchall:al.create(),typeName:Ge.ZodObject,...rt(t)});Qt.strictCreate=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strict",catchall:al.create(),typeName:Ge.ZodObject,...rt(t)});Qt.lazycreate=(e,t)=>new Qt({shape:e,unknownKeys:"strip",catchall:al.create(),typeName:Ge.ZodObject,...rt(t)});class Qv extends dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Vs(l.ctx.common.issues));return Pe(r,{code:he.invalid_union,unionErrors:o}),Qe}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Vs(c));return Pe(r,{code:he.invalid_union,unionErrors:l}),Qe}}get options(){return this._def.options}}Qv.create=(e,t)=>new Qv({options:e,typeName:Ge.ZodUnion,...rt(t)});const xa=e=>e instanceof ty?xa(e.schema):e instanceof Ga?xa(e.innerType()):e instanceof ry?[e.value]:e instanceof wc?e.options:e instanceof ny?vt.objectValues(e.enum):e instanceof sy?xa(e._def.innerType):e instanceof Xv?[void 0]:e instanceof Zv?[null]:e instanceof La?[void 0,...xa(e.unwrap())]:e instanceof _c?[null,...xa(e.unwrap())]:e instanceof j5||e instanceof ay?xa(e.unwrap()):e instanceof iy?xa(e._def.innerType):[];class Ok extends dt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.object)return Pe(r,{code:he.invalid_type,expected:Oe.object,received:r.parsedType}),Qe;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Pe(r,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=xa(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Ok({typeName:Ge.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...rt(n)})}}function Rj(e,t){const r=Wl(e),n=Wl(t);if(e===t)return{valid:!0,data:e};if(r===Oe.object&&n===Oe.object){const s=vt.objectKeys(t),i=vt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Rj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Oe.array&&n===Oe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Rj(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Oe.date&&n===Oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Jv extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(wA(i)||wA(o))return Qe;const l=Rj(i.value,o.value);return l.valid?((_A(i)||_A(o))&&r.dirty(),{status:r.value,value:l.data}):(Pe(n,{code:he.invalid_intersection_types}),Qe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Jv.create=(e,t,r)=>new Jv({left:e,right:t,typeName:Ge.ZodIntersection,...rt(r)});class Ya extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.array)return Pe(n,{code:he.invalid_type,expected:Oe.array,received:n.parsedType}),Qe;if(n.data.length<this._def.items.length)return Pe(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ia(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Tn.mergeArray(r,o)):Tn.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Ya({...this._def,rest:t})}}Ya.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ya({items:e,typeName:Ge.ZodTuple,rest:null,...rt(t)})};class ey extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.object)return Pe(n,{code:he.invalid_type,expected:Oe.object,received:n.parsedType}),Qe;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:i._parse(new ia(n,l,n.path,l)),value:o._parse(new ia(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Tn.mergeObjectAsync(r,s):Tn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof dt?new ey({keyType:t,valueType:r,typeName:Ge.ZodRecord,...rt(n)}):new ey({keyType:Ta.create(),valueType:t,typeName:Ge.ZodRecord,...rt(r)})}}class Ij extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.map)return Pe(n,{code:he.invalid_type,expected:Oe.map,received:n.parsedType}),Qe;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new ia(n,l,n.path,[u,"key"])),value:i._parse(new ia(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Qe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Qe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Ij.create=(e,t,r)=>new Ij({valueType:t,keyType:e,typeName:Ge.ZodMap,...rt(r)});class gd extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Oe.set)return Pe(n,{code:he.invalid_type,expected:Oe.set,received:n.parsedType}),Qe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Pe(n,{code:he.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Pe(n,{code:he.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Qe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new ia(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new gd({...this._def,minSize:{value:t,message:Fe.toString(r)}})}max(t,r){return new gd({...this._def,maxSize:{value:t,message:Fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}gd.create=(e,t)=>new gd({valueType:e,minSize:null,maxSize:null,typeName:Ge.ZodSet,...rt(t)});class yh extends dt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.function)return Pe(r,{code:he.invalid_type,expected:Oe.function,received:r.parsedType}),Qe;function n(l,c){return Aj({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pj(),em].filter(u=>!!u),issueData:{code:he.invalid_arguments,argumentsError:c}})}function s(l,c){return Aj({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pj(),em].filter(u=>!!u),issueData:{code:he.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof rm){const l=this;return ts(async function(...c){const u=new Vs([]),d=await l._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const l=this;return ts(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Vs([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new Vs([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yh({...this._def,args:Ya.create(t).rest(Lu.create())})}returns(t){return new yh({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new yh({args:t||Ya.create([]).rest(Lu.create()),returns:r||Lu.create(),typeName:Ge.ZodFunction,...rt(n)})}}class ty extends dt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ty.create=(e,t)=>new ty({getter:e,typeName:Ge.ZodLazy,...rt(t)});class ry extends dt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Pe(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}ry.create=(e,t)=>new ry({value:e,typeName:Ge.ZodLiteral,...rt(t)});function _5(e,t){return new wc({values:e,typeName:Ge.ZodEnum,...rt(t)})}class wc extends dt{constructor(){super(...arguments),Vf.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{expected:vt.joinValues(n),received:r.parsedType,code:he.invalid_type}),Qe}if(Gv(this,Vf)||x5(this,Vf,new Set(this._def.values)),!Gv(this,Vf).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{received:r.data,code:he.invalid_enum_value,options:n}),Qe}return ts(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return wc.create(t,{...this._def,...r})}exclude(t,r=this._def){return wc.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Vf=new WeakMap;wc.create=_5;class ny extends dt{constructor(){super(...arguments),Hf.set(this,void 0)}_parse(t){const r=vt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Oe.string&&n.parsedType!==Oe.number){const s=vt.objectValues(r);return Pe(n,{expected:vt.joinValues(s),received:n.parsedType,code:he.invalid_type}),Qe}if(Gv(this,Hf)||x5(this,Hf,new Set(vt.getValidEnumValues(this._def.values))),!Gv(this,Hf).has(t.data)){const s=vt.objectValues(r);return Pe(n,{received:n.data,code:he.invalid_enum_value,options:s}),Qe}return ts(t.data)}get enum(){return this._def.values}}Hf=new WeakMap;ny.create=(e,t)=>new ny({values:e,typeName:Ge.ZodNativeEnum,...rt(t)});class rm extends dt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Oe.promise&&r.common.async===!1)return Pe(r,{code:he.invalid_type,expected:Oe.promise,received:r.parsedType}),Qe;const n=r.parsedType===Oe.promise?r.data:Promise.resolve(r.data);return ts(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}rm.create=(e,t)=>new rm({type:e,typeName:Ge.ZodPromise,...rt(t)});class Ga extends dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Pe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Qe;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Qe:c.status==="dirty"||r.value==="dirty"?Wf(c.value):c});{if(r.value==="aborted")return Qe;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Qe:l.status==="dirty"||r.value==="dirty"?Wf(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Qe:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Qe:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Kv(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Kv(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);vt.assertNever(s)}}Ga.create=(e,t,r)=>new Ga({schema:e,typeName:Ge.ZodEffects,effect:t,...rt(r)});Ga.createWithPreprocess=(e,t,r)=>new Ga({schema:t,effect:{type:"preprocess",transform:e},typeName:Ge.ZodEffects,...rt(r)});class La extends dt{_parse(t){return this._getType(t)===Oe.undefined?ts(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}La.create=(e,t)=>new La({innerType:e,typeName:Ge.ZodOptional,...rt(t)});class _c extends dt{_parse(t){return this._getType(t)===Oe.null?ts(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_c.create=(e,t)=>new _c({innerType:e,typeName:Ge.ZodNullable,...rt(t)});class sy extends dt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}sy.create=(e,t)=>new sy({innerType:e,typeName:Ge.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...rt(t)});class iy extends dt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Yv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vs(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}iy.create=(e,t)=>new iy({innerType:e,typeName:Ge.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...rt(t)});class $j extends dt{_parse(t){if(this._getType(t)!==Oe.nan){const n=this._getOrReturnCtx(t);return Pe(n,{code:he.invalid_type,expected:Oe.nan,received:n.parsedType}),Qe}return{status:"valid",value:t.data}}}$j.create=e=>new $j({typeName:Ge.ZodNaN,...rt(e)});class j5 extends dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xx extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Qe:i.status==="dirty"?(r.dirty(),Wf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Qe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Xx({in:t,out:r,typeName:Ge.ZodPipeline})}}class ay extends dt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Kv(s)&&(s.value=Object.freeze(s.value)),s);return Yv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ay.create=(e,t)=>new ay({innerType:e,typeName:Ge.ZodReadonly,...rt(t)});Qt.lazycreate;var Ge;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const Ot=Ta.create,S5=md.create;$j.create;pd.create;const Dte=Oj.create;tm.create;Tj.create;Xv.create;Zv.create;Mj.create;Lu.create;al.create;Dj.create;const SA=Ji.create,oy=Qt.create;Qt.strictCreate;Qv.create;Ok.create;Jv.create;Ya.create;ey.create;Ij.create;gd.create;yh.create;ty.create;ry.create;const kA=wc.create;ny.create;rm.create;Ga.create;La.create;_c.create;Ga.createWithPreprocess;Xx.create;const Ce=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ce.displayName="Card";const Ue=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",e),...t}));Ue.displayName="CardHeader";const Ve=p.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const It=p.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",e),...t}));It.displayName="CardDescription";const Ae=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:be("p-6 pt-0",e),...t}));Ae.displayName="CardContent";const Rte=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",e),...t}));Rte.displayName="CardFooter";const qe=p.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));qe.displayName="Input";var Ite="Label",k5=p.forwardRef((e,t)=>a.jsx(He.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));k5.displayName=Ite;var N5=k5;const $te=Im("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=p.forwardRef(({className:e,...t},r)=>a.jsx(N5,{ref:r,className:be($te(),e),...t}));ne.displayName=N5.displayName;function NA(e,[t,r]){return Math.min(r,Math.max(t,e))}var uw=0;function Zx(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??CA()),document.body.insertAdjacentElement("beforeend",e[1]??CA()),uw++,()=>{uw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),uw--}},[])}function CA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dw="focusScope.autoFocusOnMount",fw="focusScope.autoFocusOnUnmount",EA={bubbles:!1,cancelable:!0},Lte="FocusScope",Gm=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=p.useState(null),u=yn(s),d=yn(i),f=p.useRef(null),h=ut(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(v){if(m.paused||!l)return;const _=v.target;l.contains(_)?f.current=_:yo(f.current,{select:!0})},w=function(v){if(m.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||yo(f.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const j of v)j.removedNodes.length>0&&yo(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),x.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){AA.add(m);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(dw,EA);l.addEventListener(dw,u),l.dispatchEvent(b),b.defaultPrevented||(Fte(Vte(C5(l)),{select:!0}),document.activeElement===g&&yo(l))}return()=>{l.removeEventListener(dw,u),setTimeout(()=>{const b=new CustomEvent(fw,EA);l.addEventListener(fw,d),l.dispatchEvent(b),b.defaultPrevented||yo(g??document.body,{select:!0}),l.removeEventListener(fw,d),AA.remove(m)},0)}}},[l,u,d,m]);const y=p.useCallback(g=>{if(!r&&!n||m.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(w&&b){const x=g.currentTarget,[v,_]=Bte(x);v&&_?!g.shiftKey&&b===_?(g.preventDefault(),r&&yo(v,{select:!0})):g.shiftKey&&b===v&&(g.preventDefault(),r&&yo(_,{select:!0})):b===x&&g.preventDefault()}},[r,n,m.paused]);return a.jsx(He.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});Gm.displayName=Lte;function Fte(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(yo(n,{select:t}),document.activeElement!==r)return}function Bte(e){const t=C5(e),r=PA(t,e),n=PA(t.reverse(),e);return[r,n]}function C5(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PA(e,t){for(const r of e)if(!zte(r,{upTo:t}))return r}function zte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ute(e){return e instanceof HTMLInputElement&&"select"in e}function yo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ute(e)&&t&&e.select()}}var AA=Wte();function Wte(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=OA(e,t),e.unshift(t)},remove(t){var r;e=OA(e,t),(r=e[0])==null||r.resume()}}}function OA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Vte(e){return e.filter(t=>t.tagName!=="A")}function Tk(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Hte=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ru=new WeakMap,Jp=new WeakMap,eg={},hw=0,E5=function(e){return e&&(e.host||E5(e.parentNode))},qte=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=E5(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Kte=function(e,t,r,n){var s=qte(t,Array.isArray(e)?e:[e]);eg[r]||(eg[r]=new WeakMap);var i=eg[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",g=(ru.get(h)||0)+1,w=(i.get(h)||0)+1;ru.set(h,g),i.set(h,w),o.push(h),g===1&&y&&Jp.set(h,!0),w===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),hw++,function(){o.forEach(function(f){var h=ru.get(f)-1,m=i.get(f)-1;ru.set(f,h),i.set(f,m),h||(Jp.has(f)||f.removeAttribute(n),Jp.delete(f)),m||f.removeAttribute(r)}),hw--,hw||(ru=new WeakMap,ru=new WeakMap,Jp=new WeakMap,eg={})}},Qx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Hte(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Kte(n,s,r,"aria-hidden")):function(){return null}},Hi=function(){return Hi=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Hi.apply(this,arguments)};function P5(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Yte(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Xg="right-scroll-bar-position",Zg="width-before-scroll-bar",Gte="with-scroll-bars-hidden",Xte="--removed-body-scroll-bar-size";function mw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Zte(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Qte=typeof window<"u"?p.useLayoutEffect:p.useEffect,TA=new WeakMap;function Jte(e,t){var r=Zte(null,function(n){return e.forEach(function(s){return mw(s,n)})});return Qte(function(){var n=TA.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||mw(l,null)}),i.forEach(function(l){s.has(l)||mw(l,o)})}TA.set(r,e)},[e]),r}function ere(e){return e}function tre(e,t){t===void 0&&(t=ere);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function rre(e){e===void 0&&(e={});var t=tre(null);return t.options=Hi({async:!0,ssr:!1},e),t}var A5=function(e){var t=e.sideCar,r=P5(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Hi({},r))};A5.isSideCarExport=!0;function nre(e,t){return e.useMedium(t),A5}var O5=rre(),pw=function(){},Jx=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:pw,onWheelCapture:pw,onTouchMoveCapture:pw}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,y=e.inert,g=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,x=e.gapMode,v=P5(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=Jte([r,t]),S=Hi(Hi({},v),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:O5,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?p.cloneElement(p.Children.only(l),Hi(Hi({},S),{ref:j})):p.createElement(b,Hi({},S,{className:c,ref:j}),l))});Jx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jx.classNames={fullWidth:Zg,zeroRight:Xg};var sre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ire(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sre();return t&&e.setAttribute("nonce",t),e}function are(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ore(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lre=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ire())&&(are(t,r),ore(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cre=function(){var e=lre();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},T5=function(){var e=cre(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},ure={left:0,top:0,right:0,gap:0},gw=function(e){return parseInt(e||"",10)||0},dre=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[gw(r),gw(n),gw(s)]},fre=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ure;var t=dre(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},hre=T5(),Fu="data-scroll-locked",mre=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Gte,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Fu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xg," .").concat(Xg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zg," .").concat(Zg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fu,`] {
    `).concat(Xte,": ").concat(l,`px;
  }
`)},MA=function(){var e=parseInt(document.body.getAttribute(Fu)||"0",10);return isFinite(e)?e:0},pre=function(){p.useEffect(function(){return document.body.setAttribute(Fu,(MA()+1).toString()),function(){var e=MA()-1;e<=0?document.body.removeAttribute(Fu):document.body.setAttribute(Fu,e.toString())}},[])},gre=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;pre();var i=p.useMemo(function(){return fre(s)},[s]);return p.createElement(hre,{styles:mre(i,!t,s,r?"":"!important")})},Lj=!1;if(typeof window<"u")try{var tg=Object.defineProperty({},"passive",{get:function(){return Lj=!0,!0}});window.addEventListener("test",tg,tg),window.removeEventListener("test",tg,tg)}catch{Lj=!1}var nu=Lj?{passive:!1}:!1,vre=function(e){return e.tagName==="TEXTAREA"},M5=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!vre(e)&&r[t]==="visible")},yre=function(e){return M5(e,"overflowY")},xre=function(e){return M5(e,"overflowX")},DA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=D5(e,n);if(s){var i=R5(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},bre=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},wre=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},D5=function(e,t){return e==="v"?yre(t):xre(t)},R5=function(e,t){return e==="v"?bre(t):wre(t)},_re=function(e,t){return e==="h"&&t==="rtl"?-1:1},jre=function(e,t,r,n,s){var i=_re(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=R5(e,l),y=m[0],g=m[1],w=m[2],b=g-w-i*y;(y||b)&&D5(e,l)&&(f+=b,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},rg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},RA=function(e){return[e.deltaX,e.deltaY]},IA=function(e){return e&&"current"in e?e.current:e},Sre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Nre=0,su=[];function Cre(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(Nre++)[0],i=p.useState(T5)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Yte([e.lockRef.current],(e.shards||[]).map(IA),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=rg(g),x=r.current,v="deltaX"in g?g.deltaX:x[0]-b[0],_="deltaY"in g?g.deltaY:x[1]-b[1],j,S=g.target,k=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var C=DA(k,S);if(!C)return!0;if(C?j=k:(j=k==="v"?"h":"v",C=DA(k,S)),!C)return!1;if(!n.current&&"changedTouches"in g&&(v||_)&&(n.current=j),!j)return!0;var E=n.current||j;return jre(E,w,g,E==="h"?v:_,!0)},[]),c=p.useCallback(function(g){var w=g;if(!(!su.length||su[su.length-1]!==i)){var b="deltaY"in w?RA(w):rg(w),x=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&Sre(j.delta,b)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var v=(o.current.shards||[]).map(IA).filter(Boolean).filter(function(j){return j.contains(w.target)}),_=v.length>0?l(w,v[0]):!o.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(g,w,b,x){var v={name:g,delta:w,target:b,should:x,shadowParent:Ere(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=p.useCallback(function(g){r.current=rg(g),n.current=void 0},[]),f=p.useCallback(function(g){u(g.type,RA(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,rg(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return su.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,nu),document.addEventListener("touchmove",c,nu),document.addEventListener("touchstart",d,nu),function(){su=su.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,nu),document.removeEventListener("touchmove",c,nu),document.removeEventListener("touchstart",d,nu)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:kre(s)}):null,m?p.createElement(gre,{gapMode:e.gapMode}):null)}function Ere(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Pre=nre(O5,Cre);var Xm=p.forwardRef(function(e,t){return p.createElement(Jx,Hi({},e,{ref:t,sideCar:Pre}))});Xm.classNames=Jx.classNames;var Are=[" ","Enter","ArrowUp","ArrowDown"],Ore=[" ","Enter"],Zm="Select",[e0,t0,Tre]=xx(Zm),[qd,ACe]=Mi(Zm,[Tre,gl]),r0=gl(),[Mre,yl]=qd(Zm),[Dre,Rre]=qd(Zm),I5=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=e,g=r0(t),[w,b]=p.useState(null),[x,v]=p.useState(null),[_,j]=p.useState(!1),S=Hx(u),[k=!1,C]=Ni({prop:n,defaultProp:s,onChange:i}),[E,A]=Ni({prop:o,defaultProp:l,onChange:c}),P=p.useRef(null),O=w?y||!!w.closest("form"):!0,[$,I]=p.useState(new Set),B=Array.from($).map(U=>U.props.value).join(";");return a.jsx(Ex,{...g,children:a.jsxs(Mre,{required:m,scope:t,trigger:w,onTriggerChange:b,valueNode:x,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ws(),value:E,onValueChange:A,open:k,onOpenChange:C,dir:S,triggerPointerDownPosRef:P,disabled:h,children:[a.jsx(e0.Provider,{scope:t,children:a.jsx(Dre,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(U=>{I(T=>new Set(T).add(U))},[]),onNativeOptionRemove:p.useCallback(U=>{I(T=>{const N=new Set(T);return N.delete(U),N})},[]),children:r})}),O?a.jsxs(oF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:U=>A(U.target.value),disabled:h,form:y,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from($)]},B):null]})})};I5.displayName=Zm;var $5="SelectTrigger",L5=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=r0(r),o=yl($5,r),l=o.disabled||n,c=ut(t,o.onTriggerChange),u=t0(r),d=p.useRef("touch"),[f,h,m]=lF(g=>{const w=u().filter(v=>!v.disabled),b=w.find(v=>v.value===o.value),x=cF(w,g,b);x!==void 0&&o.onValueChange(x.value)}),y=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Fm,{asChild:!0,...i,children:a.jsx(He.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aF(o.value)?"":void 0,...s,ref:c,onClick:ye(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:ye(s.onPointerDown,g=>{d.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:ye(s.onKeyDown,g=>{const w=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&Are.includes(g.key)&&(y(),g.preventDefault())})})})});L5.displayName=$5;var F5="SelectValue",B5=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=yl(F5,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ut(t,c.onValueNodeChange);return xn(()=>{u(d)},[u,d]),a.jsx(He.span,{...l,ref:f,style:{pointerEvents:"none"},children:aF(c.value)?a.jsx(a.Fragment,{children:o}):i})});B5.displayName=F5;var Ire="SelectIcon",z5=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(He.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});z5.displayName=Ire;var $re="SelectPortal",U5=e=>a.jsx(Id,{asChild:!0,...e});U5.displayName=$re;var jc="SelectContent",W5=p.forwardRef((e,t)=>{const r=yl(jc,e.__scopeSelect),[n,s]=p.useState();if(xn(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?pl.createPortal(a.jsx(V5,{scope:e.__scopeSelect,children:a.jsx(e0.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(H5,{...e,ref:t})});W5.displayName=jc;var ui=10,[V5,xl]=qd(jc),Lre="SelectContentImpl",H5=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w,...b}=e,x=yl(jc,r),[v,_]=p.useState(null),[j,S]=p.useState(null),k=ut(t,te=>_(te)),[C,E]=p.useState(null),[A,P]=p.useState(null),O=t0(r),[$,I]=p.useState(!1),B=p.useRef(!1);p.useEffect(()=>{if(v)return Qx(v)},[v]),Zx();const U=p.useCallback(te=>{const[Ne,...ee]=O().map(Q=>Q.ref.current),[pe]=ee.slice(-1),we=document.activeElement;for(const Q of te)if(Q===we||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Ne&&j&&(j.scrollTop=0),Q===pe&&j&&(j.scrollTop=j.scrollHeight),Q==null||Q.focus(),document.activeElement!==we))return},[O,j]),T=p.useCallback(()=>U([C,v]),[U,C,v]);p.useEffect(()=>{$&&T()},[$,T]);const{onOpenChange:N,triggerPointerDownPosRef:M}=x;p.useEffect(()=>{if(v){let te={x:0,y:0};const Ne=pe=>{var we,Q;te={x:Math.abs(Math.round(pe.pageX)-(((we=M.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Q=M.current)==null?void 0:Q.y)??0))}},ee=pe=>{te.x<=10&&te.y<=10?pe.preventDefault():v.contains(pe.target)||N(!1),document.removeEventListener("pointermove",Ne),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",ee,{capture:!0})}}},[v,N,M]),p.useEffect(()=>{const te=()=>N(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[N]);const[L,W]=lF(te=>{const Ne=O().filter(we=>!we.disabled),ee=Ne.find(we=>we.ref.current===document.activeElement),pe=cF(Ne,te,ee);pe&&setTimeout(()=>pe.ref.current.focus())}),K=p.useCallback((te,Ne,ee)=>{const pe=!B.current&&!ee;(x.value!==void 0&&x.value===Ne||pe)&&(E(te),pe&&(B.current=!0))},[x.value]),z=p.useCallback(()=>v==null?void 0:v.focus(),[v]),H=p.useCallback((te,Ne,ee)=>{const pe=!B.current&&!ee;(x.value!==void 0&&x.value===Ne||pe)&&P(te)},[x.value]),V=n==="popper"?Fj:q5,oe=V===Fj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(V5,{scope:r,content:v,viewport:j,onViewportChange:S,itemRefCallback:K,selectedItem:C,onItemLeave:z,itemTextRefCallback:H,focusSelectedItem:T,selectedItemText:A,position:n,isPositioned:$,searchRef:L,children:a.jsx(Xm,{as:Va,allowPinchZoom:!0,children:a.jsx(Gm,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ye(s,te=>{var Ne;(Ne=x.trigger)==null||Ne.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(V,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...b,...oe,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ye(b.onKeyDown,te=>{const Ne=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Ne&&te.key.length===1&&W(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let pe=O().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(te.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const we=te.target,Q=pe.indexOf(we);pe=pe.slice(Q+1)}setTimeout(()=>U(pe)),te.preventDefault()}})})})})})})});H5.displayName=Lre;var Fre="SelectItemAlignedPosition",q5=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=yl(jc,r),o=xl(jc,r),[l,c]=p.useState(null),[u,d]=p.useState(null),f=ut(t,k=>d(k)),h=t0(r),m=p.useRef(!1),y=p.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:b,focusSelectedItem:x}=o,v=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&w&&b){const k=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(i.dir!=="rtl"){const we=A.left-C.left,Q=E.left-we,Je=k.left-Q,Le=k.width+Je,et=Math.max(Le,C.width),it=window.innerWidth-ui,re=NA(Q,[ui,Math.max(ui,it-et)]);l.style.minWidth=Le+"px",l.style.left=re+"px"}else{const we=C.right-A.right,Q=window.innerWidth-E.right-we,Je=window.innerWidth-k.right-Q,Le=k.width+Je,et=Math.max(Le,C.width),it=window.innerWidth-ui,re=NA(Q,[ui,Math.max(ui,it-et)]);l.style.minWidth=Le+"px",l.style.right=re+"px"}const P=h(),O=window.innerHeight-ui*2,$=g.scrollHeight,I=window.getComputedStyle(u),B=parseInt(I.borderTopWidth,10),U=parseInt(I.paddingTop,10),T=parseInt(I.borderBottomWidth,10),N=parseInt(I.paddingBottom,10),M=B+U+$+N+T,L=Math.min(w.offsetHeight*5,M),W=window.getComputedStyle(g),K=parseInt(W.paddingTop,10),z=parseInt(W.paddingBottom,10),H=k.top+k.height/2-ui,V=O-H,oe=w.offsetHeight/2,te=w.offsetTop+oe,Ne=B+U+te,ee=M-Ne;if(Ne<=H){const we=P.length>0&&w===P[P.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-g.offsetTop-g.offsetHeight,Je=Math.max(V,oe+(we?z:0)+Q+T),Le=Ne+Je;l.style.height=Le+"px"}else{const we=P.length>0&&w===P[0].ref.current;l.style.top="0px";const Je=Math.max(H,B+g.offsetTop+(we?K:0)+oe)+ee;l.style.height=Je+"px",g.scrollTop=Ne-H+g.offsetTop}l.style.margin=`${ui}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,w,b,i.dir,n]);xn(()=>v(),[v]);const[_,j]=p.useState();xn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=p.useCallback(k=>{k&&y.current===!0&&(v(),x==null||x(),y.current=!1)},[v,x]);return a.jsx(zre,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(He.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});q5.displayName=Fre;var Bre="SelectPopperPosition",Fj=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ui,...i}=e,o=r0(r);return a.jsx(Px,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fj.displayName=Bre;var[zre,Mk]=qd(jc,{}),Bj="SelectViewport",K5=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=xl(Bj,r),o=Mk(Bj,r),l=ut(t,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(e0.Slot,{scope:r,children:a.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ye(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-ui*2,g=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(g,w);if(b<y){const x=b+m,v=Math.min(y,x),_=x-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});K5.displayName=Bj;var Y5="SelectGroup",[Ure,Wre]=qd(Y5),Vre=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ws();return a.jsx(Ure,{scope:r,id:s,children:a.jsx(He.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Vre.displayName=Y5;var G5="SelectLabel",X5=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Wre(G5,r);return a.jsx(He.div,{id:s.id,...n,ref:t})});X5.displayName=G5;var ly="SelectItem",[Hre,Z5]=qd(ly),Q5=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=yl(ly,r),c=xl(ly,r),u=l.value===n,[d,f]=p.useState(i??""),[h,m]=p.useState(!1),y=ut(t,x=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,x,n,s)}),g=Ws(),w=p.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Hre,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(x=>{f(v=>v||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(e0.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(He.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:ye(o.onFocus,()=>m(!0)),onBlur:ye(o.onBlur,()=>m(!1)),onClick:ye(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:ye(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:ye(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:ye(o.onPointerMove,x=>{var v;w.current=x.pointerType,s?(v=c.onItemLeave)==null||v.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(o.onPointerLeave,x=>{var v;x.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ye(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Ore.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});Q5.displayName=ly;var qf="SelectItemText",J5=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=yl(qf,r),l=xl(qf,r),c=Z5(qf,r),u=Rre(qf,r),[d,f]=p.useState(null),h=ut(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return xn(()=>(g(y),()=>w(y)),[g,w,y]),a.jsxs(a.Fragment,{children:[a.jsx(He.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pl.createPortal(i.children,o.valueNode):null]})});J5.displayName=qf;var eF="SelectItemIndicator",tF=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Z5(eF,r).isSelected?a.jsx(He.span,{"aria-hidden":!0,...n,ref:t}):null});tF.displayName=eF;var zj="SelectScrollUpButton",rF=p.forwardRef((e,t)=>{const r=xl(zj,e.__scopeSelect),n=Mk(zj,e.__scopeSelect),[s,i]=p.useState(!1),o=ut(t,n.onScrollButtonChange);return xn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(sF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});rF.displayName=zj;var Uj="SelectScrollDownButton",nF=p.forwardRef((e,t)=>{const r=xl(Uj,e.__scopeSelect),n=Mk(Uj,e.__scopeSelect),[s,i]=p.useState(!1),o=ut(t,n.onScrollButtonChange);return xn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(sF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nF.displayName=Uj;var sF=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=xl("SelectScrollButton",r),o=p.useRef(null),l=t0(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),xn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(He.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ye(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ye(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ye(s.onPointerLeave,()=>{c()})})}),qre="SelectSeparator",iF=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(He.div,{"aria-hidden":!0,...n,ref:t})});iF.displayName=qre;var Wj="SelectArrow",Kre=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=r0(r),i=yl(Wj,r),o=xl(Wj,r);return i.open&&o.position==="popper"?a.jsx(Ax,{...s,...n,ref:t}):null});Kre.displayName=Wj;function aF(e){return e===""||e===void 0}var oF=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=p.useRef(null),i=ut(t,s),o=Tk(r);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),a.jsx(Rm,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});oF.displayName="BubbleSelect";function lF(e){const t=yn(e),r=p.useRef(""),n=p.useRef(0),s=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function cF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Yre(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Yre(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Gre=I5,uF=L5,Xre=B5,Zre=z5,Qre=U5,dF=W5,Jre=K5,fF=X5,hF=Q5,ene=J5,tne=tF,mF=rF,pF=nF,gF=iF;const Se=Gre,ke=Xre,_e=p.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(uF,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Zre,{asChild:!0,children:a.jsx(Av,{className:"h-4 w-4 opacity-50"})})]}));_e.displayName=uF.displayName;const vF=p.forwardRef(({className:e,...t},r)=>a.jsx(mF,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Oq,{className:"h-4 w-4"})}));vF.displayName=mF.displayName;const yF=p.forwardRef(({className:e,...t},r)=>a.jsx(pF,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Av,{className:"h-4 w-4"})}));yF.displayName=pF.displayName;const je=p.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(Qre,{children:a.jsxs(dF,{ref:s,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(vF,{}),a.jsx(Jre,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(yF,{})]})}));je.displayName=dF.displayName;const rne=p.forwardRef(({className:e,...t},r)=>a.jsx(fF,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rne.displayName=fF.displayName;const q=p.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(hF,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tne,{children:a.jsx(Wh,{className:"h-4 w-4"})})}),a.jsx(ene,{children:t})]}));q.displayName=hF.displayName;const nne=p.forwardRef(({className:e,...t},r)=>a.jsx(gF,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));nne.displayName=gF.displayName;const vd=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",e),...t})}));vd.displayName="Table";const yd=p.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:be("[&_tr]:border-b",e),...t}));yd.displayName="TableHeader";const xd=p.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",e),...t}));xd.displayName="TableBody";const sne=p.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));sne.displayName="TableFooter";const _i=p.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));_i.displayName="TableRow";const pt=p.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));pt.displayName="TableHead";const gt=p.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));gt.displayName="TableCell";const ine=p.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",e),...t}));ine.displayName="TableCaption";var Dk="Dialog",[xF,bF]=Mi(Dk),[ane,Di]=xF(Dk),wF=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=Ni({prop:n,defaultProp:s,onChange:i});return a.jsx(ane,{scope:t,triggerRef:l,contentRef:c,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};wF.displayName=Dk;var _F="DialogTrigger",jF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(_F,r),i=ut(t,s.triggerRef);return a.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$k(s.open),...n,ref:i,onClick:ye(e.onClick,s.onOpenToggle)})});jF.displayName=_F;var Rk="DialogPortal",[one,SF]=xF(Rk,{forceMount:void 0}),kF=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Di(Rk,t);return a.jsx(one,{scope:t,forceMount:r,children:p.Children.map(n,o=>a.jsx(rs,{present:r||i.open,children:a.jsx(Id,{asChild:!0,container:s,children:o})}))})};kF.displayName=Rk;var cy="DialogOverlay",NF=p.forwardRef((e,t)=>{const r=SF(cy,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Di(cy,e.__scopeDialog);return i.modal?a.jsx(rs,{present:n||i.open,children:a.jsx(lne,{...s,ref:t})}):null});NF.displayName=cy;var lne=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(cy,r);return a.jsx(Xm,{as:Va,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(He.div,{"data-state":$k(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Sc="DialogContent",CF=p.forwardRef((e,t)=>{const r=SF(Sc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Di(Sc,e.__scopeDialog);return a.jsx(rs,{present:n||i.open,children:i.modal?a.jsx(cne,{...s,ref:t}):a.jsx(une,{...s,ref:t})})});CF.displayName=Sc;var cne=p.forwardRef((e,t)=>{const r=Di(Sc,e.__scopeDialog),n=p.useRef(null),s=ut(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return Qx(i)},[]),a.jsx(EF,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault())})}),une=p.forwardRef((e,t)=>{const r=Di(Sc,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return a.jsx(EF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),EF=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Di(Sc,r),c=p.useRef(null),u=ut(t,c);return Zx(),a.jsxs(a.Fragment,{children:[a.jsx(Gm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Rc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$k(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(fne,{titleId:l.titleId}),a.jsx(mne,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ik="DialogTitle",PF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(Ik,r);return a.jsx(He.h2,{id:s.titleId,...n,ref:t})});PF.displayName=Ik;var AF="DialogDescription",OF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(AF,r);return a.jsx(He.p,{id:s.descriptionId,...n,ref:t})});OF.displayName=AF;var TF="DialogClose",MF=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Di(TF,r);return a.jsx(He.button,{type:"button",...n,ref:t,onClick:ye(e.onClick,()=>s.onOpenChange(!1))})});MF.displayName=TF;function $k(e){return e?"open":"closed"}var DF="DialogTitleWarning",[dne,RF]=UH(DF,{contentName:Sc,titleName:Ik,docsSlug:"dialog"}),fne=({titleId:e})=>{const t=RF(DF),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},hne="DialogDescriptionWarning",mne=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RF(hne).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},IF=wF,$F=jF,LF=kF,Lk=NF,Fk=CF,Bk=PF,zk=OF,Uk=MF;const jr=IF,nm=$F,pne=LF,FF=p.forwardRef(({className:e,...t},r)=>a.jsx(Lk,{ref:r,className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));FF.displayName=Lk.displayName;const fr=p.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(pne,{children:[a.jsx(FF,{}),a.jsxs(Fk,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Uk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(ra,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fr.displayName=Fk.displayName;const hr=({className:e,...t})=>a.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hr.displayName="DialogHeader";const ol=({className:e,...t})=>a.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ol.displayName="DialogFooter";const mr=p.forwardRef(({className:e,...t},r)=>a.jsx(Bk,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));mr.displayName=Bk.displayName;const pr=p.forwardRef(({className:e,...t},r)=>a.jsx(zk,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));pr.displayName=zk.displayName;var BF="AlertDialog",[gne,OCe]=Mi(BF,[bF]),to=bF(),zF=e=>{const{__scopeAlertDialog:t,...r}=e,n=to(t);return a.jsx(IF,{...n,...r,modal:!0})};zF.displayName=BF;var vne="AlertDialogTrigger",yne=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return a.jsx($F,{...s,...n,ref:t})});yne.displayName=vne;var xne="AlertDialogPortal",UF=e=>{const{__scopeAlertDialog:t,...r}=e,n=to(t);return a.jsx(LF,{...n,...r})};UF.displayName=xne;var bne="AlertDialogOverlay",WF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return a.jsx(Lk,{...s,...n,ref:t})});WF.displayName=bne;var Bu="AlertDialogContent",[wne,_ne]=gne(Bu),VF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=to(r),o=p.useRef(null),l=ut(t,o),c=p.useRef(null);return a.jsx(dne,{contentName:Bu,titleName:HF,docsSlug:"alert-dialog",children:a.jsx(wne,{scope:r,cancelRef:c,children:a.jsxs(Fk,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ye(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(YS,{children:n}),a.jsx(Sne,{contentRef:o})]})})})});VF.displayName=Bu;var HF="AlertDialogTitle",qF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return a.jsx(Bk,{...s,...n,ref:t})});qF.displayName=HF;var KF="AlertDialogDescription",YF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return a.jsx(zk,{...s,...n,ref:t})});YF.displayName=KF;var jne="AlertDialogAction",GF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return a.jsx(Uk,{...s,...n,ref:t})});GF.displayName=jne;var XF="AlertDialogCancel",ZF=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=_ne(XF,r),i=to(r),o=ut(t,s);return a.jsx(Uk,{...i,...n,ref:o})});ZF.displayName=XF;var Sne=({contentRef:e})=>{const t=`\`${Bu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bu}\` by passing a \`${KF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kne=zF,Nne=UF,QF=WF,JF=VF,e3=GF,t3=ZF,r3=qF,n3=YF;const Cne=kne,Ene=Nne,s3=p.forwardRef(({className:e,...t},r)=>a.jsx(QF,{className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));s3.displayName=QF.displayName;const i3=p.forwardRef(({className:e,...t},r)=>a.jsxs(Ene,{children:[a.jsx(s3,{}),a.jsx(JF,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));i3.displayName=JF.displayName;const a3=({className:e,...t})=>a.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});a3.displayName="AlertDialogHeader";const o3=({className:e,...t})=>a.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});o3.displayName="AlertDialogFooter";const l3=p.forwardRef(({className:e,...t},r)=>a.jsx(r3,{ref:r,className:be("text-lg font-semibold",e),...t}));l3.displayName=r3.displayName;const c3=p.forwardRef(({className:e,...t},r)=>a.jsx(n3,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));c3.displayName=n3.displayName;const u3=p.forwardRef(({className:e,...t},r)=>a.jsx(e3,{ref:r,className:be(Qh(),e),...t}));u3.displayName=e3.displayName;const d3=p.forwardRef(({className:e,...t},r)=>a.jsx(t3,{ref:r,className:be(Qh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));d3.displayName=t3.displayName;const Wk=p.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Wk.displayName="Textarea";var Pne="Separator",$A="horizontal",Ane=["horizontal","vertical"],f3=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=$A,...s}=e,i=One(n)?n:$A,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(He.div,{"data-orientation":i,...l,...s,ref:t})});f3.displayName=Pne;function One(e){return Ane.includes(e)}var h3=f3;const qi=p.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(h3,{ref:s,decorative:r,orientation:t,className:be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));qi.displayName=h3.displayName;const Lc=()=>{const{enums:e,loading:t,error:r,refreshEnums:n,addEnumValue:s}=Vd();return{enums:e,loading:t,error:r,addEnumValue:s,refreshEnums:n}};var Vk="Popover",[m3,TCe]=Mi(Vk,[gl]),Qm=gl(),[Tne,bl]=m3(Vk),p3=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Qm(t),c=p.useRef(null),[u,d]=p.useState(!1),[f=!1,h]=Ni({prop:n,defaultProp:s,onChange:i});return a.jsx(Ex,{...l,children:a.jsx(Tne,{scope:t,contentId:Ws(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:r})})};p3.displayName=Vk;var g3="PopoverAnchor",Mne=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bl(g3,r),i=Qm(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Fm,{...i,...n,ref:t})});Mne.displayName=g3;var v3="PopoverTrigger",y3=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bl(v3,r),i=Qm(r),o=ut(t,s.triggerRef),l=a.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":j3(s.open),...n,ref:o,onClick:ye(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Fm,{asChild:!0,...i,children:l})});y3.displayName=v3;var Hk="PopoverPortal",[Dne,Rne]=m3(Hk,{forceMount:void 0}),x3=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=bl(Hk,t);return a.jsx(Dne,{scope:t,forceMount:r,children:a.jsx(rs,{present:r||i.open,children:a.jsx(Id,{asChild:!0,container:s,children:n})})})};x3.displayName=Hk;var bd="PopoverContent",b3=p.forwardRef((e,t)=>{const r=Rne(bd,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=bl(bd,e.__scopePopover);return a.jsx(rs,{present:n||i.open,children:i.modal?a.jsx(Ine,{...s,ref:t}):a.jsx($ne,{...s,ref:t})})});b3.displayName=bd;var Ine=p.forwardRef((e,t)=>{const r=bl(bd,e.__scopePopover),n=p.useRef(null),s=ut(t,n),i=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return Qx(o)},[]),a.jsx(Xm,{as:Va,allowPinchZoom:!0,children:a.jsx(w3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ye(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),$ne=p.forwardRef((e,t)=>{const r=bl(bd,e.__scopePopover),n=p.useRef(!1),s=p.useRef(!1);return a.jsx(w3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),w3=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=bl(bd,r),m=Qm(r);return Zx(),a.jsx(Gm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Px,{"data-state":j3(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_3="PopoverClose",Lne=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bl(_3,r);return a.jsx(He.button,{type:"button",...n,ref:t,onClick:ye(e.onClick,()=>s.onOpenChange(!1))})});Lne.displayName=_3;var Fne="PopoverArrow",Bne=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Qm(r);return a.jsx(Ax,{...s,...n,ref:t})});Bne.displayName=Fne;function j3(e){return e?"open":"closed"}var zne=p3,Une=y3,Wne=x3,S3=b3;const qk=zne,Kk=Une,n0=p.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(Wne,{children:a.jsx(S3,{ref:s,align:t,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));n0.displayName=S3.displayName;var Ye=function(){return Ye=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ye.apply(this,arguments)};function Vne(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function k3(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Jm(e){return e.mode==="multiple"}function ep(e){return e.mode==="range"}function s0(e){return e.mode==="single"}var Hne={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function qne(e,t){return Jn(e,"LLLL y",t)}function Kne(e,t){return Jn(e,"d",t)}function Yne(e,t){return Jn(e,"LLLL",t)}function Gne(e){return"".concat(e)}function Xne(e,t){return Jn(e,"cccccc",t)}function Zne(e,t){return Jn(e,"yyyy",t)}var Qne=Object.freeze({__proto__:null,formatCaption:qne,formatDay:Kne,formatMonthCaption:Yne,formatWeekNumber:Gne,formatWeekdayName:Xne,formatYearCaption:Zne}),Jne=function(e,t,r){return Jn(e,"do MMMM (EEEE)",r)},ese=function(){return"Month: "},tse=function(){return"Go to next month"},rse=function(){return"Go to previous month"},nse=function(e,t){return Jn(e,"cccc",t)},sse=function(e){return"Week n. ".concat(e)},ise=function(){return"Year: "},ase=Object.freeze({__proto__:null,labelDay:Jne,labelMonthDropdown:ese,labelNext:tse,labelPrevious:rse,labelWeekNumber:sse,labelWeekday:nse,labelYearDropdown:ise});function ose(){var e="buttons",t=Hne,r=XL,n={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Qne,labels:ase,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function lse(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Qn(n):t&&(i=new Date(t,0,1)),s?o=jk(s):r&&(o=new Date(r,11,31)),{fromDate:i?hd(i):void 0,toDate:o?hd(o):void 0}}var N3=p.createContext(void 0);function cse(e){var t,r=e.initialProps,n=ose(),s=lse(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(s0(r)||Jm(r)||ep(r))&&(c=r.onSelect);var u=Ye(Ye(Ye({},n),r),{captionLayout:l,classNames:Ye(Ye({},n.classNames),r.classNames),components:Ye({},r.components),formatters:Ye(Ye({},n.formatters),r.formatters),fromDate:i,labels:Ye(Ye({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ye(Ye({},n.modifiers),r.modifiers),modifiersClassNames:Ye(Ye({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ye(Ye({},n.styles),r.styles),toDate:o});return a.jsx(N3.Provider,{value:u,children:e.children})}function Wt(){var e=p.useContext(N3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function C3(e){var t=Wt(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function use(e){return a.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function E3(e){var t,r,n=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Wt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:use;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function dse(e){var t,r=Wt(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(Mee(n,s))for(var h=Qn(n),m=n.getMonth();m<=s.getMonth();m++)f.push(iw(h,m));else for(var h=Qn(new Date),m=0;m<=11;m++)f.push(iw(h,m));var y=function(w){var b=Number(w.target.value),x=iw(Qn(e.displayMonth),b);e.onChange(x)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:E3;return a.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(w){return a.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function fse(e){var t,r=e.displayMonth,n=Wt(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var m=s.getFullYear(),y=i.getFullYear(),g=m;g<=y;g++)h.push(oA(YL(new Date),g));var w=function(x){var v=oA(Qn(r),Number(x.target.value));e.onChange(v)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:E3;return a.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(x){return a.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function hse(e,t){var r=p.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function mse(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Jh(i,s)<0){var u=-1*(c-1);s=Ai(i,u)}return o&&Jh(s,o)<0&&(s=o),Qn(s)}function pse(){var e=Wt(),t=mse(e),r=hse(t,e.month),n=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Qn(o);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function gse(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Qn(e),i=Qn(Ai(s,n)),o=Jh(i,s),l=[],c=0;c<o;c++){var u=Ai(s,c);l.push(u)}return r&&(l=l.reverse()),l}function vse(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Qn(e);if(!r)return Ai(l,o);var c=Jh(r,e);if(!(c<i))return Ai(l,o)}}function yse(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Qn(e);if(!r)return Ai(l,-o);var c=Jh(l,r);if(!(c<=0))return Ai(l,-o)}}var P3=p.createContext(void 0);function xse(e){var t=Wt(),r=pse(),n=r[0],s=r[1],i=gse(n,t),o=vse(n,t),l=yse(n,t),c=function(f){return i.some(function(h){return kk(f,h)})},u=function(f,h){c(f)||(h&&t5(f,h)?s(Ai(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(P3.Provider,{value:d,children:e.children})}function tp(){var e=p.useContext(P3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function LA(e){var t,r=Wt(),n=r.classNames,s=r.styles,i=r.components,o=tp().goToMonth,l=function(d){o(Ai(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:C3,u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(dse,{onChange:l,displayMonth:e.displayMonth}),a.jsx(fse,{onChange:l,displayMonth:e.displayMonth})]})}function bse(e){return a.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wse(e){return a.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var uy=p.forwardRef(function(e,t){var r=Wt(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Ye(Ye({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",Ye({},e,{ref:t,type:"button",className:o,style:l}))});function _se(e){var t,r,n=Wt(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),w=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:wse,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:bse;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(uy,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(w,{className:o.nav_icon,style:l.nav_icon}):a.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(uy,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(b,{className:o.nav_icon,style:l.nav_icon}):a.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function FA(e){var t=Wt().numberOfMonths,r=tp(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(y){return kk(e.displayMonth,y)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){s&&i(s)};return a.jsx(_se,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:m})}function jse(e){var t,r=Wt(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:C3,u;return s?u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=a.jsx(LA,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(LA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(FA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(FA,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:u})}function Sse(e){var t=Wt(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function kse(e,t,r){for(var n=r?bc(new Date):sa(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=kn(n,i);s.push(o)}return s}function Nse(){var e=Wt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=kse(s,i,o);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function Cse(){var e,t=Wt(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Nse;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function Ese(e){var t=Wt(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var Yk=p.createContext(void 0);function Pse(e){if(!Jm(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(Yk.Provider,{value:t,children:e.children})}return a.jsx(Ase,{initialProps:e.initialProps,children:e.children})}function Ase(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var y=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!y){var g=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var w=n?k3([],n):[];if(d.selected){var b=w.findIndex(function(x){return mn(u,x)});w.splice(b,1)}else w.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,w,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return mn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return a.jsx(Yk.Provider,{value:c,children:r})}function Gk(){var e=p.useContext(Yk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Ose(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?mn(s,e)&&mn(n,e)?void 0:mn(s,e)?{from:s,to:void 0}:mn(n,e)?void 0:Cj(n,e)?{from:e,to:s}:{from:n,to:e}:s?Cj(e,s)?{from:s,to:e}:{from:e,to:s}:n?t5(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Xk=p.createContext(void 0);function Tse(e){if(!ep(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(Xk.Provider,{value:t,children:e.children})}return a.jsx(Mse,{initialProps:e.initialProps,children:e.children})}function Mse(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,o=s.to,l=t.min,c=t.max,u=function(m,y,g){var w,b;(w=t.onDayClick)===null||w===void 0||w.call(t,m,y,g);var x=Ose(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,y,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],mn(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Kg(i,l-1),before:kn(i,l-1)}),i&&o&&d.disabled.push({after:i,before:kn(i,l-1)}),!i&&o&&d.disabled.push({after:Kg(o,l-1),before:kn(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:kn(i,-c+1)}),d.disabled.push({after:kn(i,c-1)})),i&&o){var f=Ki(o,i)+1,h=c-f;d.disabled.push({before:Kg(i,h)}),d.disabled.push({after:kn(o,h)})}!i&&o&&(d.disabled.push({before:kn(o,-c+1)}),d.disabled.push({after:kn(o,c-1)}))}return a.jsx(Xk.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function Zk(){var e=p.useContext(Xk);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Qg(e){return Array.isArray(e)?k3([],e):e!==void 0?[e]:[]}function Dse(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Qg(s)}),t}var Oi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Oi||(Oi={}));var Rse=Oi.Selected,pa=Oi.Disabled,Ise=Oi.Hidden,$se=Oi.Today,vw=Oi.RangeEnd,yw=Oi.RangeMiddle,xw=Oi.RangeStart,Lse=Oi.Outside;function Fse(e,t,r){var n,s=(n={},n[Rse]=Qg(e.selected),n[pa]=Qg(e.disabled),n[Ise]=Qg(e.hidden),n[$se]=[e.today],n[vw]=[],n[yw]=[],n[xw]=[],n[Lse]=[],n);return e.fromDate&&s[pa].push({before:e.fromDate}),e.toDate&&s[pa].push({after:e.toDate}),Jm(e)?s[pa]=s[pa].concat(t.modifiers[pa]):ep(e)&&(s[pa]=s[pa].concat(r.modifiers[pa]),s[xw]=r.modifiers[xw],s[yw]=r.modifiers[yw],s[vw]=r.modifiers[vw]),s}var A3=p.createContext(void 0);function Bse(e){var t=Wt(),r=Gk(),n=Zk(),s=Fse(t,r,n),i=Dse(t.modifiers),o=Ye(Ye({},s),i);return a.jsx(A3.Provider,{value:o,children:e.children})}function O3(){var e=p.useContext(A3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function zse(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Use(e){return!!(e&&typeof e=="object"&&"from"in e)}function Wse(e){return!!(e&&typeof e=="object"&&"after"in e)}function Vse(e){return!!(e&&typeof e=="object"&&"before"in e)}function Hse(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function qse(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=Ki(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=Ki(e,n)>=0&&Ki(s,e)>=0;return o}return s?mn(s,e):n?mn(n,e):!1}function Kse(e){return _k(e)}function Yse(e){return Array.isArray(e)&&e.every(_k)}function Gse(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Kse(r))return mn(e,r);if(Yse(r))return r.includes(e);if(Use(r))return qse(e,r);if(Hse(r))return r.dayOfWeek.includes(e.getDay());if(zse(r)){var n=Ki(r.before,e),s=Ki(r.after,e),i=n>0,o=s<0,l=Cj(r.before,r.after);return l?o&&i:i||o}return Wse(r)?Ki(e,r.after)>0:Vse(r)?Ki(r.before,e)>0:typeof r=="function"?r(e):!1})}function Qk(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Gse(e,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!kk(e,r)&&(s.outside=!0),s}function Xse(e,t){for(var r=Qn(e[0]),n=jk(e[e.length-1]),s,i,o=r;o<=n;){var l=Qk(o,t),c=!l.disabled&&!l.hidden;if(!c){o=kn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=kn(o,1)}return i||s}var Zse=365;function T3(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:kn,week:Nj,month:Ai,year:PJ,startOfWeek:function(w){return s.ISOWeek?bc(w):sa(w,{locale:f,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?GL(w):Sk(w,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=AJ([u,m]):n==="after"&&d&&(m=OJ([d,m]));var y=!0;if(i){var g=Qk(m,i);y=!g.disabled&&!g.hidden}return y?m:l.count>Zse?l.lastFocused:T3(m,{moveBy:r,direction:n,context:s,modifiers:i,retry:Ye(Ye({},l),{count:l.count+1})})}var M3=p.createContext(void 0);function Qse(e){var t=tp(),r=O3(),n=p.useState(),s=n[0],i=n[1],o=p.useState(),l=o[0],c=o[1],u=Xse(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),i(void 0)},h=function(w){i(w)},m=Wt(),y=function(w,b){if(s){var x=T3(s,{moveBy:w,direction:b,context:m,modifiers:r});mn(s,x)||(t.goToDate(x,s),h(x))}},g={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(M3.Provider,{value:g,children:e.children})}function Jk(){var e=p.useContext(M3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Jse(e,t){var r=O3(),n=Qk(e,r,t);return n}var eN=p.createContext(void 0);function eie(e){if(!s0(e.initialProps)){var t={selected:void 0};return a.jsx(eN.Provider,{value:t,children:e.children})}return a.jsx(tie,{initialProps:e.initialProps,children:e.children})}function tie(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:n};return a.jsx(eN.Provider,{value:s,children:r})}function D3(){var e=p.useContext(eN);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function rie(e,t){var r=Wt(),n=D3(),s=Gk(),i=Zk(),o=Jk(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,y=o.focusMonthAfter,g=o.focusYearBefore,w=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,v=function(T){var N,M,L,W;s0(r)?(N=n.onDayClick)===null||N===void 0||N.call(n,e,t,T):Jm(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,t,T):ep(r)?(L=i.onDayClick)===null||L===void 0||L.call(i,e,t,T):(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,T)},_=function(T){var N;h(e),(N=r.onDayFocus)===null||N===void 0||N.call(r,e,t,T)},j=function(T){var N;f(),(N=r.onDayBlur)===null||N===void 0||N.call(r,e,t,T)},S=function(T){var N;(N=r.onDayMouseEnter)===null||N===void 0||N.call(r,e,t,T)},k=function(T){var N;(N=r.onDayMouseLeave)===null||N===void 0||N.call(r,e,t,T)},C=function(T){var N;(N=r.onDayPointerEnter)===null||N===void 0||N.call(r,e,t,T)},E=function(T){var N;(N=r.onDayPointerLeave)===null||N===void 0||N.call(r,e,t,T)},A=function(T){var N;(N=r.onDayTouchCancel)===null||N===void 0||N.call(r,e,t,T)},P=function(T){var N;(N=r.onDayTouchEnd)===null||N===void 0||N.call(r,e,t,T)},O=function(T){var N;(N=r.onDayTouchMove)===null||N===void 0||N.call(r,e,t,T)},$=function(T){var N;(N=r.onDayTouchStart)===null||N===void 0||N.call(r,e,t,T)},I=function(T){var N;(N=r.onDayKeyUp)===null||N===void 0||N.call(r,e,t,T)},B=function(T){var N;switch(T.key){case"ArrowLeft":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":T.preventDefault(),T.stopPropagation(),u();break;case"ArrowUp":T.preventDefault(),T.stopPropagation(),d();break;case"PageUp":T.preventDefault(),T.stopPropagation(),T.shiftKey?g():m();break;case"PageDown":T.preventDefault(),T.stopPropagation(),T.shiftKey?w():y();break;case"Home":T.preventDefault(),T.stopPropagation(),b();break;case"End":T.preventDefault(),T.stopPropagation(),x();break}(N=r.onDayKeyDown)===null||N===void 0||N.call(r,e,t,T)},U={onClick:v,onFocus:_,onBlur:j,onKeyDown:B,onKeyUp:I,onMouseEnter:S,onMouseLeave:k,onPointerEnter:C,onPointerLeave:E,onTouchCancel:A,onTouchEnd:P,onTouchMove:O,onTouchStart:$};return U}function nie(){var e=Wt(),t=D3(),r=Gk(),n=Zk(),s=s0(e)?t.selected:Jm(e)?r.selected:ep(e)?n.selected:void 0;return s}function sie(e){return Object.values(Oi).includes(e)}function iie(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(sie(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function aie(e,t){var r=Ye({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Ye(Ye({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function oie(e,t,r){var n,s,i,o=Wt(),l=Jk(),c=Jse(e,t),u=rie(e,c),d=nie(),f=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var S;c.outside||l.focusedDay&&f&&mn(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var h=iie(o,c).join(" "),m=aie(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Ese,w=a.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:w,role:"gridcell"},x=l.focusTarget&&mn(l.focusTarget,e)&&!c.outside,v=l.focusedDay&&mn(l.focusedDay,e),_=Ye(Ye(Ye({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=v||x?0:-1,n)),u),j={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return j}function lie(e){var t=p.useRef(null),r=oie(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(uy,Ye({name:"day",ref:t},r.buttonProps)):a.jsx("div",Ye({},r.divProps))}function cie(e){var t=e.number,r=e.dates,n=Wt(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){s(t,r,m)};return a.jsx(uy,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function uie(e){var t,r,n=Wt(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:lie,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:cie,d;return o&&(d=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(f){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:f})},Aee(f))})]})}function BA(e,t,r){for(var n=r!=null&&r.ISOWeek?GL(t):Sk(t,r),s=r!=null&&r.ISOWeek?bc(e):sa(e,r),i=Ki(n,s),o=[],l=0;l<=i;l++)o.push(kn(s,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?ZL(d):JL(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function die(e,t){var r=BA(Qn(e),jk(e),t);if(t!=null&&t.useFixedWeeks){var n=Tee(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=Nj(i,6-n),l=BA(Nj(i,1),o,t);r.push.apply(r,l)}}return r}function fie(e){var t,r,n,s=Wt(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,m=s.ISOWeek,y=die(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Cse,w=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:uie,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Sse;return a.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(g,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(x){return a.jsx(w,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),a.jsx(b,{displayMonth:e.displayMonth})]})}function hie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var mie=hie()?p.useLayoutEffect:p.useEffect,bw=!1,pie=0;function zA(){return"react-day-picker-".concat(++pie)}function gie(e){var t,r=e??(bw?zA():null),n=p.useState(r),s=n[0],i=n[1];return mie(function(){s===null&&i(zA())},[]),p.useEffect(function(){bw===!1&&(bw=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function vie(e){var t,r,n=Wt(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,c=tp().displayMonths,u=gie(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,y=e.displayIndex===c.length-1,g=!m&&!y;s==="rtl"&&(t=[m,y],y=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Ye(Ye({},h),o.caption_start)),y&&(f.push(i.caption_end),h=Ye(Ye({},h),o.caption_end)),g&&(f.push(i.caption_between),h=Ye(Ye({},h),o.caption_between));var w=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:jse;return a.jsxs("div",{className:f.join(" "),style:h,children:[a.jsx(w,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(fie,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function yie(e){var t=Wt(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function xie(e){var t,r,n=e.initialProps,s=Wt(),i=Jk(),o=tp(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Ye(Ye({},s.styles.root),s.style),h=Object.keys(n).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var w;return Ye(Ye({},y),(w={},w[g]=n[g],w))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:yie;return a.jsx("div",Ye({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:a.jsx(m,{children:o.displayMonths.map(function(y,g){return a.jsx(vie,{displayIndex:g,displayMonth:y},g)})})}))}function bie(e){var t=e.children,r=Vne(e,["children"]);return a.jsx(cse,{initialProps:r,children:a.jsx(xse,{children:a.jsx(eie,{initialProps:r,children:a.jsx(Pse,{initialProps:r,children:a.jsx(Tse,{initialProps:r,children:a.jsx(Bse,{children:a.jsx(Qse,{children:t})})})})})})})}function wie(e){return a.jsx(bie,Ye({},e,{children:a.jsx(xie,{initialProps:e})}))}function tN({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(wie,{showOutsideDays:r,className:be("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:be(Qh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:be(Qh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(K4,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(jx,{className:"h-4 w-4"})},...n})}tN.displayName="Calendar";const R3=()=>{const[e,t]=p.useState([]),[r,n]=p.useState([]),[s,i]=p.useState(!0),[o,l]=p.useState(null),{toast:c}=Er(),u=async()=>{try{i(!0),l(null);const{data:d,error:f}=await de.from("property_definitions").select("*").eq("active",!0).order("sort_order",{ascending:!0}).order("name",{ascending:!0});if(f)throw f;t(d||[]);try{const{data:h,error:m}=await de.rpc("get_property_definitions_with_schema");if(m){console.warn("Enhanced property fetch failed, using basic properties:",m);const y=(d||[]).map(g=>({...g,column_exists:!1,column_type:"",is_nullable:"YES"}));n(y)}else n(h||[])}catch{console.warn("RPC function not available, using basic properties");const m=(d||[]).map(y=>({...y,column_exists:!1,column_type:"",is_nullable:"YES"}));n(m)}}catch(d){const f=d instanceof Error?d.message:"Failed to fetch property definitions";l(f),c({title:"Error",description:f,variant:"destructive"})}finally{i(!1)}};return p.useEffect(()=>{u()},[]),{properties:e,propertiesWithSchema:r,isLoading:s,error:o,refetch:u}},_ie=()=>{const{properties:e,isLoading:t,error:r,refetch:n}=R3(),{enums:s,loading:i}=Lc(),o=u=>{const d=u.key;return s&&s[d]&&Array.isArray(s[d])?s[d].map(f=>({value:f,label:f})):u.options&&Array.isArray(u.options)?u.options.map(f=>({value:typeof f=="string"?f:f.value,label:typeof f=="string"?f:f.label||f.value})):u.options&&typeof u.options=="object"&&u.options.options?u.options.options.map(f=>({value:typeof f=="string"?f:f.value,label:typeof f=="string"?f:f.label||f.value})):[]};return{formSchema:p.useMemo(()=>{if(!e.length)return{fields:[],validationSchema:oy({}),defaultValues:{}};const u=[],d={},f={};return e.forEach(h=>{const m={key:h.key,name:h.name,displayName:h.display_name,type:h.property_type==="enum"?"select":h.property_type,required:h.required,defaultValue:h.default_value,description:h.description||void 0,category:h.category||void 0,placeholder:`Enter ${h.display_name.toLowerCase()}`};(h.property_type==="select"||h.property_type==="multiselect"||h.property_type==="enum")&&(m.options=o(h)),u.push(m);let y;switch(h.property_type){case"number":y=S5({required_error:`${h.display_name} is required`,invalid_type_error:`${h.display_name} must be a number`}),h.required||(y=y.optional().nullable());break;case"boolean":y=Dte({required_error:`${h.display_name} is required`}),h.required||(y=y.optional().nullable());break;case"date":y=Ot({required_error:`${h.display_name} is required`}).datetime({message:`${h.display_name} must be a valid date`}),h.required||(y=y.optional().nullable());break;case"select":case"enum":if(m.options&&m.options.length>0){const g=m.options.map(w=>w.value);y=kA(g,{required_error:`${h.display_name} is required`,invalid_type_error:`${h.display_name} must be one of: ${g.join(", ")}`})}else y=Ot({required_error:`${h.display_name} is required`});h.required||(y=y.optional().nullable());break;case"multiselect":if(m.options&&m.options.length>0){const g=m.options.map(w=>w.value);y=SA(kA(g))}else y=SA(Ot());h.required||(y=y.optional().nullable());break;case"text":default:y=Ot({required_error:`${h.display_name} is required`}),h.required?y=y.min(1,`${h.display_name} is required`):y=y.optional().nullable();break}if(d[h.key]=y,h.default_value!==null)switch(h.property_type){case"number":f[h.key]=Number(h.default_value);break;case"boolean":f[h.key]=h.default_value==="true";break;case"multiselect":try{f[h.key]=JSON.parse(h.default_value)}catch{f[h.key]=[]}break;default:f[h.key]=h.default_value}else switch(h.property_type){case"number":f[h.key]=h.required?0:null;break;case"boolean":f[h.key]=h.required?!1:null;break;case"multiselect":f[h.key]=h.required?[]:null;break;default:f[h.key]=h.required?"":null}}),{fields:u.sort((h,m)=>{const y=h.category||"Additional",g=m.category||"Additional";return y!==g?y.localeCompare(g):h.displayName.localeCompare(m.displayName)}),validationSchema:oy(d),defaultValues:f}},[e,s]),isLoading:t||i,error:r,refetch:n}};var rN="Switch",[jie,MCe]=Mi(rN),[Sie,kie]=jie(rN),I3=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),y=ut(t,v=>m(v)),g=p.useRef(!1),w=h?d||!!h.closest("form"):!0,[b=!1,x]=Ni({prop:s,defaultProp:i,onChange:u});return a.jsxs(Sie,{scope:r,checked:b,disabled:l,children:[a.jsx(He.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":F3(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:ye(e.onClick,v=>{x(_=>!_),w&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),w&&a.jsx(Nie,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});I3.displayName=rN;var $3="SwitchThumb",L3=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=kie($3,r);return a.jsx(He.span,{"data-state":F3(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});L3.displayName=$3;var Nie=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=p.useRef(null),o=Tk(r),l=ok(t);return p.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function F3(e){return e?"checked":"unchecked"}var B3=I3,Cie=L3;const nN=p.forwardRef(({className:e,...t},r)=>a.jsx(B3,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(Cie,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nN.displayName=B3.displayName;const Eie=({field:e,control:t,error:r,className:n=""})=>{const{setValue:s}=Gx();p.useEffect(()=>()=>{},[t,e.key]),p.useEffect(()=>{const o=`form_field_${e.key}`,l=localStorage.getItem(o);if(l&&l!=="undefined")try{s(e.key,JSON.parse(l))}catch{}},[s,e.key]);const i=()=>{switch(e.type){case"text":return a.jsx(nr,{name:e.key,control:t,render:({field:o})=>a.jsx(qe,{...o,value:o.value||"",placeholder:e.placeholder,className:be(r&&"border-red-500")})});case"number":return a.jsx(nr,{name:e.key,control:t,render:({field:o})=>a.jsx(qe,{...o,type:"number",value:o.value||"",placeholder:e.placeholder,className:be(r&&"border-red-500"),onChange:l=>{const c=l.target.value;o.onChange(c===""?null:Number(c))}})});case"boolean":return a.jsx(nr,{name:e.key,control:t,render:({field:o})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nN,{checked:o.value||!1,onCheckedChange:o.onChange,className:be(r&&"border-red-500")}),a.jsx(ne,{htmlFor:e.key,className:"text-sm font-medium",children:o.value?"Yes":"No"})]})});case"date":return a.jsx(nr,{name:e.key,control:t,render:({field:o})=>a.jsxs(qk,{children:[a.jsx(Kk,{asChild:!0,children:a.jsxs(G,{variant:"outline",className:be("w-full justify-start text-left font-normal",!o.value&&"text-muted-foreground",r&&"border-red-500"),children:[a.jsx(_x,{className:"mr-2 h-4 w-4"}),o.value?Jn(new Date(o.value),"PPP"):a.jsx("span",{children:"Pick a date"})]})}),a.jsx(n0,{className:"w-auto p-0",children:a.jsx(tN,{mode:"single",selected:o.value?new Date(o.value):void 0,onSelect:l=>{o.onChange(l?l.toISOString():null)},initialFocus:!0})})]})});case"select":return a.jsx(nr,{name:e.key,control:t,render:({field:o})=>{var l;return a.jsxs(Se,{value:o.value?o.value:"__none__",onValueChange:c=>o.onChange(c==="__none__"?null:c),children:[a.jsx(_e,{className:be(r&&"border-red-500"),children:a.jsx(ke,{placeholder:e.placeholder})}),a.jsxs(je,{children:[!e.required&&a.jsx(q,{value:"__none__",children:a.jsx("span",{className:"text-muted-foreground",children:"None"})}),(l=e.options)==null?void 0:l.map(c=>a.jsx(q,{value:c.value,children:c.label},c.value))]})]})}});case"multiselect":return a.jsx(nr,{name:e.key,control:t,render:({field:o})=>{var c;const l=o.value||[];return a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"border rounded-md p-3 min-h-[40px] max-h-32 overflow-y-auto",children:l.length>0?a.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(u=>{var f;const d=(f=e.options)==null?void 0:f.find(h=>h.value===u);return a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800",children:[(d==null?void 0:d.label)||u,a.jsx("button",{type:"button",className:"ml-1 text-blue-600 hover:text-blue-800",onClick:()=>{const h=l.filter(m=>m!==u);o.onChange(h)},children:""})]},u)})}):a.jsx("span",{className:"text-muted-foreground text-sm",children:"No items selected"})}),a.jsxs(Se,{value:"",onValueChange:u=>{u&&!l.includes(u)&&o.onChange([...l,u])},children:[a.jsx(_e,{className:be(r&&"border-red-500"),children:a.jsx(ke,{placeholder:"Add item..."})}),a.jsx(je,{children:(c=e.options)==null?void 0:c.map(u=>a.jsx(q,{value:u.value,disabled:l.includes(u.value),children:u.label},u.value))})]})]})}});default:return a.jsx(nr,{name:e.key,control:t,render:({field:o})=>a.jsx(Wk,{...o,value:o.value||"",placeholder:e.placeholder,className:be(r&&"border-red-500"),rows:3})})}};return a.jsxs("div",{className:be("space-y-2",n),children:[a.jsxs(ne,{htmlFor:e.key,className:"text-sm font-medium",children:[e.displayName,e.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.description&&a.jsx("p",{className:"text-xs text-muted-foreground",children:e.description}),i(),r&&a.jsx("p",{className:"text-xs text-red-500",children:r.message})]})},Pie=({fields:e,control:t,setValue:r,errors:n,className:s="",showCategories:i=!0,columnsPerRow:o=2})=>{if(p.useEffect(()=>{const f=setInterval(()=>{const h={};e.forEach(m=>{h[m.key]=t.getValues()[m.key]}),localStorage.setItem("form_dynamicFormRenderer",JSON.stringify(h))},5e3);return()=>clearInterval(f)},[e,t]),p.useEffect(()=>{const f=localStorage.getItem("form_dynamicFormRenderer");if(f&&f!=="undefined")try{const h=JSON.parse(f);Object.entries(h).forEach(([m,y])=>{r(m,y)})}catch(h){console.warn("Failed to restore form data:",h)}},[r]),!e.length)return a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No dynamic properties configured"});const l=i?e.reduce((f,h)=>{const m=h.category||"Additional";return f[m]||(f[m]=[]),f[m].push(h),f},{}):{"All Fields":e},c=()=>{switch(o){case 1:return"grid-cols-1";case 2:return"grid-cols-1 md:grid-cols-2";case 3:return"grid-cols-1 md:grid-cols-2 lg:grid-cols-3";default:return"grid-cols-1 md:grid-cols-2"}},u=f=>a.jsx("div",{className:`grid gap-4 ${c()}`,children:f.map(h=>a.jsx(Eie,{field:h,control:t,error:n[h.key]},h.key))}),d=(f,h,m)=>i?a.jsxs("div",{children:[m>0&&a.jsx(qi,{className:"my-6"}),a.jsxs(Ce,{children:[a.jsx(Ue,{className:"pb-3",children:a.jsxs(Ve,{className:"text-lg font-medium",children:[f,a.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",h.length," field",h.length!==1?"s":"",")"]})]})}),a.jsx(Ae,{children:u(h)})]})]},f):u(h);return a.jsx("div",{className:s,children:Object.entries(l).sort(([f],[h])=>f==="Additional"?-1:h==="Additional"?1:f.localeCompare(h)).map(([f,h],m)=>d(f,h,m))})},Aie=(e,t)=>{const r={...e};return t.forEach(n=>{const s=r[n.key];if(s!=null)switch(n.property_type){case"date":if(typeof s=="string")try{r[n.key]=new Date(s).toISOString()}catch{r[n.key]=null}break;case"multiselect":Array.isArray(s)?r[n.key]=s:r[n.key]=[];break;case"number":typeof s=="string"&&s!==""?r[n.key]=Number(s):s===""&&(r[n.key]=null);break;case"boolean":r[n.key]=!!s;break;default:typeof s=="string"&&s===""&&!n.required&&(r[n.key]=null)}}),r},z3=()=>{const{user:e}=ua(),{toast:t}=Er(),[r,n]=p.useState({}),[s,i]=p.useState(!0),[o,l]=p.useState(null),c=p.useCallback(async()=>{if(!(e!=null&&e.id)){i(!1);return}try{l(null);const{data:y,error:g}=await de.rpc("get_user_filter_preferences",{p_user_id:e.id});if(g)throw g;if(y){const w=y.reduce((b,x)=>(b[x.filter_key]={filterKey:x.filter_key,isEnabled:x.is_enabled,preferenceType:x.preference_type,isGlobalDefault:x.is_global_default,globalDefaultEnabled:x.global_default_enabled},b),{});n(w)}}catch(y){const g=y instanceof Error?y.message:"Failed to fetch filter preferences";l(g),console.error("Error fetching filter preferences:",y)}finally{i(!1)}},[e==null?void 0:e.id]),u=p.useCallback(async(y,g,w="user")=>{if(!(e!=null&&e.id))return t({title:"Error",description:"Must be logged in to update filter preferences",variant:"destructive"}),!1;try{const{data:b,error:x}=await de.rpc("update_user_filter_preference",{p_user_id:e.id,p_filter_key:y,p_is_enabled:g,p_preference_type:w});if(x)throw x;return n(v=>{var _,j;return{...v,[y]:{filterKey:y,isEnabled:g,preferenceType:w,isGlobalDefault:((_=v[y])==null?void 0:_.isGlobalDefault)||!1,globalDefaultEnabled:((j=v[y])==null?void 0:j.globalDefaultEnabled)||!1}}}),!0}catch(b){const x=b instanceof Error?b.message:"Failed to update filter preference";return l(x),t({title:"Error",description:x,variant:"destructive"}),!1}},[e==null?void 0:e.id,t]),d=p.useCallback(async y=>{if(!(e!=null&&e.id)||!y.length)return[];try{const{data:g,error:w}=await de.rpc("auto_enable_filters_for_user",{p_user_id:e.id,p_detected_filters:y});if(w)throw w;const b=g||[],x=b.filter(v=>v.autoEnabled);return x.length>0&&t({title:"Filters Auto-Enabled",description:`${x.length} new filter(s) have been automatically enabled: ${x.map(v=>v.filterKey).join(", ")}`,duration:5e3}),await c(),b}catch(g){const w=g instanceof Error?g.message:"Failed to process auto-detected filters";return l(w),console.error("Error processing auto-detected filters:",g),[]}},[e==null?void 0:e.id,t,c]),f=p.useCallback(y=>{var g;return((g=r[y])==null?void 0:g.isEnabled)||!1},[r]),h=p.useCallback(y=>{var g;return((g=r[y])==null?void 0:g.preferenceType)||"default"},[r]),m=p.useCallback(async()=>{await c()},[c]);return p.useEffect(()=>{c()},[c]),p.useEffect(()=>{const y=()=>{c()};return window.addEventListener("filterPreferencesUpdated",y),()=>{window.removeEventListener("filterPreferencesUpdated",y)}},[c]),{preferences:r,isLoading:s,error:o,updatePreference:u,processAutoDetectedFilters:d,refreshPreferences:m,isFilterEnabled:f,getPreferenceType:h}},UA=e=>{if(!["enum","select"].includes(e.property_type))return!1;const t=e.options;if(!t||!Array.isArray(t))return!1;const r=t.length;return!(r===0||r>50||["_id","_uuid","_timestamp","note","comment","description","spec"].some(s=>e.key.toLowerCase().includes(s)))},U3=()=>{const{properties:e}=R3(),{enums:t}=Lc(),{preferences:r,isLoading:n,isFilterEnabled:s,getPreferenceType:i,processAutoDetectedFilters:o}=z3(),{coreFilters:l,dynamicFilters:c,allAvailableFilters:u}=p.useMemo(()=>{const f=[{key:"device_type",displayName:"Device Type",options:(t==null?void 0:t.deviceTypes)||[],isCore:!0,enumKey:"deviceTypes"},{key:"environment",displayName:"Environment",options:(t==null?void 0:t.environmentTypes)||[],isCore:!0,enumKey:"environmentTypes"},{key:"brand",displayName:"Brand",options:(t==null?void 0:t.brands)||[],isCore:!0,enumKey:"brands"},{key:"model",displayName:"Model",options:(t==null?void 0:t.models)||[],isCore:!0,enumKey:"models"},{key:"allocation",displayName:"Allocation",options:(t==null?void 0:t.allocationTypes)||[],isCore:!0,enumKey:"allocationTypes"},{key:"operating_system",displayName:"Operating System",options:(t==null?void 0:t.osTypes)||[],isCore:!0,enumKey:"osTypes"},{key:"dc_site",displayName:"Site",options:(t==null?void 0:t.sites)||[],isCore:!0,enumKey:"sites"},{key:"dc_building",displayName:"Building",options:(t==null?void 0:t.buildings)||[],isCore:!0,enumKey:"buildings"},{key:"rack",displayName:"Rack",options:(t==null?void 0:t.racks)||[],isCore:!0,enumKey:"racks"},{key:"status",displayName:"Status",options:(t==null?void 0:t.status)||[],isCore:!0,enumKey:"status"}],h=new Set(f.map(g=>g.key)),m=e.filter(g=>!h.has(g.key)&&UA(g)).map(g=>{let w=[];if(g.property_type==="enum"){const b=g.key,x=t==null?void 0:t[b];Array.isArray(x)&&x.length>0?w=x:Array.isArray(g.options)&&g.options.length>0&&(w=g.options)}else Array.isArray(g.options)&&(w=g.options);return{key:g.key,displayName:g.display_name,options:w,isCore:!1,isAutoDetected:!0,category:g.category||"Additional",preferenceType:i(g.key)}}),y=m.filter(g=>s(g.key));return{coreFilters:f,dynamicFilters:y,allAvailableFilters:[...f,...m]}},[e,t,r,s,i]);return p.useEffect(()=>{if(e.length>0&&!n){const f=e.filter(h=>UA(h)).map(h=>h.key);f.length>0&&o(f)}},[e,n,o]),{enabledFilters:p.useMemo(()=>[...l,...c],[l,c]),coreFilters:l,dynamicFilters:c,allAvailableFilters:u,isLoading:n,refreshPreferences:()=>{window.dispatchEvent(new CustomEvent("filterPreferencesUpdated"))}}};var sN="Checkbox",[Oie,DCe]=Mi(sN),[Tie,Mie]=Oie(sN),W3=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),y=ut(t,_=>m(_)),g=p.useRef(!1),w=h?d||!!h.closest("form"):!0,[b=!1,x]=Ni({prop:s,defaultProp:i,onChange:u}),v=p.useRef(b);return p.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const j=()=>x(v.current);return _.addEventListener("reset",j),()=>_.removeEventListener("reset",j)}},[h,x]),a.jsxs(Tie,{scope:r,state:b,disabled:l,children:[a.jsx(He.button,{type:"button",role:"checkbox","aria-checked":Yo(b)?"mixed":b,"aria-required":o,"data-state":q3(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:ye(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ye(e.onClick,_=>{x(j=>Yo(j)?!0:!j),w&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),w&&a.jsx(Die,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Yo(i)?!1:i})]})});W3.displayName=sN;var V3="CheckboxIndicator",H3=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=Mie(V3,r);return a.jsx(rs,{present:n||Yo(i.state)||i.state===!0,children:a.jsx(He.span,{"data-state":q3(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});H3.displayName=V3;var Die=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=p.useRef(null),l=Tk(r),c=ok(t);p.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const y=new Event("click",{bubbles:n});d.indeterminate=Yo(r),m.call(d,Yo(r)?!1:r),d.dispatchEvent(y)}},[l,r,n]);const u=p.useRef(Yo(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Yo(e){return e==="indeterminate"}function q3(e){return Yo(e)?"indeterminate":e?"checked":"unchecked"}var K3=W3,Rie=H3;const Co=p.forwardRef(({className:e,...t},r)=>a.jsx(K3,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(Rie,{className:be("flex items-center justify-center text-current"),children:a.jsx(Wh,{className:"h-4 w-4"})})}));Co.displayName=K3.displayName;const Iie=({open:e,onOpenChange:t,onFiltersUpdated:r})=>{const{coreFilters:n,allAvailableFilters:s,isLoading:i}=U3(),{preferences:o,isLoading:l,updatePreference:c,isFilterEnabled:u,getPreferenceType:d}=z3(),{toast:f}=Er(),[h,m]=p.useState(!1),y=i||l,g=async(_,j)=>{if(!n.some(S=>S.key===_)){m(!0);try{await c(_,j,"user")&&r&&r()}finally{m(!1)}}},w=()=>{f({title:"Filter Settings Saved",description:"Your filter preferences have been updated and will sync across all your devices.",duration:3e3}),t(!1),window.dispatchEvent(new CustomEvent("filterPreferencesUpdated"))},b=s.filter(_=>!_.isCore),x=_=>{switch(d(_)){case"auto":return"Auto-enabled";case"admin":return"Admin default";case"user":return"User choice";default:return"Available"}},v=_=>{switch(d(_)){case"auto":return a.jsx(We,{variant:"default",className:"text-xs",children:"Auto"});case"admin":return a.jsx(We,{variant:"secondary",className:"text-xs",children:"Admin"});case"user":return a.jsx(We,{variant:"outline",className:"text-xs",children:"User"});default:return null}};return a.jsx(jr,{open:e,onOpenChange:t,children:a.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(hr,{children:[a.jsxs(mr,{className:"flex items-center gap-2",children:[a.jsx(Xs,{className:"h-5 w-5"}),"Manage Filter Columns"]}),a.jsx(pr,{children:"Choose which columns to show as filters. Your preferences will sync across all devices. Core filters are always enabled and cannot be disabled."})]}),y?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx(Ci,{className:"h-6 w-6 animate-spin mr-2"}),a.jsx("span",{children:"Loading filter preferences..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground mb-3",children:"Core Filters (Always Enabled)"}),a.jsx("div",{className:"space-y-3",children:n.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Co,{checked:!0,disabled:!0}),a.jsxs("div",{children:[a.jsx(ne,{className:"font-medium",children:_.displayName}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Column: ",_.key]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{variant:"secondary",children:"Core"}),a.jsxs(We,{variant:"outline",children:[_.options.length," options"]})]})]},_.key))})]}),b.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(qi,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground mb-3",children:"Available Column Filters"}),a.jsx("div",{className:"space-y-3",children:b.map(_=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded border hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Co,{checked:u(_.key),onCheckedChange:j=>g(_.key,!!j),disabled:h}),a.jsxs("div",{children:[a.jsx(ne,{className:"font-medium cursor-pointer",children:_.displayName}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Column: ",_.key]}),_.category&&a.jsxs("p",{className:"text-xs text-blue-600",children:["Category: ",_.category]}),a.jsx("p",{className:"text-xs text-green-600",children:x(_.key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[v(_.key),_.isAutoDetected&&a.jsx(We,{variant:"default",className:"text-xs",children:"Auto-detected"}),a.jsxs(We,{variant:"outline",className:"text-xs",children:[_.options.length," options"]})]})]},_.key))})]})]}),b.length===0&&!y&&a.jsxs(a.Fragment,{children:[a.jsx(qi,{}),a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Xs,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No additional filterable columns detected."}),a.jsx("p",{className:"text-xs mt-1",children:"Add enum-type columns in Server Properties to see them here."})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Changes are saved automatically and sync across devices"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(G,{variant:"outline",onClick:()=>t(!1),children:"Close"}),a.jsx(G,{onClick:w,children:"Done"})]})]})]})})},$ie=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(null);return{checkAvailability:p.useCallback(async(i,o,l,c)=>{t(!0),n(null);try{console.log(` Checking rack availability: ${i}, U${o}, ${l}U${c?` (excluding ${c})`:""}`);const{data:u,error:d}=await de.functions.invoke("check-rack-availability",{body:{rack:i,position:o,unitHeight:l,excludeServerId:c}});if(d)throw console.error(" Supabase error:",d),d;if(u.error)throw console.error(" Function error:",u.error),new Error(u.error);return console.log(" Availability check result:",u),u}catch(u){const d=u instanceof Error?u.message:"Failed to check rack availability";return console.error(" Error checking rack availability:",d),n(d),{available:!1,conflictingServers:[],availableSpaces:[],suggestion:void 0}}finally{t(!1)}},[]),loading:e,error:r}},Lie=Im("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Go=p.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:be(Lie({variant:t}),e),...r}));Go.displayName="Alert";const Y3=p.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",e),...t}));Y3.displayName="AlertTitle";const oc=p.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:be("text-sm [&_p]:leading-relaxed",e),...t}));oc.displayName="AlertDescription";const Fie=({rack:e,position:t,unitHeight:r,excludeServerId:n,className:s=""})=>{const{checkAvailability:i,loading:o,error:l}=$ie(),[c,u]=p.useState(null);if(p.useEffect(()=>{const y=setTimeout(async()=>{if(!e||!t||!r){u(null);return}try{const g=await i(e,t,r,n);u(g)}catch(g){console.error("Error checking availability:",g)}},300);return()=>clearTimeout(y)},[e,t,r,n,i]),!e||!t||!r)return null;if(o)return a.jsxs("div",{className:`flex items-center gap-2 p-3 bg-gray-50 rounded-lg ${s}`,children:[a.jsx(Ci,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Checking rack availability..."})]});if(l)return a.jsxs(Go,{variant:"destructive",className:s,children:[a.jsx(Mv,{className:"h-4 w-4"}),a.jsxs(oc,{children:["Error checking rack availability: ",l]})]});if(!c)return null;const{available:d,conflictingServers:f,availableSpaces:h}=c;return a.jsxs("div",{className:`space-y-1.5 ${s}`,children:[a.jsx(Go,{variant:d?"default":"destructive",className:"py-1.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[d?a.jsx(dh,{className:"h-3.5 w-3.5 text-green-600"}):a.jsx(Mv,{className:"h-3.5 w-3.5"}),a.jsx(oc,{className:"m-0",children:d?a.jsxs("span",{className:"text-green-700 text-sm font-medium",children:["U",t," available in ",e]}):a.jsxs("span",{className:"text-sm font-medium",children:["U",t," conflicts with ",f==null?void 0:f.map(m=>m.hostname).join(", ")]})})]})}),h&&h.length>0&&a.jsx(Go,{className:"py-1.5 px-3 bg-gray-50 border-gray-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ov,{className:"h-3.5 w-3.5 text-gray-600"}),a.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Available:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.filter(m=>m.size>=r).slice(0,4).map((m,y)=>a.jsxs(We,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 border-green-200",children:["U",Math.min(m.startUnit,m.endUnit),"-U",Math.max(m.startUnit,m.endUnit)]},y)),h.filter(m=>m.size>=r).length>4&&a.jsxs(We,{variant:"secondary",className:"text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600",children:["+",h.filter(m=>m.size>=r).length-4]})]})]})})]})};function rp(e,t){p.useEffect(()=>{const r=setTimeout(()=>{localStorage.setItem(`form_${t}`,JSON.stringify(e))},5e3);return()=>clearTimeout(r)},[e,t])}function np(e,t){p.useEffect(()=>{const r=localStorage.getItem(`form_${e}`);if(r&&r!=="undefined")try{t(JSON.parse(r))}catch{}},[e,t])}function gr(e,t,r){p.useEffect(()=>{const n=new URL(window.location.href);n.searchParams.set(e,JSON.stringify(t)),window.history.replaceState({},"",n.toString())},[e,t]),p.useEffect(()=>{const s=new URLSearchParams(window.location.search).get(e);s&&r(JSON.parse(s))},[e,r])}const Bie=({serverId:e})=>{const[t,r]=p.useState([]),[n,s]=p.useState(!0),[i,o]=p.useState(1),[l,c]=p.useState({});return gr("positionHistory_page",i,o),gr("positionHistory_filters",l,c),p.useEffect(()=>{(async()=>{s(!0);const{data:d,error:f}=await de.from("server_position_history").select("id,changed_at,previous_rack,previous_unit,previous_room,previous_floor,previous_building,previous_site").eq("server_id",e).order("changed_at",{ascending:!1});!f&&d&&r(d),s(!1)})()},[e]),a.jsxs(Ce,{className:"mt-2",children:[a.jsx(Ue,{className:"pb-2",children:a.jsx("div",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Position History"})}),n?a.jsx("div",{className:"text-sm text-muted-foreground px-6 pb-2",children:"Loading position history..."}):t.length?a.jsx("div",{className:"space-y-2 px-6 pb-2",children:t.map(u=>{const d=[u.previous_site,u.previous_building,u.previous_floor,u.previous_room,u.previous_rack,u.previous_unit].filter(Boolean).join(" / "),f=new Date(u.changed_at).toLocaleDateString();return a.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 px-4 py-3 text-blue-800 text-sm flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),a.jsxs("span",{children:["Previous position: ",a.jsx("b",{children:d||"-"})," ",a.jsxs("span",{className:"ml-2",children:["Changed on ",a.jsx("b",{children:f})]})]})]},u.id)})}):a.jsx("div",{className:"text-sm text-muted-foreground px-6 pb-3",children:"No position history found."})]})},iN=()=>{const[e,t]=p.useState({sites:[],buildings:[],floors:[],rooms:[],racks:[],allRacks:[]}),[r,n]=p.useState({}),[s,i]=p.useState(!1),[o,l]=p.useState(""),c=async()=>{try{console.log(" getDefaultRack: Fetching default rack...");const x=await fetch("http://localhost:8000/functions/v1/get-default-rack",{method:"GET",headers:{"Content-Type":"application/json",apikey:""}});if(!x.ok)throw new Error(`HTTP ${x.status}: ${x.statusText}`);const v=await x.json(),_=(v==null?void 0:v.defaultRack)||"RACK-01";return console.log(` getDefaultRack: Successfully fetched default rack: ${_}`),l(_),await d(_),_}catch(b){return console.error(" getDefaultRack: Error fetching default rack, using fallback:",b),l("RACK-01"),await u("RACK-01"),"RACK-01"}},u=async b=>{const x={"RACK-01":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"1",dc_room:"MDF"},"RACK-02":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"2",dc_room:"201"},"RACK-03":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"3",dc_room:"301"},"RACK-04":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"2",dc_room:"201"}},v=x[b]||x["RACK-01"],_={dc_site:v.dc_site||void 0,dc_building:v.dc_building||void 0,dc_floor:v.dc_floor||void 0,dc_room:v.dc_room||void 0};n(_),await m(_)},d=async b=>{try{const{data:x,error:v}=await de.functions.invoke("get-rack-location",{body:{rackName:b}});if(v){console.error("Error fetching rack location:",v),await u(b);return}if(x!=null&&x.location){const _=x.location,j={dc_site:_.dc_site||void 0,dc_building:_.dc_building||void 0,dc_floor:_.dc_floor||void 0,dc_room:_.dc_room||void 0};n(j),await m(j)}else await u(b)}catch(x){console.error("Error in setDefaultRackLocation:",x),await u(b)}},f=async()=>{try{console.log(" getAllRacks: Fetching racks from get-enums...");const x=await fetch("http://localhost:8000/functions/v1/get-enums",{method:"GET",headers:{"Content-Type":"application/json",apikey:""}});if(!x.ok)throw new Error(`HTTP ${x.status}: ${x.statusText}`);const v=await x.json(),_=v==null?void 0:v.racks;return!_||!Array.isArray(_)?(console.warn(" getAllRacks: Invalid racks data format:",_),["RACK-01","RACK-02","RACK-03"]):(console.log(` getAllRacks: Successfully fetched ${_.length} racks`),_)}catch(b){return console.error(" getAllRacks: Error fetching racks, using fallback:",b),["RACK-01","RACK-02","RACK-03"]}},h=async(b,x={})=>{try{i(!0);let v=de.from("servers").select("*").limit(1);const{data:_,error:j}=await v;if(j)return console.error("Test query error:",j),[];console.log("Available columns:",_!=null&&_[0]?Object.keys(_[0]):"No data");let S=de.from("servers").select("dc_site, dc_floor, dc_room, rack");x.dc_site&&(S=S.eq("dc_site",x.dc_site)),x.dc_floor&&(S=S.eq("dc_floor",x.dc_floor)),x.dc_room&&(S=S.eq("dc_room",x.dc_room));const{data:k,error:C}=await S;if(C)return console.error("Error fetching hierarchy data:",C),[];let E=[];switch(b){case"sites":E=[...new Set(k==null?void 0:k.map(A=>A.dc_site).filter(Boolean))];break;case"buildings":E=["Building-A","Building-B","Building-C"];break;case"floors":E=[...new Set(k==null?void 0:k.map(A=>A.dc_floor).filter(Boolean))];break;case"rooms":E=[...new Set(k==null?void 0:k.map(A=>A.dc_room).filter(Boolean))];break;case"racks":E=[...new Set(k==null?void 0:k.map(A=>A.rack).filter(Boolean))];break}return E.sort()}catch(v){return console.error("Error in getHierarchyData:",v),[]}finally{i(!1)}},m=async b=>{const x=await h("sites",{}),v=await h("buildings",{dc_site:b.dc_site}),_=await h("floors",{dc_site:b.dc_site,dc_building:b.dc_building}),j=await h("rooms",{dc_site:b.dc_site,dc_building:b.dc_building,dc_floor:b.dc_floor}),S=await h("racks",{dc_site:b.dc_site,dc_building:b.dc_building,dc_floor:b.dc_floor,dc_room:b.dc_room}),k=await f();t({sites:x,buildings:v,floors:_,rooms:j,racks:S,allRacks:k})};p.useEffect(()=>{(async()=>{await m({}),await c()})()},[]);const y=async(b,x)=>{const v={...r};if(b==="rack"){v.rack=x,await g(x,v);return}switch(b){case"dc_site":v.dc_site=x,v.dc_building=void 0,v.dc_floor=void 0,v.dc_room=void 0,v.rack=void 0;break;case"dc_building":v.dc_building=x,v.dc_floor=void 0,v.dc_room=void 0,v.rack=void 0;break;case"dc_floor":v.dc_floor=x,v.dc_room=void 0,v.rack=void 0;break;case"dc_room":v.dc_room=x,v.rack=void 0;break}n(v),await m(v)},g=async(b,x)=>{try{const{data:v,error:_}=await de.functions.invoke("get-rack-location",{body:{rackName:b}});if(_){console.error("Error fetching rack location:",_),n(x),await m(x);return}if(v!=null&&v.location){const j=v.location,S={dc_site:j.dc_site||void 0,dc_building:j.dc_building||void 0,dc_floor:j.dc_floor||void 0,dc_room:j.dc_room||void 0,rack:b};n(S),await m(S)}}catch(v){console.error("Error in setRackLocationFromName:",v),n(x),await m(x)}};return{hierarchyData:e,filters:r,loading:s,defaultRack:o,updateFilter:y,resetFilters:async()=>{n({}),await m({})},updateHierarchyData:m,getDefaultRack:c}},G3=()=>{const{user:e}=ua(),t=async n=>{const s={...n,user_id:e==null?void 0:e.id,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,metadata:{...n.metadata,viewport:{width:window.innerWidth,height:window.innerHeight},referrer:document.referrer,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}};try{await de.functions.invoke("activity-logs",{method:"POST",body:s})}catch(i){console.error("Activity log failed",i)}};return{logActivity:t,logDataOperation:(n,s,i,o)=>t({category:"data",action:n,resourceType:s,resourceId:i,details:o})}},ww=oy({hostname:Ot().min(1,"Hostname is required"),serial_number:Ot().min(1,"Serial number is required"),brand:Ot().optional().nullable(),model:Ot().optional().nullable(),ip_address:Ot().optional(),ip_oob:Ot().optional(),operating_system:Ot().optional().nullable(),dc_site:Ot().min(1,"DC site is required"),dc_building:Ot().optional().nullable(),dc_floor:Ot().optional(),dc_room:Ot().optional(),rack:Ot().nullable(),unit:Ot().nullable(),unit_height:S5().min(1,"Height must be at least 1U").max(10,"Maximum height is 10U"),allocation:Ot().optional().nullable(),status:Ot().min(1,"Status is required"),device_type:Ot().min(1,"Device type is required"),warranty:Ot().optional(),notes:Ot().optional(),environment:Ot().optional().nullable()}),zie=oy({rack_name:Ot().min(1,"Rack name is required").max(50,"Rack name must be 50 characters or less").regex(/^[A-Za-z0-9\-_]+$/,"Rack name can only contain letters, numbers, hyphens, and underscores").transform(e=>e.trim()),dc_site:Ot().min(1,"Datacenter site is required"),dc_building:Ot().min(1,"Building is required"),dc_floor:Ot().min(1,"Floor is required"),dc_room:Ot().min(1,"Room is required"),description:Ot().max(40,"Description must be 40 characters or less").optional()}),Uie=()=>{var ME,DE,RE,IE,$E,LE,FE,BE,zE,UE,WE,VE;const[e,t]=p.useState([]),[r,n]=p.useState([]),[s,i]=p.useState(!0),[o,l]=p.useState(void 0),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[y,g]=p.useState(!1),[w,b]=p.useState([]),[x,v]=p.useState(!1),[_,j]=p.useState(null),{logDataOperation:S}=G3(),{enums:k,addEnumValue:C,refreshEnums:E}=Lc(),{hasRole:A}=ua(),{toast:P}=Er(),{formSchema:O,isLoading:$,error:I,refetch:B}=_ie(),{hierarchyData:U,filters:T,updateFilter:N,loading:M}=iN();p.useEffect(()=>{console.log("ServerInventory: Current enums:",k),console.log("ServerInventory: Status enums:",k==null?void 0:k.status),console.log("ServerInventory: Device types:",k==null?void 0:k.deviceTypes)},[k]);const L=A("engineer"),[W,K]=p.useState(1),[z,H]=p.useState(10),[V,oe]=p.useState(""),[te,Ne]=p.useState("all"),[ee,pe]=p.useState("all"),[we,Q]=p.useState("all"),[Je,Le]=p.useState("all"),[et,it]=p.useState("all"),[re,D]=p.useState("all"),[F,Y]=p.useState("all"),[me,ce]=p.useState("all"),[le,Ie]=p.useState("all"),[Be,jt]=p.useState("all"),[Xe,Pr]=p.useState({}),[Fr,$n]=p.useState(!1),{enabledFilters:da,refreshPreferences:ns}=U3(),Ln=Math.ceil(r.length/z),fa=W*z,ii=fa-z,Es=r.slice(ii,fa),Kc=p.useCallback(()=>{if(!O.fields.length)return ww;const R=O.validationSchema;return R&&R instanceof Qt?Wie(ww,R):ww},[O]),Ke=p.useCallback(()=>{var Z,ue,Ee,mt,lt,ur,rn,wr,oi,is,as;return{...{hostname:"",serial_number:"",brand:((Z=k==null?void 0:k.brands)==null?void 0:Z[0])||null,model:((ue=k==null?void 0:k.models)==null?void 0:ue[0])||null,ip_address:"",ip_oob:"",operating_system:((Ee=k==null?void 0:k.osTypes)==null?void 0:Ee[0])||null,dc_site:((mt=k==null?void 0:k.sites)==null?void 0:mt[0])||"",dc_building:((lt=k==null?void 0:k.buildings)==null?void 0:lt[0])||null,dc_floor:"",dc_room:"",rack:((ur=k==null?void 0:k.racks)==null?void 0:ur[0])||null,unit:((rn=k==null?void 0:k.units)==null?void 0:rn[0])||null,unit_height:1,allocation:((wr=k==null?void 0:k.allocationTypes)==null?void 0:wr[0])||null,status:((oi=k==null?void 0:k.status)==null?void 0:oi[0])||"Active",device_type:((is=k==null?void 0:k.deviceTypes)==null?void 0:is[0])||"Server",warranty:"",notes:"",environment:((as=k==null?void 0:k.environmentTypes)==null?void 0:as[0])||null},...O.defaultValues}},[k,O.defaultValues]),ge=vA({resolver:xA(Kc()),defaultValues:Ke()}),St=p.useCallback((R,Z,ue,Ee=1,mt)=>{if(!R)return[];const lt=ue.filter(wr=>wr.rack===R&&wr.id!==Z),ur=new Set;lt.forEach(wr=>{var as;const oi=parseInt(((as=wr.unit)==null?void 0:as.substring(1))||"0"),is=wr.unit_height||1;for(let hb=0;hb<is;hb++)ur.add(`U${oi+hb}`)});let rn=((k==null?void 0:k.units)||[]).filter(wr=>{const oi=parseInt(wr.substring(1));for(let is=0;is<Ee;is++){const as=oi+is;if(as>42||ur.has(`U${as}`))return!1}return!0});return mt&&!rn.includes(mt)&&(rn=[...rn,mt]),rn.sort((wr,oi)=>{const is=parseInt(wr.substring(1)),as=parseInt(oi.substring(1));return is-as}),rn},[k==null?void 0:k.units]),X=Yg({control:ge.control,name:"rack"}),se=Yg({control:ge.control,name:"unit"}),ve=Yg({control:ge.control,name:"unit_height"}),{register:Ze,handleSubmit:Nt,formState:{errors:ot},reset:ss}=vA({resolver:xA(zie),defaultValues:{rack_name:"",dc_site:"DC-East",dc_building:"Building-A",dc_floor:"1",dc_room:"MDF",description:""}});p.useEffect(()=>{const R=X,Z=ve,ue=se;console.log("Available units effect triggered:",{currentRack:R,currentUnit:ue,currentHeight:Z,editingServer:c==null?void 0:c.id,editingServerUnit:c==null?void 0:c.unit,editingServerRack:c==null?void 0:c.rack});const Ee=(c==null?void 0:c.unit)||void 0,mt=St(R,(c==null?void 0:c.id)||null,e,Z,Ee);mt.sort((lt,ur)=>{const rn=parseInt(lt.substring(1)),wr=parseInt(ur.substring(1));return rn-wr}),console.log("Calculated available units:",mt),b(mt),!c&&ue&&!mt.includes(ue)&&(console.log("Resetting unit because not editing and current unit not available"),ge.setValue("unit",mt[0]||null))},[X,ve,se,St,c==null?void 0:c.id,c==null?void 0:c.unit,e,ge]),p.useEffect(()=>{if(c&&c.unit&&c.rack&&(console.log("Ensuring editing server unit is available:",{serverUnit:c.unit,serverRack:c.rack,currentAvailableUnits:w}),!w.includes(c.unit))){const R=[...w,c.unit];R.sort((Z,ue)=>{const Ee=parseInt(Z.substring(1)),mt=parseInt(ue.substring(1));return Ee-mt}),console.log("Adding editing server unit to available units:",R),b(R)}},[c,w]),p.useEffect(()=>{},[ge.watch("rack")]);const cr=(R,Z)=>{const ue=parseInt(R.substring(1)),Ee=ue+(Z-1);return Z>1?` (U${ue}-U${Ee})`:""},ai=p.useCallback(()=>{const R=Ke();ge.reset(R),u(null),l(void 0)},[ge,Ke]);p.useEffect(()=>{if(!$&&O.fields.length>=0&&!c){const R=Ke();ge.reset(R)}},[O,$,Kc,Ke,ge,c]),p.useEffect(()=>{if(k&&!$){const R=Ke();if(c){console.log("Populating form for editing server:",c);const Z={...R,hostname:c.hostname||"",serial_number:c.serial_number||"",brand:c.brand||null,model:c.model||null,ip_address:c.ip_address||"",ip_oob:c.ip_oob||"",operating_system:c.operating_system||null,dc_site:c.dc_site||"",dc_building:c.dc_building||null,dc_floor:c.dc_floor||"",dc_room:c.dc_room||"",rack:c.rack||null,unit:c.unit||null,unit_height:c.unit_height||1,allocation:c.allocation??void 0,status:c.status||"Active",device_type:c.device_type||"Server",warranty:c.warranty||"",notes:c.notes||"",environment:c.environment??void 0};if(console.log("Server data for form reset:",{rack:Z.rack,unit:Z.unit,unit_height:Z.unit_height,editingServerRack:c.rack,defaultValuesRack:R.rack}),O.fields.forEach(ue=>{c[ue.key]!==void 0&&(Z[ue.key]=c[ue.key])}),ge.reset(Z),c.warranty)try{l(new Date(c.warranty))}catch{console.error("Invalid warranty date:",c.warranty),l(void 0)}else l(void 0)}else ge.reset(R),l(void 0)}},[k,c,ge,Ke,O,$]),p.useEffect(()=>{Xr()},[]),p.useEffect(()=>{const R=Z=>{console.log("ServerInventory: Received enum update event",Z.detail),B(),ns()};return window.addEventListener("enumsUpdated",R),()=>{window.removeEventListener("enumsUpdated",R)}},[B,ns]),p.useEffect(()=>{const R=Z=>{console.log("ServerInventory: Received schema update event",Z.detail),B()};return window.addEventListener("schemaUpdated",R),()=>{window.removeEventListener("schemaUpdated",R)}},[B]),p.useEffect(()=>{db()},[e,V,te,ee,we,Je,et,re,F,me,le,Be,Xe]),p.useEffect(()=>{const R=()=>{ns()};return window.addEventListener("filterPreferencesUpdated",R),()=>{window.removeEventListener("filterPreferencesUpdated",R)}},[ns]);const Xr=async()=>{try{i(!0);const{data:R,error:Z}=await de.from("servers").select("*").order("created_at",{ascending:!1});if(Z)throw Z;const ue=R.map(Ee=>({id:Ee.id,serial_number:Ee.serial_number||null,hostname:Ee.hostname,brand:Ee.brand,model:Ee.model,ip_address:Ee.ip_address,ip_oob:Ee.ip_oob,operating_system:Ee.operating_system,dc_site:Ee.dc_site,dc_building:Ee.dc_building,dc_floor:Ee.dc_floor,dc_room:Ee.dc_room,rack:Ee.rack,unit:Ee.unit,unit_height:Ee.unit_height,allocation:Ee.allocation,status:Ee.status,device_type:Ee.device_type,warranty:Ee.warranty,notes:Ee.notes,environment:Ee.environment,created_by:Ee.created_by,created_at:Ee.created_at,updated_at:Ee.updated_at,...Object.keys(Ee).reduce((mt,lt)=>(["id","serial_number","hostname","brand","model","ip_address","ip_oob","operating_system","dc_site","dc_building","dc_floor","dc_room","rack","unit","unit_height","allocation","status","device_type","warranty","notes","environment","created_by","created_at","updated_at"].includes(lt)||(mt[lt]=Ee[lt]),mt),{})}));t(ue),n(ue)}catch(R){console.error("Error fetching servers:",R),P({title:"Error",description:"Failed to fetch servers",variant:"destructive"})}finally{i(!1)}},db=()=>{let R=e;V&&(R=R.filter(Z=>{var ue,Ee,mt,lt,ur,rn,wr,oi,is,as;return Z.hostname.toLowerCase().includes(V.toLowerCase())||((ue=Z.dc_site)==null?void 0:ue.toLowerCase().includes(V.toLowerCase()))||((Ee=Z.ip_address)==null?void 0:Ee.toLowerCase().includes(V.toLowerCase()))||((mt=Z.brand)==null?void 0:mt.toLowerCase().includes(V.toLowerCase()))||((lt=Z.model)==null?void 0:lt.toLowerCase().includes(V.toLowerCase()))||((ur=Z.serial_number)==null?void 0:ur.toLowerCase().includes(V.toLowerCase()))||((rn=Z.operating_system)==null?void 0:rn.toLowerCase().includes(V.toLowerCase()))||((wr=Z.dc_building)==null?void 0:wr.toLowerCase().includes(V.toLowerCase()))||((oi=Z.dc_floor)==null?void 0:oi.toLowerCase().includes(V.toLowerCase()))||((is=Z.dc_room)==null?void 0:is.toLowerCase().includes(V.toLowerCase()))||(((as=Z.allocation)==null?void 0:as.toLowerCase().includes(V.toLowerCase()))??!1)})),te!=="all"&&(R=R.filter(Z=>Z.device_type===te)),ee!=="all"&&(R=R.filter(Z=>Z.environment===ee)),we!=="all"&&(R=R.filter(Z=>Z.brand===we)),Je!=="all"&&(R=R.filter(Z=>Z.model===Je)),et!=="all"&&(R=R.filter(Z=>Z.allocation===et)),re!=="all"&&(R=R.filter(Z=>Z.operating_system===re)),F!=="all"&&(R=R.filter(Z=>Z.dc_site===F)),me!=="all"&&(R=R.filter(Z=>Z.dc_building===me)),le!=="all"&&(R=R.filter(Z=>Z.rack===le)),Be!=="all"&&(R=R.filter(Z=>Z.status===Be)),Object.entries(Xe).forEach(([Z,ue])=>{ue!=="all"&&ue!==""&&(R=R.filter(Ee=>Ee[Z]===ue))}),n(R)},fb=()=>{oe(""),Ne("all"),pe("all"),Q("all"),Le("all"),it("all"),D("all"),Y("all"),ce("all"),Ie("all"),jt("all"),Pr({}),K(1)},YV=R=>{u(R),f(!0)},GV=async R=>{if(!A("engineer")){P({title:"Permission Denied",description:"You need engineer permissions to manage servers",variant:"destructive"});return}i(!0);try{const{data:{user:Z}}=await de.auth.getUser(),ue=O.fields.map(lt=>({id:lt.id??"",key:lt.key??"",name:lt.name??lt.display_name??"",display_name:lt.display_name??lt.name??"",property_type:lt.property_type??lt.type??"text",description:lt.description??null,category:lt.category??null,required:lt.required??!1,default_value:lt.default??null,options:lt.options??null,active:!0,sort_order:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})),Ee=Aie(R,ue),mt={hostname:Ee.hostname,serial_number:Ee.serial_number,brand:Ee.brand,model:Ee.model,ip_address:Ee.ip_address,ip_oob:Ee.ip_oob,operating_system:Ee.operating_system,dc_site:Ee.dc_site,dc_building:Ee.dc_building,dc_floor:Ee.dc_floor,dc_room:Ee.dc_room,rack:Ee.rack,unit:Ee.unit,unit_height:Ee.unit_height,allocation:Ee.allocation,status:Ee.status,device_type:Ee.device_type,warranty:Ee.warranty,notes:Ee.notes,environment:Ee.environment||null,created_by:(Z==null?void 0:Z.id)||null,...O.fields.reduce((lt,ur)=>(Ee[ur.key]!==void 0&&(lt[ur.key]=Ee[ur.key]),lt),{})};if(c){const ur=["rack","unit","dc_room","dc_floor","dc_building","dc_site"].some(wr=>mt[wr]!==c[wr]),{error:rn}=await de.from("servers").update(mt).eq("id",c.id);if(rn)throw rn;S("update","server",c.id,{oldValues:c,newValues:mt}),ur&&await de.functions.invoke("server-position-history",{method:"POST",body:{serverId:c.id,rack:mt.rack,unit:mt.unit,dc_room:mt.dc_room,dc_floor:mt.dc_floor,dc_building:mt.dc_building,dc_site:mt.dc_site,notes:mt.notes,changed_by:Z==null?void 0:Z.id}}),P({title:"Server updated",description:"The server has been updated successfully."})}else{const{data:lt,error:ur}=await de.from("servers").insert([{...mt,created_at:new Date().toISOString()}]).select().single();if(ur)throw ur;lt&&S("create","server",lt.id,{newValues:mt}),P({title:"Server created",description:"The server has been created successfully."})}await Xr(),f(!1),ai()}catch(Z){console.error("Error saving server:",Z);const ue=Z instanceof Error?Z.message:"An error occurred while saving the server.";P({title:"Error",description:ue,variant:"destructive"})}finally{i(!1)}},XV=async R=>{if(!A("super_admin")){P({title:"Permission Denied",description:"You need super admin permissions to delete servers",variant:"destructive"});return}j(R),v(!0)},ZV=async()=>{if(!_)return;const R=e.find(Z=>Z.id===_);try{const{error:Z}=await de.from("servers").delete().eq("id",_);if(Z)throw Z;R&&S("delete","server",R.id,{oldValues:R}),P({title:"Success",description:"Server deleted successfully"}),Xr()}catch(Z){console.error("Error deleting server:",Z),P({title:"Error",description:"Failed to delete server",variant:"destructive"})}finally{v(!1),j(null)}},QV=R=>{const Z={Server:"default",Storage:"secondary",Network:"outline"};return a.jsx(We,{variant:Z[R],children:R})},JV=R=>{if(!R)return null;const Z={Production:"destructive","Pre-Production":"default",Testing:"secondary",Development:"outline"};return a.jsx(We,{variant:Z[R],children:R})},e9=R=>R?a.jsx(We,{variant:"outline",children:R}):null,t9=async R=>{if(!A("engineer")){P({title:"Permission Denied",description:"You need engineer permissions to add racks",variant:"destructive"});return}g(!0);try{if(!await C("rack",R.rack_name.trim()))throw new Error("Failed to add rack to enum");const{data:{session:ue},error:Ee}=await de.auth.getSession();if(Ee||!ue)throw new Error("Not authenticated");const lt=await fetch(`http://localhost:8000/functions/v1/main/api/racks/${R.rack_name.trim()}/description`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue.access_token}`,apikey:""},body:JSON.stringify({description:R.description||"",dc_site:R.dc_site,dc_building:R.dc_building,dc_floor:R.dc_floor,dc_room:R.dc_room,total_units:42})});if(lt.ok)P({title:"Rack added successfully",description:`Rack "${R.rack_name}" has been added to the system with metadata.`});else{const ur=await lt.text();console.error("Error creating rack metadata:",ur),P({title:"Rack added with warning",description:`Rack "${R.rack_name}" was added to the system, but metadata creation failed. Please contact support.`,variant:"default"})}m(!1),ss(),await E()}catch(Z){console.error("Error adding rack:",Z);const ue=Z instanceof Error?Z.message:"Unknown error occurred";P({title:"Error adding rack",description:`Failed to add rack: ${ue}`,variant:"destructive"})}finally{g(!1)}};return s||$?a.jsxs(Ce,{children:[a.jsxs(Ue,{children:[a.jsx(Ve,{children:"Server Inventory"}),a.jsx(It,{children:"Loading server inventory..."})]}),a.jsx(Ae,{children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})})]}):I?a.jsxs(Ce,{children:[a.jsxs(Ue,{children:[a.jsx(Ve,{children:"Server Inventory"}),a.jsx(It,{children:"Error loading form schema"})]}),a.jsx(Ae,{children:a.jsxs("div",{className:"text-red-500",children:[a.jsxs("p",{children:["Failed to load dynamic form schema: ",I]}),a.jsx(G,{onClick:B,className:"mt-2",children:"Retry"})]})})]}):a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ve,{children:"Server Inventory"}),a.jsxs(It,{children:["Manage your data center server inventory with detailed properties",O.fields.length>0&&a.jsxs("span",{className:"block text-xs text-muted-foreground mt-1",children:["Dynamic properties: ",O.fields.length," field",O.fields.length!==1?"s":""," configured"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[L&&a.jsxs(jr,{open:h,onOpenChange:m,children:[a.jsx(nm,{asChild:!0,children:a.jsxs(G,{onClick:()=>ss(),children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Add Rack"]})}),a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Add New Rack"}),a.jsx(pr,{children:"Enter the details for the new rack and its location."})]}),a.jsxs("form",{onSubmit:Nt(t9),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"rack_name",children:"Rack Name *"}),a.jsx(qe,{id:"rack_name",placeholder:"e.g., RACK-01",disabled:y,...Ze("rack_name"),className:ot.rack_name?"border-red-500":""}),ot.rack_name&&a.jsx("p",{className:"text-sm text-red-500",children:ot.rack_name.message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_site",children:"Site *"}),a.jsx("select",{id:"dc_site",disabled:y,...Ze("dc_site"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_site?"border-red-500":"border-gray-300"}`,children:(ME=k.sites)==null?void 0:ME.map(R=>a.jsx("option",{value:R,children:R},R))}),ot.dc_site&&a.jsx("p",{className:"text-sm text-red-500",children:ot.dc_site.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_building",children:"Building *"}),a.jsx("select",{id:"dc_building",disabled:y,...Ze("dc_building"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_building?"border-red-500":"border-gray-300"}`,children:(DE=k.buildings)==null?void 0:DE.map(R=>a.jsx("option",{value:R,children:R},R))}),ot.dc_building&&a.jsx("p",{className:"text-sm text-red-500",children:ot.dc_building.message})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_floor",children:"Floor *"}),a.jsxs("select",{id:"dc_floor",disabled:y,...Ze("dc_floor"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_floor?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"1",children:"1"}),a.jsx("option",{value:"2",children:"2"}),a.jsx("option",{value:"3",children:"3"})]}),ot.dc_floor&&a.jsx("p",{className:"text-sm text-red-500",children:ot.dc_floor.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_room",children:"Room *"}),a.jsxs("select",{id:"dc_room",disabled:y,...Ze("dc_room"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_room?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"MDF",children:"MDF"}),a.jsx("option",{value:"IDF",children:"IDF"}),a.jsx("option",{value:"Comms",children:"Comms"})]}),ot.dc_room&&a.jsx("p",{className:"text-sm text-red-500",children:ot.dc_room.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"description",children:"Description (Optional)"}),a.jsx(qe,{id:"description",placeholder:"Optional description (max 40 chars)",maxLength:40,disabled:y,...Ze("description"),className:ot.description?"border-red-500":""}),ot.description&&a.jsx("p",{className:"text-sm text-red-500",children:ot.description.message})]}),a.jsxs(ol,{children:[a.jsx(G,{type:"button",variant:"outline",disabled:y,onClick:()=>{m(!1),ss()},children:"Cancel"}),a.jsx(G,{type:"submit",disabled:y,children:y?"Adding...":"OK"})]})]})]})]}),L&&a.jsxs(jr,{open:d,onOpenChange:f,children:[a.jsx(nm,{asChild:!0,children:a.jsxs(G,{onClick:ai,children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Add Device"]})}),a.jsxs(fr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(hr,{children:[a.jsx(mr,{children:c?"Edit Device":"Add New Device"}),a.jsx(pr,{children:c?"Update device information":"Add a new device to the inventory"})]}),a.jsxs("form",{onSubmit:ge.handleSubmit(GV),className:"space-y-6",children:[a.jsxs(Ce,{children:[a.jsx(Ue,{className:"pb-3",children:a.jsx(Ve,{className:"text-lg font-medium",children:"Core Information"})}),a.jsxs(Ae,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"hostname",children:"Hostname *"}),a.jsx(qe,{id:"hostname",placeholder:"server-001",...ge.register("hostname"),className:ge.formState.errors.hostname?"border-red-500":""}),ge.formState.errors.hostname&&a.jsx("p",{className:"text-sm text-red-500",children:ge.formState.errors.hostname.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"serial_number",children:"Serial Number *"}),a.jsx(qe,{id:"serial_number",placeholder:"SN123456789",...ge.register("serial_number"),className:ge.formState.errors.serial_number?"border-red-500":""}),ge.formState.errors.serial_number&&a.jsx("p",{className:"text-sm text-red-500",children:ge.formState.errors.serial_number.message})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"brand",children:"Brand"}),a.jsx(nr,{name:"brand",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:R.value||"",onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select brand"})}),a.jsx(je,{children:(Z=k==null?void 0:k.brands)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"model",children:"Model"}),a.jsx(nr,{name:"model",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:R.value||"",onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select model"})}),a.jsx(je,{children:(Z=k==null?void 0:k.models)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"ip_address",children:"IP Address"}),a.jsx(qe,{id:"ip_address",placeholder:"192.168.1.100",...ge.register("ip_address"),className:ge.formState.errors.ip_address?"border-red-500":""}),ge.formState.errors.ip_address&&a.jsx("p",{className:"text-sm text-red-500",children:ge.formState.errors.ip_address.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"ip_oob",children:"OOB/IPMI IP"}),a.jsx(qe,{id:"ip_oob",placeholder:"192.168.1.100",...ge.register("ip_oob"),className:ge.formState.errors.ip_oob?"border-red-500":""}),ge.formState.errors.ip_oob&&a.jsx("p",{className:"text-sm text-red-500",children:ge.formState.errors.ip_oob.message})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"operating_system",children:"Operating System"}),a.jsx(nr,{name:"operating_system",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:R.value||"",onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select OS"})}),a.jsx(je,{children:(Z=k==null?void 0:k.osTypes)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"device_type",children:"Device Type *"}),a.jsx(nr,{name:"device_type",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:R.value,onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select device type"})}),a.jsx(je,{children:(Z=k==null?void 0:k.deviceTypes)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_site",children:"DC Site *"}),a.jsx(nr,{name:"dc_site",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:T.dc_site,onValueChange:ue=>{N("dc_site",ue),R.onChange(ue)},disabled:M,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select site"})}),a.jsx(je,{children:(Z=U.sites)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_building",children:"DC Building"}),a.jsx(nr,{name:"dc_building",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:T.dc_building,onValueChange:ue=>{N("dc_building",ue),R.onChange(ue)},disabled:!T.dc_site||M,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select building"})}),a.jsx(je,{children:(Z=U.buildings)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_floor",children:"DC Floor"}),a.jsx(nr,{name:"dc_floor",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:T.dc_floor,onValueChange:ue=>{N("dc_floor",ue),R.onChange(ue)},disabled:!T.dc_building||M,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select floor"})}),a.jsx(je,{children:(Z=U.floors)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dc_room",children:"DC Room"}),a.jsx(nr,{name:"dc_room",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:T.dc_room,onValueChange:ue=>{N("dc_room",ue),R.onChange(ue)},disabled:!T.dc_floor||M,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select room"})}),a.jsx(je,{children:(Z=U.rooms)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"rack",children:"Rack"}),a.jsx(nr,{name:"rack",control:ge.control,render:({field:R})=>{var ue;console.log("Rack field render:",{fieldValue:R.value,availableRacks:k==null?void 0:k.racks,editingServerRack:c==null?void 0:c.rack,isEditingServerRackInList:(ue=k==null?void 0:k.racks)==null?void 0:ue.includes((c==null?void 0:c.rack)||"")});let Z=(k==null?void 0:k.racks)||[];return c!=null&&c.rack&&!Z.includes(c.rack)&&(Z=[...Z,c.rack].sort()),a.jsxs(Se,{value:R.value||"",onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select rack"})}),a.jsx(je,{children:Z.map(Ee=>a.jsx(q,{value:Ee,children:Ee},Ee))})]})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"unit",children:"Unit"}),a.jsx(nr,{name:"unit",control:ge.control,render:({field:R})=>(console.log("Unit field render:",{fieldValue:R.value,availableUnits:w,editingServerUnit:c==null?void 0:c.unit,isEditingServerUnitInList:w.includes((c==null?void 0:c.unit)||""),rackValue:ge.getValues("rack")}),a.jsxs(Se,{value:R.value||"",onValueChange:R.onChange,disabled:!ge.getValues("rack"),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select unit"})}),a.jsx(je,{children:w.map(Z=>a.jsxs(q,{value:Z,children:[Z,cr(Z,ge.getValues("unit_height")||1)]},Z))})]}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"unit_height",children:"Height (U) *"}),a.jsx(nr,{name:"unit_height",control:ge.control,render:({field:R})=>a.jsx(qe,{type:"number",min:"1",max:"10",value:R.value||1,onChange:Z=>R.onChange(parseInt(Z.target.value)||1),className:ge.formState.errors.unit_height?"border-red-500":""})}),ge.formState.errors.unit_height&&a.jsx("p",{className:"text-sm text-red-500",children:ge.formState.errors.unit_height.message})]})]}),X&&se&&ve&&a.jsx("div",{className:"mt-4",children:a.jsx(Fie,{rack:X,position:parseInt((se==null?void 0:se.replace("U",""))||"1"),unitHeight:ve||1,excludeServerId:c==null?void 0:c.id,className:"w-full"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"allocation",children:"Allocation"}),a.jsx(nr,{name:"allocation",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:R.value||"",onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select allocation"})}),a.jsx(je,{children:(Z=k==null?void 0:k.allocationTypes)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"status",children:"Status *"}),a.jsx(nr,{name:"status",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:R.value,onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select status"})}),a.jsx(je,{children:(Z=k==null?void 0:k.status)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"environment",children:"Environment"}),a.jsx(nr,{name:"environment",control:ge.control,render:({field:R})=>{var Z;return a.jsxs(Se,{value:R.value||"",onValueChange:R.onChange,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select environment"})}),a.jsx(je,{children:(Z=k==null?void 0:k.environmentTypes)==null?void 0:Z.map(ue=>a.jsx(q,{value:ue,children:ue},ue))})]})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"warranty",children:"Warranty"}),a.jsx(nr,{name:"warranty",control:ge.control,render:({field:R})=>a.jsxs(qk,{children:[a.jsx(Kk,{asChild:!0,children:a.jsxs(G,{variant:"outline",className:be("w-full justify-start text-left font-normal",!o&&"text-muted-foreground"),children:[a.jsx(_x,{className:"mr-2 h-4 w-4"}),o?Jn(o,"PPP"):a.jsx("span",{children:"Pick warranty date"})]})}),a.jsx(n0,{className:"w-auto p-0",children:a.jsx(tN,{mode:"single",selected:o,onSelect:Z=>{l(Z),R.onChange(Z?Jn(Z,"yyyy-MM-dd"):"")},initialFocus:!0})})]})})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx(ne,{htmlFor:"notes",children:"Notes"}),a.jsx(Wk,{id:"notes",placeholder:"Additional notes...",...ge.register("notes"),className:"mt-2",rows:3}),(c==null?void 0:c.id)&&a.jsx(Bie,{serverId:c.id})]})]})]}),O.fields.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(qi,{}),a.jsx(Pie,{fields:O.fields,control:ge.control,errors:ge.formState.errors,showCategories:!0,columnsPerRow:2,setValue:ge.setValue},`dynamic-form-${O.fields.map(R=>{var Z;return R.key+":"+(((Z=R.options)==null?void 0:Z.length)||0)}).join("-")}`)]}),a.jsxs(ol,{children:[a.jsx(G,{type:"button",variant:"outline",disabled:s,onClick:()=>{f(!1),ai()},children:"Cancel"}),a.jsx(G,{type:"submit",disabled:s,children:s?"Saving...":c?"Update Device":"Add Device"})]})]})]})]}),a.jsxs(G,{variant:"outline",onClick:fb,className:"flex items-center gap-2","aria-label":"Clear all filters and search",children:[a.jsx(JS,{className:"h-4 w-4"}),"Clear Filters"]}),a.jsxs(G,{variant:"outline",onClick:()=>$n(!0),className:"flex items-center gap-2","aria-label":"Manage filter columns",children:[a.jsx(Ha,{className:"h-4 w-4"}),"Manage Filters"]})]})]})}),a.jsx(Iie,{open:Fr,onOpenChange:$n,onFiltersUpdated:()=>{window.location.reload()}}),a.jsxs(Ae,{children:[a.jsx("div",{className:"mb-6 space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(qe,{placeholder:"Search all fields...",value:V,onChange:R=>oe(R.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsxs(Se,{value:te,onValueChange:Ne,children:[a.jsxs(_e,{children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),a.jsx(ke,{placeholder:"Device Type"})]}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Device Types"}),(RE=k==null?void 0:k.deviceTypes)==null?void 0:RE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:ee,onValueChange:pe,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Environment"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Environments"}),(IE=k==null?void 0:k.environmentTypes)==null?void 0:IE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:we,onValueChange:Q,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Brand"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Brands"}),($E=k==null?void 0:k.brands)==null?void 0:$E.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:Je,onValueChange:Le,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Model"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Models"}),(LE=k==null?void 0:k.models)==null?void 0:LE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:et,onValueChange:it,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Allocation"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Allocations"}),(FE=k==null?void 0:k.allocationTypes)==null?void 0:FE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:re,onValueChange:D,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Operating System"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All OS"}),(BE=k==null?void 0:k.osTypes)==null?void 0:BE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:F,onValueChange:Y,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Site"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Sites"}),(zE=k==null?void 0:k.sites)==null?void 0:zE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:me,onValueChange:ce,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Building"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Buildings"}),(UE=k==null?void 0:k.buildings)==null?void 0:UE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:le,onValueChange:Ie,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Rack"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Racks"}),(WE=k==null?void 0:k.racks)==null?void 0:WE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),a.jsxs(Se,{value:Be,onValueChange:jt,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Status"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Status"}),(VE=k==null?void 0:k.status)==null?void 0:VE.map(R=>a.jsx(q,{value:R,children:R},R))]})]}),da.filter(R=>!R.isCore&&R.options.length>0).map(R=>a.jsxs(Se,{value:Xe[R.key]||"all",onValueChange:Z=>Pr(ue=>({...ue,[R.key]:Z})),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:R.displayName})}),a.jsxs(je,{children:[a.jsxs(q,{value:"all",children:["All ",R.displayName]}),R.options.map(Z=>a.jsx(q,{value:Z,children:Z},Z))]})]},R.key))]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(vd,{children:[a.jsx(yd,{children:a.jsxs(_i,{children:[a.jsx(pt,{children:"Hostname"}),a.jsx(pt,{children:"Serial Number"}),a.jsx(pt,{children:"Type"}),a.jsx(pt,{children:"Status"}),a.jsx(pt,{children:"Brand/Model"}),a.jsx(pt,{children:"Location"}),a.jsx(pt,{children:"IP Address"}),a.jsx(pt,{children:"Environment"}),a.jsx(pt,{children:"Allocation"}),a.jsx(pt,{children:"Warranty"}),a.jsx(pt,{className:"text-right",children:"Actions"})]})}),a.jsx(xd,{children:Es.map(R=>a.jsxs(_i,{children:[a.jsx(gt,{className:"font-medium",children:R.hostname}),a.jsx(gt,{children:R.serial_number||"-"}),a.jsx(gt,{children:QV(R.device_type)}),a.jsx(gt,{children:a.jsx(We,{variant:R.status==="Active"?"default":"secondary",children:R.status})}),a.jsx(gt,{children:R.brand&&R.model?`${R.brand} ${R.model}`:R.brand||R.model||"-"}),a.jsx(gt,{children:a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{children:R.dc_site}),R.rack&&R.unit&&a.jsxs("div",{className:"text-muted-foreground",children:[R.rack," ",R.unit]})]})}),a.jsx(gt,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:R.ip_address||"-"}),R.ip_oob&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["OOB: ",R.ip_oob]})]})}),a.jsx(gt,{children:JV(R.environment||void 0)}),a.jsx(gt,{children:e9(R.allocation||void 0)}),a.jsx(gt,{children:R.warranty?a.jsx("div",{className:"text-sm",children:Jn(new Date(R.warranty),"MMM dd, yyyy")}):"-"}),a.jsx(gt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[L&&a.jsx(G,{variant:"outline",size:"sm",onClick:()=>YV(R),children:a.jsx(Vh,{className:"h-4 w-4"})}),A("super_admin")&&a.jsx(G,{variant:"outline",size:"sm",onClick:()=>XV(R.id),children:a.jsx(Sx,{className:"h-4 w-4"})})]})})]},R.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",ii+1," to ",Math.min(fa,r.length)," of ",r.length," entries"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Rows per page:"}),a.jsxs(Se,{value:z.toString(),onValueChange:R=>{H(Number(R)),K(1)},children:[a.jsx(_e,{className:"h-8 w-[70px]",children:a.jsx(ke,{placeholder:z})}),a.jsx(je,{children:[10,25,50,100].map(R=>a.jsx(q,{value:R.toString(),children:R},R))})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(G,{variant:"outline",size:"sm",onClick:()=>K(1),disabled:W===1,children:"First"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>K(R=>Math.max(R-1,1)),disabled:W===1,children:"Previous"}),a.jsxs("div",{className:"text-sm px-2",children:["Page ",W," of ",Ln]}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>K(R=>Math.min(R+1,Ln)),disabled:W===Ln,children:"Next"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>K(Ln),disabled:W===Ln,children:"Last"})]})]})]})]}),a.jsx(Cne,{open:x,onOpenChange:v,children:a.jsxs(i3,{children:[a.jsxs(a3,{children:[a.jsx(l3,{children:"Are you sure?"}),a.jsx(c3,{children:"This action cannot be undone. This will permanently delete the server and remove all of its data from our servers."})]}),a.jsxs(o3,{children:[a.jsx(d3,{onClick:()=>{v(!1),j(null)},children:"Cancel"}),a.jsx(u3,{onClick:ZV,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};function Wie(e,t){return e.merge(t)}function Vie(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[e][c])||l,w=p.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,y=p.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Hie(s,...t)]}function Hie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var aN="Progress",oN=100,[qie,RCe]=Vie(aN),[Kie,Yie]=qie(aN),X3=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Gie,...o}=e;(s||s===0)&&!WA(s)&&console.error(Xie(`${s}`,"Progress"));const l=WA(s)?s:oN;n!==null&&!VA(n,l)&&console.error(Zie(`${n}`,"Progress"));const c=VA(n,l)?n:null,u=dy(c)?i(c,l):void 0;return a.jsx(Kie,{scope:r,value:c,max:l,children:a.jsx(He.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":dy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":J3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});X3.displayName=aN;var Z3="ProgressIndicator",Q3=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Yie(Z3,r);return a.jsx(He.div,{"data-state":J3(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Q3.displayName=Z3;function Gie(e,t){return`${Math.round(e/t*100)}%`}function J3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function dy(e){return typeof e=="number"}function WA(e){return dy(e)&&!isNaN(e)&&e>0}function VA(e,t){return dy(e)&&!isNaN(e)&&e<=t&&e>=0}function Xie(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${oN}\`.`}function Zie(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${oN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var eB=X3,Qie=Q3;const tB=p.forwardRef(({className:e,value:t,...r},n)=>a.jsx(eB,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Qie,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tB.displayName=eB.displayName;var i0={},rB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(rB);var lN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(lN);var cN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(cN);var a0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=r[i];l?u==="\\"&&i+1<s?(i++,o+=r[i]):u===l?l="":o+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,i++}return o&&n.push(o),n}e.toPath=t})(a0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rB,r=lN,n=cN,s=a0;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(i0);var Jie=i0.get;const ll=Ti(Jie);var nB={exports:{}},Ft={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN=Symbol.for("react.transitional.element"),dN=Symbol.for("react.portal"),o0=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),u0=Symbol.for("react.consumer"),d0=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),h0=Symbol.for("react.suspense"),m0=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),g0=Symbol.for("react.lazy"),eae=Symbol.for("react.view_transition"),tae=Symbol.for("react.client.reference");function ti(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uN:switch(e=e.type,e){case o0:case c0:case l0:case h0:case m0:case eae:return e;default:switch(e=e&&e.$$typeof,e){case d0:case f0:case g0:case p0:return e;case u0:return e;default:return t}}case dN:return t}}}Ft.ContextConsumer=u0;Ft.ContextProvider=d0;Ft.Element=uN;Ft.ForwardRef=f0;Ft.Fragment=o0;Ft.Lazy=g0;Ft.Memo=p0;Ft.Portal=dN;Ft.Profiler=c0;Ft.StrictMode=l0;Ft.Suspense=h0;Ft.SuspenseList=m0;Ft.isContextConsumer=function(e){return ti(e)===u0};Ft.isContextProvider=function(e){return ti(e)===d0};Ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uN};Ft.isForwardRef=function(e){return ti(e)===f0};Ft.isFragment=function(e){return ti(e)===o0};Ft.isLazy=function(e){return ti(e)===g0};Ft.isMemo=function(e){return ti(e)===p0};Ft.isPortal=function(e){return ti(e)===dN};Ft.isProfiler=function(e){return ti(e)===c0};Ft.isStrictMode=function(e){return ti(e)===l0};Ft.isSuspense=function(e){return ti(e)===h0};Ft.isSuspenseList=function(e){return ti(e)===m0};Ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===o0||e===c0||e===l0||e===h0||e===m0||typeof e=="object"&&e!==null&&(e.$$typeof===g0||e.$$typeof===p0||e.$$typeof===d0||e.$$typeof===u0||e.$$typeof===f0||e.$$typeof===tae||e.getModuleId!==void 0)};Ft.typeOf=ti;nB.exports=Ft;var rae=nB.exports,Vr=e=>e===0?0:e>0?1:-1,_s=e=>typeof e=="number"&&e!=+e,Yl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Re=e=>(typeof e=="number"||e instanceof Number)&&!_s(e),aa=e=>Re(e)||typeof e=="string",nae=0,kc=e=>{var t=++nae;return"".concat(e||"").concat(t)},On=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(t)&&typeof t!="string")return n;var i;if(Yl(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return _s(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},sB=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},ms=(e,t)=>Re(e)&&Re(t)?r=>e+r*(t-e):()=>t;function fN(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ll(n,t))===r)}var Lt=e=>e===null||typeof e>"u",sp=e=>Lt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),sae=["viewBox","children"],iae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HA=["points","pathLength"],_w={svg:sae,polygon:HA,polyline:HA},hN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{hN.includes(s)&&(n[s]=i=>r[s](r,i))}),n},aae=(e,t,r)=>n=>(e(t,r,n),null),v0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];hN.includes(s)&&typeof i=="function"&&(n||(n={}),n[s]=aae(i,t,r))}),n},qA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",KA=null,jw=null,iB=e=>{if(e===KA&&Array.isArray(jw))return jw;var t=[];return p.Children.forEach(e,r=>{Lt(r)||(rae.isFragment(r)?t=t.concat(iB(r.props.children)):t.push(r))}),jw=t,KA=e,t};function ip(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>qA(s)):n=[qA(t)],iB(e).forEach(s=>{var i=ll(s,"type.displayName")||ll(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var aB=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,oae=(e,t,r,n)=>{var s,i=(s=n&&(_w==null?void 0:_w[n]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||iae.includes(t))||r&&hN.includes(t)},ht=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;oae((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},lae=["children","width","height","viewBox","className","style","title","desc"];function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vj.apply(null,arguments)}function cae(e,t){if(e==null)return{};var r,n,s=uae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oB=p.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=cae(e,lae),f=i||{width:n,height:s,x:0,y:0},h=xt("recharts-surface",o);return p.createElement("svg",Vj({},ht(d,!0,"svg"),{className:h,width:n,height:s,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),dae=["children","className"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(null,arguments)}function fae(e,t){if(e==null)return{};var r,n,s=hae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qr=p.forwardRef((e,t)=>{var{children:r,className:n}=e,s=fae(e,dae),i=xt("recharts-layer",n);return p.createElement("g",Hj({className:i},ht(s,!0),{ref:t}),r)}),mae=p.createContext(null);function zt(e){return function(){return e}}const lB=Math.cos,fy=Math.sin,Ri=Math.sqrt,hy=Math.PI,y0=2*hy,qj=Math.PI,Kj=2*qj,$l=1e-6,pae=Kj-$l;function cB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cB;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class vae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cB:gae(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>$l)if(!(Math.abs(f*c-u*d)>$l)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=s-l,g=c*c+u*u,w=m*m+y*y,b=Math.sqrt(g),x=Math.sqrt(h),v=i*Math.tan((qj-Math.acos((g+h-w)/(2*b*x)))/2),_=v/x,j=v/b;Math.abs(_-1)>$l&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*y)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$l||Math.abs(this._y1-d)>$l)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Kj+Kj),h>pae?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>$l&&this._append`A${n},${n},0,${+(h>=qj)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function pN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vae(t)}function gN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uB(e){this._context=e}uB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function x0(e){return new uB(e)}function dB(e){return e[0]}function fB(e){return e[1]}function hB(e,t){var r=zt(!0),n=null,s=x0,i=null,o=pN(l);e=typeof e=="function"?e:e===void 0?dB:zt(e),t=typeof t=="function"?t:t===void 0?fB:zt(t);function l(c){var u,d=(c=gN(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function ng(e,t,r){var n=null,s=zt(!0),i=null,o=x0,l=null,c=pN(u);e=typeof e=="function"?e:e===void 0?dB:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?fB:zt(+r);function u(f){var h,m,y,g=(f=gN(f)).length,w,b=!1,x,v=new Array(g),_=new Array(g);for(i==null&&(l=o(x=c())),h=0;h<=g;++h){if(!(h<g&&s(w=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(v[y],_[y]);l.lineEnd(),l.areaEnd()}b&&(v[h]=+e(w,h,f),_[h]=+t(w,h,f),l.point(n?+n(w,h,f):v[h],r?+r(w,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return hB().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:zt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class mB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yae(e){return new mB(e,!0)}function xae(e){return new mB(e,!1)}const vN={draw(e,t){const r=Ri(t/hy);e.moveTo(r,0),e.arc(0,0,r,0,y0)}},bae={draw(e,t){const r=Ri(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},pB=Ri(1/3),wae=pB*2,_ae={draw(e,t){const r=Ri(t/wae),n=r*pB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},jae={draw(e,t){const r=Ri(t),n=-r/2;e.rect(n,n,r,r)}},Sae=.8908130915292852,gB=fy(hy/10)/fy(7*hy/10),kae=fy(y0/10)*gB,Nae=-lB(y0/10)*gB,Cae={draw(e,t){const r=Ri(t*Sae),n=kae*r,s=Nae*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=y0*i/5,l=lB(o),c=fy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Sw=Ri(3),Eae={draw(e,t){const r=-Ri(t/(Sw*3));e.moveTo(0,r*2),e.lineTo(-Sw*r,-r),e.lineTo(Sw*r,-r),e.closePath()}},Ps=-.5,As=Ri(3)/2,Yj=1/Ri(12),Pae=(Yj/2+1)*3,Aae={draw(e,t){const r=Ri(t/Pae),n=r/2,s=r*Yj,i=n,o=r*Yj+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ps*n-As*s,As*n+Ps*s),e.lineTo(Ps*i-As*o,As*i+Ps*o),e.lineTo(Ps*l-As*c,As*l+Ps*c),e.lineTo(Ps*n+As*s,Ps*s-As*n),e.lineTo(Ps*i+As*o,Ps*o-As*i),e.lineTo(Ps*l+As*c,Ps*c-As*l),e.closePath()}};function Oae(e,t){let r=null,n=pN(s);e=typeof e=="function"?e:zt(e||vN),t=typeof t=="function"?t:zt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:zt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:zt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function my(){}function py(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vB(e){this._context=e}vB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:py(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tae(e){return new vB(e)}function yB(e){this._context=e}yB.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mae(e){return new yB(e)}function xB(e){this._context=e}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:py(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dae(e){return new xB(e)}function bB(e){this._context=e}bB.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rae(e){return new bB(e)}function YA(e){return e<0?-1:1}function GA(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(YA(i)+YA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function XA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function gy(e){this._context=e}gy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kw(this,this._t0,XA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kw(this,XA(this,r=GA(this,e,t)),r);break;default:kw(this,this._t0,r=GA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function wB(e){this._context=new _B(e)}(wB.prototype=Object.create(gy.prototype)).point=function(e,t){gy.prototype.point.call(this,t,e)};function _B(e){this._context=e}_B.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Iae(e){return new gy(e)}function $ae(e){return new wB(e)}function jB(e){this._context=e}jB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ZA(e),s=ZA(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ZA(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Lae(e){return new jB(e)}function b0(e,t){this._context=e,this._t=t}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fae(e){return new b0(e,.5)}function Bae(e){return new b0(e,0)}function zae(e){return new b0(e,1)}function wd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Gj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Uae(e,t){return e[t]}function Wae(e){const t=[];return t.key=e,t}function Vae(){var e=zt([]),t=Gj,r=wd,n=Uae;function s(i){var o=Array.from(e.apply(this,arguments),Wae),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=gN(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:zt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Gj:typeof i=="function"?i:zt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??wd,s):r},s}function Hae(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}wd(e,t)}}function qae(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}wd(e,t)}}function Kae(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var g=e[t[y]],w=g[n][1]||0,b=g[n-1][1]||0;m+=w-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,wd(e,t)}}var Yae=["type","size","sizeType"];function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xj.apply(null,arguments)}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function JA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){Gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gae(e,t,r){return(t=Xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qae(e,t){if(e==null)return{};var r,n,s=Jae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SB={symbolCircle:vN,symbolCross:bae,symbolDiamond:_ae,symbolSquare:jae,symbolStar:Cae,symbolTriangle:Eae,symbolWye:Aae},eoe=Math.PI/180,toe=e=>{var t="symbol".concat(sp(e));return SB[t]||vN},roe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*eoe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},noe=(e,t)=>{SB["symbol".concat(sp(e))]=t},kB=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=Qae(e,Yae),i=JA(JA({},s),{},{type:t,size:r,sizeType:n}),o=()=>{var f=toe(t),h=Oae().type(f).size(roe(r,n,t));return h()},{className:l,cx:c,cy:u}=i,d=ht(i,!0);return c===+c&&u===+u&&r===+r?p.createElement("path",Xj({},d,{className:xt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};kB.registerSymbol=noe;var NB={},CB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(CB);var yN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(yN);var EB={},w0={},PB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(PB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PB;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(w0);var AB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(AB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0,r=AB;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(EB);var OB={},TB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i0;function r(n){return function(s){return t.get(s,n)}}e.property=r})(TB);var MB={},Nw={},Cw={},xN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(xN);var bN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(bN);var _0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(_0);var eO;function soe(){return eO||(eO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN(),r=xN,n=bN,s=_0;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):o(f,h,function y(g,w,b,x,v,_){const j=m(g,w,b,x,v,_);return j!==void 0?!!j:o(g,w,y,_)},new Map)}function o(f,h,m,y){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,y);case"function":return Object.keys(h).length>0?o(f,{...h},m,y):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function l(f,h,m,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,y);if(h instanceof Map)return c(f,h,m,y);if(h instanceof Set)return d(f,h,m,y);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(y&&y.has(h))return y.get(h)===f;y&&y.set(h,f);try{for(let w=0;w<g.length;w++){const b=g[w];if(!n.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!m(f[b],h[b],b,f,h,y))return!1}return!0}finally{y&&y.delete(h)}}function c(f,h,m,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,w]of h.entries()){const b=f.get(g);if(m(b,w,g,f,h,y)===!1)return!1}return!0}function u(f,h,m,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let w=0;w<h.length;w++){const b=h[w];let x=!1;for(let v=0;v<f.length;v++){if(g.has(v))continue;const _=f[v];let j=!1;if(m(_,b,w,f,h,y)&&(j=!0),j){g.add(v),x=!0;break}}if(!x)return!1}return!0}function d(f,h,m,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,y):!1}e.isMatchWith=i,e.isSetMatch=d}(Cw)),Cw}var tO;function wN(){return tO||(tO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=soe();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(Nw)),Nw}var DB={},_N={},jN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(jN);var j0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(j0);var S0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",y="[object Error]",g="[object DataView]",w="[object Uint8Array]",b="[object Uint8ClampedArray]",x="[object Uint16Array]",v="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",C="[object BigInt64Array]",E="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=_,e.booleanTag=s,e.dataViewTag=g,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=E,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=k,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=v,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=b})(S0);var RB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(RB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jN,r=j0,n=S0,s=bN,i=RB;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,y=void 0){const g=y==null?void 0:y(d,f,h,m);if(g!=null)return g;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let b=0;b<d.length;b++)w[b]=l(d[b],b,h,m,y);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[b,x]of d)w.set(b,l(x,b,h,m,y));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const b of d)w.add(l(b,void 0,h,m,y));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let b=0;b<d.length;b++)w[b]=l(d[b],b,h,m,y);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,y),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,y),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,y),w}return d}function c(d,f,h=d,m,y){const g=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<g.length;w++){const b=g[w],x=Object.getOwnPropertyDescriptor(d,b);(x==null||x.writable)&&(d[b]=l(f[b],b,h,m,y))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(_N);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_N;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(DB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN(),r=DB;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(MB);var IB={},$B={},LB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_N,r=S0;function n(s,i){return t.cloneDeepWith(s,(o,l,c,u)=>{const d=i==null?void 0:i(o,l,c,u);if(d!=null)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(LB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LB;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($B);var FB={},SN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(SN);var BB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(BB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN,r=SN,n=BB,s=a0;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(FB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN(),r=cN,n=$B,s=i0,i=FB;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(IB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yN,r=TB,n=MB,s=IB;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(OB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CB,r=yN,n=EB,s=OB;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(NB);var ioe=NB.uniqBy;const rO=Ti(ioe);function aoe(e,t,r){return t===!0?rO(e,r):typeof t=="function"?rO(e,t):e}var zB={exports:{}},UB={},WB={exports:{}},VB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=p;function ooe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var loe=typeof Object.is=="function"?Object.is:ooe,coe=_d.useState,uoe=_d.useEffect,doe=_d.useLayoutEffect,foe=_d.useDebugValue;function hoe(e,t){var r=t(),n=coe({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return doe(function(){s.value=r,s.getSnapshot=t,Ew(s)&&i({inst:s})},[e,r,t]),uoe(function(){return Ew(s)&&i({inst:s}),e(function(){Ew(s)&&i({inst:s})})},[e]),foe(r),r}function Ew(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!loe(e,r)}catch{return!0}}function moe(e,t){return t()}var poe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?moe:hoe;VB.useSyncExternalStore=_d.useSyncExternalStore!==void 0?_d.useSyncExternalStore:poe;WB.exports=VB;var goe=WB.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=p,voe=goe;function yoe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xoe=typeof Object.is=="function"?Object.is:yoe,boe=voe.useSyncExternalStore,woe=k0.useRef,_oe=k0.useEffect,joe=k0.useMemo,Soe=k0.useDebugValue;UB.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=woe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=joe(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&o.hasValue){var y=o.value;if(s(y,m))return f=y}return f=m}if(y=f,xoe(d,m))return y;var g=n(m);return s!==void 0&&s(y,g)?(d=m,y):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=boe(e,i[0],i[1]);return _oe(function(){o.hasValue=!0,o.value=l},[l]),Soe(l),l};zB.exports=UB;var koe=zB.exports,kN=p.createContext(null),Noe=e=>e,lr=()=>{var e=p.useContext(kN);return e?e.store.dispatch:Noe},Jg=()=>{},Coe=()=>Jg,Eoe=(e,t)=>e===t;function $e(e){var t=p.useContext(kN);return koe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Coe,t?t.store.getState:Jg,t?t.store.getState:Jg,t?e:Jg,Eoe)}function Poe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Aoe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Ooe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var nO=e=>Array.isArray(e)?e:[e];function Toe(e){const t=Array.isArray(e[0])?e[0]:e;return Ooe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Moe(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var Doe=class{constructor(e){this.value=e}deref(){return this.value}},Roe=typeof WeakRef<"u"?WeakRef:Doe,Ioe=0,sO=1;function sg(){return{s:Ioe,v:void 0,o:null,p:null}}function HB(e,t={}){let r=sg();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const w=g.get(y);w===void 0?(l=sg(),g.set(y,l)):l=w}else{let g=l.p;g===null&&(l.p=g=new Map);const w=g.get(y);w===void 0?(l=sg(),g.set(y,l)):l=w}}const u=l;let d;if(l.s===sO)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new Roe(d):d}return u.s=sO,u.v=d,d}return o.clearCache=()=>{r=sg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function $oe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),Poe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=HB,argsMemoizeOptions:y=[],devModeChecks:g={}}=d,w=nO(h),b=nO(y),x=Toe(s),v=f(function(){return i++,u.apply(null,arguments)},...w),_=m(function(){o++;const S=Moe(x,arguments);return l=v.apply(null,S),l},...b);return Object.assign(_,{resultFunc:u,memoizedResultFunc:v,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var J=$oe(HB),Loe=Object.assign((e,t=J)=>{Aoe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>Loe}),qB={},KB={},YB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(YB);var GB={},NN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(NN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NN,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(GB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YB,r=GB,n=a0;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let g=m;for(let w=0;w<y.length&&g!=null;++w)g=g[y[w]];return g},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let g=0;g<f.length;g++){const w=t.compareValues(m.criteria[g],y.criteria[g],l[g]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=s})(KB);var XB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):s.push(d)}};return o(r,0),s}e.flatten=t})(XB);var CN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SN,r=w0,n=xN,s=_0;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(CN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KB,r=XB,n=CN;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(qB);var Foe=qB.sortBy;const N0=Ti(Foe);var ZB=e=>e.legend.settings,Boe=e=>e.legend.size,zoe=e=>e.legend.payload;J([zoe,ZB],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?N0(n,r):n});var ig=1;function Uoe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ig||Math.abs(o.left-t.left)>ig||Math.abs(o.top-t.top)>ig||Math.abs(o.width-t.width)>ig)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Zr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Woe=typeof Symbol=="function"&&Symbol.observable||"@@observable",iO=Woe,Pw=()=>Math.random().toString(36).substring(7).split("").join("."),Voe={INIT:`@@redux/INIT${Pw()}`,REPLACE:`@@redux/REPLACE${Pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pw()}`},vy=Voe;function EN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QB(e,t,r){if(typeof e!="function")throw new Error(Zr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Zr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Zr(1));return r(QB)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((w,b)=>{o.set(b,w)}))}function d(){if(c)throw new Error(Zr(3));return s}function f(w){if(typeof w!="function")throw new Error(Zr(4));if(c)throw new Error(Zr(5));let b=!0;u();const x=l++;return o.set(x,w),function(){if(b){if(c)throw new Error(Zr(6));b=!1,u(),o.delete(x),i=null}}}function h(w){if(!EN(w))throw new Error(Zr(7));if(typeof w.type>"u")throw new Error(Zr(8));if(typeof w.type!="string")throw new Error(Zr(17));if(c)throw new Error(Zr(9));try{c=!0,s=n(s,w)}finally{c=!1}return(i=o).forEach(x=>{x()}),w}function m(w){if(typeof w!="function")throw new Error(Zr(10));n=w,h({type:vy.REPLACE})}function y(){const w=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Zr(11));function x(){const _=b;_.next&&_.next(d())}return x(),{unsubscribe:w(x)}},[iO](){return this}}}return h({type:vy.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[iO]:y}}function Hoe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:vy.INIT})>"u")throw new Error(Zr(12));if(typeof r(void 0,{type:vy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zr(13))})}function JB(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{Hoe(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],y=h(m,l);if(typeof y>"u")throw l&&l.type,new Error(Zr(14));u[f]=y,c=c||y!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function yy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function qoe(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Zr(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=yy(...l)(s.dispatch),{...s,dispatch:i}}}function e6(e){return EN(e)&&"type"in e&&typeof e.type=="string"}var t6=Symbol.for("immer-nothing"),aO=Symbol.for("immer-draftable"),js=Symbol.for("immer-state");function bi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jd=Object.getPrototypeOf;function Nc(e){return!!e&&!!e[js]}function Xa(e){var t;return e?r6(e)||Array.isArray(e)||!!e[aO]||!!((t=e.constructor)!=null&&t[aO])||E0(e)||P0(e):!1}var Koe=Object.prototype.constructor.toString();function r6(e){if(!e||typeof e!="object")return!1;const t=jd(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Koe}function xy(e,t){C0(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function C0(e){const t=e[js];return t?t.type_:Array.isArray(e)?1:E0(e)?2:P0(e)?3:0}function Zj(e,t){return C0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function n6(e,t,r){const n=C0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Yoe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function E0(e){return e instanceof Map}function P0(e){return e instanceof Set}function Ll(e){return e.copy_||e.base_}function Qj(e,t){if(E0(e))return new Map(e);if(P0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=r6(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[js];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(jd(e),n)}else{const n=jd(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function PN(e,t=!1){return A0(e)||Nc(e)||!Xa(e)||(C0(e)>1&&(e.set=e.add=e.clear=e.delete=Goe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>PN(n,!0))),e}function Goe(){bi(2)}function A0(e){return Object.isFrozen(e)}var Xoe={};function Cc(e){const t=Xoe[e];return t||bi(0,e),t}var sm;function s6(){return sm}function Zoe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oO(e,t){t&&(Cc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jj(e){e1(e),e.drafts_.forEach(Qoe),e.drafts_=null}function e1(e){e===sm&&(sm=e.parent_)}function lO(e){return sm=Zoe(sm,e)}function Qoe(e){const t=e[js];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[js].modified_&&(Jj(t),bi(4)),Xa(e)&&(e=by(t,e),t.parent_||wy(t,e)),t.patches_&&Cc("Patches").generateReplacementPatches_(r[js].base_,e,t.patches_,t.inversePatches_)):e=by(t,r,[]),Jj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==t6?e:void 0}function by(e,t,r){if(A0(t))return t;const n=t[js];if(!n)return xy(t,(s,i)=>uO(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return wy(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),xy(i,(l,c)=>uO(e,n,s,l,c,r,o)),wy(e,s,!1),r&&e.patches_&&Cc("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function uO(e,t,r,n,s,i,o){if(Nc(s)){const l=i&&t&&t.type_!==3&&!Zj(t.assigned_,n)?i.concat(n):void 0,c=by(e,s,l);if(n6(r,n,c),Nc(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Xa(s)&&!A0(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;by(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&wy(e,s)}}function wy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&PN(t,r)}function Joe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:s6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=AN;r&&(s=[n],i=im);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var AN={get(e,t){if(t===js)return e;const r=Ll(e);if(!Zj(r,t))return ele(e,r,t);const n=r[t];return e.finalized_||!Xa(n)?n:n===Aw(e.base_,t)?(Ow(e),e.copy_[t]=r1(n,e)):n},has(e,t){return t in Ll(e)},ownKeys(e){return Reflect.ownKeys(Ll(e))},set(e,t,r){const n=i6(Ll(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Aw(Ll(e),t),i=s==null?void 0:s[js];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Yoe(r,s)&&(r!==void 0||Zj(e.base_,t)))return!0;Ow(e),t1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Aw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ow(e),t1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ll(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){bi(11)},getPrototypeOf(e){return jd(e.base_)},setPrototypeOf(){bi(12)}},im={};xy(AN,(e,t)=>{im[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});im.deleteProperty=function(e,t){return im.set.call(this,e,t,void 0)};im.set=function(e,t,r){return AN.set.call(this,e[0],t,r,e[0])};function Aw(e,t){const r=e[js];return(r?Ll(r):e)[t]}function ele(e,t,r){var s;const n=i6(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function i6(e,t){if(!(t in e))return;let r=jd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jd(r)}}function t1(e){e.modified_||(e.modified_=!0,e.parent_&&t1(e.parent_))}function Ow(e){e.copy_||(e.copy_=Qj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tle=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&bi(6),n!==void 0&&typeof n!="function"&&bi(7);let s;if(Xa(t)){const i=lO(this),o=r1(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Jj(i):e1(i)}return oO(i,n),cO(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===t6&&(s=void 0),this.autoFreeze_&&PN(s,!0),n){const i=[],o=[];Cc("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else bi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Xa(e)||bi(8),Nc(e)&&(e=Xo(e));const t=lO(this),r=r1(e,void 0);return r[js].isManual_=!0,e1(t),r}finishDraft(e,t){const r=e&&e[js];(!r||!r.isManual_)&&bi(9);const{scope_:n}=r;return oO(n,t),cO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Cc("Patches").applyPatches_;return Nc(e)?n(e,t):this.produce(e,s=>n(s,t))}};function r1(e,t){const r=E0(e)?Cc("MapSet").proxyMap_(e,t):P0(e)?Cc("MapSet").proxySet_(e,t):Joe(e,t);return(t?t.scope_:s6()).drafts_.push(r),r}function Xo(e){return Nc(e)||bi(10,e),a6(e)}function a6(e){if(!Xa(e)||A0(e))return e;const t=e[js];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qj(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Qj(e,!0);return xy(r,(n,s)=>{n6(r,n,a6(s))}),t&&(t.finalized_=!1),r}var Ss=new tle,o6=Ss.produce;Ss.produceWithPatches.bind(Ss);Ss.setAutoFreeze.bind(Ss);Ss.setUseStrictShallowCopy.bind(Ss);Ss.applyPatches.bind(Ss);Ss.createDraft.bind(Ss);Ss.finishDraft.bind(Ss);function l6(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var rle=l6(),nle=l6,sle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yy:yy.apply(null,arguments)};function Zs(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(bs(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>e6(n)&&n.type===e,r}var c6=class Kf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kf.prototype)}static get[Symbol.species](){return Kf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kf(...t[0].concat(this)):new Kf(...t.concat(this))}};function dO(e){return Xa(e)?o6(e,()=>{}):e}function ag(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ile(e){return typeof e=="boolean"}var ale=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new c6;return r&&(ile(r)?o.push(rle):o.push(nle(r.extraArgument))),o},ole="RTK_autoBatch",fO=e=>t=>{setTimeout(t,e)},lle=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fO(10):e.type==="callback"?e.queueNotification:fO(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>s&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[ole]),i=!s,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},cle=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new c6(e);return n&&s.push(lle(typeof n=="object"?n:void 0)),s};function ule(e){const t=ale(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(EN(r))c=JB(r);else throw new Error(bs(1));let u;typeof n=="function"?u=n(t):u=t();let d=yy;s&&(d=sle({trace:!1,...typeof s=="object"&&s}));const f=qoe(...u),h=cle(f);let m=typeof l=="function"?l(h):h();const y=d(...m);return QB(c,o,y)}function u6(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(bs(28));if(l in t)throw new Error(bs(29));return t[l]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function dle(e){return typeof e=="function"}function fle(e,t){let[r,n,s]=u6(t),i;if(dle(e))i=()=>dO(e());else{const l=dO(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(Nc(d)){const m=f(d,c);return m===void 0?d:m}else{if(Xa(d))return o6(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var hle="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mle=(e=21)=>{let t="",r=e;for(;r--;)t+=hle[Math.random()*64|0];return t},ple=Symbol.for("rtk-slice-createasyncthunk");function gle(e,t){return`${e}/${t}`}function vle({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[ple];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(bs(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(xle()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(bs(12));if(S in u.sliceCaseReducersByType)throw new Error(bs(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=l[_],S={reducerName:_,type:gle(i,_),createNotation:typeof s.reducers=="function"};wle(j)?jle(S,j,d,t):ble(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof s.extraReducers=="function"?u6(s.extraReducers):[s.extraReducers],k={..._,...u.sliceCaseReducersByType};return fle(s.initialState,C=>{for(let E in k)C.addCase(E,k[E]);for(let E of u.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of j)C.addMatcher(E.matcher,E.reducer);S&&C.addDefaultCase(S)})}const h=_=>_,m=new Map,y=new WeakMap;let g;function w(_,j){return g||(g=f()),g(_,j)}function b(){return g||(g=f()),g.getInitialState()}function x(_,j=!1){function S(C){let E=C[_];return typeof E>"u"&&j&&(E=ag(y,S,b)),E}function k(C=h){const E=ag(m,j,()=>new WeakMap);return ag(E,C,()=>{const A={};for(const[P,O]of Object.entries(s.selectors??{}))A[P]=yle(O,C,()=>ag(y,C,b),j);return A})}return{reducerPath:_,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const v={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...x(o),injectInto(_,{reducerPath:j,...S}={}){const k=j??o;return _.inject({reducerPath:k,reducer:w},S),{...v,...x(k,!0)}}};return v}}function yle(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var ri=vle();function xle(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ble({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!_le(n))throw new Error(bs(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Zs(e,o):Zs(e))}function wle(e){return e._reducerDefinitionType==="asyncThunk"}function _le(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jle({type:e,reducerName:t},r,n,s){if(!s)throw new Error(bs(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=s(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||og,pending:l||og,rejected:c||og,settled:u||og})}function og(){}var Sle="task",d6="listener",f6="completed",ON="cancelled",kle=`task-${ON}`,Nle=`task-${f6}`,n1=`${d6}-${ON}`,Cle=`${d6}-${f6}`,O0=class{constructor(e){Te(this,"name","TaskAbortError");Te(this,"message");this.code=e,this.message=`${Sle} ${ON} (reason: ${e})`}},TN=(e,t)=>{if(typeof e!="function")throw new TypeError(bs(32))},_y=()=>{},h6=(e,t=_y)=>(e.catch(t),e),m6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},cc=e=>{if(e.aborted){const{reason:t}=e;throw new O0(t)}};function p6(e,t){let r=_y;return new Promise((n,s)=>{const i=()=>s(new O0(e.reason));if(e.aborted){i();return}r=m6(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=_y})}var Ele=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof O0?"cancelled":"rejected",error:r}}finally{t==null||t()}},jy=e=>t=>h6(p6(e,t).then(r=>(cc(e),r))),g6=e=>{const t=jy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:zu}=Object,hO={},T0="listenerMiddleware",Ple=(e,t)=>{const r=n=>m6(e,()=>lc(n,e.reason));return(n,s)=>{TN(n);const i=new AbortController;r(i);const o=Ele(async()=>{cc(e),cc(i.signal);const l=await n({pause:jy(i.signal),delay:g6(i.signal),signal:i.signal});return cc(i.signal),l},()=>lc(i,Nle));return s!=null&&s.autoJoin&&t.push(o.catch(_y)),{result:jy(e)(o),cancel(){lc(i,kle)}}}},Ale=(e,t)=>{const r=async(n,s)=>{cc(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await p6(t,Promise.race(l));return cc(t),c}finally{i()}};return(n,s)=>h6(r(n,s))},v6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Zs(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(bs(21));return TN(i),{predicate:s,type:t,effect:i}},y6=zu(e=>{const{type:t,predicate:r,effect:n}=v6(e);return{id:mle(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(bs(22))}}},{withTypes:()=>y6}),mO=(e,t)=>{const{type:r,effect:n,predicate:s}=v6(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},s1=e=>{e.pending.forEach(t=>{lc(t,n1)})},Ole=e=>()=>{e.forEach(s1),e.clear()},pO=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},x6=zu(Zs(`${T0}/add`),{withTypes:()=>x6}),Tle=Zs(`${T0}/removeAll`),b6=zu(Zs(`${T0}/remove`),{withTypes:()=>b6}),Mle=(...e)=>{console.error(`${T0}/error`,...e)},ap=(e={})=>{const t=new Map,{extra:r,onError:n=Mle}=e;TN(n);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&s1(d)}),i=d=>{const f=mO(t,d)??y6(d);return s(f)};zu(i,{withTypes:()=>i});const o=d=>{const f=mO(t,d);return f&&(f.unsubscribe(),d.cancelActive&&s1(f)),!!f};zu(o,{withTypes:()=>o});const l=async(d,f,h,m)=>{const y=new AbortController,g=Ale(i,y.signal),w=[];try{d.pending.add(y),await Promise.resolve(d.effect(f,zu({},h,{getOriginalState:m,condition:(b,x)=>g(b,x).then(Boolean),take:g,delay:g6(y.signal),pause:jy(y.signal),extra:r,signal:y.signal,fork:Ple(y.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,x,v)=>{b!==y&&(lc(b,n1),v.delete(b))})},cancel:()=>{lc(y,n1),d.pending.delete(y)},throwIfCancelled:()=>{cc(y.signal)}})))}catch(b){b instanceof O0||pO(n,b,{raisedBy:"effect"})}finally{await Promise.all(w),lc(y,Cle),d.pending.delete(y)}},c=Ole(t);return{middleware:d=>f=>h=>{if(!e6(h))return f(h);if(x6.match(h))return i(h.payload);if(Tle.match(h)){c();return}if(b6.match(h))return o(h.payload);let m=d.getState();const y=()=>{if(m===hO)throw new Error(bs(23));return m};let g;try{if(g=f(h),t.size>0){const w=d.getState(),b=Array.from(t.values());for(const x of b){let v=!1;try{v=x.predicate(h,w,m)}catch(_){v=!1,pO(n,_,{raisedBy:"predicate"})}v&&l(x,h,d,y)}}}finally{m=hO}return g},startListening:i,stopListening:o,clearListeners:c}};function bs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},w6=ri({name:"chartLayout",initialState:Dle,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Rle,setLayout:Ile,setChartSize:$le,setScale:Lle}=w6.actions,Fle=w6.reducer;function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){Ble(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ble(e,t,r){return(t=zle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zle(e){var t=Ule(e,"string");return typeof t=="symbol"?t:t+""}function Ule(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sy=Math.PI/180,Wle=e=>e*180/Math.PI,kr=(e,t,r,n)=>({x:e+Math.cos(-Sy*n)*r,y:t+Math.sin(-Sy*n)*r}),_6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Vle=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},Hle=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=Vle({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:Wle(c),angleInRadian:c}},qle=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},Kle=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},Yle=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=Hle({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:u}=qle(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?vO(vO({},t),{},{radius:s,angle:Kle(d,t)}):null};function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){Gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gle(e,t,r){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yt(e,t,r){return Lt(e)||Lt(t)?r:aa(t)?ll(e,t,r):typeof t=="function"?t(e):r}var Qle=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Vr(d-u)!==Vr(f-d)){var m=[];if(Vr(f-d)===Vr(s[1]-s[0])){h=f;var y=d+s[1]-s[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{h=u;var g=f+s[1]-s[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:o}=r[c]);break}}else{var b=Math.min(u,f),x=Math.max(u,f);if(e>(b+d)/2&&e<=(x+d)/2){({index:o}=r[c]);break}}}else if(t){for(var v=0;v<l;v++)if(v===0&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<l-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===l-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:o}=t[v]);break}}return o},Jle=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Re(e[i]))return $s($s({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Re(e[o]))return $s($s({},e),{},{[o]:e[o]+(s||0)})}return e},wl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",j6=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},S6=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=s==="category"&&o.bandwidth?o.bandwidth()/y:0;if(g=m==="angleAxis"&&i&&i.length>=2?Vr(i[0]-i[1])*2*g:g,f||h){var w=(f||h||[]).map((b,x)=>{var v=n?n.indexOf(b):b;return{coordinate:o(v)+g,value:b,offset:g,index:x}});return w.filter(b=>!_s(b.coordinate))}return c&&u?u.map((b,x)=>({coordinate:o(b)+g,value:b,index:x,offset:g})):o.ticks&&!r&&d!=null?o.ticks(d).map((b,x)=>({coordinate:o(b)+g,value:b,offset:g,index:x})):o.domain().map((b,x)=>({coordinate:o(b)+g,value:n?n[b]:b,index:x,offset:g}))},xO=1e-4,ece=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-xO,i=Math.max(n[0],n[1])+xO,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},tce=(e,t)=>{if(!t||t.length!==2||!Re(t[0])||!Re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Re(e[0])||e[0]<r)&&(s[0]=r),(!Re(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},rce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=_s(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},nce=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=_s(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},sce={sign:rce,expand:Hae,none:wd,silhouette:qae,wiggle:Kae,positive:nce},ice=(e,t,r)=>{var n=sce[r],s=Vae().keys(t).value((i,o)=>+Yt(i,o,0)).order(Gj).offset(n);return s(e)};function k6(e){return e==null?void 0:String(e)}function bO(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(s[t.dataKey])){var l=fN(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Yt(s,Lt(o)?t.dataKey:o);return Lt(c)?null:t.scale(c)}var wO=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Yt(i,t.dataKey,t.scale.domain()[o]);return Lt(l)?null:t.scale(l)-s/2+n},ace=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},oce=e=>{var t=e.flat(2).filter(Re);return[Math.min(...t),Math.max(...t)]},lce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],cce=(e,t,r)=>{if(e!=null)return lce(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=oce(u.slice(t,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},_O=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,am=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=N0(t,d=>d.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function SO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return $s($s({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Kd(e,t){if(e)return String(e);if(typeof t=="string")return t}function uce(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?Yle({x:e,y:t},n):null}var dce=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return $s($s($s({},n),kr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return $s($s($s({},n),kr(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},fce=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,_l=e=>e.layout.width,jl=e=>e.layout.height,hce=e=>e.layout.scale,N6=e=>e.layout.margin,MN=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),DN=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),C6="data-recharts-item-index",E6="data-recharts-item-data-key",M0=60;function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){mce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t,r){return(t=pce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pce(e){var t=gce(e,"string");return typeof t=="symbol"?t:t+""}function gce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vce=e=>e.brush.height,Kr=J([_l,jl,N6,vce,MN,DN,ZB,Boe],(e,t,r,n,s,i,o,l)=>{var c=i.reduce((y,g)=>{var{orientation:w}=g;if(!g.mirror&&!g.hide){var b=typeof g.width=="number"?g.width:M0;return uo(uo({},y),{},{[w]:y[w]+b})}return y},{left:r.left||0,right:r.right||0}),u=s.reduce((y,g)=>{var{orientation:w}=g;return!g.mirror&&!g.hide?uo(uo({},y),{},{[w]:ll(y,"".concat(w))+g.height}):y},{top:r.top||0,bottom:r.bottom||0}),d=uo(uo({},u),c),f=d.bottom;d.bottom+=n,d=Jle(d,o,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return uo(uo({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),yce=J(Kr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),P6=J(_l,jl,(e,t)=>({x:0,y:0,width:e,height:t})),xce=p.createContext(null),Rn=()=>p.useContext(xce)!=null,D0=e=>e.brush,R0=J([D0,Kr,N6],(e,t,r)=>({height:e.height,x:Re(e.x)?e.x:t.left,y:Re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Re(e.width)?e.width:t.width})),RN=()=>{var e,t=Rn(),r=$e(yce),n=$e(R0),s=(e=$e(D0))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},bce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},op=()=>{var e;return(e=$e(Kr))!==null&&e!==void 0?e:bce},A6=()=>$e(_l),O6=()=>$e(jl),kt=e=>e.layout.layoutType,I0=()=>$e(kt),wce={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T6=ri({name:"legend",initialState:wce,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Xo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:ICe,setLegendSettings:$Ce,addLegendPayload:M6,removeLegendPayload:D6}=T6.actions,_ce=T6.reducer;function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1.apply(null,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jce(e,t,r){return(t=Sce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sce(e){var t=kce(e,"string");return typeof t=="symbol"?t:t+""}function kce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nce(e){return Array.isArray(e)&&aa(e[0])&&aa(e[1])?e.join(" ~ "):e}var Cce=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(l?N0(i,l):i).map((k,C)=>{if(k.type==="none")return null;var E=k.formatter||o||Nce,{value:A,name:P}=k,O=A,$=P;if(E){var I=E(A,P,k,C,i);if(Array.isArray(I))[O,$]=I;else if(I!=null)O=I;else return null}var B=Tw({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:B},aa($)?p.createElement("span",{className:"recharts-tooltip-item-name"},$):null,aa($)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},O),p.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},y=Tw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Tw({margin:0},s),w=!Lt(d),b=w?d:"",x=xt("recharts-default-tooltip",c),v=xt("recharts-tooltip-label",u);w&&f&&i!==void 0&&i!==null&&(b=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",i1({className:x,style:y},_),p.createElement("p",{className:v,style:g},p.isValidElement(b)?b:"".concat(b)),m())},_f="recharts-tooltip-wrapper",Ece={visibility:"hidden"};function Pce(e){var{coordinate:t,translateX:r,translateY:n}=e;return xt(_f,{["".concat(_f,"-right")]:Re(r)&&t&&Re(t.x)&&r>=t.x,["".concat(_f,"-left")]:Re(r)&&t&&Re(t.x)&&r<t.x,["".concat(_f,"-bottom")]:Re(n)&&t&&Re(t.y)&&n>=t.y,["".concat(_f,"-top")]:Re(n)&&t&&Re(t.y)&&n<t.y})}function CO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&Re(i[n]))return i[n];var d=r[n]-l-(s>0?s:0),f=r[n]+s;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,y=h;return m<y?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+l,w=h+u;return g>w?Math.max(d,h):Math.max(f,h)}function Ace(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Oce(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=CO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=CO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Ace({translateX:d,translateY:f,useTranslate3d:l})):u=Ece,{cssProperties:u,cssClasses:Pce({translateX:d,translateY:f,coordinate:r})}}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){a1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a1(e,t,r){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=Mce(e,"string");return typeof t=="symbol"?t:t+""}function Mce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dce extends p.PureComponent{constructor(){super(...arguments),a1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),a1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:y,lastBoundingBox:g,innerRef:w,hasPortalFromProps:b}=this.props,{cssClasses:x,cssProperties:v}=Oce({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),_=b?{}:lg(lg({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=lg(lg({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:w},i)}}var Rce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fc={isSsr:Rce()},R6=()=>$e(e=>e.rootProps.accessibilityLayer);function ks(e){return Number.isFinite(e)}function Sd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o1.apply(null,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){Ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ice(e,t,r){return(t=$ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ce(e){var t=Lce(e,"string");return typeof t=="symbol"?t:t+""}function Lce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OO={curveBasisClosed:Mae,curveBasisOpen:Dae,curveBasis:Tae,curveBumpX:yae,curveBumpY:xae,curveLinearClosed:Rae,curveLinear:x0,curveMonotoneX:Iae,curveMonotoneY:$ae,curveNatural:Lae,curveStep:Fae,curveStepAfter:zae,curveStepBefore:Bae},cg=e=>ks(e.x)&&ks(e.y),jf=e=>e.x,Sf=e=>e.y,Fce=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(sp(e));return(r==="curveMonotone"||r==="curveBump")&&t?OO["".concat(r).concat(t==="vertical"?"Y":"X")]:OO[r]||x0},Bce=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=Fce(t,s),l=i?r.filter(cg):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>cg(f)):n,d=l.map((f,h)=>AO(AO({},f),{},{base:u[h]}));return s==="vertical"?c=ng().y(Sf).x1(jf).x0(f=>f.base.x):c=ng().x(jf).y1(Sf).y0(f=>f.base.y),c.defined(cg).curve(o),c(d)}return s==="vertical"&&Re(n)?c=ng().y(Sf).x1(jf).x0(n):Re(n)?c=ng().x(jf).y1(Sf).y0(n):c=hB().x(jf).y(Sf),c.defined(cg).curve(o),c(l)},IN=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Bce(e):n;return p.createElement("path",o1({},ht(e,!1),mN(e),{className:xt("recharts-curve",t),d:i===null?void 0:i,ref:s}))},zce=["x","y","top","left","width","height","className"];function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(null,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){Wce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wce(e,t,r){return(t=Vce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Hce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qce(e,t){if(e==null)return{};var r,n,s=Kce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yce=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Gce=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=qce(e,zce),u=Uce({x:t,y:r,top:n,left:s,width:i,height:o},c);return!Re(t)||!Re(r)||!Re(i)||!Re(o)||!Re(n)||!Re(s)?null:p.createElement("path",l1({},ht(u,!0),{className:xt("recharts-cross",l),d:Yce(t,r,i,o,n,s)}))};function Xce(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Qce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qce(e,t,r){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(e,t){var r=Zce({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var I6={},$6={},L6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(L6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L6,r=jN,n=j0,s=S0,i=_0;function o(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,y,g){const w=g(u,d,f,h,m,y);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,y,g)}return c(u,d,y,g)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),y=n.getTag(d);if(m===s.argumentsTag&&(m=s.objectTag),y===s.argumentsTag&&(y=s.objectTag),m!==y)return!1;switch(m){case s.stringTag:return u.toString()===d.toString();case s.numberTag:{const b=u.valueOf(),x=d.valueOf();return i.eq(b,x)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(u.valueOf(),d.valueOf());case s.regexpTag:return u.source===d.source&&u.flags===d.flags;case s.functionTag:return u===d}f=f??new Map;const g=f.get(u),w=f.get(d);if(g!=null&&w!=null)return g===d;f.set(u,d),f.set(d,u);try{switch(m){case s.mapTag:{if(u.size!==d.size)return!1;for(const[b,x]of u.entries())if(!d.has(b)||!l(x,d.get(b),b,u,d,f,h))return!1;return!0}case s.setTag:{if(u.size!==d.size)return!1;const b=Array.from(u.values()),x=Array.from(d.values());for(let v=0;v<b.length;v++){const _=b[v],j=x.findIndex(S=>l(_,S,void 0,u,d,f,h));if(j===-1)return!1;x.splice(j,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let b=0;b<u.length;b++)if(!l(u[b],d[b],b,u,d,f,h))return!1;return!0}case s.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.errorTag:return u.name===d.name&&u.message===d.message;case s.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const x=[...Object.keys(u),...r.getSymbols(u)],v=[...Object.keys(d),...r.getSymbols(d)];if(x.length!==v.length)return!1;for(let _=0;_<x.length;_++){const j=x[_],S=u[j];if(!Object.hasOwn(d,j))return!1;const k=d[j];if(!l(S,k,j,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=o})($6);var F6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(F6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$6,r=F6;function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n})(I6);var tue=I6.isEqual;const rue=Ti(tue);function nue(e){var t={},r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}var ky=1e-4,B6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],z6=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),DO=(e,t)=>r=>{var n=B6(e,t);return z6(n,r)},sue=(e,t)=>r=>{var n=B6(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return z6(s,r)},RO=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else o.length===4&&([t,n,r,s]=o);var u=DO(t,r),d=DO(n,s),f=sue(t,r),h=y=>y>1?1:y<0?0:y,m=y=>{for(var g=y>1?1:y,w=g,b=0;b<8;++b){var x=u(w)-g,v=f(w);if(Math.abs(x-g)<ky||v<ky)return d(w);w=h(w-x/v)}return d(w)};return m.isStepper=!1,m},iue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*s/1e3,h=c*s/1e3+o;return Math.abs(h-l)<ky&&Math.abs(f)<ky?[l,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},aue=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RO(e);case"spring":return iue();default:if(e.split("(")[0]==="cubic-bezier")return RO(e)}return typeof e=="function"?e:null};function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){oue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oue(e,t,r){return(t=lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lue(e){var t=cue(e,"string");return typeof t=="symbol"?t:t+""}function cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),due=(e,t,r)=>e.map(n=>"".concat(uue(n)," ").concat(t,"ms ").concat(r)).join(","),fue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),om=(e,t)=>Object.keys(t).reduce((r,n)=>$O($O({},r),{},{[n]:e(n,t[n])}),{});function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return(t=mue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny=(e,t,r)=>e+(t-e)*r,c1=e=>{var{from:t,to:r}=e;return t!==r},U6=(e,t,r)=>{var n=om((s,i)=>{if(c1(i)){var[o,l]=e(i.from,i.to,i.velocity);return Jr(Jr({},i),{},{from:o,velocity:l})}return i},t);return r<1?om((s,i)=>c1(i)?Jr(Jr({},i),{},{velocity:Ny(i.velocity,n[s].velocity,r),from:Ny(i.from,n[s].from,r)}):i,t):U6(e,n,r-1)};function gue(e,t,r,n,s,i){var o,l=n.reduce((h,m)=>Jr(Jr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>om((h,m)=>m.from,l),u=()=>!Object.values(l).filter(c1).length,d=null,f=h=>{o||(o=h);var m=h-o,y=m/r.dt;l=U6(r,l,y),s(Jr(Jr(Jr({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function vue(e,t,r,n,s,i,o){var l=null,c=s.reduce((f,h)=>Jr(Jr({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=om((g,w)=>Ny(...w,r(h)),c);if(i(Jr(Jr(Jr({},e),t),m)),h<1)l=o.setTimeout(d);else{var y=om((g,w)=>Ny(...w,r(1)),c);i(Jr(Jr(Jr({},e),t),y))}};return()=>(l=o.setTimeout(d),()=>{l()})}const yue=(e,t,r,n,s,i)=>{var o=fue(e,t);return r.isStepper===!0?gue(e,t,r,o,s,i):vue(e,t,r,n,o,s,i)};class xue{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var bue=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u1.apply(null,arguments)}function wue(e,t){if(e==null)return{};var r,n,s=_ue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _ue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){Gl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gl(e,t,r){return(t=jue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kue(){return nue(new xue)}class $N extends p.PureComponent{constructor(t,r){super(t,r),Gl(this,"mounted",!1),Gl(this,"manager",null),Gl(this,"stopJSAnimation",null),Gl(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:o,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:s?{[s]:o}:o};this.state&&c&&(s&&c[s]!==o||!s&&c!==o)&&this.setState(u);return}if(!(rue(t.to,o)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||i?l:t.to;if(this.state&&c){var h={style:s?{[s]:f}:f};(s&&c[s]!==f||!s&&c!==f)&&this.setState(h)}this.runAnimation(fo(fo({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,u=yue(r,n,aue(i),s,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,o,d,s,l])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var d=s?{[s]:i}:i,f=due(Object.keys(d),n,o);this.manager.start([l,r,fo(fo({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:o,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:y}=t,g=wue(t,bue),w=p.Children.count(r),b=this.state.style;if(typeof r=="function")return r(b);if(!l||w===0||s<=0)return r;var x=v=>{var{style:_={},className:j}=v.props,S=p.cloneElement(v,fo(fo({},g),{},{style:fo(fo({},_),b),className:j}));return S};return w===1?x(p.Children.only(r)):p.createElement("div",null,p.Children.map(r,v=>x(v)))}}Gl($N,"displayName","Animate");Gl($N,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Nue=p.createContext(null);function cl(e){var t,r,n=p.useContext(Nue);return p.createElement($N,u1({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:kue()}))}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}var BO=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Cue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W6=e=>{var t=ni(e,Cue),r=p.useRef(null),[n,s]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var w=xt("recharts-rectangle",d);return g?p.createElement(cl,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:h,animationEasing:f,isActive:g},b=>{var{width:x,height:v,x:_,y:j}=b;return p.createElement(cl,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:y,easing:f},p.createElement("path",Cy({},ht(t,!0),{className:w,d:BO(_,j,x,v,u),ref:r})))}):p.createElement("path",Cy({},ht(t,!0),{className:w,d:BO(i,o,l,c,u)}))};function V6(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=kr(t,r,n,s),l=kr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d1.apply(null,arguments)}var Eue=(e,t)=>{var r=Vr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ug=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/Sy,f=c?s:s+i*d,h=kr(t,r,u,f),m=kr(t,r,n,f),y=c?s-i*d:s,g=kr(t,r,u*Math.cos(d*Sy),y);return{center:h,circleTangency:m,lineTangency:g,theta:d}},H6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=Eue(i,o),c=i+l,u=kr(t,r,s,i),d=kr(t,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=kr(t,r,n,i),m=kr(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Pue=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Vr(u-c),{circleTangency:f,lineTangency:h,theta:m}=ug({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:g,theta:w}=ug({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(b<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):H6({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:v,lineTangency:_,theta:j}=ug({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:k,theta:C}=ug({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-j-C;if(E<0&&i===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},Aue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q6=e=>{var t=ni(e,Aue),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<s||u===d)return null;var h=xt("recharts-sector",f),m=i-s,y=On(o,m,0,!0),g;return y>0&&Math.abs(u-d)<360?g=Pue({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=H6({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",d1({},ht(t,!0),{className:h,d:g}))};function Oue(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=kr(l,c,u,f),m=kr(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return V6(t);return[{x:n,y:s},{x:i,y:o}]}var K6={},Y6={},G6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NN;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(G6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G6;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Y6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CN,r=Y6;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=o;return c}e.range=n})(K6);var Tue=K6.range;const X6=Ti(Tue);function Zo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LN(e){let t,r,n;e.length!==2?(t=Zo,r=(l,c)=>Zo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Zo||e===Mue?e:Due,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Due(){return 0}function Z6(e){return e===null?NaN:+e}function*Rue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Iue=LN(Zo),lp=Iue.right;LN(Z6).center;class zO extends Map{constructor(t,r=Fue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(UO(this,t))}has(t){return super.has(UO(this,t))}set(t,r){return super.set($ue(this,t),r)}delete(t){return super.delete(Lue(this,t))}}function UO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $ue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Lue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Fue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bue(e=Zo){if(e===Zo)return Q6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Q6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zue=Math.sqrt(50),Uue=Math.sqrt(10),Wue=Math.sqrt(2);function Ey(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=zue?10:i>=Uue?5:i>=Wue?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ey(e,t,r*2):[l,c,u]}function f1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Ey(t,e,r):Ey(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function h1(e,t,r){return t=+t,e=+e,r=+r,Ey(e,t,r)[2]}function m1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?h1(t,e,r):h1(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function WO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function J6(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?Q6:Bue(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));J6(e,t,m,y,s)}const i=e[t];let o=r,l=n;for(kf(e,r,t),s(e[n],i)>0&&kf(e,r,n);o<l;){for(kf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?kf(e,r,l):(++l,kf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function kf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Vue(e,t,r){if(e=Float64Array.from(Rue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return VO(e);if(t>=1)return WO(e);var n,s=(n-1)*t,i=Math.floor(s),o=WO(J6(e,i).subarray(0,i+1)),l=VO(e.subarray(i+1));return o+(l-o)*(s-i)}}function Hue(e,t,r=Z6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function que(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function si(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ro(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const p1=Symbol("implicit");function FN(){var e=new zO,t=[],r=[],n=p1;function s(i){let o=e.get(i);if(o===void 0){if(n!==p1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new zO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return FN(t,r).unknown(n)},si.apply(s,arguments),s}function BN(){var e=FN().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,y=m?s:n,g=m?n:s;i=(g-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(g-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var w=que(h).map(function(b){return y+i*b});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return BN(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},si.apply(f(),arguments)}function e8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return e8(t())},e}function Kue(){return e8(BN.apply(null,arguments).paddingInner(1))}function zN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function t8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cp(){}var lm=.7,Py=1/lm,Uu="\\s*([+-]?\\d+)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ea="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yue=/^#([0-9a-f]{3,8})$/,Gue=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),Xue=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),Zue=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${cm}\\)$`),Que=new RegExp(`^rgba\\(${ea},${ea},${ea},${cm}\\)$`),Jue=new RegExp(`^hsl\\(${cm},${ea},${ea}\\)$`),ede=new RegExp(`^hsla\\(${cm},${ea},${ea},${cm}\\)$`),HO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zN(cp,um,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qO,formatHex:qO,formatHex8:tde,formatHsl:rde,formatRgb:KO,toString:KO});function qO(){return this.rgb().formatHex()}function tde(){return this.rgb().formatHex8()}function rde(){return r8(this).formatHsl()}function KO(){return this.rgb().formatRgb()}function um(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Yue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YO(t):r===3?new Yn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gue.exec(e))?new Yn(t[1],t[2],t[3],1):(t=Xue.exec(e))?new Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zue.exec(e))?dg(t[1],t[2],t[3],t[4]):(t=Que.exec(e))?dg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Jue.exec(e))?ZO(t[1],t[2]/100,t[3]/100,1):(t=ede.exec(e))?ZO(t[1],t[2]/100,t[3]/100,t[4]):HO.hasOwnProperty(e)?YO(HO[e]):e==="transparent"?new Yn(NaN,NaN,NaN,0):null}function YO(e){return new Yn(e>>16&255,e>>8&255,e&255,1)}function dg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yn(e,t,r,n)}function nde(e){return e instanceof cp||(e=um(e)),e?(e=e.rgb(),new Yn(e.r,e.g,e.b,e.opacity)):new Yn}function g1(e,t,r,n){return arguments.length===1?nde(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zN(Yn,g1,t8(cp,{brighter(e){return e=e==null?Py:Math.pow(Py,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new Yn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yn(uc(this.r),uc(this.g),uc(this.b),Ay(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GO,formatHex:GO,formatHex8:sde,formatRgb:XO,toString:XO}));function GO(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}`}function sde(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}${Xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function XO(){const e=Ay(this.opacity);return`${e===1?"rgb(":"rgba("}${uc(this.r)}, ${uc(this.g)}, ${uc(this.b)}${e===1?")":`, ${e})`}`}function Ay(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xl(e){return e=uc(e),(e<16?"0":"")+e.toString(16)}function ZO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wi(e,t,r,n)}function r8(e){if(e instanceof wi)return new wi(e.h,e.s,e.l,e.opacity);if(e instanceof cp||(e=um(e)),!e)return new wi;if(e instanceof wi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new wi(o,l,c,e.opacity)}function ide(e,t,r,n){return arguments.length===1?r8(e):new wi(e,t,r,n??1)}function wi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zN(wi,ide,t8(cp,{brighter(e){return e=e==null?Py:Math.pow(Py,e),new wi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lm:Math.pow(lm,e),new wi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Yn(Mw(e>=240?e-240:e+120,s,n),Mw(e,s,n),Mw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new wi(QO(this.h),fg(this.s),fg(this.l),Ay(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ay(this.opacity);return`${e===1?"hsl(":"hsla("}${QO(this.h)}, ${fg(this.s)*100}%, ${fg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QO(e){return e=(e||0)%360,e<0?e+360:e}function fg(e){return Math.max(0,Math.min(1,e||0))}function Mw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const UN=e=>()=>e;function ade(e,t){return function(r){return e+r*t}}function ode(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function lde(e){return(e=+e)==1?n8:function(t,r){return r-t?ode(t,r,e):UN(isNaN(t)?r:t)}}function n8(e,t){var r=t-e;return r?ade(e,r):UN(isNaN(e)?t:e)}const JO=function e(t){var r=lde(t);function n(s,i){var o=r((s=g1(s)).r,(i=g1(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=n8(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function cde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function ude(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dde(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Yd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function fde(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Oy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function hde(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Yd(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var v1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dw=new RegExp(v1.source,"g");function mde(e){return function(){return e}}function pde(e){return function(t){return e(t)+""}}function gde(e,t){var r=v1.lastIndex=Dw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=v1.exec(e))&&(s=Dw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Oy(n,s)})),r=Dw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?pde(c[0].x):mde(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Yd(e,t){var r=typeof t,n;return t==null||r==="boolean"?UN(t):(r==="number"?Oy:r==="string"?(n=um(t))?(t=n,JO):gde:t instanceof um?JO:t instanceof Date?fde:ude(t)?cde:Array.isArray(t)?dde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hde:Oy)(e,t)}function WN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vde(e,t){t===void 0&&(t=e,e=Yd);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function yde(e){return function(){return e}}function Ty(e){return+e}var eT=[0,1];function Pn(e){return e}function y1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:yde(isNaN(t)?NaN:.5)}function xde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bde(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=y1(s,n),i=r(o,i)):(n=y1(n,s),i=r(i,o)),function(l){return i(n(l))}}function wde(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=y1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=lp(e,l,1,n)-1;return i[c](s[c](l))}}function up(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $0(){var e=eT,t=eT,r=Yd,n,s,i,o=Pn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Pn&&(o=xde(e[0],e[h-1])),l=h>2?wde:bde,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Oy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ty),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=WN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Pn,d()):o!==Pn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function VN(){return $0()(Pn,Pn)}function _de(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function My(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function kd(e){return e=My(Math.abs(e)),e?e[1]:NaN}function jde(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Sde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dm(e){if(!(t=kde.exec(e)))throw new Error("invalid format: "+e);var t;return new HN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dm.prototype=HN.prototype;function HN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nde(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var s8;function Cde(e,t){var r=My(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(s8=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+My(e,Math.max(0,t+i-1))[0]}function tT(e,t){var r=My(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const rT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_de,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tT(e*100,t),r:tT,s:Cde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nT(e){return e}var sT=Array.prototype.map,iT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ede(e){var t=e.grouping===void 0||e.thousands===void 0?nT:jde(sT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nT:Sde(sT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=dm(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,w=f.zero,b=f.width,x=f.comma,v=f.precision,_=f.trim,j=f.type;j==="n"?(x=!0,j="g"):rT[j]||(v===void 0&&(v=12),_=!0,j="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=g==="$"?n:/[%p]/.test(j)?o:"",C=rT[j],E=/[defgprs%]/.test(j);v=v===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function A(P){var O=S,$=k,I,B,U;if(j==="c")$=C(P)+$,P="";else{P=+P;var T=P<0||1/P<0;if(P=isNaN(P)?c:C(Math.abs(P),v),_&&(P=Nde(P)),T&&+P==0&&y!=="+"&&(T=!1),O=(T?y==="("?y:l:y==="-"||y==="("?"":y)+O,$=(j==="s"?iT[8+s8/3]:"")+$+(T&&y==="("?")":""),E){for(I=-1,B=P.length;++I<B;)if(U=P.charCodeAt(I),48>U||U>57){$=(U===46?s+P.slice(I+1):P.slice(I))+$,P=P.slice(0,I);break}}}x&&!w&&(P=t(P,1/0));var N=O.length+P.length+$.length,M=N<b?new Array(b-N+1).join(h):"";switch(x&&w&&(P=t(M+P,M.length?b-$.length:1/0),M=""),m){case"<":P=O+P+$+M;break;case"=":P=O+M+P+$;break;case"^":P=M.slice(0,N=M.length>>1)+O+P+$+M.slice(N);break;default:P=M+O+P+$;break}return i(P)}return A.toString=function(){return f+""},A}function d(f,h){var m=u((f=dm(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(kd(h)/3)))*3,g=Math.pow(10,-y),w=iT[8+y/3];return function(b){return m(g*b)+w}}return{format:u,formatPrefix:d}}var hg,qN,i8;Pde({thousands:",",grouping:[3],currency:["$",""]});function Pde(e){return hg=Ede(e),qN=hg.format,i8=hg.formatPrefix,hg}function Ade(e){return Math.max(0,-kd(Math.abs(e)))}function Ode(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kd(t)/3)))*3-kd(Math.abs(e)))}function Tde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kd(t)-kd(e))+1}function a8(e,t,r,n){var s=m1(e,t,r),i;switch(n=dm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Ode(s,o))&&(n.precision=i),i8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Tde(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ade(s))&&(n.precision=i-(n.type==="%")*2);break}}return qN(n)}function Sl(e){var t=e.domain;return e.ticks=function(r){var n=t();return f1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return a8(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=h1(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function o8(){var e=VN();return e.copy=function(){return up(e,o8())},si.apply(e,arguments),Sl(e)}function l8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ty),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return l8(e).unknown(t)},e=arguments.length?Array.from(e,Ty):[0,1],Sl(r)}function c8(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function aT(e){return Math.log(e)}function oT(e){return Math.exp(e)}function Mde(e){return-Math.log(-e)}function Dde(e){return-Math.exp(-e)}function Rde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ide(e){return e===10?Rde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $de(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function lT(e){return(t,r)=>-e(-t,r)}function KN(e){const t=e(aT,oT),r=t.domain;let n=10,s,i;function o(){return s=$de(n),i=Ide(n),r()[0]<0?(s=lT(s),i=lT(i),e(Mde,Dde)):e(aT,oT),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),y,g;const w=l==null?10:+l;let b=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(g=h<0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(g=h>0?y/i(-h):y*i(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<w&&(b=f1(u,d,w))}else b=f1(h,m,Math.min(m-h,w)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=dm(c)).precision==null&&(c.trim=!0),c=qN(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(c8(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function u8(){const e=KN($0()).domain([1,10]);return e.copy=()=>up(e,u8()).base(e.base()),si.apply(e,arguments),e}function cT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function uT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function YN(e){var t=1,r=e(cT(t),uT(t));return r.constant=function(n){return arguments.length?e(cT(t=+n),uT(t)):t},Sl(r)}function d8(){var e=YN($0());return e.copy=function(){return up(e,d8()).constant(e.constant())},si.apply(e,arguments)}function dT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fde(e){return e<0?-e*e:e*e}function GN(e){var t=e(Pn,Pn),r=1;function n(){return r===1?e(Pn,Pn):r===.5?e(Lde,Fde):e(dT(r),dT(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Sl(t)}function XN(){var e=GN($0());return e.copy=function(){return up(e,XN()).exponent(e.exponent())},si.apply(e,arguments),e}function Bde(){return XN.apply(null,arguments).exponent(.5)}function fT(e){return Math.sign(e)*e*e}function zde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function f8(){var e=VN(),t=[0,1],r=!1,n;function s(i){var o=zde(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(fT(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ty)).map(fT)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return f8(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},si.apply(s,arguments),Sl(s)}function h8(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Hue(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[lp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zo),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return h8().domain(e).range(t).unknown(n)},si.apply(i,arguments)}function m8(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[lp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return m8().domain([e,t]).range(s).unknown(i)},si.apply(Sl(o),arguments)}function p8(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[lp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return p8().domain(e).range(t).unknown(r)},si.apply(s,arguments)}const Rw=new Date,Iw=new Date;function Lr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Lr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(Rw.setTime(+i),Iw.setTime(+o),e(Rw),e(Iw),Math.floor(r(Rw,Iw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Dy=Lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Dy);Dy.range;const Ma=1e3,Fs=Ma*60,Da=Fs*60,Za=Da*24,ZN=Za*7,hT=Za*30,$w=Za*365,Zl=Lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getUTCSeconds());Zl.range;const QN=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ma)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getMinutes());QN.range;const JN=Lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getUTCMinutes());JN.range;const eC=Lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ma-e.getMinutes()*Fs)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getHours());eC.range;const tC=Lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCHours());tC.range;const dp=Lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/Za,e=>e.getDate()-1);dp.range;const L0=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>e.getUTCDate()-1);L0.range;const g8=Lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>Math.floor(e/Za));g8.range;function Bc(e){return Lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/ZN)}const F0=Bc(0),Ry=Bc(1),Ude=Bc(2),Wde=Bc(3),Nd=Bc(4),Vde=Bc(5),Hde=Bc(6);F0.range;Ry.range;Ude.range;Wde.range;Nd.range;Vde.range;Hde.range;function zc(e){return Lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ZN)}const B0=zc(0),Iy=zc(1),qde=zc(2),Kde=zc(3),Cd=zc(4),Yde=zc(5),Gde=zc(6);B0.range;Iy.range;qde.range;Kde.range;Cd.range;Yde.range;Gde.range;const rC=Lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rC.range;const nC=Lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nC.range;const Qa=Lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qa.range;const Ja=Lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ja.range;function v8(e,t,r,n,s,i){const o=[[Zl,1,Ma],[Zl,5,5*Ma],[Zl,15,15*Ma],[Zl,30,30*Ma],[i,1,Fs],[i,5,5*Fs],[i,15,15*Fs],[i,30,30*Fs],[s,1,Da],[s,3,3*Da],[s,6,6*Da],[s,12,12*Da],[n,1,Za],[n,2,2*Za],[r,1,ZN],[t,1,hT],[t,3,3*hT],[e,1,$w]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=LN(([,,w])=>w).right(o,h);if(m===o.length)return e.every(m1(u/$w,d/$w,f));if(m===0)return Dy.every(Math.max(m1(u,d,f),1));const[y,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(g)}return[l,c]}const[Xde,Zde]=v8(Ja,nC,B0,g8,tC,JN),[Qde,Jde]=v8(Qa,rC,F0,dp,eC,QN);function Lw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function efe(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Cf(s),d=Ef(s),f=Cf(i),h=Ef(i),m=Cf(o),y=Ef(o),g=Cf(l),w=Ef(l),b=Cf(c),x=Ef(c),v={a:T,A:N,b:M,B:L,c:null,d:xT,e:xT,f:jfe,g:Mfe,G:Rfe,H:bfe,I:wfe,j:_fe,L:y8,m:Sfe,M:kfe,p:W,q:K,Q:_T,s:jT,S:Nfe,u:Cfe,U:Efe,V:Pfe,w:Afe,W:Ofe,x:null,X:null,y:Tfe,Y:Dfe,Z:Ife,"%":wT},_={a:z,A:H,b:V,B:oe,c:null,d:bT,e:bT,f:Bfe,g:Xfe,G:Qfe,H:$fe,I:Lfe,j:Ffe,L:b8,m:zfe,M:Ufe,p:te,q:Ne,Q:_T,s:jT,S:Wfe,u:Vfe,U:Hfe,V:qfe,w:Kfe,W:Yfe,x:null,X:null,y:Gfe,Y:Zfe,Z:Jfe,"%":wT},j={a:A,A:P,b:O,B:$,c:I,d:vT,e:vT,f:gfe,g:gT,G:pT,H:yT,I:yT,j:ffe,L:pfe,m:dfe,M:hfe,p:E,q:ufe,Q:yfe,s:xfe,S:mfe,u:ife,U:afe,V:ofe,w:sfe,W:lfe,x:B,X:U,y:gT,Y:pT,Z:cfe,"%":vfe};v.x=S(r,v),v.X=S(n,v),v.c=S(t,v),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(ee,pe){return function(we){var Q=[],Je=-1,Le=0,et=ee.length,it,re,D;for(we instanceof Date||(we=new Date(+we));++Je<et;)ee.charCodeAt(Je)===37&&(Q.push(ee.slice(Le,Je)),(re=mT[it=ee.charAt(++Je)])!=null?it=ee.charAt(++Je):re=it==="e"?" ":"0",(D=pe[it])&&(it=D(we,re)),Q.push(it),Le=Je+1);return Q.push(ee.slice(Le,Je)),Q.join("")}}function k(ee,pe){return function(we){var Q=Nf(1900,void 0,1),Je=C(Q,ee,we+="",0),Le,et;if(Je!=we.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(pe&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Le=Fw(Nf(Q.y,0,1)),et=Le.getUTCDay(),Le=et>4||et===0?Iy.ceil(Le):Iy(Le),Le=L0.offset(Le,(Q.V-1)*7),Q.y=Le.getUTCFullYear(),Q.m=Le.getUTCMonth(),Q.d=Le.getUTCDate()+(Q.w+6)%7):(Le=Lw(Nf(Q.y,0,1)),et=Le.getDay(),Le=et>4||et===0?Ry.ceil(Le):Ry(Le),Le=dp.offset(Le,(Q.V-1)*7),Q.y=Le.getFullYear(),Q.m=Le.getMonth(),Q.d=Le.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),et="Z"in Q?Fw(Nf(Q.y,0,1)).getUTCDay():Lw(Nf(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(et+5)%7:Q.w+Q.U*7-(et+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Fw(Q)):Lw(Q)}}function C(ee,pe,we,Q){for(var Je=0,Le=pe.length,et=we.length,it,re;Je<Le;){if(Q>=et)return-1;if(it=pe.charCodeAt(Je++),it===37){if(it=pe.charAt(Je++),re=j[it in mT?pe.charAt(Je++):it],!re||(Q=re(ee,we,Q))<0)return-1}else if(it!=we.charCodeAt(Q++))return-1}return Q}function E(ee,pe,we){var Q=u.exec(pe.slice(we));return Q?(ee.p=d.get(Q[0].toLowerCase()),we+Q[0].length):-1}function A(ee,pe,we){var Q=m.exec(pe.slice(we));return Q?(ee.w=y.get(Q[0].toLowerCase()),we+Q[0].length):-1}function P(ee,pe,we){var Q=f.exec(pe.slice(we));return Q?(ee.w=h.get(Q[0].toLowerCase()),we+Q[0].length):-1}function O(ee,pe,we){var Q=b.exec(pe.slice(we));return Q?(ee.m=x.get(Q[0].toLowerCase()),we+Q[0].length):-1}function $(ee,pe,we){var Q=g.exec(pe.slice(we));return Q?(ee.m=w.get(Q[0].toLowerCase()),we+Q[0].length):-1}function I(ee,pe,we){return C(ee,t,pe,we)}function B(ee,pe,we){return C(ee,r,pe,we)}function U(ee,pe,we){return C(ee,n,pe,we)}function T(ee){return o[ee.getDay()]}function N(ee){return i[ee.getDay()]}function M(ee){return c[ee.getMonth()]}function L(ee){return l[ee.getMonth()]}function W(ee){return s[+(ee.getHours()>=12)]}function K(ee){return 1+~~(ee.getMonth()/3)}function z(ee){return o[ee.getUTCDay()]}function H(ee){return i[ee.getUTCDay()]}function V(ee){return c[ee.getUTCMonth()]}function oe(ee){return l[ee.getUTCMonth()]}function te(ee){return s[+(ee.getUTCHours()>=12)]}function Ne(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var pe=S(ee+="",v);return pe.toString=function(){return ee},pe},parse:function(ee){var pe=k(ee+="",!1);return pe.toString=function(){return ee},pe},utcFormat:function(ee){var pe=S(ee+="",_);return pe.toString=function(){return ee},pe},utcParse:function(ee){var pe=k(ee+="",!0);return pe.toString=function(){return ee},pe}}}var mT={"-":"",_:" ",0:"0"},Yr=/^\s*\d+/,tfe=/^%/,rfe=/[\\^$*+?|[\]().{}]/g;function _t(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function nfe(e){return e.replace(rfe,"\\$&")}function Cf(e){return new RegExp("^(?:"+e.map(nfe).join("|")+")","i")}function Ef(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sfe(e,t,r){var n=Yr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ife(e,t,r){var n=Yr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function afe(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ofe(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function lfe(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pT(e,t,r){var n=Yr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gT(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function cfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ufe(e,t,r){var n=Yr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function dfe(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function vT(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ffe(e,t,r){var n=Yr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yT(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function hfe(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function mfe(e,t,r){var n=Yr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pfe(e,t,r){var n=Yr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function gfe(e,t,r){var n=Yr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vfe(e,t,r){var n=tfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function yfe(e,t,r){var n=Yr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function xfe(e,t,r){var n=Yr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xT(e,t){return _t(e.getDate(),t,2)}function bfe(e,t){return _t(e.getHours(),t,2)}function wfe(e,t){return _t(e.getHours()%12||12,t,2)}function _fe(e,t){return _t(1+dp.count(Qa(e),e),t,3)}function y8(e,t){return _t(e.getMilliseconds(),t,3)}function jfe(e,t){return y8(e,t)+"000"}function Sfe(e,t){return _t(e.getMonth()+1,t,2)}function kfe(e,t){return _t(e.getMinutes(),t,2)}function Nfe(e,t){return _t(e.getSeconds(),t,2)}function Cfe(e){var t=e.getDay();return t===0?7:t}function Efe(e,t){return _t(F0.count(Qa(e)-1,e),t,2)}function x8(e){var t=e.getDay();return t>=4||t===0?Nd(e):Nd.ceil(e)}function Pfe(e,t){return e=x8(e),_t(Nd.count(Qa(e),e)+(Qa(e).getDay()===4),t,2)}function Afe(e){return e.getDay()}function Ofe(e,t){return _t(Ry.count(Qa(e)-1,e),t,2)}function Tfe(e,t){return _t(e.getFullYear()%100,t,2)}function Mfe(e,t){return e=x8(e),_t(e.getFullYear()%100,t,2)}function Dfe(e,t){return _t(e.getFullYear()%1e4,t,4)}function Rfe(e,t){var r=e.getDay();return e=r>=4||r===0?Nd(e):Nd.ceil(e),_t(e.getFullYear()%1e4,t,4)}function Ife(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function bT(e,t){return _t(e.getUTCDate(),t,2)}function $fe(e,t){return _t(e.getUTCHours(),t,2)}function Lfe(e,t){return _t(e.getUTCHours()%12||12,t,2)}function Ffe(e,t){return _t(1+L0.count(Ja(e),e),t,3)}function b8(e,t){return _t(e.getUTCMilliseconds(),t,3)}function Bfe(e,t){return b8(e,t)+"000"}function zfe(e,t){return _t(e.getUTCMonth()+1,t,2)}function Ufe(e,t){return _t(e.getUTCMinutes(),t,2)}function Wfe(e,t){return _t(e.getUTCSeconds(),t,2)}function Vfe(e){var t=e.getUTCDay();return t===0?7:t}function Hfe(e,t){return _t(B0.count(Ja(e)-1,e),t,2)}function w8(e){var t=e.getUTCDay();return t>=4||t===0?Cd(e):Cd.ceil(e)}function qfe(e,t){return e=w8(e),_t(Cd.count(Ja(e),e)+(Ja(e).getUTCDay()===4),t,2)}function Kfe(e){return e.getUTCDay()}function Yfe(e,t){return _t(Iy.count(Ja(e)-1,e),t,2)}function Gfe(e,t){return _t(e.getUTCFullYear()%100,t,2)}function Xfe(e,t){return e=w8(e),_t(e.getUTCFullYear()%100,t,2)}function Zfe(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function Qfe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cd(e):Cd.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function Jfe(){return"+0000"}function wT(){return"%"}function _T(e){return+e}function jT(e){return Math.floor(+e/1e3)}var iu,_8,j8;ehe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ehe(e){return iu=efe(e),_8=iu.format,iu.parse,j8=iu.utcFormat,iu.utcParse,iu}function the(e){return new Date(e)}function rhe(e){return e instanceof Date?+e:+new Date(+e)}function sC(e,t,r,n,s,i,o,l,c,u){var d=VN(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),w=u("%I %p"),b=u("%a %d"),x=u("%b %d"),v=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?y:o(S)<S?g:i(S)<S?w:n(S)<S?s(S)<S?b:x:r(S)<S?v:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,rhe)):h().map(the)},d.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},d.tickFormat=function(S,k){return k==null?j:u(k)},d.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(c8(k,S)):d},d.copy=function(){return up(d,sC(e,t,r,n,s,i,o,l,c,u))},d}function nhe(){return si.apply(sC(Qde,Jde,Qa,rC,F0,dp,eC,QN,Zl,_8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function she(){return si.apply(sC(Xde,Zde,Ja,nC,B0,L0,tC,JN,Zl,j8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function z0(){var e=0,t=1,r,n,s,i,o=Pn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(Yd),u.rangeRound=d(WN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function kl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S8(){var e=Sl(z0()(Pn));return e.copy=function(){return kl(e,S8())},ro.apply(e,arguments)}function k8(){var e=KN(z0()).domain([1,10]);return e.copy=function(){return kl(e,k8()).base(e.base())},ro.apply(e,arguments)}function N8(){var e=YN(z0());return e.copy=function(){return kl(e,N8()).constant(e.constant())},ro.apply(e,arguments)}function iC(){var e=GN(z0());return e.copy=function(){return kl(e,iC()).exponent(e.exponent())},ro.apply(e,arguments)}function ihe(){return iC.apply(null,arguments).exponent(.5)}function C8(){var e=[],t=Pn;function r(n){if(n!=null&&!isNaN(n=+n))return t((lp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Zo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Vue(e,i/n))},r.copy=function(){return C8(t).domain(e)},ro.apply(r,arguments)}function U0(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Pn,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(w){var b,x,v;return arguments.length?([b,x,v]=w,u=vde(g,[b,x,v]),m):[u(0),u(.5),u(1)]}}return m.range=y(Yd),m.rangeRound=y(WN),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,s=g(e),i=g(t),o=g(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function E8(){var e=Sl(U0()(Pn));return e.copy=function(){return kl(e,E8())},ro.apply(e,arguments)}function P8(){var e=KN(U0()).domain([.1,1,10]);return e.copy=function(){return kl(e,P8()).base(e.base())},ro.apply(e,arguments)}function A8(){var e=YN(U0());return e.copy=function(){return kl(e,A8()).constant(e.constant())},ro.apply(e,arguments)}function aC(){var e=GN(U0());return e.copy=function(){return kl(e,aC()).exponent(e.exponent())},ro.apply(e,arguments)}function ahe(){return aC.apply(null,arguments).exponent(.5)}const Yf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:BN,scaleDiverging:E8,scaleDivergingLog:P8,scaleDivergingPow:aC,scaleDivergingSqrt:ahe,scaleDivergingSymlog:A8,scaleIdentity:l8,scaleImplicit:p1,scaleLinear:o8,scaleLog:u8,scaleOrdinal:FN,scalePoint:Kue,scalePow:XN,scaleQuantile:h8,scaleQuantize:m8,scaleRadial:f8,scaleSequential:S8,scaleSequentialLog:k8,scaleSequentialPow:iC,scaleSequentialQuantile:C8,scaleSequentialSqrt:ihe,scaleSequentialSymlog:N8,scaleSqrt:Bde,scaleSymlog:d8,scaleThreshold:p8,scaleTime:nhe,scaleUtc:she,tickFormat:a8},Symbol.toStringTag,{value:"Module"}));var Gd=e=>e.chartData,oC=J([Gd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lC=(e,t,r,n)=>n?oC(e):Gd(e);function Ed(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ks(t)&&ks(r))return!0}return!1}function ST(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function ohe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(ks(r))s=r;else if(typeof r=="function")return;if(ks(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Ed(o))return o}}function lhe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ed(n))return ST(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(Re(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&_O.test(s)){var c=_O.exec(s);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Re(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&jO.test(i)){var d=jO.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(Ed(h))return t==null?h:ST(h,t,r)}}}var Xd=1e9,che={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uC,Zt=!0,Qs="[DecimalError] ",dc=Qs+"Invalid argument: ",cC=Qs+"Exponent out of range: ",Zd=Math.floor,Fl=Math.pow,uhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gs,Ur=1e7,Kt=7,O8=9007199254740991,$y=Zd(O8/Kt),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(e){return Fa(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,r=t.constructor;return $t(Fa(t,new r(e),0,1),r.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return Cr(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gs))throw Error(Qs+"NaN");if(r.s<1)throw Error(Qs+(r.s?"NaN":"-Infinity"));return r.eq(gs)?new n(0):(Zt=!1,t=Fa(fm(r,i),fm(e,i),i),Zt=!0,$t(t,s))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D8(t,e):T8(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Qs+"NaN");return r.s?(Zt=!1,t=Fa(r,e,0,1).times(e),Zt=!0,r.minus(t)):$t(new n(r),s)};De.naturalExponential=De.exp=function(){return M8(this)};De.naturalLogarithm=De.ln=function(){return fm(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T8(t,e):D8(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dc+e);if(t=Cr(s)+1,n=s.d.length-1,r=n*Kt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};De.squareRoot=De.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qs+"NaN")}for(e=Cr(l),Zt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Gi(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Zd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Fa(l,i,o+2)).times(.5),Gi(i.d).slice(0,o)===(t=Gi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if($t(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Zt=!0,$t(n,r)};De.times=De.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Ur|0,t=l/Ur|0;i[s]=(i[s]+t)%Ur|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Zt?$t(e,f.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oa(e,0,Xd),t===void 0?t=n.rounding:oa(t,0,8),$t(r,e+Cr(r)+1,t))};De.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ec(n,!0):(oa(e,0,Xd),t===void 0?t=s.rounding:oa(t,0,8),n=$t(new s(n),e+1,t),r=Ec(n,!0,e+1)),r};De.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ec(s):(oa(e,0,Xd),t===void 0?t=i.rounding:oa(t,0,8),n=$t(new i(s),e+Cr(s)+1,t),r=Ec(n.abs(),!1,e+Cr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return $t(new t(e),Cr(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Qs+"Infinity");return l}if(l.eq(gs))return l;if(n=c.precision,e.eq(gs))return $t(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=O8){for(s=new c(gs),t=Math.ceil(n/Kt+4),Zt=!1;r%2&&(s=s.times(l),NT(s.d,t)),r=Zd(r/2),r!==0;)l=l.times(l),NT(l.d,t);return Zt=!0,e.s<0?new c(gs).div(s):$t(s,n)}}else if(i<0)throw Error(Qs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Zt=!1,s=e.times(fm(l,n+u)),Zt=!0,s=M8(s),s.s=i,s};De.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Cr(s),n=Ec(s,r<=i.toExpNeg||r>=i.toExpPos)):(oa(e,1,Xd),t===void 0?t=i.rounding:oa(t,0,8),s=$t(new i(s),e,t),r=Cr(s),n=Ec(s,e<=r||r<=i.toExpNeg,e)),n};De.toSignificantDigits=De.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oa(e,1,Xd),t===void 0?t=n.rounding:oa(t,0,8)),$t(new n(r),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cr(e),r=e.constructor;return Ec(e,t<=r.toExpNeg||t>=r.toExpPos)};function T8(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Zt?$t(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Kt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ur|0,c[i]%=Ur;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Zt?$t(t,f):t}function oa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(dc+e)}function Gi(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Kt-n.length,r&&(i+=_o(r)),i+=n;o=e[t],n=o+"",r=Kt-n.length,r&&(i+=_o(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fa=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ur|0,o=i/Ur|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ur+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,y,g,w,b,x,v,_,j,S,k,C,E=n.constructor,A=n.s==s.s?1:-1,P=n.d,O=s.d;if(!n.s)return new E(n);if(!s.s)throw Error(Qs+"Division by zero");for(c=n.e-s.e,k=O.length,j=P.length,m=new E(A),y=m.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,i==null?x=i=E.precision:o?x=i+(Cr(n)-Cr(s))+1:x=i,x<0)return new E(0);if(x=x/Kt+2|0,u=0,k==1)for(d=0,O=O[0],x++;(u<j||d)&&x--;u++)v=d*Ur+(P[u]||0),y[u]=v/O|0,d=v%O|0;else{for(d=Ur/(O[0]+1)|0,d>1&&(O=e(O,d),P=e(P,d),k=O.length,j=P.length),_=k,g=P.slice(0,k),w=g.length;w<k;)g[w++]=0;C=O.slice(),C.unshift(0),S=O[0],O[1]>=Ur/2&&++S;do d=0,l=t(O,g,k,w),l<0?(b=g[0],k!=w&&(b=b*Ur+(g[1]||0)),d=b/S|0,d>1?(d>=Ur&&(d=Ur-1),f=e(O,d),h=f.length,w=g.length,l=t(f,g,h,w),l==1&&(d--,r(f,k<h?C:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<w&&f.unshift(0),r(g,f,w),l==-1&&(w=g.length,l=t(O,g,k,w),l<1&&(d++,r(g,k<w?C:O,w))),w=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[w++]=P[_]||0:(g=[P[_]],w=1);while((_++<j||g[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=c,$t(m,o?i+Cr(m)+1:i)}}();function M8(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Cr(e)>16)throw Error(cC+Cr(e));if(!e.s)return new d(gs);for(t==null?(Zt=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Fl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(gs),d.precision=l;;){if(s=$t(s.times(e),l),r=r.times(++c),o=i.plus(Fa(s,r,l)),Gi(o.d).slice(0,l)===Gi(i.d).slice(0,l)){for(;u--;)i=$t(i.times(i),l);return d.precision=f,t==null?(Zt=!0,$t(i,f)):i}i=o}}function Cr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function Bw(e,t,r){if(t>e.LN10.sd())throw Zt=!0,r&&(e.precision=r),Error(Qs+"LN10 precision limit exceeded");return $t(new e(e.LN10),t)}function _o(e){for(var t="";e--;)t+="0";return t}function fm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,y=m.d,g=m.constructor,w=g.precision;if(m.s<1)throw Error(Qs+(m.s?"NaN":"-Infinity"));if(m.eq(gs))return new g(0);if(t==null?(Zt=!1,u=w):u=t,m.eq(10))return t==null&&(Zt=!0),Bw(g,u);if(u+=h,g.precision=u,r=Gi(y),n=r.charAt(0),i=Cr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Gi(m.d),n=r.charAt(0),f++;i=Cr(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=Bw(g,u+2,w).times(i+""),m=fm(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=w,t==null?(Zt=!0,$t(m,w)):m;for(l=o=m=Fa(m.minus(gs),m.plus(gs),u),d=$t(m.times(m),u),s=3;;){if(o=$t(o.times(d),u),c=l.plus(Fa(o,new g(s),u)),Gi(c.d).slice(0,u)===Gi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Bw(g,u+2,w).times(i+""))),l=Fa(l,new g(f),u),g.precision=w,t==null?(Zt=!0,$t(l,w)):l;l=c,s+=2}}function kT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Zd(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Kt;n<s;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Zt&&(e.e>$y||e.e<-$y))throw Error(cC+r)}else e.s=0,e.e=0,e.d=[0];return e}function $t(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Kt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Kt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Kt,s=n-Kt+o}if(r!==void 0&&(i=Fl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Fl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Cr(e),f.length=1,t=t-i-1,f[0]=Fl(10,(Kt-t%Kt)%Kt),e.e=Zd(-t/Kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Fl(10,Kt-n),f[d]=s>0?(u/Fl(10,o-s)%Fl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ur&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ur)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Zt&&(e.e>$y||e.e<-$y))throw Error(cC+Cr(e));return e}function D8(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Zt?$t(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/Kt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Ur-1;--c[i],c[s]+=Ur}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Zt?$t(t,m):t):new h(0)}function Ec(e,t,r){var n,s=Cr(e),i=Gi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+_o(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+_o(-s-1)+i,r&&(n=r-o)>0&&(i+=_o(n))):s>=o?(i+=_o(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+_o(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=_o(n))),e.s<0?"-"+i:i}function NT(e,t){if(e.length>t)return e.length=t,!0}function R8(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(dc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return kT(o,i.toString())}else if(typeof i!="string")throw Error(dc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,uhe.test(i))kT(o,i);else throw Error(dc+i)}if(s.prototype=De,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=R8,s.config=s.set=dhe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function dhe(e){if(!e||typeof e!="object")throw Error(Qs+"Object expected");var t,r,n,s=["precision",1,Xd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Zd(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(dc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dc+r+": "+n);return this}var uC=R8(che);gs=new uC(1);const Pt=uC;var fhe=e=>e,I8={"@@functional/placeholder":!0},$8=e=>e===I8,CT=e=>function t(){return arguments.length===0||arguments.length===1&&$8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},L8=(e,t)=>e===1?t:CT(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==I8).length;return i>=e?t(...n):L8(e-i,CT(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>$8(d)?l.shift():d);return t(...u,...l)}))}),W0=e=>L8(e.length,e),x1=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},hhe=W0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),mhe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fhe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},b1=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),F8=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function B8(e){var t;return e===0?t=1:t=Math.floor(new Pt(e).abs().log(10).toNumber())+1,t}function z8(e,t,r){for(var n=new Pt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}W0((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});W0((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});W0((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var U8=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},W8=(e,t,r)=>{if(e.lte(0))return new Pt(0);var n=B8(e.toNumber()),s=new Pt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Pt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new Pt(c.toNumber()):new Pt(Math.ceil(c.toNumber()))},phe=(e,t,r)=>{var n=new Pt(1),s=new Pt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Pt(10).pow(B8(e)-1),s=new Pt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Pt(Math.floor(e)))}else e===0?s=new Pt(Math.floor((t-1)/2)):r||(s=new Pt(Math.floor(e)));var o=Math.floor((t-1)/2),l=mhe(hhe(c=>s.add(new Pt(c-o).mul(n)).toNumber()),x1);return l(0,t)},V8=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var o=W8(new Pt(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new Pt(0):(l=new Pt(t).add(r).div(2),l=l.sub(new Pt(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Pt(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?V8(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new Pt(c).mul(o)),tickMax:l.add(new Pt(u).mul(o))})};function ghe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=U8([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...x1(0,n-1).map(()=>1/0)]:[...x1(0,n-1).map(()=>-1/0),l];return t>r?b1(c):c}if(o===l)return phe(o,n,s);var{step:u,tickMin:d,tickMax:f}=V8(o,l,i,s,0),h=z8(d,f.add(new Pt(.1).mul(u)),u);return t>r?b1(h):h}function vhe(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=U8([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=W8(new Pt(o).sub(i).div(l-1),s,0),u=[...z8(new Pt(i),new Pt(o).sub(new Pt(.99).mul(c)),c),o];return r>n?b1(u):u}var yhe=F8(ghe),xhe=F8(vhe),H8=e=>e.rootProps.maxBarSize,bhe=e=>e.rootProps.barGap,q8=e=>e.rootProps.barCategoryGap,whe=e=>e.rootProps.barSize,fp=e=>e.rootProps.stackOffset,dC=e=>e.options.chartName,fC=e=>e.rootProps.syncId,K8=e=>e.rootProps.syncMethod,hC=e=>e.options.eventEmitter,Na={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},fs={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},V0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},_he={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Na.angleAxisId,includeHidden:!1,name:void 0,reversed:Na.reversed,scale:Na.scale,tick:Na.tick,tickCount:void 0,ticks:void 0,type:Na.type,unit:void 0},jhe={allowDataOverflow:fs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fs.scale,tick:fs.tick,tickCount:fs.tickCount,ticks:void 0,type:fs.type,unit:void 0},She={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},khe={allowDataOverflow:fs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fs.scale,tick:fs.tick,tickCount:fs.tickCount,ticks:void 0,type:"category",unit:void 0},mC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?She:_he,pC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?khe:jhe,H0=e=>e.polarOptions,gC=J([_l,jl,Kr],_6),Y8=J([H0,gC],(e,t)=>{if(e!=null)return On(e.innerRadius,t,0)}),G8=J([H0,gC],(e,t)=>{if(e!=null)return On(e.outerRadius,t,t*.8)}),Nhe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},X8=J([H0],Nhe);J([mC,X8],V0);var Z8=J([gC,Y8,G8],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});J([pC,Z8],V0);var Che=J([kt,H0,Y8,G8,_l,jl],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:On(o,s,s/2),cy:On(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),xr=(e,t)=>t,hp=(e,t,r)=>r;function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){Ehe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ehe(e,t,r){return(t=Phe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=Ahe(e,"string");return typeof t=="symbol"?t:t+""}function Ahe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1=[0,"auto"],os={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},no=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??os},ls={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:w1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:M0},Nl=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??ls},Ohe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vC=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Ohe},br=(e,t,r)=>{switch(t){case"xAxis":return no(e,r);case"yAxis":return Nl(e,r);case"zAxis":return vC(e,r);case"angleAxis":return mC(e,r);case"radiusAxis":return pC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},The=(e,t,r)=>{switch(t){case"xAxis":return no(e,r);case"yAxis":return Nl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mp=(e,t,r)=>{switch(t){case"xAxis":return no(e,r);case"yAxis":return Nl(e,r);case"angleAxis":return mC(e,r);case"radiusAxis":return pC(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Q8=e=>e.graphicalItems.countOfBars>0;function yC(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var q0=e=>e.graphicalItems.cartesianItems,Mhe=J([xr,hp],yC),xC=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),pp=J([q0,br,Mhe],xC),J8=e=>e.filter(t=>t.stackId===void 0),Dhe=J([pp],J8),bC=e=>e.map(t=>t.data).filter(Boolean).flat(1),Rhe=J([pp],bC),wC=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},K0=J([Rhe,lC],wC),_C=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Yt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Yt(s,n)}))):e.map(n=>({value:n})),Y0=J([K0,br,pp],_C);function ez(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uc(e){return e.filter(t=>aa(t)||t instanceof Date).map(Number).filter(t=>_s(t)===!1)}function Ihe(e,t,r){return!r||typeof t!="number"||_s(t)?[]:r.length?Uc(r.flatMap(n=>{var s=Yt(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!ks(i)||!ks(o)))return[t-i,t+o]})):[]}var tz=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(u=>u.dataKey);return[o,{stackedData:ice(e,c,r),graphicalItems:l}]}))},_1=J([K0,pp,fp],tz),rz=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=cce(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},$he=J([_1,Gd,xr],rz),nz=(e,t,r,n)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var o,l,c=(o=i.errorBars)===null||o===void 0?void 0:o.filter(d=>ez(n,d)),u=Yt(s,(l=t.dataKey)!==null&&l!==void 0?l:i.dataKey);return{value:u,errorDomain:Ihe(s,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Yt(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Lhe=J(K0,br,Dhe,xr,nz);function Fhe(e){var{value:t}=e;if(aa(t)||t instanceof Date)return t}var Bhe=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Uc(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zhe=(e,t,r)=>{var n=e.map(Fhe).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&sB(n))?X6(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},jC=e=>{var t;if(e==null||!("domain"in e))return w1;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Uc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:w1},SC=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},sz=e=>e.referenceElements.dots,Qd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Uhe=J([sz,xr,hp],Qd),iz=e=>e.referenceElements.areas,Whe=J([iz,xr,hp],Qd),az=e=>e.referenceElements.lines,Vhe=J([az,xr,hp],Qd),oz=(e,t)=>{var r=Uc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hhe=J(Uhe,xr,oz),lz=(e,t)=>{var r=Uc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qhe=J([Whe,xr],lz),cz=(e,t)=>{var r=Uc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Khe=J(Vhe,xr,cz),Yhe=J(Hhe,Khe,qhe,(e,t,r)=>SC(e,r,t)),uz=J([br],jC),kC=(e,t,r,n,s)=>{var i=ohe(t,e.allowDataOverflow);return i??lhe(t,SC(r,s,Bhe(n)),e.allowDataOverflow)},Ghe=J([br,uz,$he,Lhe,Yhe],kC),Xhe=[0,1],NC=(e,t,r,n,s,i,o)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:l,type:c}=e,u=wl(t,i);return u&&l==null?X6(0,r.length):c==="category"?zhe(n,e,u):s==="expand"?Xhe:o}},CC=J([br,kt,K0,Y0,fp,xr,Ghe],NC),dz=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(sp(i));return l in Yf?l:"point"}}},Jd=J([br,kt,Q8,dC,xr],dz);function Zhe(e){if(e!=null){if(e in Yf)return Yf[e]();var t="scale".concat(sp(e));if(t in Yf)return Yf[t]()}}function EC(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=Zhe(t);if(s!=null){var i=s.domain(r).range(n);return ece(i),i}}}var PC=(e,t,r)=>{var n=jC(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ed(e))return yhe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ed(e))return xhe(e,t.tickCount,t.allowDecimals)}},AC=J([CC,mp,Jd],PC),OC=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ed(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},Qhe=J([br,CC,AC,xr],OC),Jhe=J(Y0,br,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Uc(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),fz=J(Jhe,kt,q8,Kr,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!ks(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=On(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),eme=(e,t)=>{var r=no(e,t);return r==null||typeof r.padding!="string"?0:fz(e,"xAxis",t,r.padding)},tme=(e,t)=>{var r=Nl(e,t);return r==null||typeof r.padding!="string"?0:fz(e,"yAxis",t,r.padding)},rme=J(no,eme,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),nme=J(Nl,tme,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),sme=J([Kr,rme,R0,D0,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),ime=J([Kr,kt,nme,R0,D0,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gp=(e,t,r,n)=>{var s;switch(t){case"xAxis":return sme(e,r,n);case"yAxis":return ime(e,r,n);case"zAxis":return(s=vC(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return X8(e);case"radiusAxis":return Z8(e,r);default:return}},hz=J([br,gp],V0),ef=J([br,Jd,Qhe,hz],EC);J(pp,xr,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>ez(t,r)));function mz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var G0=(e,t)=>t,X0=(e,t,r)=>r,ame=J(MN,G0,X0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mz)),ome=J(DN,G0,X0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mz)),pz=(e,t)=>({width:e.width,height:t.height}),lme=(e,t)=>{var r=typeof t.width=="number"?t.width:M0;return{width:r,height:e.height}},gz=J(Kr,no,pz),cme=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},ume=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},dme=J(jl,Kr,ame,G0,X0,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=pz(t,l);o==null&&(o=cme(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),fme=J(_l,Kr,ome,G0,X0,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=lme(t,l);o==null&&(o=ume(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),hme=(e,t)=>{var r=Kr(e),n=no(e,t);if(n!=null){var s=dme(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},mme=(e,t)=>{var r=Kr(e),n=Nl(e,t);if(n!=null){var s=fme(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},vz=J(Kr,Nl,(e,t)=>{var r=typeof t.width=="number"?t.width:M0;return{width:r,height:e.height}}),PT=(e,t,r)=>{switch(t){case"xAxis":return gz(e,r).width;case"yAxis":return vz(e,r).height;default:return}},yz=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=wl(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&s&&sB(c))return c}},TC=J([kt,Y0,br,xr],yz),xz=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=wl(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},MC=J([kt,Y0,mp,xr],xz),AT=J([kt,The,Jd,ef,TC,MC,gp,AC,xr],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var u=wl(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),pme=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var u=wl(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&i!=null&&i.length>=2?Vr(i[0]-i[1])*2*y:y;var g=f||s;if(g){var w=g.map((b,x)=>{var v=o?o.indexOf(b):b;return{index:x,coordinate:n(v)+y,value:b,offset:y}});return w.filter(b=>!_s(b.coordinate))}return u&&l?l.map((b,x)=>({coordinate:n(b)+y,value:b,index:x,offset:y})):n.ticks?n.ticks(h).map(b=>({coordinate:n(b)+y,value:b,offset:y})):n.domain().map((b,x)=>({coordinate:n(b)+y,value:o?o[b]:b,index:x,offset:y}))}},bz=J([kt,mp,Jd,ef,AC,gp,TC,MC,xr],pme),gme=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=wl(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Vr(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:s?s[d]:d,index:f,offset:u}))}},ul=J([kt,mp,ef,gp,TC,MC,xr],gme),la=J(br,ef,(e,t)=>{if(!(e==null||t==null))return Ly(Ly({},e),{},{scale:t})}),vme=J([br,Jd,CC,hz],EC);J((e,t,r)=>vC(e,r),vme,(e,t)=>{if(!(e==null||t==null))return Ly(Ly({},e),{},{scale:t})});var yme=J([kt,MN,DN],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wz=e=>e.options.defaultTooltipEventType,_z=e=>e.options.validateTooltipEventTypes;function jz(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function DC(e,t){var r=wz(e),n=_z(e);return jz(t,r,n)}function xme(e){return $e(t=>DC(t,e))}var Sz=(e,t)=>{var r,n=Number(t);if(!(_s(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},bme=e=>e.tooltip.settings,Eo={active:!1,index:null,dataKey:void 0,coordinate:void 0},wme={itemInteraction:{click:Eo,hover:Eo},axisInteraction:{click:Eo,hover:Eo},keyboardInteraction:Eo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kz=ri({name:"tooltip",initialState:wme,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Xo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_me,removeTooltipEntrySettings:jme,setTooltipSettingsState:Sme,setActiveMouseOverItemIndex:Nz,mouseLeaveItem:kme,mouseLeaveChart:Cz,setActiveClickItemIndex:Nme,setMouseOverAxisIndex:Ez,setMouseClickAxisIndex:Cme,setSyncInteraction:j1,setKeyboardInteraction:S1}=kz.actions,Eme=kz.reducer;function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Pme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pme(e,t,r){return(t=Ame(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ame(e){var t=Ome(e,"string");return typeof t=="symbol"?t:t+""}function Ome(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tme(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Mme(e){return e.index!=null}var Pz=(e,t,r,n)=>{if(t==null)return Eo;var s=Tme(e,t,r);if(s==null)return Eo;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Mme(s)){if(i)return mg(mg({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return mg(mg({},Eo),{},{coordinate:s.coordinate})},RC=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!ks(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},Az=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},Oz=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},Z0=e=>e.options.tooltipPayloadSearcher,tf=e=>e.tooltip,Gr=e=>{var t=kt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rf=e=>e.tooltip.settings.axisId,bn=e=>{var t=Gr(e),r=rf(e);return mp(e,t,r)},IC=J([bn,kt,Q8,dC,Gr],dz),Dme=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Rme=J([Gr,rf],yC),Q0=J([Dme,bn,Rme],xC),Ime=J([Q0],bC),Wc=J([Ime,Gd],wC),$C=J([Wc,bn,Q0],_C),$me=J([bn],jC),Lme=J([Wc,Q0,fp],tz),Fme=J([Lme,Gd,Gr],rz),Bme=J([Q0],J8),zme=J([Wc,bn,Bme,Gr],nz),Ume=J([sz,Gr,rf],Qd),Wme=J([Ume,Gr],oz),Vme=J([iz,Gr,rf],Qd),Hme=J([Vme,Gr],lz),qme=J([az,Gr,rf],Qd),Kme=J([qme,Gr],cz),Yme=J([Wme,Kme,Hme],SC),Gme=J([bn,$me,Fme,zme,Yme],kC),Tz=J([bn,kt,Wc,$C,fp,Gr,Gme],NC),Xme=J([Tz,bn,IC],PC),Zme=J([bn,Tz,Xme,Gr],OC),Mz=e=>{var t=Gr(e),r=rf(e),n=!1;return gp(e,t,r,n)},Dz=J([bn,Mz],V0),Rz=J([bn,IC,Zme,Dz],EC),Qme=J([kt,$C,bn,Gr],yz),Jme=J([kt,$C,bn,Gr],xz),epe=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,u=wl(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Vr(s[0]-s[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},so=J([kt,bn,IC,Rz,Mz,Qme,Jme,Gr],epe),Iz=J([wz,_z,bme],(e,t,r)=>jz(r.shared,e,t)),$z=e=>e.tooltip.settings.trigger,LC=e=>e.tooltip.settings.defaultIndex,J0=J([tf,Iz,$z,LC],Pz),Pc=J([J0,Wc],RC),Lz=J([so,Pc],Sz),Fz=J([J0],e=>{if(e)return e.dataKey}),tpe=J([tf,Iz,$z,LC],Oz),rpe=J([_l,jl,kt,Kr,so,LC,tpe,Z0],Az),npe=J([J0,rpe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),spe=J([J0],e=>e.active);function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ipe(e,t,r){return(t=ape(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ape(e){var t=ope(e,"string");return typeof t=="symbol"?t:t+""}function ope(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bz=()=>$e(bn),lpe=()=>{var e=Bz(),t=$e(so),r=$e(Rz);return am(MT(MT({},e),{},{scale:r}),t)};function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){cpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cpe(e,t,r){return(t=upe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function upe(e){var t=dpe(e,"string");return typeof t=="symbol"?t:t+""}function dpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fpe=()=>$e(dC),FC=(e,t)=>t,zz=(e,t,r)=>r,BC=(e,t,r,n)=>n;function hpe(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var mpe=J(so,e=>N0(e,t=>t.coordinate)),zC=J([tf,FC,zz,BC],Pz),Uz=J([zC,Wc],RC),ppe=(e,t,r)=>{if(t!=null){var n=tf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Wz=J([tf,FC,zz,BC],Oz),Fy=J([_l,jl,kt,Kr,so,BC,Wz,Z0],Az),gpe=J([zC,Fy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Vz=J(so,Uz,Sz);function vpe(e,t){return e??t}var ype=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var y,{dataDefinedOnItem:g,settings:w}=m,b=vpe(g,l),x=hpe(b,u,d),v=(y=w==null?void 0:w.dataKey)!==null&&y!==void 0?y:n==null?void 0:n.dataKey,_=w==null?void 0:w.nameKey,j;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(x)&&o==="axis"?j=fN(x,n.dataKey,s):j=i(x,t,c,_),Array.isArray(j))j.forEach(k=>{var C=RT(RT({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(SO({tooltipEntrySettings:C,dataKey:k.dataKey,payload:k.payload,value:Yt(k.payload,k.dataKey),name:k.name}))});else{var S;h.push(SO({tooltipEntrySettings:w,dataKey:v,payload:j,value:Yt(j,v),name:(S=Yt(j,_))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},xpe=J([Wz,Uz,Gd,bn,Vz,Z0,FC],ype),bpe=J([zC],e=>({isActive:e.active,activeIndex:e.index})),wpe=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=uce(e.chartX,e.chartY,t,r,l);if(c){var u=fce(c,t),d=Qle(u,o,i,n,s),f=dce(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k1.apply(null,arguments)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){_pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _pe(e,t,r){return(t=jpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jpe(e){var t=Spe(e,"string");return typeof t=="symbol"?t:t+""}function Spe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kpe(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=d,y=Gce;else if(u==="BarChart")m=Xce(o,d,s,i),y=W6;else if(o==="radial"){var{cx:g,cy:w,radius:b,startAngle:x,endAngle:v}=V6(d);m={cx:g,cy:w,startAngle:x,endAngle:v,innerRadius:b,outerRadius:b},y=q6}else m={points:Oue(o,d,s)},y=IN;var _=typeof l=="object"&&"className"in l?l.className:void 0,j=pg(pg(pg(pg({stroke:"#ccc",pointerEvents:"none"},s),m),ht(l,!1)),{},{payload:f,payloadIndex:h,className:xt("recharts-tooltip-cursor",_)});return p.isValidElement(l)?p.cloneElement(l,j):p.createElement(y,j)}function Npe(e){var t=lpe(),r=op(),n=I0(),s=fpe();return p.createElement(kpe,k1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var Hz=p.createContext(null),Cpe=()=>p.useContext(Hz),qz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var g=r?r+u:u;if(!this._events[g])return!1;var w=this._events[g],b=arguments.length,x,v;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,y),!0}for(v=1,x=new Array(b-1);v<b;v++)x[v-1]=arguments[v];w.fn.apply(w.context,x)}else{var _=w.length,j;for(v=0;v<_;v++)switch(w[v].once&&this.removeListener(u,w[v].fn,void 0,!0),b){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,d);break;case 3:w[v].fn.call(w[v].context,d,f);break;case 4:w[v].fn.call(w[v].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(b-1);j<b;j++)x[j-1]=arguments[j];w[v].fn.apply(w[v].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var g=0,w=[],b=y.length;g<b;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&w.push(y[g]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(qz);var Epe=qz.exports;const Ppe=Ti(Epe);var hm=new Ppe,N1="recharts.syncEvent.tooltip",$T="recharts.syncEvent.brush";function UC(e,t){if(t){var r=Number.parseInt(t,10);if(!_s(r))return e==null?void 0:e[r]}}var Ape={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Kz=ri({name:"options",initialState:Ape,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ope=Kz.reducer,{createEventEmitter:Tpe}=Kz.actions;function Mpe(e){return e.tooltip.syncInteraction}var Dpe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Yz=ri({name:"chartData",initialState:Dpe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:LT,setDataStartEndIndexes:Rpe,setComputedData:LCe}=Yz.actions,Ipe=Yz.reducer,Gz=()=>{};function $pe(){var e=$e(fC),t=$e(hC),r=lr(),n=$e(K8),s=$e(so),i=I0(),o=RN(),l=$e(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return Gz;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(s!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},y=n(s,m);h=s[y]}else n==="value"&&(h=s.find(S=>String(S.value)===d.payload.label));var{coordinate:g}=d.payload;if(h==null||d.payload.active===!1||g==null||o==null){r(j1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:b}=g,x=Math.min(w,o.x+o.width),v=Math.min(b,o.y+o.height),_={x:i==="horizontal"?h.coordinate:x,y:i==="horizontal"?v:h.coordinate},j=j1({active:d.payload.active,coordinate:_,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(j)}}};return hm.on(N1,c),()=>{hm.off(N1,c)}},[l,r,t,e,n,s,i,o])}function Lpe(){var e=$e(fC),t=$e(hC),r=lr();p.useEffect(()=>{if(e==null)return Gz;var n=(s,i,o)=>{t!==o&&e===s&&r(Rpe(i))};return hm.on($T,n),()=>{hm.off($T,n)}},[r,t,e])}function Fpe(){var e=lr();p.useEffect(()=>{e(Tpe())},[e]),$pe(),Lpe()}function Bpe(e,t,r,n,s,i){var o=$e(h=>ppe(h,e,t)),l=$e(hC),c=$e(fC),u=$e(K8),d=$e(Mpe),f=d==null?void 0:d.active;p.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=j1({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});hm.emit(N1,c,h,l)}},[f,r,o,s,n,l,c,u,i])}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){zpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zpe(e,t,r){return(t=Upe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Upe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vpe(e){return e.dataKey}function Hpe(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(Cce,t)}var zT=[],qpe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Fc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ju(e){var t=ni(e,qpe),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:y,cursor:g,shared:w,trigger:b,defaultIndex:x,portal:v,axisId:_}=t,j=lr(),S=typeof x=="number"?String(x):x;p.useEffect(()=>{j(Sme({shared:w,trigger:b,axisId:_,active:r,defaultIndex:S}))},[j,w,b,_,r,S]);var k=RN(),C=R6(),E=xme(w),{activeIndex:A,isActive:P}=$e(V=>bpe(V,E,b,S)),O=$e(V=>xpe(V,E,b,S)),$=$e(V=>Vz(V,E,b,S)),I=$e(V=>gpe(V,E,b,S)),B=O,U=Cpe(),T=r??P,[N,M]=Uoe([B,T]),L=E==="axis"?$:void 0;Bpe(E,b,I,L,A,T);var W=v??U;if(W==null)return null;var K=B??zT;T||(K=zT),l&&K.length&&(K=aoe(B.filter(V=>V.value!=null&&(V.hide!==!0||t.includeHidden)),d,Vpe));var z=K.length>0,H=p.createElement(Dce,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:T,coordinate:I,hasPayload:z,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:y,lastBoundingBox:N,innerRef:M,hasPortalFromProps:!!v},Hpe(o,BT(BT({},t),{},{payload:K,label:L,active:T,coordinate:I,accessibilityLayer:C})));return p.createElement(p.Fragment,null,pl.createPortal(H,W),T&&p.createElement(Npe,{cursor:g,tooltipEventType:E,coordinate:I,payload:B,index:A}))}var Xz={},Zz={},Qz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},y=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{y(),o=void 0,l=null},w=()=>{y(),d()},b=function(...x){if(s!=null&&s.aborted)return;o=this,l=x;const v=h==null;m(),c&&v&&d()};return b.schedule=m,b.cancel=g,b.flush=w,s==null||s.addEventListener("abort",g,{once:!0}),b}e.debounce=t})(Qz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qz;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=n.apply(this,g),f=null},s,{edges:u}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},y=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=y,m}e.debounce=r})(Zz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zz;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,trailing:l,maxWait:s})}e.throttle=r})(Xz);var Kpe=Xz.throttle;const Ype=Ti(Kpe);var xh=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){Gpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gpe(e,t,r){return(t=Xpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xpe(e){var t=Zpe(e,"string");return typeof t=="symbol"?t:t+""}function Zpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Su=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:y={}}=e,g=p.useRef(null),w=p.useRef();w.current=m,p.useImperativeHandle(t,()=>g.current);var[b,x]=p.useState({containerWidth:n.width,containerHeight:n.height}),v=p.useCallback((j,S)=>{x(k=>{var C=Math.round(j),E=Math.round(S);return k.containerWidth===C&&k.containerHeight===E?k:{containerWidth:C,containerHeight:E}})},[]);p.useEffect(()=>{var j=E=>{var A,{width:P,height:O}=E[0].contentRect;v(P,O),(A=w.current)===null||A===void 0||A.call(w,P,O)};d>0&&(j=Ype(j,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(j),{width:k,height:C}=g.current.getBoundingClientRect();return v(k,C),S.observe(g.current),()=>{S.disconnect()}},[v,d]);var _=p.useMemo(()=>{var{containerWidth:j,containerHeight:S}=b;if(j<0||S<0)return null;xh(Yl(s)||Yl(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),xh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Yl(s)?j:s,C=Yl(i)?S:i;return r&&r>0&&(k?C=k/r:C&&(k=C*r),c&&C>c&&(C=c)),xh(k>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,C,s,i,o,l,r),p.Children.map(u,E=>p.cloneElement(E,{width:k,height:C,style:zw({height:"100%",width:"100%",maxHeight:C,maxWidth:k},E.props.style)}))},[r,u,i,c,l,o,b,s]);return p.createElement("div",{id:f?"".concat(f):void 0,className:xt("recharts-responsive-container",h),style:zw(zw({},y),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},_)}),nf=e=>null;nf.displayName="Cell";function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){Qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qpe(e,t,r){return(t=Jpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jpe(e){var t=ege(e,"string");return typeof t=="symbol"?t:t+""}function ege(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var au={widthCache:{},cacheCount:0},tge=2e3,rge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VT="recharts_measurement_span";function nge(e){var t=C1({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var bh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fc.isSsr)return{width:0,height:0};var n=nge(r),s=JSON.stringify({text:t,copyStyle:n});if(au.widthCache[s])return au.widthCache[s];try{var i=document.getElementById(VT);i||(i=document.createElement("span"),i.setAttribute("id",VT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=C1(C1({},rge),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return au.widthCache[s]=c,++au.cacheCount>tge&&(au.cacheCount=0,au.widthCache={}),c}catch{return{width:0,height:0}}},HT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ige=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},age=Object.keys(Jz),ku="NaN";function oge(e,t){return e*Jz[t]}class Wn{static parse(t){var r,[,n,s]=(r=ige.exec(t))!==null&&r!==void 0?r:[];return new Wn(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,_s(t)&&(this.unit=""),r!==""&&!sge.test(r)&&(this.num=NaN,this.unit=""),age.includes(r)&&(this.num=oge(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _s(this.num)}}function eU(e){if(e.includes(ku))return ku;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=HT.exec(t))!==null&&r!==void 0?r:[],o=Wn.parse(n??""),l=Wn.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return ku;t=t.replace(HT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=qT.exec(t))!==null&&u!==void 0?u:[],m=Wn.parse(d??""),y=Wn.parse(h??""),g=f==="+"?m.add(y):m.subtract(y);if(g.isNaN())return ku;t=t.replace(qT,g.toString())}return t}var KT=/\(([^()]*)\)/;function lge(e){for(var t=e,r;(r=KT.exec(t))!=null;){var[,n]=r;t=t.replace(KT,eU(n))}return t}function cge(e){var t=e.replace(/\s+/g,"");return t=lge(t),t=eU(t),t}function uge(e){try{return cge(e)}catch{return ku}}function Uw(e){var t=uge(e.slice(5,-1));return t===ku?"":t}var dge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fge=["dx","dy","angle","className","breakAll"];function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(null,arguments)}function YT(e,t){if(e==null)return{};var r,n,s=hge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tU=/[ \f\n\r\t\v\u2028\u2029]+/,rU=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Lt(t)||(r?s=t.toString().split(""):s=t.toString().split(tU));var i=s.map(l=>({word:l,width:bh(l,n).width})),o=r?0:bh("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},mge=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=Re(i),d=o,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((O,$)=>{var{word:I,width:B}=$,U=O[O.length-1];if(U&&(n==null||s||U.width+B+r<Number(n)))U.words.push(I),U.width+=B+r;else{var T={words:[I],width:B};O.push(T)}return O},[])},h=f(t),m=A=>A.reduce((P,O)=>P.width>O.width?P:O);if(!u||s)return h;var y=h.length>i||m(h).width>Number(n);if(!y)return h;for(var g="",w=A=>{var P=d.slice(0,A),O=rU({breakAll:c,style:l,children:P+g}).wordsWithComputedWidth,$=f(O),I=$.length>i||m($).width>Number(n);return[I,$]},b=0,x=d.length-1,v=0,_;b<=x&&v<=d.length-1;){var j=Math.floor((b+x)/2),S=j-1,[k,C]=w(S),[E]=w(j);if(!k&&!E&&(b=j+1),k&&E&&(x=j-1),!k&&E){_=C;break}v++}return _||h},GT=e=>{var t=Lt(e)?[]:e.toString().split(tU);return[{words:t}]},pge=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Fc.isSsr){var l,c,u=rU({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return GT(n);return mge({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return GT(n)},XT="#808080",eb=p.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=XT}=e,d=YT(e,dge),f=p.useMemo(()=>pge({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:m,angle:y,className:g,breakAll:w}=d,b=YT(d,fge);if(!aa(r)||!aa(n))return null;var x=r+(Re(h)?h:0),v=n+(Re(m)?m:0),_;switch(c){case"start":_=Uw("calc(".concat(i,")"));break;case"middle":_=Uw("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:_=Uw("calc(".concat(f.length-1," * -").concat(s,")"));break}var j=[];if(o){var S=f[0].width,{width:k}=d;j.push("scale(".concat(Re(k)?k/S:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(x,", ").concat(v,")")),j.length&&(b.transform=j.join(" ")),p.createElement("text",E1({},ht(b,!0),{ref:t,x,y:v,className:xt("recharts-text",g),textAnchor:l,fill:u.includes("url")?XT:u}),f.map((C,E)=>{var A=C.words.join(w?"":" ");return p.createElement("tspan",{x,dy:E===0?_:s,key:"".concat(A,"-").concat(E)},A)}))});eb.displayName="Text";var gge=["offset"],vge=["labelRef"];function ZT(e,t){if(e==null)return{};var r,n,s=yge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){xge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xge(e,t,r){return(t=bge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bge(e){var t=wge(e,"string");return typeof t=="symbol"?t:t+""}function wge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}var _ge=e=>{var{value:t,formatter:r}=e,n=Lt(e.children)?t:e.children;return typeof r=="function"?r(n):n},WC=e=>e!=null&&typeof e=="function",jge=(e,t)=>{var r=Vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Sge=(e,t,r)=>{var{position:n,viewBox:s,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=s,y=(u+d)/2,g=jge(f,h),w=g>=0?1:-1,b,x;n==="insideStart"?(b=f+w*i,x=m):n==="insideEnd"?(b=h-w*i,x=!m):n==="end"&&(b=h+w*i,x=m),x=g<=0?x:!x;var v=kr(l,c,y,b),_=kr(l,c,y,b+(x?1:-1)*359),j="M".concat(v.x,",").concat(v.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(x?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Lt(e.id)?kc("recharts-radial-line-"):e.id;return p.createElement("text",Ca({},r,{dominantBaseline:"central",className:xt("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:S,d:j})),p.createElement("textPath",{xlinkHref:"#".concat(S)},t))},kge=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:s,cy:i,innerRadius:o,outerRadius:l,startAngle:c,endAngle:u}=t,d=(c+u)/2;if(n==="outside"){var{x:f,y:h}=kr(s,i,l+r,d);return{x:f,y:h,textAnchor:f>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(o+l)/2,{x:y,y:g}=kr(s,i,m,d);return{x:y,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Nge=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:o,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,y=m*n,g=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var b={x:i+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:f};return _r(_r({},b),r?{height:Math.max(o-r.y,0),width:l}:{})}if(s==="bottom"){var x={x:i+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:h};return _r(_r({},x),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{})}if(s==="left"){var v={x:i-y,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return _r(_r({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if(s==="right"){var _={x:i+l+y,y:o+c/2,textAnchor:w,verticalAnchor:"middle"};return _r(_r({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:c}:{})}var j=r?{width:l,height:c}:{};return s==="insideLeft"?_r({x:i+y,y:o+c/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideRight"?_r({x:i+l-y,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},j):s==="insideTop"?_r({x:i+l/2,y:o+d,textAnchor:"middle",verticalAnchor:h},j):s==="insideBottom"?_r({x:i+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:f},j):s==="insideTopLeft"?_r({x:i+y,y:o+d,textAnchor:w,verticalAnchor:h},j):s==="insideTopRight"?_r({x:i+l-y,y:o+d,textAnchor:g,verticalAnchor:h},j):s==="insideBottomLeft"?_r({x:i+y,y:o+c-d,textAnchor:w,verticalAnchor:f},j):s==="insideBottomRight"?_r({x:i+l-y,y:o+c-d,textAnchor:g,verticalAnchor:f},j):s&&typeof s=="object"&&(Re(s.x)||Yl(s.x))&&(Re(s.y)||Yl(s.y))?_r({x:i+On(s.x,l),y:o+On(s.y,c),textAnchor:"end",verticalAnchor:"end"},j):_r({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Cge=e=>"cx"in e&&Re(e.cx);function ps(e){var{offset:t=5}=e,r=ZT(e,gge),n=_r({offset:t},r),{viewBox:s,position:i,value:o,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=RN(),m=s||h;if(!m||Lt(o)&&Lt(l)&&!p.isValidElement(c)&&typeof c!="function")return null;if(p.isValidElement(c)){var y=ZT(n,vge);return p.cloneElement(c,y)}var g;if(typeof c=="function"){if(g=p.createElement(c,n),p.isValidElement(g))return g}else g=_ge(n);var w=Cge(m),b=ht(n,!0);if(w&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Sge(n,g,b);var x=w?kge(n):Nge(n,m);return p.createElement(eb,Ca({ref:f,className:xt("recharts-label",u)},b,x,{breakAll:d}),g)}ps.displayName="Label";var nU=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:y,height:g,clockWise:w,labelViewBox:b}=e;if(b)return b;if(Re(y)&&Re(g)){if(Re(d)&&Re(f))return{x:d,y:f,width:y,height:g};if(Re(h)&&Re(m))return{x:h,y:m,width:y,height:g}}if(Re(d)&&Re(f))return{x:d,y:f,width:0,height:0};if(Re(t)&&Re(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:w};if(e.viewBox)return e.viewBox},Ege=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(ps,Ca({key:"label-implicit"},n)):aa(e)?p.createElement(ps,Ca({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===ps?p.cloneElement(e,_r({key:"label-implicit"},n)):p.createElement(ps,Ca({key:"label-implicit",content:e},n)):WC(e)?p.createElement(ps,Ca({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(ps,Ca({},e,{key:"label-implicit"},n)):null},Pge=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,o=nU(t),l=ip(s,ps).map((u,d)=>p.cloneElement(u,{viewBox:r||o,key:"label-".concat(d)}));if(!n)return l;var c=Ege(t.label,r||o,i);return[c,...l]};ps.parseViewBox=nU;ps.renderCallByParent=Pge;var sU={},iU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(iU);var aU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(aU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iU,r=aU,n=w0;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(sU);var Age=sU.last;const Oge=Ti(Age);var Tge=["valueAccessor"],Mge=["data","dataKey","clockWise","id","textBreakAll"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){Dge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dge(e,t,r){return(t=Rge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rge(e){var t=Ige(e,"string");return typeof t=="symbol"?t:t+""}function Ige(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tM(e,t){if(e==null)return{};var r,n,s=$ge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $ge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lge=e=>Array.isArray(e.value)?Oge(e.value):e.value;function Qo(e){var{valueAccessor:t=Lge}=e,r=tM(e,Tge),{data:n,dataKey:s,clockWise:i,id:o,textBreakAll:l}=r,c=tM(r,Mge);return!n||!n.length?null:p.createElement(qr,{className:"recharts-label-list"},n.map((u,d)=>{var f=Lt(s)?t(u,d):Yt(u&&u.payload,s),h=Lt(o)?{}:{id:"".concat(o,"-").concat(d)};return p.createElement(ps,By({},ht(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:ps.parseViewBox(Lt(i)?u:eM(eM({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Qo.displayName="LabelList";function Fge(e,t){return e?e===!0?p.createElement(Qo,{key:"labelList-implicit",data:t}):p.isValidElement(e)||WC(e)?p.createElement(Qo,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?p.createElement(Qo,By({data:t},e,{key:"labelList-implicit"})):null:null}function Bge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=ip(n,Qo).map((o,l)=>p.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!r)return s;var i=Fge(e.label,t);return[i,...s]}Qo.renderCallByParent=Bge;function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(null,arguments)}var oU=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=xt("recharts-dot",s);return t===+t&&r===+r&&n===+n?p.createElement("circle",P1({},ht(e,!1),mN(e),{className:i,cx:t,cy:r,r:n})):null},lU=e=>e.graphicalItems.polarItems,zge=J([xr,hp],yC),VC=J([lU,br,zge],xC),Uge=J([VC],bC),HC=J([Uge,oC],wC),Wge=J([HC,br,VC],_C),Vge=J([HC,br,VC],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=Yt(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Yt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),rM=()=>{},Hge=J([br,uz,rM,Vge,rM],kC),cU=J([br,kt,HC,Wge,fp,xr,Hge],NC),qge=J([cU,br,Jd],PC);J([br,cU,qge,xr],OC);var Kge={radiusAxis:{},angleAxis:{}},Yge=ri({name:"polarAxis",initialState:Kge,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),Gge=Yge.reducer;function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){Xge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xge(e,t,r){return(t=Zge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zge(e){var t=Qge(e,"string");return typeof t=="symbol"?t:t+""}function Qge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qC=(e,t)=>t,Jge=[],KC=(e,t,r)=>(r==null?void 0:r.length)===0?Jge:r,uU=J([oC,qC,KC],(e,t,r)=>{var{chartData:n}=e,s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>sM(sM({},t.presentationProps),i.props))),s!=null)return s}),eve=J([uU,qC,KC],(e,t,r)=>{if(e!=null)return e.map((n,s)=>{var i,o=Yt(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Kd(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),tve=J([lU,qC],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),rve=J([uU,tve,KC,Kr],(e,t,r,n)=>{if(!(t==null||e==null))return Vve({offset:n,pieSettings:t,displayedData:e,cells:r})}),nve={countOfBars:0,cartesianItems:[],polarItems:[]},dU=ri({name:"graphicalItems",initialState:nve,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=Xo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Xo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:sve,removeBar:ive,addCartesianGraphicalItem:ave,removeCartesianGraphicalItem:ove,addPolarGraphicalItem:lve,removePolarGraphicalItem:cve}=dU.actions,uve=dU.reducer;function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){dve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dve(e,t,r){return(t=fve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fve(e){var t=hve(e,"string");return typeof t=="symbol"?t:t+""}function hve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mve(e){var t=lr();return p.useEffect(()=>{var r=aM(aM({},e),{},{stackId:k6(e.stackId)});return t(ave(r)),()=>{t(ove(r))}},[t,e]),null}function pve(e){var t=lr();return p.useEffect(()=>(t(lve(e)),()=>{t(cve(e))}),[t,e]),null}var fU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(fU);var gve=fU.isPlainObject;const vve=Ti(gve);function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}var oM=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},yve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xve=e=>{var t=ni(e,yve),r=p.useRef(),[n,s]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:y}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var g=xt("recharts-trapezoid",d);return y?p.createElement(cl,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:u,x:i,y:o},duration:h,animationEasing:f,isActive:y},w=>{var{upperWidth:b,lowerWidth:x,height:v,x:_,y:j}=w;return p.createElement(cl,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},p.createElement("path",zy({},ht(t,!0),{className:g,d:oM(_,j,b,x,v),ref:r})))}):p.createElement("g",null,p.createElement("path",zy({},ht(t,!0),{className:g,d:oM(i,o,l,c,u)})))},bve=["option","shapeType","propTransformer","activeClassName","isActive"];function wve(e,t){if(e==null)return{};var r,n,s=_ve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _ve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(r),!0).forEach(function(n){jve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jve(e,t,r){return(t=Sve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sve(e){var t=kve(e,"string");return typeof t=="symbol"?t:t+""}function kve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nve(e,t){return Uy(Uy({},t),e)}function Cve(e,t){return e==="symbols"}function cM(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(W6,r);case"trapezoid":return p.createElement(xve,r);case"sector":return p.createElement(q6,r);case"symbols":if(Cve(t))return p.createElement(kB,r);break;default:return null}}function Eve(e){return p.isValidElement(e)?e.props:e}function hU(e){var{option:t,shapeType:r,propTransformer:n=Nve,activeClassName:s="recharts-active-shape",isActive:i}=e,o=wve(e,bve),l;if(p.isValidElement(t))l=p.cloneElement(t,Uy(Uy({},o),Eve(t)));else if(typeof t=="function")l=t(o);else if(vve(t)&&typeof t!="boolean"){var c=n(t,o);l=p.createElement(cM,{shapeType:r,elementProps:c})}else{var u=o;l=p.createElement(cM,{shapeType:r,elementProps:u})}return i?p.createElement(qr,{className:s},l):l}var YC=(e,t)=>{var r=lr();return(n,s)=>i=>{e==null||e(n,s,i),r(Nz({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},GC=e=>{var t=lr();return(r,n)=>s=>{e==null||e(r,n,s),t(kme())}},XC=(e,t)=>{var r=lr();return(n,s)=>i=>{e==null||e(n,s,i),r(Nme({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function ZC(e){var{fn:t,args:r}=e,n=lr(),s=Rn();return p.useEffect(()=>{if(!s){var i=t(r);return n(_me(i)),()=>{n(jme(i))}}},[t,r,n,s]),null}var mU=()=>{};function pU(e){var{legendPayload:t}=e,r=lr(),n=Rn();return p.useEffect(()=>n?mU:(r(M6(t)),()=>{r(D6(t))}),[r,n,t]),null}function Pve(e){var{legendPayload:t}=e,r=lr(),n=$e(kt);return p.useEffect(()=>n!=="centric"&&n!=="radial"?mU:(r(M6(t)),()=>{r(D6(t))}),[r,n,t]),null}function QC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(kc(t)),n=p.useRef(e);return n.current!==e&&(r.current=kc(t),n.current=e),r.current}var Ave=["onMouseEnter","onClick","onMouseLeave"];function Ove(e,t){if(e==null)return{};var r,n,s=Tve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Tve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tb(e,t,r){return(t=Mve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mve(e){var t=Dve(e,"string");return typeof t=="symbol"?t:t+""}function Dve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(null,arguments)}function Rve(e){var t=p.useMemo(()=>ht(e,!1),[e]),r=p.useMemo(()=>ip(e.children,nf),[e.children]),n=p.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=$e(i=>eve(i,n,r));return p.createElement(Pve,{legendPayload:s})}function Ive(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Kd(l,t),hide:c,type:u,color:o,unit:""}}}var $ve=(e,t)=>e>t?"start":e<t?"end":"middle",Lve=(e,t,r)=>typeof t=="function"?t(e):On(t,r,r*.8),Fve=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=_6(i,o),c=s+On(e.cx,i,i/2),u=n+On(e.cy,o,o/2),d=On(e.innerRadius,l,0),f=Lve(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Bve=(e,t)=>{var r=Vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zve=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=xt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(IN,Ac({},t,{type:"linear",className:r}))},Uve=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var s=xt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return p.createElement(eb,Ac({},t,{alignmentBaseline:"middle",className:s}),n)};function Wve(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=ht(r,!1),c=ht(s,!1),u=ht(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,f=t.map((h,m)=>{var y=(h.startAngle+h.endAngle)/2,g=kr(h.cx,h.cy,h.outerRadius+d,y),w=ar(ar(ar(ar({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:$ve(g.x,h.cx)},g),b=ar(ar(ar(ar({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[kr(h.cx,h.cy,h.outerRadius,y),g],key:"line"});return p.createElement(qr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&zve(i,b),Uve(s,w,Yt(h,o)))});return p.createElement(qr,{className:"recharts-pie-labels"},f)}function gU(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,o=$e(Pc),{onMouseEnter:l,onClick:c,onMouseLeave:u}=s,d=Ove(s,Ave),f=YC(l,s.dataKey),h=GC(u),m=XC(c,s.dataKey);return t==null?null:p.createElement(p.Fragment,null,t.map((y,g)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=r&&String(g)===o,b=o?n:null,x=w?r:b,v=ar(ar({},y),{},{stroke:y.stroke,tabIndex:-1,[C6]:g,[E6]:s.dataKey});return p.createElement(qr,Ac({tabIndex:-1,className:"recharts-pie-sector"},v0(d,y,g),{onMouseEnter:f(y,g),onMouseLeave:h(y,g),onClick:m(y,g),key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(g)}),p.createElement(hU,Ac({option:x,isActive:w,shapeType:"sector"},v)))}),p.createElement(Wve,{sectors:t,props:s,showLabels:i}))}function Vve(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Bve(l,c),y=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(S=>Yt(S,u,0)!==0).length,b=(y>=360?w:w-1)*g,x=y-w*h-b,v=n.reduce((S,k)=>{var C=Yt(k,u,0);return S+(Re(C)?C:0)},0),_;if(v>0){var j;_=n.map((S,k)=>{var C=Yt(S,u,0),E=Yt(S,d,k),A=Fve(r,i,S),P=(Re(C)?C:0)/v,O,$=ar(ar({},S),s&&s[k]&&s[k].props);k?O=j.endAngle+Vr(m)*g*(C!==0?1:0):O=l;var I=O+Vr(m)*((C!==0?h:0)+P*x),B=(O+I)/2,U=(A.innerRadius+A.outerRadius)/2,T=[{name:E,value:C,payload:$,dataKey:u,type:f}],N=kr(A.cx,A.cy,U,B);return j=ar(ar(ar(ar({},r.presentationProps),{},{percent:P,cornerRadius:o,name:E,tooltipPayload:T,midAngle:B,middleRadius:U,tooltipPosition:N},$),A),{},{value:Yt(S,u),startAngle:O,endAngle:I,payload:$,paddingAngle:Vr(m)*g}),j})}return _}function Hve(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=QC(t,"recharts-pie-"),m=r.current,[y,g]=p.useState(!0),w=p.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),b=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(cl,{begin:i,duration:o,isActive:s,easing:l,from:{t:0},to:{t:1},onAnimationStart:b,onAnimationEnd:w,key:h},x=>{var{t:v}=x,_=[],j=n&&n[0],S=j.startAngle;return n.forEach((k,C)=>{var E=m&&m[C],A=C>0?ll(k,"paddingAngle",0):0;if(E){var P=ms(E.endAngle-E.startAngle,k.endAngle-k.startAngle),O=ar(ar({},k),{},{startAngle:S+A,endAngle:S+P(v)+A});_.push(O),S=O.endAngle}else{var{endAngle:$,startAngle:I}=k,B=ms(0,$-I),U=B(v),T=ar(ar({},k),{},{startAngle:S+A,endAngle:S+U+A});_.push(T),S=T.endAngle}}),r.current=_,p.createElement(qr,null,p.createElement(gU,{sectors:_,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!y}))})}function qve(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:s}=e,i=p.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?p.createElement(Hve,{props:e,previousSectorsRef:i}):p.createElement(gU,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function Kve(e){var{hide:t,className:r,rootTabIndex:n}=e,s=xt("recharts-pie",r);return t?null:p.createElement(qr,{tabIndex:n,className:s},p.createElement(qve,e))}var vU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Fc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Yve(e){var t=ni(e,vU),r=p.useMemo(()=>ip(e.children,nf),[e.children]),n=ht(t,!1),s=p.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),i=$e(o=>rve(o,s,r));return p.createElement(p.Fragment,null,p.createElement(ZC,{fn:Ive,args:ar(ar({},t),{},{sectors:i})}),p.createElement(Kve,Ac({},t,{sectors:i})))}let rb=class extends p.PureComponent{constructor(){super(...arguments),tb(this,"id",kc("recharts-pie-"))}render(){return p.createElement(p.Fragment,null,p.createElement(pve,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),p.createElement(Rve,this.props),p.createElement(Yve,this.props),this.props.children)}};tb(rb,"displayName","Pie");tb(rb,"defaultProps",vU);function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){Gve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gve(e,t,r){return(t=Xve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xve(e){var t=Zve(e,"string");return typeof t=="symbol"?t:t+""}function Zve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qve=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=fM(fM({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ht(s,!1)),mN(s)),l;return p.isValidElement(s)?l=p.cloneElement(s,o):typeof s=="function"?l=s(o):l=p.createElement(oU,o),p.createElement(qr,{className:"recharts-active-dot"},l)};function Jve(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=Bz(),o=$e(Pc),l=$e(Lz);if(!o)return null;var c,u=i.dataKey;if(u&&!i.allowDuplicatedCategory){var d=typeof u=="function"?f=>u(f.payload):"payload.".concat(u);c=fN(t,d,l)}else c=t==null?void 0:t[Number(o)];return Lt(c)?null:Qve({point:c,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:n})}var eye=()=>{var e=lr();return p.useEffect(()=>(e(sve()),()=>{e(ive())})),null},tye=["children"];function rye(e,t){if(e==null)return{};var r,n,s=nye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hM=()=>{},yU=p.createContext({addErrorBar:hM,removeErrorBar:hM}),sye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xU=p.createContext(sye);function bU(e){var{children:t}=e,r=rye(e,tye);return p.createElement(xU.Provider,{value:r},t)}var iye=()=>p.useContext(xU),wU=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,data:o,stackId:l,hide:c,type:u,barSize:d}=e,[f,h]=p.useState([]),m=p.useCallback(w=>{h(b=>[...b,w])},[h]),y=p.useCallback(w=>{h(b=>b.filter(x=>x!==w))},[h]),g=Rn();return p.createElement(yU.Provider,{value:{addErrorBar:m,removeErrorBar:y}},p.createElement(mve,{type:u,data:o,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,errorBars:f,stackId:l,hide:c,barSize:d,isPanorama:g}),t)};function aye(e){var{addErrorBar:t,removeErrorBar:r}=p.useContext(yU);return p.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var oye=e=>{var t=Rn();return $e(r=>la(r,"xAxis",e,t))},lye=e=>{var t=Rn();return $e(r=>la(r,"yAxis",e,t))},cye=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function _U(e,t,r){return(t=uye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uye(e){var t=dye(e,"string");return typeof t=="symbol"?t:t+""}function dye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mm.apply(null,arguments)}function fye(e,t){if(e==null)return{};var r,n,s=hye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mye(e){var{direction:t,width:r,dataKey:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l}=e,c=fye(e,cye),u=ht(c,!1),{data:d,dataPointFormatter:f,xAxisId:h,yAxisId:m,errorBarOffset:y}=iye(),g=oye(h),w=lye(m);if((g==null?void 0:g.scale)==null||(w==null?void 0:w.scale)==null||d==null||t==="x"&&g.type!=="number")return null;var b=d.map(x=>{var{x:v,y:_,value:j,errorVal:S}=f(x,n,t);if(!S)return null;var k=[],C,E;if(Array.isArray(S)?[C,E]=S:C=E=S,t==="x"){var{scale:A}=g,P=_+y,O=P+r,$=P-r,I=A(j-C),B=A(j+E);k.push({x1:B,y1:O,x2:B,y2:$}),k.push({x1:I,y1:P,x2:B,y2:P}),k.push({x1:I,y1:O,x2:I,y2:$})}else if(t==="y"){var{scale:U}=w,T=v+y,N=T-r,M=T+r,L=U(j-C),W=U(j+E);k.push({x1:N,y1:W,x2:M,y2:W}),k.push({x1:T,y1:L,x2:T,y2:W}),k.push({x1:N,y1:L,x2:M,y2:L})}var K="".concat(v+y,"px ").concat(_+y,"px");return p.createElement(qr,mm({className:"recharts-errorBar",key:"bar-".concat(k.map(z=>"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)))},u),k.map(z=>{var H=s?{transformOrigin:"".concat(z.x1-5,"px")}:void 0;return p.createElement(cl,{from:{transform:"scaleY(0)",transformOrigin:K},to:{transform:"scaleY(1)",transformOrigin:K},begin:i,easing:l,isActive:s,duration:o,key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2),style:{transformOrigin:K}},p.createElement("line",mm({},z,{style:H})))}))});return p.createElement(qr,{className:"recharts-errorBars"},b)}var jU=p.createContext(void 0);function pye(e){var t=p.useContext(jU);return e??t??"x"}function SU(e){var{direction:t,children:r}=e;return p.createElement(jU.Provider,{value:t},r)}var kU={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function gye(e){var t=pye(e.direction),{width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o}=ni(e,kU);return p.createElement(p.Fragment,null,p.createElement(aye,{dataKey:e.dataKey,direction:t}),p.createElement(mye,mm({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:o})))}class NU extends p.Component{render(){return p.createElement(gye,this.props)}}_U(NU,"defaultProps",kU);_U(NU,"displayName","ErrorBar");var vye="Invariant failed";function yye(e,t){throw new Error(vye)}var xye=["x","y"];function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(null,arguments)}function mM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(r),!0).forEach(function(n){bye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bye(e,t,r){return(t=wye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wye(e){var t=_ye(e,"string");return typeof t=="symbol"?t:t+""}function _ye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jye(e,t){if(e==null)return{};var r,n,s=Sye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kye(e,t){var{x:r,y:n}=e,s=jye(e,xye),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Pf(Pf(Pf(Pf(Pf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function CU(e){return p.createElement(hU,A1({shapeType:"rectangle",propTransformer:kye,activeClassName:"recharts-active-bar"},e))}var Nye=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Re(t))return t;var i=Re(n)||Lt(n);return i?t(n,s):(i||yye(),r)}};function JC(e,t){var r,n,s=$e(u=>no(u,e)),i=$e(u=>Nl(u,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:os.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ls.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function EU(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=op(),{needClipX:i,needClipY:o,needClip:l}=JC(t,r);if(!l)return null;var{left:c,top:u,width:d,height:f}=s;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var Cye=["onMouseEnter","onMouseLeave","onClick"],Eye=["value","background","tooltipPosition"],Pye=["onMouseEnter","onClick","onMouseLeave"];function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(null,arguments)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nb(e,t,r){return(t=Aye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aye(e){var t=Oye(e,"string");return typeof t=="symbol"?t:t+""}function Oye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O1(e,t){if(e==null)return{};var r,n,s=Tye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Tye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mye=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Kd(r,t),payload:e}]};function Dye(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Kd(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function Rye(e){var t=$e(Pc),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=O1(i,Cye),d=YC(o,n),f=GC(l),h=XC(c,n);if(!s||r==null)return null;var m=ht(s,!1);return p.createElement(p.Fragment,null,r.map((y,g)=>{var{value:w,background:b,tooltipPosition:x}=y,v=O1(y,Eye);if(!b)return null;var _=d(y,g),j=f(y,g),S=h(y,g),k=fn(fn(fn(fn(fn({option:s,isActive:String(g)===t},v),{},{fill:"#eee"},b),m),v0(u,y,g)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return p.createElement(CU,pm({key:"background-bar-".concat(g)},k))}))}function PU(e){var{data:t,props:r,showLabels:n}=e,s=ht(r,!1),{shape:i,dataKey:o,activeBar:l}=r,c=$e(Pc),u=$e(Fz),{onMouseEnter:d,onClick:f,onMouseLeave:h}=r,m=O1(r,Pye),y=YC(d,o),g=GC(h),w=XC(f,o);return t?p.createElement(p.Fragment,null,t.map((b,x)=>{var v=l&&String(x)===c&&(u==null||o===u),_=v?l:i,j=fn(fn(fn({},s),b),{},{isActive:v,option:_,index:x,dataKey:o});return p.createElement(qr,pm({className:"recharts-bar-rectangle"},v0(m,b,x),{onMouseEnter:y(b,x),onMouseLeave:g(b,x),onClick:w(b,x),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(x)}),p.createElement(CU,j))}),n&&Qo.renderCallByParent(r,t)):null}function Iye(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=QC(t,"recharts-bar-"),[m,y]=p.useState(!1),g=p.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),w=p.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return p.createElement(cl,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:w,key:h},b=>{var{t:x}=b,v=x===1?n:n.map((_,j)=>{var S=f&&f[j];if(S){var k=ms(S.x,_.x),C=ms(S.y,_.y),E=ms(S.width,_.width),A=ms(S.height,_.height);return fn(fn({},_),{},{x:k(x),y:C(x),width:E(x),height:A(x)})}if(s==="horizontal"){var P=ms(0,_.height),O=P(x);return fn(fn({},_),{},{y:_.y+_.height-O,height:O})}var $=ms(0,_.width),I=$(x);return fn(fn({},_),{},{width:I})});return x>0&&(r.current=v),p.createElement(qr,null,p.createElement(PU,{props:t,data:v,showLabels:!m}))})}function $ye(e){var{data:t,isAnimationActive:r}=e,n=p.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?p.createElement(Iye,{previousRectanglesRef:n,props:e}):p.createElement(PU,{props:e,data:t,showLabels:!0})}var AU=0,Lye=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Yt(e,t)}};class Fye extends p.PureComponent{constructor(){super(...arguments),nb(this,"id",kc("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u,layout:d}=this.props;if(t)return null;var f=xt("recharts-bar",s),h=Lt(u)?this.id:u;return p.createElement(qr,{className:f},l&&p.createElement("defs",null,p.createElement(EU,{clipPathId:h,xAxisId:i,yAxisId:o})),p.createElement(qr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):null},p.createElement(Rye,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement($ye,this.props)),p.createElement(SU,{direction:d==="horizontal"?"y":"x"},this.props.children))}}var OU={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Fc.isSsr,legendType:"rect",minPointSize:AU,xAxisId:0,yAxisId:0};function Bye(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=ni(e,OU),{needClip:f}=JC(t,r),h=I0(),m=Rn(),y=p.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:k6(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),g=ip(e.children,nf),w=$e(v=>mxe(v,t,r,m,y,g));if(h!=="vertical"&&h!=="horizontal")return null;var b,x=w==null?void 0:w[0];return x==null||x.height==null||x.width==null?b=0:b=h==="vertical"?x.height/2:x.width/2,p.createElement(bU,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:Lye,errorBarOffset:b},p.createElement(Fye,pm({},e,{layout:h,needClip:f,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function zye(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,y=t==="horizontal"?l:o,g=d?y.scale.domain():null,w=ace({numericAxis:y});return f.map((b,x)=>{var v,_,j,S,k,C;d?v=tce(d[x],g):(v=Yt(b,r),Array.isArray(v)||(v=[w,v]));var E=Nye(n,AU)(v[1],x);if(t==="horizontal"){var A,[P,O]=[l.scale(v[0]),l.scale(v[1])];_=wO({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:b,index:x}),j=(A=O??P)!==null&&A!==void 0?A:void 0,S=s.size;var $=P-O;if(k=_s($)?0:$,C={x:_,y:h.top,width:S,height:h.height},Math.abs(E)>0&&Math.abs(k)<Math.abs(E)){var I=Vr(k||E)*(Math.abs(E)-Math.abs(k));j-=I,k+=I}}else{var[B,U]=[o.scale(v[0]),o.scale(v[1])];if(_=B,j=wO({axis:l,ticks:u,bandSize:i,offset:s.offset,entry:b,index:x}),S=U-B,k=s.size,C={x:h.left,y:j,width:h.width,height:k},Math.abs(E)>0&&Math.abs(S)<Math.abs(E)){var T=Vr(S||E)*(Math.abs(E)-Math.abs(S));S+=T}}return fn(fn({},b),{},{x:_,y:j,width:S,height:k,value:d?v:v[1],payload:b,background:C,tooltipPosition:{x:_+S/2,y:j+k/2}},m&&m[x]&&m[x].props)})}let gm=class extends p.PureComponent{render(){return p.createElement(wU,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},p.createElement(eye,null),p.createElement(pU,{legendPayload:Mye(this.props)}),p.createElement(ZC,{fn:Dye,args:this.props}),p.createElement(Bye,this.props))}};nb(gm,"displayName","Bar");nb(gm,"defaultProps",OU);function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){Uye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uye(e,t,r){return(t=Wye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wye(e){var t=Vye(e,"string");return typeof t=="symbol"?t:t+""}function Vye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hye=(e,t)=>t,qye=(e,t,r)=>r,Kye=(e,t,r,n)=>n,eE=(e,t,r,n,s)=>s,Yye=(e,t,r,n,s)=>s.maxBarSize,Gye=(e,t,r,n,s,i)=>i,vM=(e,t,r)=>{var n=r??e;if(!Lt(n))return On(n,t,0)},Xye=J([kt,q0,Hye,qye,Kye],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Zye=(e,t,r,n)=>{var s=kt(e);return s==="horizontal"?_1(e,"yAxis",r,n):_1(e,"xAxis",t,n)},Qye=(e,t,r)=>{var n=kt(e);return n==="horizontal"?PT(e,"xAxis",t):PT(e,"yAxis",r)};function Jye(e){return e.stackId!=null&&e.dataKey!=null}var exe=(e,t,r)=>{var n={},s=e.filter(Jye),i=e.filter(u=>u.stackId==null),o=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(y=>y.dataKey),m=vM(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=vM(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},txe=J([Xye,whe,Qye],exe),rxe=(e,t,r,n,s)=>{var i,o,l=kt(e),c=H8(e),{maxBarSize:u}=s,d=Lt(u)?c:u,f,h;return l==="horizontal"?(f=la(e,"xAxis",t,n),h=ul(e,"xAxis",t,n)):(f=la(e,"yAxis",r,n),h=ul(e,"yAxis",r,n)),(i=(o=am(f,h,!0))!==null&&o!==void 0?o:d)!==null&&i!==void 0?i:0},TU=(e,t,r,n)=>{var s=kt(e),i,o;return s==="horizontal"?(i=la(e,"xAxis",t,n),o=ul(e,"xAxis",t,n)):(i=la(e,"yAxis",r,n),o=ul(e,"yAxis",r,n)),am(i,o)};function nxe(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=On(e,r,0,!0),l,c=[];if(ks(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((b,x)=>b+(x.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((b,x)=>{var v,_={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(v=x.barSize)!==null&&v!==void 0?v:0}},j=[...b,_];return m=j[j.length-1].position,j},c)}else{var y=On(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var g=(r-2*y-(i-1)*o)/i;g>1&&(g>>=0);var w=ks(s)?Math.min(g,s):g;l=n.reduce((b,x,v)=>[...b,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:y+(g+o)*v+(g-w)/2,size:w}}],c)}return l}}var sxe=(e,t,r,n,s,i,o)=>{var l=Lt(o)?t:o,c=nxe(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(u=>gg(gg({},u),{},{position:gg(gg({},u.position),{},{offset:u.position.offset-s/2})}))),c},ixe=J([txe,H8,bhe,q8,rxe,TU,Yye],sxe),axe=(e,t,r,n)=>la(e,"xAxis",t,n),oxe=(e,t,r,n)=>la(e,"yAxis",r,n),lxe=(e,t,r,n)=>ul(e,"xAxis",t,n),cxe=(e,t,r,n)=>ul(e,"yAxis",r,n),uxe=J([ixe,eE],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),dxe=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:s}=n;if(s){var i=s.find(o=>o.key===t.dataKey);return i}}}}},fxe=J([q0,eE],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),hxe=J([Zye,eE],dxe),mxe=J([Kr,axe,oxe,lxe,cxe,uxe,kt,lC,TU,hxe,fxe,Gye],(e,t,r,n,s,i,o,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:y}=l;if(!(d==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||n==null||s==null||c==null)){var{data:g}=d,w;if(g!=null&&g.length>0?w=g:w=h==null?void 0:h.slice(m,y+1),w!=null)return zye({layout:o,barSettings:d,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,stackedData:u,displayedData:w,offset:e,cells:f})}}),MU=e=>{var{chartData:t}=e,r=lr(),n=Rn();return p.useEffect(()=>n?()=>{}:(r(LT(t)),()=>{r(LT(void 0))}),[t,r,n]),null},yM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pxe=ri({name:"brush",initialState:yM,reducers:{setBrushSettings(e,t){return t.payload==null?yM:t.payload}}}),gxe=pxe.reducer;function vxe(e,t,r){return(t=yxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yxe(e){var t=xxe(e,"string");return typeof t=="symbol"?t:t+""}function xxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tE{static create(t){return new tE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}vxe(tE,"EPS",1e-4);function bxe(e){return(e%180+180)%180}var wxe=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=bxe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},_xe={dots:[],areas:[],lines:[]},jxe=ri({name:"referenceElements",initialState:_xe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Xo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Xo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Xo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),Sxe=jxe.reducer,kxe=p.createContext(void 0),Nxe=e=>{var{children:t}=e,[r]=p.useState("".concat(kc("recharts"),"-clip")),n=op();if(n==null)return null;var{left:s,top:i,height:o,width:l}=n;return p.createElement(kxe.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:s,y:i,height:o,width:l}))),t)};function Ww(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function DU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Cxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wxe(n,r)}function Exe(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Wy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Pxe(e,t){return DU(e,t+1)}function Axe(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:DU(n,u)};var g=c,w,b=()=>(w===void 0&&(w=r(y,g)),w),x=y.coordinate,v=c===0||Wy(e,x,b,d,l);v||(c=0,d=o,u+=1),v&&(d=x+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){Oxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oxe(e,t,r){return(t=Txe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Txe(e){var t=Mxe(e,"string");return typeof t=="symbol"?t:t+""}function Mxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dxe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],y,g=()=>(y===void 0&&(y=r(m,h)),y);if(h===o-1){var w=e*(m.coordinate+e*g()/2-c);i[h]=m=un(un({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else i[h]=m=un(un({},m),{},{tickCoord:m.coordinate});var b=Wy(e,m.tickCoord,g,l,c);b&&(c=m.tickCoord-e*(g()/2+s),i[h]=un(un({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Rxe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=un(un({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Wy(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=un(un({},d),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(x){var v=o[x],_,j=()=>(_===void 0&&(_=r(v,x)),_);if(x===0){var S=e*(v.coordinate-e*j()/2-c);o[x]=v=un(un({},v),{},{tickCoord:S<0?v.coordinate-S*e:v.coordinate})}else o[x]=v=un(un({},v),{},{tickCoord:v.coordinate});var k=Wy(e,v.tickCoord,j,c,u);k&&(c=v.tickCoord+e*(j()/2+s),o[x]=un(un({},v),{},{isShow:!0}))},w=0;w<y;w++)g(w);return o}function rE(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!s||!s.length||!n)return[];if(Re(c)||Fc.isSsr){var h;return(h=Pxe(s,Re(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",g=d&&y==="width"?bh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(v,_)=>{var j=typeof u=="function"?u(v.value,_):v.value;return y==="width"?Cxe(bh(j,{fontSize:t,letterSpacing:r}),g,f):bh(j,{fontSize:t,letterSpacing:r})[y]},b=s.length>=2?Vr(s[1].coordinate-s[0].coordinate):1,x=Exe(i,b,y);return c==="equidistantPreserveStart"?Axe(b,x,w,s,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Rxe(b,x,w,s,o,c==="preserveStartEnd"):m=Dxe(b,x,w,s,o),m.filter(v=>v.isShow))}var Ixe=["viewBox"],$xe=["viewBox"];function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(null,arguments)}function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(n){nE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wM(e,t){if(e==null)return{};var r,n,s=Lxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Lxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nE(e,t,r){return(t=Fxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fxe(e){var t=Bxe(e,"string");return typeof t=="symbol"?t:t+""}function Bxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cl extends p.Component{constructor(t){super(t),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=wM(t,Ixe),i=this.props,{viewBox:o}=i,l=wM(i,$xe);return!Ww(n,o)||!Ww(s,l)||!Ww(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,y,g,w=c?-1:1,b=t.tickSize||l,x=Re(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=f=t.coordinate,m=n+ +!c*i,h=m-w*b,g=h-w*u,y=x;break;case"left":h=m=t.coordinate,f=r+ +!c*s,d=f-w*b,y=d-w*u,g=x;break;case"right":h=m=t.coordinate,f=r+ +c*s,d=f+w*b,y=d+w*u,g=x;break;default:d=f=t.coordinate,m=n+ +c*i,h=m+w*b,g=h+w*u,y=x;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:y,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l}=this.props,c=Ar(Ar(Ar({},ht(this.props,!1)),ht(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);c=Ar(Ar({},c),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var d=+(i==="left"&&!o||i==="right"&&o);c=Ar(Ar({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return p.createElement("line",Nu({},c,{className:xt("recharts-cartesian-axis-line",ll(l,"className"))}))}static renderTickItem(t,r,n){var s,i=xt(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))s=p.cloneElement(t,Ar(Ar({},r),{},{className:i}));else if(typeof t=="function")s=t(Ar(Ar({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=xt(o,t.className)),s=p.createElement(eb,Nu({},r,{className:o}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:o,tickFormatter:l,unit:c}=this.props,u=rE(Ar(Ar({},this.props),{},{ticks:n}),t,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=ht(this.props,!1),m=ht(o,!1),y=Ar(Ar({},h),{},{fill:"none"},ht(s,!1)),g=u.map((w,b)=>{var{line:x,tick:v}=this.getTickLineCoord(w),_=Ar(Ar(Ar(Ar({textAnchor:d,verticalAnchor:f},h),{},{stroke:"none",fill:i},m),v),{},{index:b,payload:w,visibleTicksCount:u.length,tickFormatter:l});return p.createElement(qr,Nu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},v0(this.props,w,b)),s&&p.createElement("line",Nu({},y,x,{className:xt("recharts-cartesian-axis-tick-line",ll(s,"className"))})),o&&Cl.renderTickItem(o,_,"".concat(typeof l=="function"?l(w.value,b):w.value).concat(c||"")))});return g.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},g):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:p.createElement(qr,{className:xt("recharts-cartesian-axis",s),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),ps.renderCallByParent(this.props))}}nE(Cl,"displayName","CartesianAxis");nE(Cl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zxe=["x1","y1","x2","y2","key"],Uxe=["offset"],Wxe=["xAxisId","yAxisId"],Vxe=["xAxisId","yAxisId"];function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){Hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hxe(e,t,r){return(t=qxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(null,arguments)}function Vy(e,t){if(e==null)return{};var r,n,s=Yxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Yxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gxe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function RU(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=Vy(t,zxe),u=ht(c,!1),d=Vy(u,Uxe);r=p.createElement("line",Ql({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Xxe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var i=Vy(e,Wxe),o=s.map((l,c)=>{var u=hn(hn({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return RU(n,u)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Zxe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var i=Vy(e,Vxe),o=s.map((l,c)=>{var u=hn(hn({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return RU(n,u)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Qxe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?s+o-f:u[h+1]-f;if(y<=0)return null;var g=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:y,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Jxe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?s+o-f:u[h+1]-f;if(y<=0)return null;var g=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:y,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var e0e=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return j6(rE(hn(hn(hn({},Cl.defaultProps),r),{},{ticks:S6(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},t0e=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return j6(rE(hn(hn(hn({},Cl.defaultProps),r),{},{ticks:S6(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},r0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function wh(e){var t=A6(),r=O6(),n=op(),s=hn(hn({},ni(e,r0e)),{},{x:Re(e.x)?e.x:n.left,y:Re(e.y)?e.y:n.top,width:Re(e.width)?e.width:n.width,height:Re(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=s,y=Rn(),g=$e(E=>AT(E,"xAxis",i,y)),w=$e(E=>AT(E,"yAxis",o,y));if(!Re(u)||u<=0||!Re(d)||d<=0||!Re(l)||l!==+l||!Re(c)||c!==+c)return null;var b=s.verticalCoordinatesGenerator||e0e,x=s.horizontalCoordinatesGenerator||t0e,{horizontalPoints:v,verticalPoints:_}=s;if((!v||!v.length)&&typeof x=="function"){var j=h&&h.length,S=x({yAxis:w?hn(hn({},w),{},{ticks:j?h:w.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);xh(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(v=S)}if((!_||!_.length)&&typeof b=="function"){var k=m&&m.length,C=b({xAxis:g?hn(hn({},g),{},{ticks:k?m:g.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);xh(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Gxe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),p.createElement(Qxe,Ql({},s,{horizontalPoints:v})),p.createElement(Jxe,Ql({},s,{verticalPoints:_})),p.createElement(Xxe,Ql({},s,{offset:n,horizontalPoints:v,xAxis:g,yAxis:w})),p.createElement(Zxe,Ql({},s,{offset:n,verticalPoints:_,xAxis:g,yAxis:w})))}wh.displayName="CartesianGrid";var IU=(e,t,r,n)=>la(e,"xAxis",t,n),$U=(e,t,r,n)=>ul(e,"xAxis",t,n),LU=(e,t,r,n)=>la(e,"yAxis",r,n),FU=(e,t,r,n)=>ul(e,"yAxis",r,n),n0e=J([kt,IU,LU,$U,FU],(e,t,r,n,s)=>wl(e,"xAxis")?am(t,n,!1):am(r,s,!1)),s0e=(e,t,r,n,s)=>s,i0e=J([q0,s0e],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),a0e=J([kt,IU,LU,$U,FU,i0e,n0e,lC],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return k0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:f,bandSize:o,displayedData:m})}}),o0e=["type","layout","connectNulls","needClip"],l0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function BU(e,t){if(e==null)return{};var r,n,s=c0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function c0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sb(e,t,r){return(t=u0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u0e(e){var t=d0e(e,"string");return typeof t=="symbol"?t:t+""}function d0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pd.apply(null,arguments)}var f0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Kd(r,t),payload:e}]};function h0e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Kd(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var zU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function m0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var p0e=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return zU(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...m0e(r,s),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function g0e(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=xt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=p.createElement(oU,Pd({},t,{className:n}))}return r}function v0e(e,t){return e==null?!1:t?!0:e.length===1}function y0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!v0e(r,s))return null;var l=aB(s),c=ht(n,!1),u=ht(s,!0),d=r.map((h,m)=>{var y=yi(yi(yi({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return g0e(s,y)}),f={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return p.createElement(qr,Pd({className:"recharts-line-dots",key:"dots"},f),d)}function T1(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:u,needClip:d}=i,f=BU(i,o0e),h=yi(yi({},ht(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):null,points:n,type:l,layout:c,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(IN,Pd({},h,{pathRef:r})),p.createElement(y0e,{points:n,clipPathId:t,props:i}),o&&Qo.renderCallByParent(i,n))}function x0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function b0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:y,onAnimationEnd:g,onAnimationStart:w}=r,b=s.current,x=QC(r,"recharts-line-"),[v,_]=p.useState(!1),j=p.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),S=p.useCallback(()=>{typeof w=="function"&&w(),_(!0)},[w]),k=x0e(n.current),C=i.current;return p.createElement(cl,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:S,key:x},E=>{var{t:A}=E,P=ms(C,k+C),O=Math.min(P(A),k),$;if(l){var I="".concat(l).split(/[,\s]+/gim).map(T=>parseFloat(T));$=p0e(O,k,I)}else $=zU(k,O);if(b){var B=b.length/o.length,U=A===1?o:o.map((T,N)=>{var M=Math.floor(N*B);if(b[M]){var L=b[M],W=ms(L.x,T.x),K=ms(L.y,T.y);return yi(yi({},T),{},{x:W(A),y:K(A)})}if(h){var z=ms(m*2,T.x),H=ms(y/2,T.y);return yi(yi({},T),{},{x:z(A),y:H(A)})}return yi(yi({},T),{},{x:T.x,y:T.y})});return s.current=U,p.createElement(T1,{props:r,points:U,clipPathId:t,pathRef:n,showLabels:!v,strokeDasharray:$})}return A>0&&k>0&&(s.current=o,i.current=O),p.createElement(T1,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!v,strokeDasharray:$})})}function w0e(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:s}=r,i=p.useRef(null),o=p.useRef(0),l=p.useRef(null),c=i.current;return s&&n&&n.length&&c!==n?p.createElement(b0e,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):p.createElement(T1,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var _0e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Yt(e.payload,t)});class j0e extends p.Component{constructor(){super(...arguments),sb(this,"id",kc("recharts-line-"))}render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m,layout:y}=this.props;if(r)return null;var g=xt("recharts-line",i),w=Lt(h)?this.id:h,{r:b=3,strokeWidth:x=2}=(t=ht(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},v=aB(n),_=b*2+x;return p.createElement(p.Fragment,null,p.createElement(qr,{className:g},m&&p.createElement("defs",null,p.createElement(EU,{clipPathId:w,xAxisId:o,yAxisId:l}),!v&&p.createElement("clipPath",{id:"clipPath-dots-".concat(w)},p.createElement("rect",{x:u-_/2,y:c-_/2,width:d+_,height:f+_}))),p.createElement(w0e,{props:this.props,clipPathId:w}),p.createElement(SU,{direction:y==="horizontal"?"y":"x"},p.createElement(bU,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:_0e,errorBarOffset:0},this.props.children))),p.createElement(Jve,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var UU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Fc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function S0e(e){var t=ni(e,UU),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:y}=t,g=BU(t,l0e),{needClip:w}=JC(m,y),{height:b,width:x,left:v,top:_}=op(),j=I0(),S=Rn(),k=p.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),C=$e(E=>a0e(E,m,y,S,k));return j!=="horizontal"&&j!=="vertical"?null:p.createElement(j0e,Pd({},g,{connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:y,points:C,layout:j,height:b,width:x,left:v,top:_,needClip:w}))}function k0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Yt(u,o);return t==="horizontal"?{x:bO({axis:r,ticks:s,bandSize:l,entry:u,index:d}),y:Lt(f)?null:n.scale(f),value:f,payload:u}:{x:Lt(f)?null:r.scale(f),y:bO({axis:n,ticks:i,bandSize:l,entry:u,index:d}),value:f,payload:u}})}let sE=class extends p.PureComponent{render(){return p.createElement(wU,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},p.createElement(pU,{legendPayload:f0e(this.props)}),p.createElement(ZC,{fn:h0e,args:this.props}),p.createElement(S0e,this.props))}};sb(sE,"displayName","Line");sb(sE,"defaultProps",UU);function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){N0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N0e(e,t,r){return(t=C0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C0e(e){var t=E0e(e,"string");return typeof t=="symbol"?t:t+""}function E0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P0e={xAxis:{},yAxis:{},zAxis:{}},WU=ri({name:"cartesianAxis",initialState:P0e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=kM(kM({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:A0e,removeXAxis:O0e,addYAxis:T0e,removeYAxis:M0e,addZAxis:UCe,removeZAxis:WCe,updateYAxisWidth:D0e}=WU.actions,R0e=WU.reducer,I0e=["children"],$0e=["dangerouslySetInnerHTML","ticks"];function VU(e,t,r){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0e(e){var t=F0e(e,"string");return typeof t=="symbol"?t:t+""}function F0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(null,arguments)}function HU(e,t){if(e==null)return{};var r,n,s=B0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function B0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z0e(e){var t=lr(),r=p.useMemo(()=>{var i=HU(e,I0e);return i},[e]),n=$e(i=>no(i,r.id)),s=r===n;return p.useEffect(()=>(t(A0e(r)),()=>{t(O0e(r))}),[r,t]),s?e.children:null}var U0e=e=>{var{xAxisId:t,className:r}=e,n=$e(P6),s=Rn(),i="xAxis",o=$e(f=>ef(f,i,t,s)),l=$e(f=>bz(f,i,t,s)),c=$e(f=>gz(f,t)),u=$e(f=>hme(f,t));if(c==null||u==null)return null;var d=HU(e,$0e);return p.createElement(Cl,M1({},d,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:xt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},W0e=e=>{var t,r,n,s,i;return p.createElement(z0e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},p.createElement(U0e,e))};class Wu extends p.Component{render(){return p.createElement(W0e,this.props)}}VU(Wu,"displayName","XAxis");VU(Wu,"defaultProps",{allowDataOverflow:os.allowDataOverflow,allowDecimals:os.allowDecimals,allowDuplicatedCategory:os.allowDuplicatedCategory,height:os.height,hide:!1,mirror:os.mirror,orientation:os.orientation,padding:os.padding,reversed:os.reversed,scale:os.scale,tickCount:os.tickCount,type:os.type,xAxisId:0});var V0e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},H0e=["dangerouslySetInnerHTML","ticks"];function qU(e,t,r){return(t=q0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q0e(e){var t=K0e(e,"string");return typeof t=="symbol"?t:t+""}function K0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(null,arguments)}function Y0e(e,t){if(e==null)return{};var r,n,s=G0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function G0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X0e(e){var t=lr();return p.useEffect(()=>(t(T0e(e)),()=>{t(M0e(e))}),[e,t]),null}var Z0e=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,o=p.useRef(null),l=p.useRef(null),c=$e(P6),u=Rn(),d=lr(),f="yAxis",h=$e(b=>ef(b,f,r,u)),m=$e(b=>vz(b,r)),y=$e(b=>mme(b,r)),g=$e(b=>bz(b,f,r,u));if(p.useLayoutEffect(()=>{var b;if(!(s!=="auto"||!m||WC(i)||p.isValidElement(i))){var x=o.current,v=x==null||(b=x.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:_,tickMargin:j}=x.props,S=V0e({ticks:v,label:l.current,labelGapWithTick:5,tickSize:_,tickMargin:j});Math.round(m.width)!==Math.round(S)&&d(D0e({id:r,width:S}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,i,r,s]),m==null||y==null)return null;var w=Y0e(e,H0e);return p.createElement(Cl,D1({},w,{ref:o,labelRef:l,scale:h,x:y.x,y:y.y,width:m.width,height:m.height,className:xt("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:g}))},Q0e=e=>{var t,r,n,s,i;return p.createElement(p.Fragment,null,p.createElement(X0e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),p.createElement(Z0e,e))},J0e={allowDataOverflow:ls.allowDataOverflow,allowDecimals:ls.allowDecimals,allowDuplicatedCategory:ls.allowDuplicatedCategory,hide:!1,mirror:ls.mirror,orientation:ls.orientation,padding:ls.padding,reversed:ls.reversed,scale:ls.scale,tickCount:ls.tickCount,type:ls.type,width:ls.width,yAxisId:0};class Vu extends p.Component{render(){return p.createElement(Q0e,this.props)}}qU(Vu,"displayName","YAxis");qU(Vu,"defaultProps",J0e);var ebe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=p;function tbe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rbe=typeof Object.is=="function"?Object.is:tbe,nbe=vp.useSyncExternalStore,sbe=vp.useRef,ibe=vp.useEffect,abe=vp.useMemo,obe=vp.useDebugValue;ebe.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=sbe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=abe(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&o.hasValue){var y=o.value;if(s(y,m))return f=y}return f=m}if(y=f,rbe(d,m))return y;var g=n(m);return s!==void 0&&s(y,g)?(d=m,y):(d=m,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=nbe(e,i[0],i[1]);return ibe(function(){o.hasValue=!0,o.value=l},[l]),obe(l),l};function lbe(e){e()}function cbe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lbe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var NM={notify(){},get:()=>[]};function ube(e,t){let r,n=NM,s=0,i=!1;function o(g){d();const w=n.subscribe(g);let b=!1;return()=>{b||(b=!0,w(),f())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=cbe())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=NM)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return y}var dbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fbe=dbe(),hbe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mbe=hbe(),pbe=()=>fbe||mbe?p.useLayoutEffect:p.useEffect,gbe=pbe(),Vw=Symbol.for("react-redux-context"),Hw=typeof globalThis<"u"?globalThis:{};function vbe(){if(!p.createContext)return{};const e=Hw[Vw]??(Hw[Vw]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var ybe=vbe();function xbe(e){const{children:t,context:r,serverState:n,store:s}=e,i=p.useMemo(()=>{const c=ube(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=p.useMemo(()=>s.getState(),[s]);gbe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||ybe;return p.createElement(l.Provider,{value:i},t)}var bbe=xbe,wbe=(e,t)=>t,iE=J([wbe,kt,Che,Gr,Dz,so,mpe,Kr],wpe),aE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},KU=Zs("mouseClick"),YU=ap();YU.startListening({actionCreator:KU,effect:(e,t)=>{var r=e.payload,n=iE(t.getState(),aE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Cme({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var R1=Zs("mouseMove"),GU=ap();GU.startListening({actionCreator:R1,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=DC(n,n.tooltip.settings.shared),i=iE(n,aE(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(Ez({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Cz()))}});function _be(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var CM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},XU=ri({name:"rootProps",initialState:CM,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:CM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),jbe=XU.reducer,{updateOptions:Sbe}=XU.actions,ZU=ri({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:kbe}=ZU.actions,Nbe=ZU.reducer,QU=Zs("keyDown"),JU=Zs("focus"),oE=ap();oE.startListening({actionCreator:QU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(RC(s,Wc(r))),l=so(r);if(i==="Enter"){var c=Fy(r,"axis","hover",String(s.index));t.dispatch(S1({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=yme(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*d;if(!(l==null||h>=l.length||h<0)){var m=Fy(r,"axis","hover",String(h));t.dispatch(S1({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});oE.startListening({actionCreator:JU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=Fy(r,"axis","hover",String(i));t.dispatch(S1({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ts=Zs("externalEvent"),eW=ap();eW.startListening({actionCreator:Ts,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:npe(r),activeDataKey:Fz(r),activeIndex:Pc(r),activeLabel:Lz(r),activeTooltipIndex:Pc(r),isTooltipActive:spe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Cbe=J([tf],e=>e.tooltipItemPayloads),Ebe=J([Cbe,Z0,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),tW=Zs("touchMove"),rW=ap();rW.startListening({actionCreator:tW,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=DC(n,n.tooltip.settings.shared);if(s==="axis"){var i=iE(n,aE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(Ez({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(C6),d=(o=c.getAttribute(E6))!==null&&o!==void 0?o:void 0,f=Ebe(t.getState(),u,d);t.dispatch(Nz({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Pbe=JB({brush:gxe,cartesianAxis:R0e,chartData:Ipe,graphicalItems:uve,layout:Fle,legend:_ce,options:Ope,polarAxis:Gge,polarOptions:Nbe,referenceElements:Sxe,rootProps:jbe,tooltip:Eme}),Abe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return ule({reducer:Pbe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([YU.middleware,GU.middleware,oE.middleware,eW.middleware,rW.middleware]),devTools:{serialize:{replacer:_be},name:"recharts-".concat(r)}})};function nW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Rn(),i=p.useRef(null);if(s)return r;i.current==null&&(i.current=Abe(t,n));var o=kN;return p.createElement(bbe,{context:o,store:i.current},r)}function sW(e){var{layout:t,width:r,height:n,margin:s}=e,i=lr(),o=Rn();return p.useEffect(()=>{o||(i(Ile(t)),i($le({width:r,height:n})),i(Rle(s)))},[i,o,t,r,n,s]),null}function iW(e){var t=lr();return p.useEffect(()=>{t(Sbe(e))},[t,e]),null}var Obe=["children"];function Tbe(e,t){if(e==null)return{};var r,n,s=Mbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Mbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}var Dbe={width:"100%",height:"100%"},Rbe=p.forwardRef((e,t)=>{var r=A6(),n=O6(),s=R6();if(!Sd(r)||!Sd(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=s?0:void 0,typeof o.role=="string"?d=o.role:d=s?"application":void 0,p.createElement(oB,Hy({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Dbe,ref:t}),i)}),Ibe=e=>{var{children:t}=e,r=$e(R0);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return p.createElement(oB,{width:n,height:s,x:o,y:i},t)},EM=p.forwardRef((e,t)=>{var{children:r}=e,n=Tbe(e,Obe),s=Rn();return s?p.createElement(Ibe,null,r):p.createElement(Rbe,Hy({ref:t},n),r)});function $be(){var e=lr(),[t,r]=p.useState(null),n=$e(hce);return p.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;ks(i)&&i!==n&&e(Lle(i))}},[t,e,n]),r}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){Fbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fbe(e,t,r){return(t=Bbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bbe(e){var t=zbe(e,"string");return typeof t=="symbol"?t:t+""}function zbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ube=p.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:y,onTouchStart:g,style:w,width:b}=e,x=lr(),[v,_]=p.useState(null),[j,S]=p.useState(null);Fpe();var k=$be(),C=p.useCallback(K=>{k(K),typeof t=="function"&&t(K),_(K),S(K)},[k,t,_,S]),E=p.useCallback(K=>{x(KU(K)),x(Ts({handler:i,reactEvent:K}))},[x,i]),A=p.useCallback(K=>{x(R1(K)),x(Ts({handler:u,reactEvent:K}))},[x,u]),P=p.useCallback(K=>{x(Cz()),x(Ts({handler:d,reactEvent:K}))},[x,d]),O=p.useCallback(K=>{x(R1(K)),x(Ts({handler:f,reactEvent:K}))},[x,f]),$=p.useCallback(()=>{x(JU())},[x]),I=p.useCallback(K=>{x(QU(K.key))},[x]),B=p.useCallback(K=>{x(Ts({handler:o,reactEvent:K}))},[x,o]),U=p.useCallback(K=>{x(Ts({handler:l,reactEvent:K}))},[x,l]),T=p.useCallback(K=>{x(Ts({handler:c,reactEvent:K}))},[x,c]),N=p.useCallback(K=>{x(Ts({handler:h,reactEvent:K}))},[x,h]),M=p.useCallback(K=>{x(Ts({handler:g,reactEvent:K}))},[x,g]),L=p.useCallback(K=>{x(tW(K)),x(Ts({handler:y,reactEvent:K}))},[x,y]),W=p.useCallback(K=>{x(Ts({handler:m,reactEvent:K}))},[x,m]);return p.createElement(Hz.Provider,{value:v},p.createElement(mae.Provider,{value:j},p.createElement("div",{className:xt("recharts-wrapper",n),style:Lbe({position:"relative",cursor:"default",width:b,height:s},w),role:"application",onClick:E,onContextMenu:B,onDoubleClick:U,onFocus:$,onKeyDown:I,onMouseDown:T,onMouseEnter:A,onMouseLeave:P,onMouseMove:O,onMouseUp:N,onTouchEnd:W,onTouchMove:L,onTouchStart:M,ref:C},r)))}),Wbe=["children","className","width","height","style","compact","title","desc"];function Vbe(e,t){if(e==null)return{};var r,n,s=Hbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Hbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aW=p.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:u}=e,d=Vbe(e,Wbe),f=ht(d,!1);return l?p.createElement(EM,{otherAttributes:f,title:c,desc:u},r):p.createElement(Ube,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(EM,{otherAttributes:f,title:c,desc:u,ref:t},p.createElement(Nxe,null,r)))}),qbe=["width","height"];function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I1.apply(null,arguments)}function Kbe(e,t){if(e==null)return{};var r,n,s=Ybe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ybe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gbe={top:5,right:5,bottom:5,left:5},Xbe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gbe,reverseStackOrder:!1,syncMethod:"index"},oW=p.forwardRef(function(t,r){var n,s=ni(t.categoricalChartProps,Xbe),{width:i,height:o}=s,l=Kbe(s,qbe);if(!Sd(i)||!Sd(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(nW,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},p.createElement(MU,{chartData:h.data}),p.createElement(sW,{width:i,height:o,layout:s.layout,margin:s.margin}),p.createElement(iW,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(aW,I1({},l,{width:i,height:o,ref:r})))}),Zbe=["axis"],Qbe=p.forwardRef((e,t)=>p.createElement(oW,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zbe,tooltipPayloadSearcher:UC,categoricalChartProps:e,ref:t})),Jbe=["axis","item"],$1=p.forwardRef((e,t)=>p.createElement(oW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jbe,tooltipPayloadSearcher:UC,categoricalChartProps:e,ref:t}));function ewe(e){var t=lr();return p.useEffect(()=>{t(kbe(e))},[t,e]),null}var twe=["width","height","layout"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(null,arguments)}function rwe(e,t){if(e==null)return{};var r,n,s=nwe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var swe={top:5,right:5,bottom:5,left:5},iwe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:swe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},awe=p.forwardRef(function(t,r){var n,s=ni(t.categoricalChartProps,iwe),{width:i,height:o,layout:l}=s,c=rwe(s,twe);if(!Sd(i)||!Sd(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(nW,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:u},p.createElement(MU,{chartData:s.data}),p.createElement(sW,{width:i,height:o,layout:l,margin:s.margin}),p.createElement(iW,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),p.createElement(ewe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),p.createElement(aW,L1({width:i,height:o},c,{ref:r})))}),owe=["item"],lwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lW=p.forwardRef((e,t)=>{var r=ni(e,lwe);return p.createElement(awe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:owe,tooltipPayloadSearcher:UC,categoricalChartProps:r,ref:t})});const cwe=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(null),[s,i]=p.useState(!1),[o,l]=p.useState(null),{toast:c}=Er(),u=async()=>{i(!0),l(null);try{console.log("useDashboard: Starting dashboard list request");const{data:{session:b}}=await de.auth.getSession(),x=new URL("http://localhost:8000/functions/v1/dashboard-manager");x.searchParams.set("action","list");const v={"Content-Type":"application/json"};b!=null&&b.access_token&&(v.Authorization=`Bearer ${b.access_token}`);const _=await fetch(x.toString(),{method:"GET",headers:v});if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const j=await _.json();if(console.log("useDashboard: List dashboards response:",j),j&&j.dashboards!==void 0)return console.log("useDashboard: Found dashboards array:",j.dashboards.length),t(j.dashboards||[]),j.dashboards;throw j.error?new Error(j.error):(console.error("useDashboard: Unexpected response format:",j),new Error("Failed to load dashboards - unexpected response format"))}catch(b){const x=b.message||"Failed to load dashboards";return console.error("useDashboard: Error in listDashboards:",x,b),l(x),c({title:"Error",description:x,variant:"destructive"}),[]}finally{i(!1)}},d=async b=>{var x;i(!0),l(null);try{console.log("useDashboard: Getting dashboard with ID:",b);const{data:{session:v}}=await de.auth.getSession(),_=new URL("http://localhost:8000/functions/v1/dashboard-manager");_.searchParams.set("action","get"),_.searchParams.set("id",b);const j={"Content-Type":"application/json"};v!=null&&v.access_token&&(j.Authorization=`Bearer ${v.access_token}`);const S=await fetch(_.toString(),{method:"GET",headers:j});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const k=await S.json();if(console.log("useDashboard: Get dashboard response:",k),console.log("useDashboard: Dashboard data:",k.dashboard),console.log("useDashboard: Dashboard widgets:",(x=k.dashboard)==null?void 0:x.dashboard_widgets),k.dashboard)return n(k.dashboard),k.dashboard;throw k.error?new Error(k.error):new Error("Dashboard not found")}catch(v){const _=v.message||"Failed to load dashboard";return console.error("useDashboard: Error in getDashboard:",_,v),l(_),c({title:"Error",description:_,variant:"destructive"}),null}finally{i(!1)}},f=async b=>{i(!0),l(null);try{console.log("useDashboard: Creating dashboard with config:",b);const{data:{session:x}}=await de.auth.getSession();if(!x)throw new Error("Authentication required. Please sign in.");const v=await fetch("http://localhost:8000/functions/v1/dashboard-manager",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.access_token}`},body:JSON.stringify(b)});if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const _=await v.json(),j=null;if(console.log("useDashboard: Create dashboard response:",{data:_,error:j}),_&&(_.dashboard||_.message))return c({title:"Success",description:_.message||"Dashboard created successfully"}),await u(),_.dashboard;throw _&&_.error?new Error(_.error):new Error("Failed to create dashboard - unexpected response")}catch(x){const v=x.message||"Failed to create dashboard";return console.error("useDashboard: Create dashboard error:",v,x),l(v),c({title:"Error",description:v,variant:"destructive"}),null}finally{i(!1)}},h=async(b,x)=>{i(!0),l(null);try{const{data:v,error:_}=await de.functions.invoke("dashboard-manager",{method:"POST",body:{action:"update",payload:{id:b,...x}}});if(_)throw _;if(v.success)return c({title:"Success",description:"Dashboard updated successfully"}),(r==null?void 0:r.id)===b&&n({...r,...x}),await u(),!0;throw new Error(v.error||"Failed to update dashboard")}catch(v){const _=v.message||"Failed to update dashboard";return l(_),c({title:"Error",description:_,variant:"destructive"}),!1}finally{i(!1)}},m=async b=>{i(!0),l(null);try{const{data:x,error:v}=await de.functions.invoke("dashboard-manager",{method:"POST",body:{action:"delete",payload:{id:b}}});if(v)throw v;if(x.success)return c({title:"Success",description:"Dashboard deleted successfully"}),(r==null?void 0:r.id)===b&&n(null),await u(),!0;throw new Error(x.error||"Failed to delete dashboard")}catch(x){const v=x.message||"Failed to delete dashboard";return l(v),c({title:"Error",description:v,variant:"destructive"}),!1}finally{i(!1)}},y=async(b,x)=>{i(!0),l(null);try{const{data:v,error:_}=await de.functions.invoke("dashboard-manager",{method:"POST",body:{action:"create_widget",payload:{dashboard_id:b,...x}}});if(_)throw _;if(v.success)return c({title:"Success",description:"Widget created successfully"}),(r==null?void 0:r.id)===b&&await d(b),v.data;throw new Error(v.error||"Failed to create widget")}catch(v){const _=v.message||"Failed to create widget";return l(_),c({title:"Error",description:_,variant:"destructive"}),null}finally{i(!1)}},g=async(b,x)=>{i(!0),l(null);try{const{data:v,error:_}=await de.functions.invoke("dashboard-manager",{method:"POST",body:{action:"update_widget",payload:{id:b,...x}}});if(_)throw _;if(v.success)return c({title:"Success",description:"Widget updated successfully"}),r&&await d(r.id),!0;throw new Error(v.error||"Failed to update widget")}catch(v){const _=v.message||"Failed to update widget";return l(_),c({title:"Error",description:_,variant:"destructive"}),!1}finally{i(!1)}},w=async b=>{i(!0),l(null);try{const{data:x,error:v}=await de.functions.invoke("dashboard-manager",{method:"POST",body:{action:"delete_widget",payload:{id:b}}});if(v)throw v;if(x.success)return c({title:"Success",description:"Widget deleted successfully"}),r&&await d(r.id),!0;throw new Error(x.error||"Failed to delete widget")}catch(x){const v=x.message||"Failed to delete widget";return l(v),c({title:"Error",description:v,variant:"destructive"}),!1}finally{i(!1)}};return p.useEffect(()=>{u()},[]),{dashboards:e,currentDashboard:r,isLoading:s,error:o,listDashboards:u,getDashboard:d,createDashboard:f,updateDashboard:h,deleteDashboard:m,createWidget:y,updateWidget:g,deleteWidget:w,setCurrentDashboard:n}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function yp(e){return e+.5|0}const $o=(e,t,r)=>Math.max(Math.min(e,r),t);function Gf(e){return $o(yp(e*2.55),0,255)}function Jo(e){return $o(yp(e*255),0,255)}function ka(e){return $o(yp(e/2.55)/100,0,1)}function AM(e){return $o(yp(e*100),0,100)}const Os={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},F1=[..."0123456789ABCDEF"],uwe=e=>F1[e&15],dwe=e=>F1[(e&240)>>4]+F1[e&15],vg=e=>(e&240)>>4===(e&15),fwe=e=>vg(e.r)&&vg(e.g)&&vg(e.b)&&vg(e.a);function hwe(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Os[e[1]]*17,g:255&Os[e[2]]*17,b:255&Os[e[3]]*17,a:t===5?Os[e[4]]*17:255}:(t===7||t===9)&&(r={r:Os[e[1]]<<4|Os[e[2]],g:Os[e[3]]<<4|Os[e[4]],b:Os[e[5]]<<4|Os[e[6]],a:t===9?Os[e[7]]<<4|Os[e[8]]:255})),r}const mwe=(e,t)=>e<255?t(e):"";function pwe(e){var t=fwe(e)?uwe:dwe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+mwe(e.a,t):void 0}const gwe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cW(e,t,r){const n=t*Math.min(r,1-r),s=(i,o=(i+e/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function vwe(e,t,r){const n=(s,i=(s+e/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function ywe(e,t,r){const n=cW(e,1,.5);let s;for(t+r>1&&(s=1/(t+r),t*=s,r*=s),s=0;s<3;s++)n[s]*=1-t-r,n[s]+=t;return n}function xwe(e,t,r,n,s){return e===s?(t-r)/n+(t<r?6:0):t===s?(r-e)/n+2:(e-t)/n+4}function lE(e){const r=e.r/255,n=e.g/255,s=e.b/255,i=Math.max(r,n,s),o=Math.min(r,n,s),l=(i+o)/2;let c,u,d;return i!==o&&(d=i-o,u=l>.5?d/(2-i-o):d/(i+o),c=xwe(r,n,s,d,i),c=c*60+.5),[c|0,u||0,l]}function cE(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Jo)}function uE(e,t,r){return cE(cW,e,t,r)}function bwe(e,t,r){return cE(ywe,e,t,r)}function wwe(e,t,r){return cE(vwe,e,t,r)}function uW(e){return(e%360+360)%360}function _we(e){const t=gwe.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?Gf(+t[5]):Jo(+t[5]));const s=uW(+t[2]),i=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=bwe(s,i,o):t[1]==="hsv"?n=wwe(s,i,o):n=uE(s,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function jwe(e,t){var r=lE(e);r[0]=uW(r[0]+t),r=uE(r),e.r=r[0],e.g=r[1],e.b=r[2]}function Swe(e){if(!e)return;const t=lE(e),r=t[0],n=AM(t[1]),s=AM(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${s}%, ${ka(e.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const OM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},TM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kwe(){const e={},t=Object.keys(TM),r=Object.keys(OM);let n,s,i,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],s=0;s<r.length;s++)i=r[s],l=l.replace(i,OM[i]);i=parseInt(TM[o],16),e[l]=[i>>16&255,i>>8&255,i&255]}return e}let yg;function Nwe(e){yg||(yg=kwe(),yg.transparent=[0,0,0,0]);const t=yg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Cwe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ewe(e){const t=Cwe.exec(e);let r=255,n,s,i;if(t){if(t[7]!==n){const o=+t[7];r=t[8]?Gf(o):$o(o*255,0,255)}return n=+t[1],s=+t[3],i=+t[5],n=255&(t[2]?Gf(n):$o(n,0,255)),s=255&(t[4]?Gf(s):$o(s,0,255)),i=255&(t[6]?Gf(i):$o(i,0,255)),{r:n,g:s,b:i,a:r}}}function Pwe(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ka(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const qw=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ou=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Awe(e,t,r){const n=ou(ka(e.r)),s=ou(ka(e.g)),i=ou(ka(e.b));return{r:Jo(qw(n+r*(ou(ka(t.r))-n))),g:Jo(qw(s+r*(ou(ka(t.g))-s))),b:Jo(qw(i+r*(ou(ka(t.b))-i))),a:e.a+r*(t.a-e.a)}}function xg(e,t,r){if(e){let n=lE(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=uE(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function dW(e,t){return e&&Object.assign(t||{},e)}function MM(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Jo(e[3]))):(t=dW(e,{r:0,g:0,b:0,a:1}),t.a=Jo(t.a)),t}function Owe(e){return e.charAt(0)==="r"?Ewe(e):_we(e)}class vm{constructor(t){if(t instanceof vm)return t;const r=typeof t;let n;r==="object"?n=MM(t):r==="string"&&(n=hwe(t)||Nwe(t)||Owe(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=dW(this._rgb);return t&&(t.a=ka(t.a)),t}set rgb(t){this._rgb=MM(t)}rgbString(){return this._valid?Pwe(this._rgb):void 0}hexString(){return this._valid?pwe(this._rgb):void 0}hslString(){return this._valid?Swe(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,s=t.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=n.a-s.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,n.r=255&u*n.r+i*s.r+.5,n.g=255&u*n.g+i*s.g+.5,n.b=255&u*n.b+i*s.b+.5,n.a=o*n.a+(1-o)*s.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=Awe(this._rgb,t._rgb,r)),this}clone(){return new vm(this.rgb)}alpha(t){return this._rgb.a=Jo(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=yp(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return xg(this._rgb,2,t),this}darken(t){return xg(this._rgb,2,-t),this}saturate(t){return xg(this._rgb,1,t),this}desaturate(t){return xg(this._rgb,1,-t),this}rotate(t){return jwe(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ga(){}const Twe=(()=>{let e=0;return()=>e++})();function At(e){return e==null}function Rr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function bt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Js(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function $i(e,t){return Js(e)?e:t}function at(e,t){return typeof e>"u"?t:e}const Mwe=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,fW=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function qt(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function Mt(e,t,r,n){let s,i,o;if(Rr(e))for(i=e.length,s=0;s<i;s++)t.call(r,e[s],s);else if(bt(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(r,e[o[s]],o[s])}function qy(e,t){let r,n,s,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(s=e[r],i=t[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Ky(e){if(Rr(e))return e.map(Ky);if(bt(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let s=0;for(;s<n;++s)t[r[s]]=Ky(e[r[s]]);return t}return e}function hW(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Dwe(e,t,r,n){if(!hW(e))return;const s=t[e],i=r[e];bt(s)&&bt(i)?ym(s,i,n):t[e]=Ky(i)}function ym(e,t,r){const n=Rr(t)?t:[t],s=n.length;if(!bt(e))return e;r=r||{};const i=r.merger||Dwe;let o;for(let l=0;l<s;++l){if(o=n[l],!bt(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)i(c[u],e,o,r)}return e}function _h(e,t){return ym(e,t,{merger:Rwe})}function Rwe(e,t,r){if(!hW(e))return;const n=t[e],s=r[e];bt(n)&&bt(s)?_h(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ky(s))}const DM={"":e=>e,x:e=>e.x,y:e=>e.y};function Iwe(e){const t=e.split("."),r=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function $we(e){const t=Iwe(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function Oc(e,t){return(DM[t]||(DM[t]=$we(t)))(e)}function dE(e){return e.charAt(0).toUpperCase()+e.slice(1)}const xm=e=>typeof e<"u",dl=e=>typeof e=="function",RM=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function Lwe(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Dt=Math.PI,or=2*Dt,Fwe=or+Dt,Yy=Number.POSITIVE_INFINITY,Bwe=Dt/180,$r=Dt/2,Pl=Dt/4,IM=Dt*2/3,B1=Math.log10,ta=Math.sign;function jh(e,t,r){return Math.abs(e-t)<r}function $M(e){const t=Math.round(e);e=jh(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(B1(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function zwe(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((s,i)=>s-i).pop(),t}function Uwe(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function bm(e){return!Uwe(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Wwe(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function Vwe(e,t,r){let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Ra(e){return e*(Dt/180)}function Hwe(e){return e*(180/Dt)}function LM(e){if(!Js(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function mW(e,t){const r=t.x-e.x,n=t.y-e.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Dt&&(i+=or),{angle:i,distance:s}}function z1(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function qwe(e,t){return(e-t+Fwe)%or-Dt}function gi(e){return(e%or+or)%or}function wm(e,t,r,n){const s=gi(e),i=gi(t),o=gi(r),l=gi(i-s),c=gi(o-s),u=gi(s-i),d=gi(s-o);return s===i||s===o||n&&i===o||l>c&&u<d}function pn(e,t,r){return Math.max(t,Math.min(r,e))}function Kwe(e){return pn(e,-32768,32767)}function Lo(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function fE(e,t,r){r=r||(o=>e[o]<t);let n=e.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const Jl=(e,t,r,n)=>fE(e,r,n?s=>{const i=e[s][t];return i<r||i===r&&e[s+1][t]===r}:s=>e[s][t]<r),Ywe=(e,t,r)=>fE(e,r,n=>e[n][t]>=r);function Gwe(e,t,r){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>r;)s--;return n>0||s<e.length?e.slice(n,s):e}const pW=["push","pop","shift","splice","unshift"];function Xwe(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pW.forEach(r=>{const n="_onData"+dE(r),s=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return e._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function FM(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(pW.forEach(i=>{delete e[i]}),delete e._chartjs)}function gW(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const vW=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function yW(e,t){let r=[],n=!1;return function(...s){r=s,n||(n=!0,vW.call(window,()=>{n=!1,e.apply(t,r)}))}}function Zwe(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const hE=e=>e==="start"?"left":e==="end"?"right":"center",cn=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,Qwe=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function Jwe(e,t,r){const n=t.length;let s=0,i=n;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:m,maxDefined:y}=o.getUserBounds();if(m){if(s=Math.min(Jl(c,d,f).lo,r?n:Jl(t,d,o.getPixelForValue(f)).lo),u){const g=c.slice(0,s+1).reverse().findIndex(w=>!At(w[l.axis]));s-=Math.max(0,g)}s=pn(s,0,n-1)}if(y){let g=Math.max(Jl(c,o.axis,h,!0).hi+1,r?0:Jl(t,d,o.getPixelForValue(h),!0).hi+1);if(u){const w=c.slice(g-1).findIndex(b=>!At(b[l.axis]));g+=Math.max(0,w)}i=pn(g,s,n)-s}else i=n-s}return{start:s,count:i}}function e_e(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=s,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const bg=e=>e===0||e===1,BM=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*or/r)),zM=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*or/r)+1,Sh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*$r)+1,easeOutSine:e=>Math.sin(e*$r),easeInOutSine:e=>-.5*(Math.cos(Dt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>bg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>bg(e)?e:BM(e,.075,.3),easeOutElastic:e=>bg(e)?e:zM(e,.075,.3),easeInOutElastic(e){return bg(e)?e:e<.5?.5*BM(e*2,.1125,.45):.5+.5*zM(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sh.easeInBounce(e*2)*.5:Sh.easeOutBounce(e*2-1)*.5+.5};function mE(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function UM(e){return mE(e)?e:new vm(e)}function Kw(e){return mE(e)?e:new vm(e).saturate(.5).darken(.1).hexString()}const t_e=["x","y","borderWidth","radius","tension"],r_e=["color","borderColor","backgroundColor"];function n_e(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:r_e},numbers:{type:"number",properties:t_e}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function s_e(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const WM=new Map;function i_e(e,t){t=t||{};const r=e+JSON.stringify(t);let n=WM.get(r);return n||(n=new Intl.NumberFormat(e,t),WM.set(r,n)),n}function pE(e,t,r){return i_e(t,r).format(e)}const xW={values(e){return Rr(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let s,i=e;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=a_e(e,r)}const o=B1(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),pE(e,n,c)},logarithmic(e,t,r){if(e===0)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(B1(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?xW.numeric.call(this,e,t,r):""}};function a_e(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var bW={formatters:xW};function o_e(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bW.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Tc=Object.create(null),U1=Object.create(null);function kh(e,t){if(!t)return e;const r=t.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];e=e[i]||(e[i]=Object.create(null))}return e}function Yw(e,t,r){return typeof t=="string"?ym(kh(e,t),r):ym(kh(e,""),t)}class l_e{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Kw(s.backgroundColor),this.hoverBorderColor=(n,s)=>Kw(s.borderColor),this.hoverColor=(n,s)=>Kw(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return Yw(this,t,r)}get(t){return kh(this,t)}describe(t,r){return Yw(U1,t,r)}override(t,r){return Yw(Tc,t,r)}route(t,r,n,s){const i=kh(this,t),o=kh(this,n),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=o[s];return bt(c)?Object.assign({},u,c):at(c,u)},set(c){this[l]=c}}})}apply(t){t.forEach(r=>r(this))}}var vr=new l_e({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[n_e,s_e,o_e]);function c_e(e){return!e||At(e.size)||At(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function VM(e,t,r,n,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,r.push(s)),i>n&&(n=i),n}function Al(e,t,r){const n=e.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((t-s)*n)/n+s}function HM(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function W1(e,t,r,n){wW(e,t,r,n,null)}function wW(e,t,r,n,s){let i,o,l,c,u,d,f,h;const m=t.pointStyle,y=t.rotation,g=t.radius;let w=(y||0)*Bwe;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(w),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),m){default:s?e.ellipse(r,n,s/2,g,0,0,or):e.arc(r,n,g,0,or),e.closePath();break;case"triangle":d=s?s/2:g,e.moveTo(r+Math.sin(w)*d,n-Math.cos(w)*g),w+=IM,e.lineTo(r+Math.sin(w)*d,n-Math.cos(w)*g),w+=IM,e.lineTo(r+Math.sin(w)*d,n-Math.cos(w)*g),e.closePath();break;case"rectRounded":u=g*.516,c=g-u,o=Math.cos(w+Pl)*c,f=Math.cos(w+Pl)*(s?s/2-u:c),l=Math.sin(w+Pl)*c,h=Math.sin(w+Pl)*(s?s/2-u:c),e.arc(r-f,n-l,u,w-Dt,w-$r),e.arc(r+h,n-o,u,w-$r,w),e.arc(r+f,n+l,u,w,w+$r),e.arc(r-h,n+o,u,w+$r,w+Dt),e.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*g,d=s?s/2:c,e.rect(r-d,n-c,2*d,2*c);break}w+=Pl;case"rectRot":f=Math.cos(w)*(s?s/2:g),o=Math.cos(w)*g,l=Math.sin(w)*g,h=Math.sin(w)*(s?s/2:g),e.moveTo(r-f,n-l),e.lineTo(r+h,n-o),e.lineTo(r+f,n+l),e.lineTo(r-h,n+o),e.closePath();break;case"crossRot":w+=Pl;case"cross":f=Math.cos(w)*(s?s/2:g),o=Math.cos(w)*g,l=Math.sin(w)*g,h=Math.sin(w)*(s?s/2:g),e.moveTo(r-f,n-l),e.lineTo(r+f,n+l),e.moveTo(r+h,n-o),e.lineTo(r-h,n+o);break;case"star":f=Math.cos(w)*(s?s/2:g),o=Math.cos(w)*g,l=Math.sin(w)*g,h=Math.sin(w)*(s?s/2:g),e.moveTo(r-f,n-l),e.lineTo(r+f,n+l),e.moveTo(r+h,n-o),e.lineTo(r-h,n+o),w+=Pl,f=Math.cos(w)*(s?s/2:g),o=Math.cos(w)*g,l=Math.sin(w)*g,h=Math.sin(w)*(s?s/2:g),e.moveTo(r-f,n-l),e.lineTo(r+f,n+l),e.moveTo(r+h,n-o),e.lineTo(r-h,n+o);break;case"line":o=s?s/2:Math.cos(w)*g,l=Math.sin(w)*g,e.moveTo(r-o,n-l),e.lineTo(r+o,n+l);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(w)*(s?s/2:g),n+Math.sin(w)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function _m(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function gE(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function vE(e){e.restore()}function u_e(e,t,r,n,s){if(!t)return e.lineTo(r.x,r.y);if(s==="middle"){const i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else s==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function d_e(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function f_e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),At(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function h_e(e,t,r,n,s){if(s.strikethrough||s.underline){const i=e.measureText(n),o=t-i.actualBoundingBoxLeft,l=t+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,u=r+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,d),e.lineTo(l,d),e.stroke()}}function m_e(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function jm(e,t,r,n,s,i={}){const o=Rr(t)?t:[t],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(e.save(),e.font=s.string,f_e(e,i),c=0;c<o.length;++c)u=o[c],i.backdrop&&m_e(e,i.backdrop),l&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),At(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,r,n,i.maxWidth)),e.fillText(u,r,n,i.maxWidth),h_e(e,r,n,u,i),n+=Number(s.lineHeight);e.restore()}function Gy(e,t){const{x:r,y:n,w:s,h:i,radius:o}=t;e.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Dt,Dt,!0),e.lineTo(r,n+i-o.bottomLeft),e.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Dt,$r,!0),e.lineTo(r+s-o.bottomRight,n+i),e.arc(r+s-o.bottomRight,n+i-o.bottomRight,o.bottomRight,$r,0,!0),e.lineTo(r+s,n+o.topRight),e.arc(r+s-o.topRight,n+o.topRight,o.topRight,0,-$r,!0),e.lineTo(r+o.topLeft,n)}const p_e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,g_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function v_e(e,t){const r=(""+e).match(p_e);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const y_e=e=>+e||0;function yE(e,t){const r={},n=bt(t),s=n?Object.keys(t):t,i=bt(e)?n?o=>at(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)r[o]=y_e(i(o));return r}function _W(e){return yE(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Hu(e){return yE(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ei(e){const t=_W(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function gn(e,t){e=e||{},t=t||vr.font;let r=at(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=at(e.style,t.style);n&&!(""+n).match(g_e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:at(e.family,t.family),lineHeight:v_e(at(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:at(e.weight,t.weight),string:""};return s.string=c_e(s),s}function wg(e,t,r,n){let s,i,o;for(s=0,i=e.length;s<i;++s)if(o=e[s],o!==void 0&&o!==void 0)return o}function x_e(e,t,r){const{min:n,max:s}=e,i=fW(t,(s-n)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(s,i)}}function Vc(e,t){return Object.assign(Object.create(e),t)}function xE(e,t=[""],r,n,s=()=>e[0]){const i=r||e;typeof n>"u"&&(n=NW("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:s,override:l=>xE([l,...e],t,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return SW(l,c,()=>C_e(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return KM(l).includes(c)},ownKeys(l){return KM(l)},set(l,c,u){const d=l._storage||(l._storage=s());return l[c]=d[c]=u,delete l._keys,!0}})}function Ad(e,t,r,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:jW(e,n),setContext:i=>Ad(e,i,r,n),override:i=>Ad(e.override(i),t,r,n)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete e[o],!0},get(i,o,l){return SW(i,o,()=>w_e(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(i,o,l){return e[o]=l,delete i[o],!0}})}function jW(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:r,indexable:n,isScriptable:dl(r)?r:()=>r,isIndexable:dl(n)?n:()=>n}}const b_e=(e,t)=>e?e+dE(t):t,bE=(e,t)=>bt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function SW(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function w_e(e,t,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:o}=e;let l=n[t];return dl(l)&&o.isScriptable(t)&&(l=__e(t,l,e,r)),Rr(l)&&l.length&&(l=j_e(t,l,e,o.isIndexable)),bE(t,l)&&(l=Ad(l,s,i&&i[t],o)),l}function __e(e,t,r,n){const{_proxy:s,_context:i,_subProxy:o,_stack:l}=r;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(i,o||n);return l.delete(e),bE(e,c)&&(c=wE(s._scopes,s,e,c)),c}function j_e(e,t,r,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&n(e))return t[i.index%t.length];if(bt(t[0])){const c=t,u=s._scopes.filter(d=>d!==c);t=[];for(const d of c){const f=wE(u,s,e,d);t.push(Ad(f,i,o&&o[e],l))}}return t}function kW(e,t,r){return dl(e)?e(t,r):e}const S_e=(e,t)=>e===!0?t:typeof e=="string"?Oc(t,e):void 0;function k_e(e,t,r,n,s){for(const i of t){const o=S_e(r,i);if(o){e.add(o);const l=kW(o._fallback,r,s);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function wE(e,t,r,n){const s=t._rootScopes,i=kW(t._fallback,r,n),o=[...e,...s],l=new Set;l.add(n);let c=qM(l,o,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=qM(l,o,i,c,n),c===null)?!1:xE(Array.from(l),[""],s,i,()=>N_e(t,r,n))}function qM(e,t,r,n,s){for(;r;)r=k_e(e,t,r,n,s);return r}function N_e(e,t,r){const n=e._getTarget();t in n||(n[t]={});const s=n[t];return Rr(s)&&bt(r)?r:s||{}}function C_e(e,t,r,n){let s;for(const i of t)if(s=NW(b_e(i,e),r),typeof s<"u")return bE(e,s)?wE(r,n,e,s):s}function NW(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function KM(e){let t=e._keys;return t||(t=e._keys=E_e(e._scopes)),t}function E_e(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}const P_e=Number.EPSILON||1e-14,Od=(e,t)=>t<e.length&&!e[t].skip&&e[t],CW=e=>e==="x"?"y":"x";function A_e(e,t,r,n){const s=e.skip?t:e,i=t,o=r.skip?t:r,l=z1(i,s),c=z1(o,i);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,h=n*d;return{previous:{x:i.x-f*(o.x-s.x),y:i.y-f*(o.y-s.y)},next:{x:i.x+h*(o.x-s.x),y:i.y+h*(o.y-s.y)}}}function O_e(e,t,r){const n=e.length;let s,i,o,l,c,u=Od(e,0);for(let d=0;d<n-1;++d)if(c=u,u=Od(e,d+1),!(!c||!u)){if(jh(t[d],0,P_e)){r[d]=r[d+1]=0;continue}s=r[d]/t[d],i=r[d+1]/t[d],l=Math.pow(s,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[d]=s*o*t[d],r[d+1]=i*o*t[d])}}function T_e(e,t,r="x"){const n=CW(r),s=e.length;let i,o,l,c=Od(e,0);for(let u=0;u<s;++u){if(o=l,l=c,c=Od(e,u+1),!l)continue;const d=l[r],f=l[n];o&&(i=(d-o[r])/3,l[`cp1${r}`]=d-i,l[`cp1${n}`]=f-i*t[u]),c&&(i=(c[r]-d)/3,l[`cp2${r}`]=d+i,l[`cp2${n}`]=f+i*t[u])}}function M_e(e,t="x"){const r=CW(t),n=e.length,s=Array(n).fill(0),i=Array(n);let o,l,c,u=Od(e,0);for(o=0;o<n;++o)if(l=c,c=u,u=Od(e,o+1),!!c){if(u){const d=u[t]-c[t];s[o]=d!==0?(u[r]-c[r])/d:0}i[o]=l?u?ta(s[o-1])!==ta(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}O_e(e,s,i),T_e(e,i,t)}function _g(e,t,r){return Math.max(Math.min(e,r),t)}function D_e(e,t){let r,n,s,i,o,l=_m(e[0],t);for(r=0,n=e.length;r<n;++r)o=i,i=l,l=r<n-1&&_m(e[r+1],t),i&&(s=e[r],o&&(s.cp1x=_g(s.cp1x,t.left,t.right),s.cp1y=_g(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=_g(s.cp2x,t.left,t.right),s.cp2y=_g(s.cp2y,t.top,t.bottom)))}function R_e(e,t,r,n,s){let i,o,l,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")M_e(e,s);else{let u=n?e[e.length-1]:e[0];for(i=0,o=e.length;i<o;++i)l=e[i],c=A_e(u,l,e[Math.min(i+1,o-(n?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}t.capBezierPoints&&D_e(e,r)}function _E(){return typeof window<"u"&&typeof document<"u"}function jE(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xy(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const ib=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function I_e(e,t){return ib(e).getPropertyValue(t)}const $_e=["top","right","bottom","left"];function fc(e,t,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=$_e[s];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const L_e=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function F_e(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:s,offsetY:i}=n;let o=!1,l,c;if(L_e(s,i,e.target))l=s,c=i;else{const u=t.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function Bl(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,s=ib(r),i=s.boxSizing==="border-box",o=fc(s,"padding"),l=fc(s,"border","width"),{x:c,y:u,box:d}=F_e(e,r),f=o.left+(d&&l.left),h=o.top+(d&&l.top);let{width:m,height:y}=t;return i&&(m-=o.width+l.width,y-=o.height+l.height),{x:Math.round((c-f)/m*r.width/n),y:Math.round((u-h)/y*r.height/n)}}function B_e(e,t,r){let n,s;if(t===void 0||r===void 0){const i=e&&jE(e);if(!i)t=e.clientWidth,r=e.clientHeight;else{const o=i.getBoundingClientRect(),l=ib(i),c=fc(l,"border","width"),u=fc(l,"padding");t=o.width-u.width-c.width,r=o.height-u.height-c.height,n=Xy(l.maxWidth,i,"clientWidth"),s=Xy(l.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:n||Yy,maxHeight:s||Yy}}const jg=e=>Math.round(e*10)/10;function z_e(e,t,r,n){const s=ib(e),i=fc(s,"margin"),o=Xy(s.maxWidth,e,"clientWidth")||Yy,l=Xy(s.maxHeight,e,"clientHeight")||Yy,c=B_e(e,t,r);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const h=fc(s,"border","width"),m=fc(s,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,n?u/n:d-i.height),u=jg(Math.min(u,o,c.maxWidth)),d=jg(Math.min(d,l,c.maxHeight)),u&&!d&&(d=jg(u/2)),(t!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=jg(Math.floor(d*n))),{width:u,height:d}}function YM(e,t,r){const n=t||1,s=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==s||o.width!==i?(e.currentDevicePixelRatio=n,o.height=s,o.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const U_e=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};_E()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function GM(e,t){const r=I_e(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function zl(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function W_e(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function V_e(e,t,r,n){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},o=zl(e,s,r),l=zl(s,i,r),c=zl(i,t,r),u=zl(o,l,r),d=zl(l,c,r);return zl(u,d,r)}const H_e=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},q_e=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qu(e,t,r){return e?H_e(t,r):q_e()}function EW(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function PW(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function AW(e){return e==="angle"?{between:wm,compare:qwe,normalize:gi}:{between:Lo,compare:(t,r)=>t-r,normalize:t=>t}}function XM({start:e,end:t,count:r,loop:n,style:s}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:s}}function K_e(e,t,r){const{property:n,start:s,end:i}=r,{between:o,normalize:l}=AW(n),c=t.length;let{start:u,end:d,loop:f}=e,h,m;if(f){for(u+=c,d+=c,h=0,m=c;h<m&&o(l(t[u%c][n]),s,i);++h)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:e.style}}function Y_e(e,t,r){if(!r)return[e];const{property:n,start:s,end:i}=r,o=t.length,{compare:l,between:c,normalize:u}=AW(n),{start:d,end:f,loop:h,style:m}=K_e(e,t,r),y=[];let g=!1,w=null,b,x,v;const _=()=>c(s,v,b)&&l(s,v)!==0,j=()=>l(i,b)===0||c(i,v,b),S=()=>g||_(),k=()=>!g||j();for(let C=d,E=d;C<=f;++C)x=t[C%o],!x.skip&&(b=u(x[n]),b!==v&&(g=c(b,s,i),w===null&&S()&&(w=l(b,s)===0?C:E),w!==null&&k()&&(y.push(XM({start:w,end:C,loop:h,count:o,style:m})),w=null),E=C,v=b));return w!==null&&y.push(XM({start:w,end:f,loop:h,count:o,style:m})),y}function G_e(e,t){const r=[],n=e.segments;for(let s=0;s<n.length;s++){const i=Y_e(n[s],e.points,t);i.length&&r.push(...i)}return r}function X_e(e,t,r,n){let s=0,i=t-1;if(r&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,r&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}function Z_e(e,t,r,n){const s=e.length,i=[];let o=t,l=e[t],c;for(c=t+1;c<=r;++c){const u=e[c%s];u.skip||u.stop?l.skip||(n=!1,i.push({start:t%s,end:(c-1)%s,loop:n}),t=o=u.stop?c:null):(o=c,l.skip&&(t=c)),l=u}return o!==null&&i.push({start:t%s,end:o%s,loop:n}),i}function Q_e(e,t){const r=e.points,n=e.options.spanGaps,s=r.length;if(!s)return[];const i=!!e._loop,{start:o,end:l}=X_e(r,s,i,n);if(n===!0)return ZM(e,[{start:o,end:l,loop:i}],r,t);const c=l<o?l+s:l,u=!!e._fullLoop&&o===0&&l===s-1;return ZM(e,Z_e(r,o,c,u),r,t)}function ZM(e,t,r,n){return!n||!n.setContext||!r?t:J_e(e,t,r,n)}function J_e(e,t,r,n){const s=e._chart.getContext(),i=QM(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=r.length,u=[];let d=i,f=t[0].start,h=f;function m(y,g,w,b){const x=l?-1:1;if(y!==g){for(y+=c;r[y%c].skip;)y-=x;for(;r[g%c].skip;)g+=x;y%c!==g%c&&(u.push({start:y%c,end:g%c,loop:w,style:b}),d=b,f=g%c)}}for(const y of t){f=l?f:y.start;let g=r[f%c],w;for(h=f+1;h<=y.end;h++){const b=r[h%c];w=QM(n.setContext(Vc(s,{type:"segment",p0:g,p1:b,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),eje(w,d)&&m(f,h-1,y.loop,d),g=b,d=w}f<h-1&&m(f,h-1,y.loop,d)}return u}function QM(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function eje(e,t){if(!t)return!1;const r=[],n=function(s,i){return mE(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Sg(e,t,r){return e.options.clip?e[r]:t[r]}function tje(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:Sg(r,t,"left"),right:Sg(r,t,"right"),top:Sg(n,t,"top"),bottom:Sg(n,t,"bottom")}:t}function rje(e,t){const r=t._clip;if(r.disabled)return!1;const n=tje(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class nje{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,s){const i=r.listeners[s],o=r.duration;i.forEach(l=>l({chart:t,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vW.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),l=!0):(i[o]=i[i.length-1],i.pop());l&&(s.draw(),this._notify(s,n,t,"progress")),i.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ba=new nje;const JM="transparent",sje={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=UM(e||JM),s=n.valid&&UM(t||JM);return s&&s.valid?s.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class ije{constructor(t,r,n,s){const i=r[n];s=wg([t.to,s,i,t.from]);const o=wg([t.from,i,s]);this._active=!0,this._fn=t.fn||sje[t.type||typeof o],this._easing=Sh[t.easing]||Sh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=wg([t.to,r,s,t.from]),this._from=wg([t.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,s=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<n),!this._active){this._target[s]=l,this._notify(!0);return}if(r<0){this._target[s]=i;return}c=r/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class OW{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!bt(t))return;const r=Object.keys(vr.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!bt(i))return;const o={};for(const l of r)o[l]=i[l];(Rr(i.properties)&&i.properties||[s]).forEach(l=>{(l===s||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,r){const n=r.options,s=oje(t,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&aje(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,r){const n=this._properties,s=[],i=t.$animations||(t.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,r));continue}const d=r[u];let f=i[u];const h=n.get(u);if(f)if(h&&f.active()){f.update(h,d,l);continue}else f.cancel();if(!h||!h.duration){t[u]=d;continue}i[u]=f=new ije(h,t,u,d),s.push(f)}return s}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return ba.add(this._chart,n),!0}}function aje(e,t){const r=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const i=e[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function oje(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function eD(e,t){const r=e&&e.options||{},n=r.reverse,s=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:n?i:s,end:n?s:i}}function lje(e,t,r){if(r===!1)return!1;const n=eD(e,r),s=eD(t,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function cje(e){let t,r,n,s;return bt(e)?(t=e.top,r=e.right,n=e.bottom,s=e.left):t=r=n=s=e,{top:t,right:r,bottom:n,left:s,disabled:e===!1}}function TW(e,t){const r=[],n=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function tD(e,t,r,n={}){const s=e.keys,i=n.mode==="single";let o,l,c,u;if(t===null)return;let d=!1;for(o=0,l=s.length;o<l;++o){if(c=+s[o],c===r){if(d=!0,n.all)continue;break}u=e.values[c],Js(u)&&(i||t===0||ta(t)===ta(u))&&(t+=u)}return!d&&!n.all?0:t}function uje(e,t){const{iScale:r,vScale:n}=t,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],l[c]={[s]:d,[i]:e[d]};return l}function Gw(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function dje(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function fje(e){const{min:t,max:r,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function hje(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function rD(e,t,r,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const i=e[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function nD(e,t){const{chart:r,_cachedMeta:n}=e,s=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,u=o.axis,d=dje(i,o,n),f=t.length;let h;for(let m=0;m<f;++m){const y=t[m],{[c]:g,[u]:w}=y,b=y._stacks||(y._stacks={});h=b[u]=hje(s,d,g),h[l]=w,h._top=rD(h,o,!0,n.type),h._bottom=rD(h,o,!1,n.type);const x=h._visualValues||(h._visualValues={});x[l]=w}}function Xw(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function mje(e,t){return Vc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function pje(e,t,r){return Vc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Af(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const Zw=e=>e==="reset"||e==="none",sD=(e,t)=>t?e:Object.assign({},e),gje=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:TW(r,!0),values:null};class hc{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gw(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Af(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(f,h,m,y)=>f==="x"?h:f==="r"?y:m,i=r.xAxisID=at(n.xAxisID,Xw(t,"x")),o=r.yAxisID=at(n.yAxisID,Xw(t,"y")),l=r.rAxisID=at(n.rAxisID,Xw(t,"r")),c=r.indexAxis,u=r.iAxisID=s(c,i,o,l),d=r.vAxisID=s(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&FM(this._data,this),t._stacked&&Af(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(bt(r)){const s=this._cachedMeta;this._data=uje(r,s)}else if(n!==r){if(n){FM(n,this);const s=this._cachedMeta;Af(s),s._parsed=[]}r&&Object.isExtensible(r)&&Xwe(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=Gw(r.vScale,r),r.stack!==n.stack&&(s=!0,Af(r),r.stack=n.stack),this._resyncElements(t),(s||i!==r._stacked)&&(nD(this,r._parsed),r._stacked=Gw(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=t===0&&r===s.length?!0:n._sorted,u=t>0&&n._parsed[t-1],d,f,h;if(this._parsing===!1)n._parsed=s,n._sorted=!0,h=s;else{Rr(s[t])?h=this.parseArrayData(n,s,t,r):bt(s[t])?h=this.parseObjectData(n,s,t,r):h=this.parsePrimitiveData(n,s,t,r);const m=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+t]=f=h[d],c&&(m()&&(c=!1),u=f);n._sorted=c}o&&nD(this,h)}parsePrimitiveData(t,r,n,s){const{iScale:i,vScale:o}=t,l=i.axis,c=o.axis,u=i.getLabels(),d=i===o,f=new Array(s);let h,m,y;for(h=0,m=s;h<m;++h)y=h+n,f[h]={[l]:d||i.parse(u[y],y),[c]:o.parse(r[y],y)};return f}parseArrayData(t,r,n,s){const{xScale:i,yScale:o}=t,l=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+n,f=r[d],l[c]={x:i.parse(f[0],d),y:o.parse(f[1],d)};return l}parseObjectData(t,r,n,s){const{xScale:i,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,h,m;for(d=0,f=s;d<f;++d)h=d+n,m=r[h],u[d]={x:i.parse(Oc(m,l),h),y:o.parse(Oc(m,c),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const s=this.chart,i=this._cachedMeta,o=r[t.axis],l={keys:TW(s,!0),values:r._stacks[t.axis]._visualValues};return tD(l,o,i.index,{mode:n})}updateRangeFromParsed(t,r,n,s){const i=n[r.axis];let o=i===null?NaN:i;const l=s&&n._stacks[r.axis];s&&l&&(s.values=l,o=tD(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&t===n.iScale,o=s.length,l=this._getOtherScale(t),c=gje(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=fje(l);let h,m;function y(){m=s[h];const g=m[l.axis];return!Js(m[t.axis])||d>g||f<g}for(h=0;h<o&&!(!y()&&(this.updateRangeFromParsed(u,t,m,c),i));++h);if(i){for(h=o-1;h>=0;--h)if(!y()){this.updateRangeFromParsed(u,t,m,c);break}}return u}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let s,i,o;for(s=0,i=r.length;s<i;++s)o=r[s][t.axis],Js(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=cje(at(this.options.clip,lje(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,i,l,c),d=l;d<l+c;++d){const f=s[d];f.hidden||(f.active&&u?o.push(f):f.draw(t,i))}for(d=0;d<o.length;++d)o[d].draw(t,i)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];i=o.$context||(o.$context=pje(this.getContext(),t,o)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=mje(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const s=r==="active",i=this._cachedDataOpts,o=t+"-"+r,l=i[o],c=this.enableOptionSharing&&xm(n);if(l)return sD(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(vr.elements[t]),y=()=>this.getContext(n,s,r),g=u.resolveNamedOptions(h,m,y,f);return g.$shared&&(g.$shared=c,i[o]=Object.freeze(sD(g,c))),g}_resolveAnimations(t,r,n){const s=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(t,n,r))}const u=new OW(s,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||Zw(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),s=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(t,r,n,s){Zw(s)?Object.assign(t,n):this._resolveAnimations(r,s).update(t,n)}updateSharedOptions(t,r,n){t&&!Zw(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,s){t.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=n.length,i=r.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,r,n=!0){const s=this._cachedMeta,i=s.data,o=t+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=o;l--)u[l]=u[l-r]};for(c(i),l=t;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,r),n&&this.updateElements(i,t,r,"reset")}updateElements(t,r,n,s){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,r);n._stacked&&Af(n,s)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,s]=t;this[r](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Te(hc,"defaults",{}),Te(hc,"datasetElementType",null),Te(hc,"dataElementType",null);function vje(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(e));e._cache.$bar=gW(n.sort((s,i)=>s-i))}return e._cache.$bar}function yje(e){const t=e.iScale,r=vje(t,e.type);let n=t._length,s,i,o,l;const c=()=>{o===32767||o===-32768||(xm(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(s=0,i=r.length;s<i;++s)o=t.getPixelForValue(r[s]),c();for(l=void 0,s=0,i=t.ticks.length;s<i;++s)o=t.getPixelForTick(s),c();return n}function xje(e,t,r,n){const s=r.barThickness;let i,o;return At(s)?(i=t.min*r.categoryPercentage,o=r.barPercentage):(i=s*n,o=1),{chunk:i/n,ratio:o,start:t.pixels[e]-i/2}}function bje(e,t,r,n){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,l=e<s.length-1?s[e+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?t.end-t.start:l-i)),l===null&&(l=i+i-o);const u=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:r.barPercentage,start:u}}function wje(e,t,r,n){const s=r.parse(e[0],n),i=r.parse(e[1],n),o=Math.min(s,i),l=Math.max(s,i);let c=o,u=l;Math.abs(o)>Math.abs(l)&&(c=l,u=o),t[r.axis]=u,t._custom={barStart:c,barEnd:u,start:s,end:i,min:o,max:l}}function MW(e,t,r,n){return Rr(e)?wje(e,t,r,n):t[r.axis]=r.parse(e,n),t}function iD(e,t,r,n){const s=e.iScale,i=e.vScale,o=s.getLabels(),l=s===i,c=[];let u,d,f,h;for(u=r,d=r+n;u<d;++u)h=t[u],f={},f[s.axis]=l||s.parse(o[u],u),c.push(MW(h,f,i,u));return c}function Qw(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function _je(e,t,r){return e!==0?ta(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function jje(e){let t,r,n,s,i;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:t,top:s,bottom:i}}function Sje(e,t,r,n){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:u,bottom:d}=jje(e);s==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?s=u:(r._bottom||0)===n?s=d:(i[aD(d,o,l,c)]=!0,s=u)),i[aD(s,o,l,c)]=!0,e.borderSkipped=i}function aD(e,t,r,n){return n?(e=kje(e,t,r),e=oD(e,r,t)):e=oD(e,t,r),e}function kje(e,t,r){return e===t?r:e===r?t:e}function oD(e,t,r){return e==="start"?t:e==="end"?r:e}function Nje(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class ev extends hc{parsePrimitiveData(t,r,n,s){return iD(t,r,n,s)}parseArrayData(t,r,n,s){return iD(t,r,n,s)}parseObjectData(t,r,n,s){const{iScale:i,vScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,d=o.axis==="x"?l:c,f=[];let h,m,y,g;for(h=n,m=n+s;h<m;++h)g=r[h],y={},y[i.axis]=i.parse(Oc(g,u),h),f.push(MW(Oc(g,d),y,o,h));return f}updateRangeFromParsed(t,r,n,s){super.updateRangeFromParsed(t,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(t),o=i._custom,l=Qw(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,s);for(let m=r;m<r+n;m++){const y=this.getParsed(m),g=i||At(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),w=this._calculateBarIndexPixels(m,d),b=(y._stacks||{})[l.axis],x={horizontal:u,base:g.base,enableBorderRadius:!b||Qw(y._custom)||o===b._top||o===b._bottom,x:u?g.head:w.center,y:u?w.center:g.head,height:u?w.size:Math.abs(g.size),width:u?Math.abs(g.size):w.size};h&&(x.options=f||this.resolveDataElementOptions(m,t[m].active?"active":s));const v=x.options||t[m].options;Sje(x,v,b,o),Nje(x,v,d.ratio),this.updateElement(t[m],m,x,s)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(m=>m[n.axis]===c),h=f&&f[d.vScale.axis];if(At(h)||isNaN(h))return!0};for(const d of s)if(!(r!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[at(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const s=this._getStacks(t,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,o;for(i=0,o=r.data.length;i<o;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=t.barThickness;return{min:l||yje(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(t),u=c._custom,d=Qw(u);let f=c[r.axis],h=0,m=n?this.applyStack(r,c,n):f,y,g;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&ta(f)!==ta(u.barEnd)&&(h=0),h+=f);const w=!At(i)&&!d?i:h;let b=r.getPixelForValue(w);if(this.chart.getDataVisibility(t)?y=r.getPixelForValue(h+m):y=b,g=y-b,Math.abs(g)<o){g=_je(g,r,l)*o,f===l&&(b-=g/2);const x=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),_=Math.min(x,v),j=Math.max(x,v);b=Math.max(Math.min(b,j),_),y=b+g,n&&!d&&(c._stacks[r.axis]._visualValues[s]=r.getValueForPixel(y)-r.getValueForPixel(b))}if(b===r.getPixelForValue(l)){const x=ta(g)*r.getLineWidthForValue(l)/2;b+=x,g-=x}return{size:g,base:b,head:y,center:y+g/2}}_calculateBarIndexPixels(t,r){const n=r.scale,s=this.options,i=s.skipNull,o=at(s.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(r.grouped){const d=i?this._getStackCount(t):r.stackCount,f=s.barThickness==="flex"?bje(t,r,s,d*u):xje(t,r,s,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(at(h,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;l=f.start+f.chunk*y+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}Te(ev,"id","bar"),Te(ev,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Te(ev,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Cje(e,t,r){let n=1,s=1,i=0,o=0;if(t<or){const l=e,c=l+t,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),h=Math.sin(c),m=(v,_,j)=>wm(v,l,c,!0)?1:Math.max(_,_*r,j,j*r),y=(v,_,j)=>wm(v,l,c,!0)?-1:Math.min(_,_*r,j,j*r),g=m(0,u,f),w=m($r,d,h),b=y(Dt,u,f),x=y(Dt+$r,d,h);n=(g-b)/2,s=(w-x)/2,i=-(g+b)/2,o=-(w+x)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:o}}class Cu extends hc{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=c=>+n[c];if(bt(n[t])){const{key:c="value"}=this._parsing;i=u=>+Oc(n[u],c)}let o,l;for(o=t,l=t+r;o<l;++o)s._parsed[o]=i(o)}}_getRotation(){return Ra(this.options.rotation-90)}_getCircumference(){return Ra(this.options.circumference)}_getRotationExtents(){let t=or,r=-or;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),o=s._getCircumference();t=Math.min(t,i),r=Math.max(r,i+o)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(Mwe(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:y,offsetY:g}=Cje(f,d,c),w=(n.width-o)/h,b=(n.height-o)/m,x=Math.max(Math.min(w,b)/2,0),v=fW(this.options.radius,x),_=Math.max(v*c,0),j=(v-_)/this._getVisibleDatasetWeightTotal();this.offsetX=y*v,this.offsetY=g*v,s.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,r){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/or)}updateElements(t,r,n,s){const i=s==="reset",o=this.chart,l=o.chartArea,u=o.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,h=i&&u.animateScale,m=h?0:this.innerRadius,y=h?0:this.outerRadius,{sharedOptions:g,includeOptions:w}=this._getSharedOptions(r,s);let b=this._getRotation(),x;for(x=0;x<r;++x)b+=this._circumference(x,i);for(x=r;x<r+n;++x){const v=this._circumference(x,i),_=t[x],j={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+v,circumference:v,outerRadius:y,innerRadius:m};w&&(j.options=g||this.resolveDataElementOptions(x,_.active?"active":s)),b+=v,this.updateElement(_,x,j,s)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,s;for(s=0;s<r.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?or*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=pE(r._parsed[t],n.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let r=0;const n=this.chart;let s,i,o,l,c;if(!t){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){o=n.getDatasetMeta(s),t=o.data,l=o.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,s=t.length;n<s;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(at(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Te(Cu,"id","doughnut"),Te(Cu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Te(Cu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Te(Cu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return r.labels.map((i,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class tv extends hc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=Jwe(r,s,o);this._drawStart=l,this._drawCount=c,e_e(r)&&(l=0,c=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,r,n,s){const i=s==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,s),h=o.axis,m=l.axis,{spanGaps:y,segment:g}=this.options,w=bm(y)?y:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||s==="none",x=r+n,v=t.length;let _=r>0&&this.getParsed(r-1);for(let j=0;j<v;++j){const S=t[j],k=b?S:{};if(j<r||j>=x){k.skip=!0;continue}const C=this.getParsed(j),E=At(C[m]),A=k[h]=o.getPixelForValue(C[h],j),P=k[m]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[m],j);k.skip=isNaN(A)||isNaN(P)||E,k.stop=j>0&&Math.abs(C[h]-_[h])>w,g&&(k.parsed=C,k.raw=u.data[j]),f&&(k.options=d||this.resolveDataElementOptions(j,S.active?"active":s)),b||this.updateElement(S,j,k,s),_=C}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Te(tv,"id","line"),Te(tv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Te(tv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class V1 extends Cu{}Te(V1,"id","pie"),Te(V1,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ol(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class SE{constructor(t){Te(this,"options");this.options=t||{}}static override(t){Object.assign(SE.prototype,t)}init(){}formats(){return Ol()}parse(){return Ol()}format(){return Ol()}add(){return Ol()}diff(){return Ol()}startOf(){return Ol()}endOf(){return Ol()}}var Eje={_date:SE};function Pje(e,t,r,n){const{controller:s,data:i,_sorted:o}=e,l=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&i.length){const u=l._reversePixels?Ywe:Jl;if(n){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=u(i,t,r-f),m=u(i,t,r+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(i,t,r);if(c){const{vScale:f}=s._cachedMeta,{_parsed:h}=e,m=h.slice(0,d.lo+1).reverse().findIndex(g=>!At(g[f.axis]));d.lo-=Math.max(0,m);const y=h.slice(d.hi).findIndex(g=>!At(g[f.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function xp(e,t,r,n,s){const i=e.getSortedVisibleDatasetMetas(),o=r[t];for(let l=0,c=i.length;l<c;++l){const{index:u,data:d}=i[l],{lo:f,hi:h}=Pje(i[l],t,o,s);for(let m=f;m<=h;++m){const y=d[m];y.skip||n(y,u,m)}}}function Aje(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,s){const i=t?Math.abs(n.x-s.x):0,o=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function Jw(e,t,r,n,s){const i=[];return!s&&!e.isPointInArea(t)||xp(e,r,t,function(l,c,u){!s&&!_m(l,e.chartArea,0)||l.inRange(t.x,t.y,n)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function Oje(e,t,r,n){let s=[];function i(o,l,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],n),{angle:f}=mW(o,{x:t.x,y:t.y});wm(f,u,d)&&s.push({element:o,datasetIndex:l,index:c})}return xp(e,r,t,i),s}function Tje(e,t,r,n,s,i){let o=[];const l=Aje(r);let c=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(t.x,t.y,s);if(n&&!m)return;const y=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(y))&&!m)return;const w=l(t,y);w<c?(o=[{element:d,datasetIndex:f,index:h}],c=w):w===c&&o.push({element:d,datasetIndex:f,index:h})}return xp(e,r,t,u),o}function e_(e,t,r,n,s,i){return!i&&!e.isPointInArea(t)?[]:r==="r"&&!n?Oje(e,t,r,s):Tje(e,t,r,n,s,i)}function lD(e,t,r,n,s){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return xp(e,r,t,(c,u,d)=>{c[o]&&c[o](t[r],s)&&(i.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(t.x,t.y,s))}),n&&!l?[]:i}var Mje={evaluateInteractionItems:xp,modes:{index(e,t,r,n){const s=Bl(t,e),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?Jw(e,s,i,n,o):e_(e,s,i,!1,n,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,r,n){const s=Bl(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?Jw(e,s,i,n,o):e_(e,s,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,u=e.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(e,t,r,n){const s=Bl(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;return Jw(e,s,i,n,o)},nearest(e,t,r,n){const s=Bl(t,e),i=r.axis||"xy",o=r.includeInvisible||!1;return e_(e,s,i,r.intersect,n,o)},x(e,t,r,n){const s=Bl(t,e);return lD(e,s,"x",r.intersect,n)},y(e,t,r,n){const s=Bl(t,e);return lD(e,s,"y",r.intersect,n)}}};const DW=["left","top","right","bottom"];function Of(e,t){return e.filter(r=>r.pos===t)}function cD(e,t){return e.filter(r=>DW.indexOf(r.pos)===-1&&r.box.axis===t)}function Tf(e,t){return e.sort((r,n)=>{const s=t?n:r,i=t?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function Dje(e){const t=[];let r,n,s,i,o,l;for(r=0,n=(e||[]).length;r<n;++r)s=e[r],{position:i,options:{stack:o,stackWeight:l=1}}=s,t.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:l});return t}function Rje(e){const t={};for(const r of e){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!DW.includes(s))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function Ije(e,t){const r=Rje(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let i,o,l;for(i=0,o=e.length;i<o;++i){l=e[i];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&t.availableWidth,l.height=s):(l.width=n,l.height=d?d*s:c&&t.availableHeight)}return r}function $je(e){const t=Dje(e),r=Tf(t.filter(u=>u.box.fullSize),!0),n=Tf(Of(t,"left"),!0),s=Tf(Of(t,"right")),i=Tf(Of(t,"top"),!0),o=Tf(Of(t,"bottom")),l=cD(t,"x"),c=cD(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(c).concat(o).concat(l),chartArea:Of(t,"chartArea"),vertical:n.concat(s).concat(c),horizontal:i.concat(o).concat(l)}}function uD(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function RW(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Lje(e,t,r,n){const{pos:s,box:i}=r,o=e.maxPadding;if(!bt(s)){r.size&&(e[s]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,e[s]+=r.size}i.getPadding&&RW(o,i.getPadding());const l=Math.max(0,t.outerWidth-uD(o,e,"left","right")),c=Math.max(0,t.outerHeight-uD(o,e,"top","bottom")),u=l!==e.w,d=c!==e.h;return e.w=l,e.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function Fje(e){const t=e.maxPadding;function r(n){const s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function Bje(e,t){const r=t.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(t[o],r[o])}),i}return n(e?["left","right"]:["top","bottom"])}function Xf(e,t,r,n){const s=[];let i,o,l,c,u,d;for(i=0,o=e.length,u=0;i<o;++i){l=e[i],c=l.box,c.update(l.width||t.w,l.height||t.h,Bje(l.horizontal,t));const{same:f,other:h}=Lje(t,r,l,n);u|=f&&s.length,d=d||h,c.fullSize||s.push(l)}return u&&Xf(s,t,r,n)||d}function kg(e,t,r,n,s){e.top=r,e.left=t,e.right=t+n,e.bottom=r+s,e.width=n,e.height=s}function dD(e,t,r,n){const s=r.padding;let{x:i,y:o}=t;for(const l of e){const c=l.box,u=n[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=t.w*d,h=u.size||c.height;xm(u.start)&&(o=u.start),c.fullSize?kg(c,s.left,o,r.outerWidth-s.right-s.left,h):kg(c,t.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=c.bottom}else{const f=t.h*d,h=u.size||c.width;xm(u.start)&&(i=u.start),c.fullSize?kg(c,i,s.top,h,r.outerHeight-s.bottom-s.top):kg(c,i,t.top+u.placed,h,f),u.start=i,u.placed+=f,i=c.right}}t.x=i,t.y=o}var Bs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const s=ei(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(r-s.height,0),l=$je(e.boxes),c=l.vertical,u=l.horizontal;Mt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=c.reduce((g,w)=>w.box.options&&w.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:r,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);RW(h,ei(n));const m=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),y=Ije(c.concat(u),f);Xf(l.fullSize,m,f,y),Xf(c,m,f,y),Xf(u,m,f,y)&&Xf(c,m,f,y),Fje(m),dD(l.leftAndTop,m,f,y),m.x+=m.w,m.y+=m.h,dD(l.rightAndBottom,m,f,y),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Mt(l.chartArea,g=>{const w=g.box;Object.assign(w,e.chartArea),w.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class IW{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,s){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(t){return!0}updateConfig(t){}}class zje extends IW{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const rv="$chartjs",Uje={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fD=e=>e===null||e==="";function Wje(e,t){const r=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[rv]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",fD(s)){const i=GM(e,"width");i!==void 0&&(e.width=i)}if(fD(n))if(e.style.height==="")e.height=e.width/(t||2);else{const i=GM(e,"height");i!==void 0&&(e.height=i)}return e}const $W=U_e?{passive:!0}:!1;function Vje(e,t,r){e&&e.addEventListener(t,r,$W)}function Hje(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,$W)}function qje(e,t){const r=Uje[e.type]||e.type,{x:n,y:s}=Bl(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Zy(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function Kje(e,t,r){const n=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Zy(l.addedNodes,n),o=o&&!Zy(l.removedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function Yje(e,t,r){const n=e.canvas,s=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Zy(l.removedNodes,n),o=o&&!Zy(l.addedNodes,n);o&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Sm=new Map;let hD=0;function LW(){const e=window.devicePixelRatio;e!==hD&&(hD=e,Sm.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function Gje(e,t){Sm.size||window.addEventListener("resize",LW),Sm.set(e,t)}function Xje(e){Sm.delete(e),Sm.size||window.removeEventListener("resize",LW)}function Zje(e,t,r){const n=e.canvas,s=n&&jE(n);if(!s)return;const i=yW((l,c)=>{const u=s.clientWidth;r(l,c),u<s.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(s),Gje(e,i),o}function t_(e,t,r){r&&r.disconnect(),t==="resize"&&Xje(e)}function Qje(e,t,r){const n=e.canvas,s=yW(i=>{e.ctx!==null&&r(qje(i,e))},e);return Vje(n,t,s),s}class Jje extends IW{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Wje(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[rv])return!1;const n=r[rv].initial;["height","width"].forEach(i=>{const o=n[i];At(o)?r.removeAttribute(i):r.setAttribute(i,o)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[rv],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const s=t.$proxies||(t.$proxies={}),o={attach:Kje,detach:Yje,resize:Zje}[r]||Qje;s[r]=o(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),s=n[r];if(!s)return;({attach:t_,detach:t_,resize:t_}[r]||Hje)(t,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,s){return z_e(t,r,n,s)}isAttached(t){const r=t&&jE(t);return!!(r&&r.isConnected)}}function e1e(e){return!_E()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?zje:Jje}var Og;let io=(Og=class{constructor(){Te(this,"x");Te(this,"y");Te(this,"active",!1);Te(this,"options");Te(this,"$animations")}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return bm(this.x)&&bm(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const s={};return t.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}},Te(Og,"defaults",{}),Te(Og,"defaultRoutes"),Og);function t1e(e,t){const r=e.options.ticks,n=r1e(e),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?s1e(t):[],o=i.length,l=i[0],c=i[o-1],u=[];if(o>s)return i1e(t,u,i,o/s),u;const d=n1e(i,t,s);if(o>0){let f,h;const m=o>1?Math.round((c-l)/(o-1)):null;for(Ng(t,u,d,At(m)?0:l-m,l),f=0,h=o-1;f<h;f++)Ng(t,u,d,i[f],i[f+1]);return Ng(t,u,d,c,At(m)?t.length:c+m),u}return Ng(t,u,d),u}function r1e(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),s=e._maxLength/r;return Math.floor(Math.min(n,s))}function n1e(e,t,r){const n=a1e(e),s=t.length/r;if(!n)return Math.max(s,1);const i=zwe(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>s)return c}return Math.max(s,1)}function s1e(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function i1e(e,t,r,n){let s=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===i&&(t.push(e[o]),s++,i=r[s*n])}function Ng(e,t,r,n,s){const i=at(n,0),o=Math.min(at(s,e.length),e.length);let l=0,c,u,d;for(r=Math.ceil(r),s&&(c=s-n,r=c/Math.floor(c/r)),d=i;d<0;)l++,d=Math.round(i+l*r);for(u=Math.max(i,0);u<o;u++)u===d&&(t.push(e[u]),l++,d=Math.round(i+l*r))}function a1e(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const o1e=e=>e==="left"?"right":e==="right"?"left":e,mD=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,pD=(e,t)=>Math.min(t||e,e);function gD(e,t){const r=[],n=e.length/t,s=e.length;let i=0;for(;i<s;i+=n)r.push(e[Math.floor(i)]);return r}function l1e(e,t,r){const n=e.ticks.length,s=Math.min(t,n-1),i=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(s),u;if(!(r&&(n===1?u=Math.max(c-i,o-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<i-l||c>o+l)))return c}function c1e(e,t){Mt(e,r=>{const n=r.gc,s=n.length/2;let i;if(s>t){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Mf(e){return e.drawTicks?e.tickLength:0}function vD(e,t){if(!e.display)return 0;const r=gn(e.font,t),n=ei(e.padding);return(Rr(e.text)?e.text.length:1)*r.lineHeight+n.height}function u1e(e,t){return Vc(e,{scale:t,type:"scale"})}function d1e(e,t,r){return Vc(e,{tick:r,index:t,type:"tick"})}function f1e(e,t,r){let n=hE(e);return(r&&t!=="right"||!r&&t==="right")&&(n=o1e(n)),n}function h1e(e,t,r,n){const{top:s,left:i,bottom:o,right:l,chart:c}=e,{chartArea:u,scales:d}=c;let f=0,h,m,y;const g=o-s,w=l-i;if(e.isHorizontal()){if(m=cn(n,i,l),bt(r)){const b=Object.keys(r)[0],x=r[b];y=d[b].getPixelForValue(x)+g-t}else r==="center"?y=(u.bottom+u.top)/2+g-t:y=mD(e,r,t);h=l-i}else{if(bt(r)){const b=Object.keys(r)[0],x=r[b];m=d[b].getPixelForValue(x)-w+t}else r==="center"?m=(u.left+u.right)/2-w+t:m=mD(e,r,t);y=cn(n,o,s),f=r==="left"?-$r:$r}return{titleX:m,titleY:y,maxWidth:h,rotation:f}}class sf extends io{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return t=$i(t,Number.POSITIVE_INFINITY),r=$i(r,Number.NEGATIVE_INFINITY),n=$i(n,Number.POSITIVE_INFINITY),s=$i(s,Number.NEGATIVE_INFINITY),{min:$i(t,n),max:$i(r,s),minDefined:Js(t),maxDefined:Js(r)}}getMinMax(t){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(this,t),s||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:$i(r,$i(n,r)),max:$i(n,$i(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qt(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:s,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=x_e(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?gD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=t1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qt(this.options.afterUpdate,[this])}beforeSetDimensions(){qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),qt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n],i.label=qt(r.callback,[i.value,n,t],this)}afterTickToLabelConversion(){qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=pD(this.ticks.length,t.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let o=s,l,c,u;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=pn(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/n:m/(n-1),f+6>l&&(l=m/(n-(t.offset?.5:1)),c=this.maxHeight-Mf(t.grid)-r.padding-vD(t.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=Hwe(Math.min(Math.asin(pn((d.highest.height+6)/l,-1,1)),Math.asin(pn(c/u,-1,1))-Math.asin(pn(h/u,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=vD(s,r.options.font);if(l?(t.width=this.maxWidth,t.height=Mf(i)+c):(t.height=this.maxHeight,t.width=Mf(i)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=n.padding*2,y=Ra(this.labelRotation),g=Math.cos(y),w=Math.sin(y);if(l){const b=n.mirror?0:w*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+b+m)}else{const b=n.mirror?0:g*f.width+w*h.height;t.width=Math.min(this.maxWidth,t.width+b+m)}this._calculatePadding(u,d,w,g)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,s){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;c?u?(h=s*t.width,m=n*r.height):(h=n*t.height,m=s*r.width):i==="start"?m=r.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,m=r.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let d=r.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=r.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)At(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=gD(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:s,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/pD(r,n));let u=0,d=0,f,h,m,y,g,w,b,x,v,_,j;for(f=0;f<r;f+=c){if(y=t[f].label,g=this._resolveTickFontOptions(f),s.font=w=g.string,b=i[w]=i[w]||{data:{},gc:[]},x=g.lineHeight,v=_=0,!At(y)&&!Rr(y))v=VM(s,b.data,b.gc,v,y),_=x;else if(Rr(y))for(h=0,m=y.length;h<m;++h)j=y[h],!At(j)&&!Rr(j)&&(v=VM(s,b.data,b.gc,v,j),_+=x);o.push(v),l.push(_),u=Math.max(v,u),d=Math.max(_,d)}c1e(i,r);const S=o.indexOf(u),k=l.indexOf(d),C=E=>({width:o[E]||0,height:l[E]||0});return{first:C(0),last:C(r-1),widest:C(S),highest:C(k),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return Kwe(this._alignToPixels?Al(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=d1e(this.getContext(),t,n))}return this.$context||(this.$context=u1e(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Ra(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*s?l/n:c/s:c*s<l*n?c/n:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:o,border:l}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=Mf(i),m=[],y=l.setContext(this.getContext()),g=y.display?y.width:0,w=g/2,b=function(U){return Al(n,U,g)};let x,v,_,j,S,k,C,E,A,P,O,$;if(o==="top")x=b(this.bottom),k=this.bottom-h,E=x-w,P=b(t.top)+w,$=t.bottom;else if(o==="bottom")x=b(this.top),P=t.top,$=b(t.bottom)-w,k=x+w,E=this.top+h;else if(o==="left")x=b(this.right),S=this.right-h,C=x-w,A=b(t.left)+w,O=t.right;else if(o==="right")x=b(this.left),A=t.left,O=b(t.right)-w,S=x+w,C=this.left+h;else if(r==="x"){if(o==="center")x=b((t.top+t.bottom)/2+.5);else if(bt(o)){const U=Object.keys(o)[0],T=o[U];x=b(this.chart.scales[U].getPixelForValue(T))}P=t.top,$=t.bottom,k=x+w,E=k+h}else if(r==="y"){if(o==="center")x=b((t.left+t.right)/2);else if(bt(o)){const U=Object.keys(o)[0],T=o[U];x=b(this.chart.scales[U].getPixelForValue(T))}S=x-w,C=S-h,A=t.left,O=t.right}const I=at(s.ticks.maxTicksLimit,f),B=Math.max(1,Math.ceil(f/I));for(v=0;v<f;v+=B){const U=this.getContext(v),T=i.setContext(U),N=l.setContext(U),M=T.lineWidth,L=T.color,W=N.dash||[],K=N.dashOffset,z=T.tickWidth,H=T.tickColor,V=T.tickBorderDash||[],oe=T.tickBorderDashOffset;_=l1e(this,v,c),_!==void 0&&(j=Al(n,_,M),u?S=C=A=O=j:k=E=P=$=j,m.push({tx1:S,ty1:k,tx2:C,ty2:E,x1:A,y1:P,x2:O,y2:$,width:M,color:L,borderDash:W,borderDashOffset:K,tickWidth:z,tickColor:H,tickBorderDash:V,tickBorderDashOffset:oe}))}return this._ticksLength=f,this._borderValue=x,m}_computeLabelItems(t){const r=this.axis,n=this.options,{position:s,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,h=Mf(n.grid),m=h+d,y=f?-d:m,g=-Ra(this.labelRotation),w=[];let b,x,v,_,j,S,k,C,E,A,P,O,$="middle";if(s==="top")S=this.bottom-y,k=this._getXAxisLabelAlignment();else if(s==="bottom")S=this.top+y,k=this._getXAxisLabelAlignment();else if(s==="left"){const B=this._getYAxisLabelAlignment(h);k=B.textAlign,j=B.x}else if(s==="right"){const B=this._getYAxisLabelAlignment(h);k=B.textAlign,j=B.x}else if(r==="x"){if(s==="center")S=(t.top+t.bottom)/2+m;else if(bt(s)){const B=Object.keys(s)[0],U=s[B];S=this.chart.scales[B].getPixelForValue(U)+m}k=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")j=(t.left+t.right)/2-m;else if(bt(s)){const B=Object.keys(s)[0],U=s[B];j=this.chart.scales[B].getPixelForValue(U)}k=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(c==="start"?$="top":c==="end"&&($="bottom"));const I=this._getLabelSizes();for(b=0,x=l.length;b<x;++b){v=l[b],_=v.label;const B=i.setContext(this.getContext(b));C=this.getPixelForTick(b)+i.labelOffset,E=this._resolveTickFontOptions(b),A=E.lineHeight,P=Rr(_)?_.length:1;const U=P/2,T=B.color,N=B.textStrokeColor,M=B.textStrokeWidth;let L=k;o?(j=C,k==="inner"&&(b===x-1?L=this.options.reverse?"left":"right":b===0?L=this.options.reverse?"right":"left":L="center"),s==="top"?u==="near"||g!==0?O=-P*A+A/2:u==="center"?O=-I.highest.height/2-U*A+A:O=-I.highest.height+A/2:u==="near"||g!==0?O=A/2:u==="center"?O=I.highest.height/2-U*A:O=I.highest.height-P*A,f&&(O*=-1),g!==0&&!B.showLabelBackdrop&&(j+=A/2*Math.sin(g))):(S=C,O=(1-P)*A/2);let W;if(B.showLabelBackdrop){const K=ei(B.backdropPadding),z=I.heights[b],H=I.widths[b];let V=O-K.top,oe=0-K.left;switch($){case"middle":V-=z/2;break;case"bottom":V-=z;break}switch(k){case"center":oe-=H/2;break;case"right":oe-=H;break;case"inner":b===x-1?oe-=H:b>0&&(oe-=H/2);break}W={left:oe,top:V,width:H+K.width,height:z+K.height,color:B.backdropColor}}w.push({label:_,font:E,textOffset:O,options:{rotation:g,color:T,strokeColor:N,strokeWidth:M,textAlign:L,textBaseline:$,translation:[j,S],backdrop:W}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Ra(this.labelRotation))return t==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),l=t+i,c=o.widest.width;let u,d;return r==="left"?s?(d=this.right+i,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?s?(d=this.left+i,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:s,width:i,height:o}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,s,i,o),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=s.length;i<o;++i){const c=s[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Al(t,this.left,o)-o/2,d=Al(t,this.right,l)+l/2,f=h=c):(f=Al(t,this.top,o)-o/2,h=Al(t,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,h),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&gE(n,s);const i=this.getLabelItems(t);for(const o of i){const l=o.options,c=o.font,u=o.label,d=o.textOffset;jm(n,u,0,d,c,l)}s&&vE(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=gn(n.font),o=ei(n.padding),l=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||bt(r)?(c+=o.bottom,Rr(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=h1e(this,c,r,l);jm(t,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:h,textAlign:f1e(l,r,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=at(t.grid&&t.grid.z,-1),s=at(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==sf.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[n]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return gn(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Cg{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;g1e(r)&&(n=this.register(r));const s=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,m1e(t,o,n),this.override&&vr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,s=this.scope;n in r&&delete r[n],s&&n in vr[s]&&(delete vr[s][n],this.override&&delete Tc[n])}}function m1e(e,t,r){const n=ym(Object.create(null),[r?vr.get(r):{},vr.get(t),e.defaults]);vr.set(t,n),e.defaultRoutes&&p1e(t,e.defaultRoutes),e.descriptors&&vr.describe(t,e.descriptors)}function p1e(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),s=n.pop(),i=[e].concat(n).join("."),o=t[r].split("."),l=o.pop(),c=o.join(".");vr.route(i,s,c,l)})}function g1e(e){return"id"in e&&"defaults"in e}class v1e{constructor(){this.controllers=new Cg(hc,"datasets",!0),this.elements=new Cg(io,"elements"),this.plugins=new Cg(Object,"plugins"),this.scales=new Cg(sf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Mt(s,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,r,n){const s=dE(t);qt(n["before"+s],[],n),r[t](n),qt(n["after"+s],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const s=r.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var Bi=new v1e;class y1e{constructor(){this._init=[]}notify(t,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(i,t,r,n);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,r,n,s){s=s||{};for(const i of t){const o=i.plugin,l=o[n],c=[r,s,i.options];if(qt(l,c,o)===!1&&s.cancelable)return!1}return!0}invalidate(){At(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,s=at(n.options&&n.options.plugins,{}),i=x1e(n);return s===!1&&!r?[]:w1e(t,i,s,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,s=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(s(r,n),t,"stop"),this._notify(s(n,r),t,"start")}}function x1e(e){const t={},r=[],n=Object.keys(Bi.plugins.items);for(let i=0;i<n.length;i++)r.push(Bi.getPlugin(n[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];r.indexOf(o)===-1&&(r.push(o),t[o.id]=!0)}return{plugins:r,localIds:t}}function b1e(e,t){return!t&&e===!1?null:e===!0?{}:e}function w1e(e,{plugins:t,localIds:r},n,s){const i=[],o=e.getContext();for(const l of t){const c=l.id,u=b1e(n[c],s);u!==null&&i.push({plugin:l,options:_1e(e.config,{plugin:l,local:r[c]},u,o)})}return i}function _1e(e,{plugin:t,local:r},n,s){const i=e.pluginScopeKeys(t),o=e.getOptionScopes(n,i);return r&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function H1(e,t){const r=vr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function j1e(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function S1e(e,t){return e===t?"_index_":"_value_"}function yD(e){if(e==="x"||e==="y"||e==="r")return e}function k1e(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function q1(e,...t){if(yD(e))return e;for(const r of t){const n=r.axis||k1e(r.position)||e.length>1&&yD(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function xD(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function N1e(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return xD(e,"x",r[0])||xD(e,"y",r[0])}return{}}function C1e(e,t){const r=Tc[e.type]||{scales:{}},n=t.scales||{},s=H1(e.type,t),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!bt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=q1(o,l,N1e(o,e),vr.scales[l.type]),u=S1e(c,s),d=r.scales||{};i[o]=_h(Object.create(null),[{axis:c},l,d[c],d[u]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||H1(l,t),d=(Tc[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=j1e(f,c),m=o[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),_h(i[m],[{axis:h},n[m],d[f]])})}),Object.keys(i).forEach(o=>{const l=i[o];_h(l,[vr.scales[l.type],vr.scale])}),i}function FW(e){const t=e.options||(e.options={});t.plugins=at(t.plugins,{}),t.scales=C1e(e,t)}function BW(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function E1e(e){return e=e||{},e.data=BW(e.data),FW(e),e}const bD=new Map,zW=new Set;function Eg(e,t){let r=bD.get(e);return r||(r=t(),bD.set(e,r),zW.add(r)),r}const Df=(e,t,r)=>{const n=Oc(t,r);n!==void 0&&e.add(n)};class P1e{constructor(t){this._config=E1e(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=BW(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),FW(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Eg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return Eg(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return Eg(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return Eg(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let s=n.get(t);return(!s||r)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,r,n){const{options:s,type:i}=this,o=this._cachedScopes(t,n),l=o.get(r);if(l)return l;const c=new Set;r.forEach(d=>{t&&(c.add(t),d.forEach(f=>Df(c,t,f))),d.forEach(f=>Df(c,s,f)),d.forEach(f=>Df(c,Tc[i]||{},f)),d.forEach(f=>Df(c,vr,f)),d.forEach(f=>Df(c,U1,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),zW.has(r)&&o.set(r,u),u}chartOptionScopes(){const{options:t,type:r}=this;return[t,Tc[r]||{},vr.datasets[r]||{},{type:r},vr,U1]}resolveNamedOptions(t,r,n,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=wD(this._resolverCache,t,s);let c=o;if(O1e(o,r)){i.$shared=!1,n=dl(n)?n():n;const u=this.createResolver(t,n,l);c=Ad(o,n,u)}for(const u of r)i[u]=c[u];return i}createResolver(t,r,n=[""],s){const{resolver:i}=wD(this._resolverCache,t,n);return bt(r)?Ad(i,r,void 0,s):i}}function wD(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=r.join();let i=n.get(s);return i||(i={resolver:xE(t,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(s,i)),i}const A1e=e=>bt(e)&&Object.getOwnPropertyNames(e).some(t=>dl(e[t]));function O1e(e,t){const{isScriptable:r,isIndexable:n}=jW(e);for(const s of t){const i=r(s),o=n(s),l=(o||i)&&e[s];if(i&&(dl(l)||A1e(l))||o&&Rr(l))return!0}return!1}var T1e="4.5.0";const M1e=["top","bottom","left","right","chartArea"];function _D(e,t){return e==="top"||e==="bottom"||M1e.indexOf(e)===-1&&t==="x"}function jD(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function SD(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),qt(r&&r.onComplete,[e],t)}function D1e(e){const t=e.chart,r=t.options.animation;qt(r&&r.onProgress,[e],t)}function UW(e){return _E()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const nv={},kD=e=>{const t=UW(e);return Object.values(nv).filter(r=>r.canvas===t).pop()};function R1e(e,t,r){const n=Object.keys(e);for(const s of n){const i=+s;if(i>=t){const o=e[s];delete e[s],(r>0||i>t)&&(e[i+r]=o)}}}function I1e(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}var mo;let ab=(mo=class{static register(...t){Bi.add(...t),ND()}static unregister(...t){Bi.remove(...t),ND()}constructor(t,r){const n=this.config=new P1e(r),s=UW(t),i=kD(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||e1e(s)),this.platform.updateConfig(n);const l=this.platform.acquireContext(s,o.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Twe(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new y1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Zwe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],nv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ba.listen(this,"complete",SD),ba.listen(this,"progress",D1e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return At(t)?r&&i?i:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():YM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HM(this.canvas,this.ctx),this}stop(){return ba.stop(this),this}resize(t,r){ba.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,r,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,YM(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),qt(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Mt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,s=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=q1(o,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Mt(i,o=>{const l=o.options,c=l.id,u=q1(c,l),d=at(l.type,o.dtype);(l.position===void 0||_D(l.position,u)!==_D(o.dposition))&&(l.position=o.dposition),s[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const h=Bi.getScale(d);f=new h({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,t)}),Mt(s,(o,l)=>{o||delete n[l]}),Mt(n,o=>{Bs.configure(this,o,o.options),Bs.addBox(this,o)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(jD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||H1(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=Bi.getController(l),{datasetElementType:u,dataElementType:d}=vr.datasets[l];Object.assign(c,{dataElementType:Bi.getElement(d),datasetElementType:u&&Bi.getElement(u)}),o.controller=new c(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Mt(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),s||Mt(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(jD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Mt(this.scales,t=>{Bs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!RM(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const o=n==="_removeElements"?-i:i;R1e(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(t.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!RM(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bs.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Mt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,dl(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ba.has(this)?this.attached&&!ba.running(this)&&ba.start(this):(this.draw(),SD({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const o=r[s];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},s=rje(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&gE(r,s),t.controller.draw(),s&&vE(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return _m(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,s){const i=Mje.modes[r];return typeof i=="function"?i(this,t,n,s):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Vc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,s);xm(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),ba.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),HM(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete nv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),t[i]=o},s=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Mt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(r.removeEventListener(this,c,u),delete t[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){Mt(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},Mt(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const s=n?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!qy(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=i(r,t),l=n?t:i(t,r);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:s=[],options:i}=this,o=r,l=this._getActiveElements(t,s,n,o),c=Lwe(t),u=I1e(t,this._lastEvent,n,c);n&&(this._lastEvent=null,qt(i.onHover,[t,l,this],this),c&&qt(i.onClick,[t,l,this],this));const d=!qy(l,s);return(d||r)&&(this._active=l,this._updateHoverStyles(l,s,r)),this._lastEvent=u,d}_getActiveElements(t,r,n,s){if(t.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},Te(mo,"defaults",vr),Te(mo,"instances",nv),Te(mo,"overrides",Tc),Te(mo,"registry",Bi),Te(mo,"version",T1e),Te(mo,"getChart",kD),mo);function ND(){return Mt(ab.instances,e=>e._plugins.invalidate())}function $1e(e,t,r){const{startAngle:n,x:s,y:i,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/o,gi(n-r));if(e.beginPath(),e.arc(s,i,o-u/2,n+f/2,r-f/2),l>0){const h=Math.min(u/l,gi(n-r));e.arc(s,i,l+u/2,r-h/2,n+h/2,!0)}else{const h=Math.min(u/2,o*gi(n-r));if(d==="round")e.arc(s,i,h,r-Dt/2,n+Dt/2,!0);else if(d==="bevel"){const m=2*h*h,y=-m*Math.cos(r+Dt/2)+s,g=-m*Math.sin(r+Dt/2)+i,w=m*Math.cos(n+Dt/2)+s,b=m*Math.sin(n+Dt/2)+i;e.lineTo(y,g),e.lineTo(w,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function L1e(e,t,r){const{startAngle:n,pixelMargin:s,x:i,y:o,outerRadius:l,innerRadius:c}=t;let u=s/l;e.beginPath(),e.arc(i,o,l,n-u,r+u),c>s?(u=s/c,e.arc(i,o,c,r+u,n-u,!0)):e.arc(i,o,s,r+$r,n-$r),e.closePath(),e.clip()}function F1e(e){return yE(e,["outerStart","outerEnd","innerStart","innerEnd"])}function B1e(e,t,r,n){const s=F1e(e.options.borderRadius),i=(r-t)/2,o=Math.min(i,n*t/2),l=c=>{const u=(r-Math.min(i,c))*n/2;return pn(c,0,Math.min(i,u))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:pn(s.innerStart,0,o),innerEnd:pn(s.innerEnd,0,o)}}function lu(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function Qy(e,t,r,n,s,i){const{x:o,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=t,f=Math.max(t.outerRadius+n+r-u,0),h=d>0?d+n+r+u:0;let m=0;const y=s-c;if(n){const B=d>0?d-n:0,U=f>0?f-n:0,T=(B+U)/2,N=T!==0?y*T/(T+n):y;m=(y-N)/2}const g=Math.max(.001,y*f-r/Dt)/f,w=(y-g)/2,b=c+w+m,x=s-w-m,{outerStart:v,outerEnd:_,innerStart:j,innerEnd:S}=B1e(t,h,f,x-b),k=f-v,C=f-_,E=b+v/k,A=x-_/C,P=h+j,O=h+S,$=b+j/P,I=x-S/O;if(e.beginPath(),i){const B=(E+A)/2;if(e.arc(o,l,f,E,B),e.arc(o,l,f,B,A),_>0){const M=lu(C,A,o,l);e.arc(M.x,M.y,_,A,x+$r)}const U=lu(O,x,o,l);if(e.lineTo(U.x,U.y),S>0){const M=lu(O,I,o,l);e.arc(M.x,M.y,S,x+$r,I+Math.PI)}const T=(x-S/h+(b+j/h))/2;if(e.arc(o,l,h,x-S/h,T,!0),e.arc(o,l,h,T,b+j/h,!0),j>0){const M=lu(P,$,o,l);e.arc(M.x,M.y,j,$+Math.PI,b-$r)}const N=lu(k,b,o,l);if(e.lineTo(N.x,N.y),v>0){const M=lu(k,E,o,l);e.arc(M.x,M.y,v,b-$r,E)}}else{e.moveTo(o,l);const B=Math.cos(E)*f+o,U=Math.sin(E)*f+l;e.lineTo(B,U);const T=Math.cos(A)*f+o,N=Math.sin(A)*f+l;e.lineTo(T,N)}e.closePath()}function z1e(e,t,r,n,s){const{fullCircles:i,startAngle:o,circumference:l}=t;let c=t.endAngle;if(i){Qy(e,t,r,n,c,s);for(let u=0;u<i;++u)e.fill();isNaN(l)||(c=o+(l%or||or))}return Qy(e,t,r,n,c,s),e.fill(),c}function U1e(e,t,r,n,s){const{fullCircles:i,startAngle:o,circumference:l,options:c}=t,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=c,y=c.borderAlign==="inner";if(!u)return;e.setLineDash(f||[]),e.lineDashOffset=h,y?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let g=t.endAngle;if(i){Qy(e,t,r,n,g,s);for(let w=0;w<i;++w)e.stroke();isNaN(l)||(g=o+(l%or||or))}y&&L1e(e,t,g),c.selfJoin&&g-o>=Dt&&m===0&&d!=="miter"&&$1e(e,t,g),i||(Qy(e,t,r,n,g,s),e.stroke())}class Zf extends io{constructor(r){super();Te(this,"circumference");Te(this,"endAngle");Te(this,"fullCircles");Te(this,"innerRadius");Te(this,"outerRadius");Te(this,"pixelMargin");Te(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:o,distance:l}=mW(i,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,y=at(h,u-c),g=wm(o,c,u)&&c!==u,w=y>=or||g,b=Lo(l,d+m,f+m);return w&&b}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(i+o)/2,h=(l+c+d+u)/2;return{x:n+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>or?Math.floor(s/or):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Dt,s||0)),d=i*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,z1e(r,this,d,o,l),U1e(r,this,d,o,l),r.restore()}}Te(Zf,"id","arc"),Te(Zf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Te(Zf,"defaultRoutes",{backgroundColor:"backgroundColor"}),Te(Zf,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function WW(e,t,r=t){e.lineCap=at(r.borderCapStyle,t.borderCapStyle),e.setLineDash(at(r.borderDash,t.borderDash)),e.lineDashOffset=at(r.borderDashOffset,t.borderDashOffset),e.lineJoin=at(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=at(r.borderWidth,t.borderWidth),e.strokeStyle=at(r.borderColor,t.borderColor)}function W1e(e,t,r){e.lineTo(r.x,r.y)}function V1e(e){return e.stepped?u_e:e.tension||e.cubicInterpolationMode==="monotone"?d_e:W1e}function VW(e,t,r={}){const n=e.length,{start:s=0,end:i=n-1}=r,{start:o,end:l}=t,c=Math.max(s,o),u=Math.min(i,l),d=s<o&&i<o||s>l&&i>l;return{count:n,start:c,loop:t.loop,ilen:u<c&&!d?n+u-c:u-c}}function H1e(e,t,r,n){const{points:s,options:i}=t,{count:o,start:l,loop:c,ilen:u}=VW(s,r,n),d=V1e(i);let{move:f=!0,reverse:h}=n||{},m,y,g;for(m=0;m<=u;++m)y=s[(l+(h?u-m:m))%o],!y.skip&&(f?(e.moveTo(y.x,y.y),f=!1):d(e,g,y,h,i.stepped),g=y);return c&&(y=s[(l+(h?u:0))%o],d(e,g,y,h,i.stepped)),!!c}function q1e(e,t,r,n){const s=t.points,{count:i,start:o,ilen:l}=VW(s,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,h,m,y,g,w,b;const x=_=>(o+(u?l-_:_))%i,v=()=>{g!==w&&(e.lineTo(d,w),e.lineTo(d,g),e.lineTo(d,b))};for(c&&(m=s[x(0)],e.moveTo(m.x,m.y)),h=0;h<=l;++h){if(m=s[x(h)],m.skip)continue;const _=m.x,j=m.y,S=_|0;S===y?(j<g?g=j:j>w&&(w=j),d=(f*d+_)/++f):(v(),e.lineTo(_,j),y=S,f=0,g=w=j),b=j}v()}function K1(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?q1e:H1e}function K1e(e){return e.stepped?W_e:e.tension||e.cubicInterpolationMode==="monotone"?V_e:zl}function Y1e(e,t,r,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,r,n)&&s.closePath()),WW(e,t.options),e.stroke(s)}function G1e(e,t,r,n){const{segments:s,options:i}=t,o=K1(t);for(const l of s)WW(e,i,l.style),e.beginPath(),o(e,t,l,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const X1e=typeof Path2D=="function";function Z1e(e,t,r,n){X1e&&!t.options.segment?Y1e(e,t,r,n):G1e(e,t,r,n)}class Qf extends io{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;R_e(this._points,n,t,s,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Q_e(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,s=t[r],i=this.points,o=G_e(this,{property:r,start:s,end:s});if(!o.length)return;const l=[],c=K1e(n);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],m=i[f],y=i[h];if(m===y){l.push(m);continue}const g=Math.abs((s-m[r])/(y[r]-m[r])),w=c(m,y,g,n.stepped);w[r]=t[r],l.push(w)}return l.length===1?l[0]:l}pathSegment(t,r,n){return K1(this)(t,this,r,n)}path(t,r,n){const s=this.segments,i=K1(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const l of s)o&=i(t,this,l,{start:r,end:r+n-1});return!!o}draw(t,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Z1e(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Te(Qf,"id","line"),Te(Qf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Te(Qf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Te(Qf,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function CD(e,t,r,n){const s=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<s.radius+s.hitRadius}class sv extends io{constructor(r){super();Te(this,"parsed");Te(this,"skip");Te(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:o,y:l}=this.getProps(["x","y"],s);return Math.pow(r-o,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return CD(this,r,"x",n)}inYRange(r,n){return CD(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!_m(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,W1(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Te(sv,"id","point"),Te(sv,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Te(sv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function HW(e,t){const{x:r,y:n,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,u,d,f;return e.horizontal?(f=o/2,l=Math.min(r,s),c=Math.max(r,s),u=n-f,d=n+f):(f=i/2,l=r-f,c=r+f,u=Math.min(n,s),d=Math.max(n,s)),{left:l,top:u,right:c,bottom:d}}function Fo(e,t,r,n){return e?0:pn(t,r,n)}function Q1e(e,t,r){const n=e.options.borderWidth,s=e.borderSkipped,i=_W(n);return{t:Fo(s.top,i.top,0,r),r:Fo(s.right,i.right,0,t),b:Fo(s.bottom,i.bottom,0,r),l:Fo(s.left,i.left,0,t)}}function J1e(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=Hu(s),o=Math.min(t,r),l=e.borderSkipped,c=n||bt(s);return{topLeft:Fo(!c||l.top||l.left,i.topLeft,0,o),topRight:Fo(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Fo(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Fo(!c||l.bottom||l.right,i.bottomRight,0,o)}}function eSe(e){const t=HW(e),r=t.right-t.left,n=t.bottom-t.top,s=Q1e(e,r/2,n/2),i=J1e(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function r_(e,t,r,n){const s=t===null,i=r===null,l=e&&!(s&&i)&&HW(e,n);return l&&(s||Lo(t,l.left,l.right))&&(i||Lo(r,l.top,l.bottom))}function tSe(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function rSe(e,t){e.rect(t.x,t.y,t.w,t.h)}function n_(e,t,r={}){const n=e.x!==r.x?-t:0,s=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-n,o=(e.y+e.h!==r.y+r.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class iv extends io{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:o}=eSe(this),l=tSe(o.radius)?Gy:rSe;t.save(),(o.w!==i.w||o.h!==i.h)&&(t.beginPath(),l(t,n_(o,r,i)),t.clip(),l(t,n_(i,-r,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,n_(i,r)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,r,n){return r_(this,t,r,n)}inXRange(t,r){return r_(this,t,null,r)}inYRange(t,r){return r_(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Te(iv,"id","bar"),Te(iv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Te(iv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ED=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},nSe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class PD extends io{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=qt(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,s=gn(n.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=ED(n,i);let u,d;r.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,l,c)+10):(d=this.maxHeight,u=this._fitCols(o,s,l,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,s){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+l;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((y,g)=>{const w=n+r/2+i.measureText(y.text).width;(g===0||u[u.length-1]+w+2*l>o)&&(f+=d,u[u.length-(g>0?0:1)]=0,m+=d,h++),c[g]={left:0,top:m,row:h,width:w,height:s},u[u.length-1]+=w+l}),f}_fitCols(t,r,n,s){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-t;let f=l,h=0,m=0,y=0,g=0;return this.legendItems.forEach((w,b)=>{const{itemWidth:x,itemHeight:v}=sSe(n,r,i,w,s);b>0&&m+v+2*l>d&&(f+=h+l,u.push({width:h,height:m}),y+=h+l,g++,h=m=0),c[b]={left:y,top:m,col:g,width:x,height:v},h=Math.max(h,x),m+=v+l}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,o=qu(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=cn(n,this.left+s,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=cn(n,this.left+s,this.right-this.lineWidths[l])),u.top+=this.top+t+s,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+s}else{let l=0,c=cn(n,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=cn(n,this.top+t+s,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+s,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;gE(t,this),this._draw(),vE(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:o}=t,l=vr.color,c=qu(t.rtl,this.left,this.width),u=gn(o.font),{padding:d}=o,f=u.size,h=f/2;let m;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:y,boxHeight:g,itemHeight:w}=ED(o,f),b=function(S,k,C){if(isNaN(y)||y<=0||isNaN(g)||g<0)return;s.save();const E=at(C.lineWidth,1);if(s.fillStyle=at(C.fillStyle,l),s.lineCap=at(C.lineCap,"butt"),s.lineDashOffset=at(C.lineDashOffset,0),s.lineJoin=at(C.lineJoin,"miter"),s.lineWidth=E,s.strokeStyle=at(C.strokeStyle,l),s.setLineDash(at(C.lineDash,[])),o.usePointStyle){const A={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:E},P=c.xPlus(S,y/2),O=k+h;wW(s,A,P,O,o.pointStyleWidth&&y)}else{const A=k+Math.max((f-g)/2,0),P=c.leftForLtr(S,y),O=Hu(C.borderRadius);s.beginPath(),Object.values(O).some($=>$!==0)?Gy(s,{x:P,y:A,w:y,h:g,radius:O}):s.rect(P,A,y,g),s.fill(),E!==0&&s.stroke()}s.restore()},x=function(S,k,C){jm(s,C.text,S,k+w/2,u,{strikethrough:C.hidden,textAlign:c.textAlign(C.textAlign)})},v=this.isHorizontal(),_=this._computeTitleHeight();v?m={x:cn(i,this.left+d,this.right-n[0]),y:this.top+d+_,line:0}:m={x:this.left+d,y:cn(i,this.top+_+d,this.bottom-r[0].height),line:0},EW(this.ctx,t.textDirection);const j=w+d;this.legendItems.forEach((S,k)=>{s.strokeStyle=S.fontColor,s.fillStyle=S.fontColor;const C=s.measureText(S.text).width,E=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),A=y+h+C;let P=m.x,O=m.y;c.setWidth(this.width),v?k>0&&P+A+d>this.right&&(O=m.y+=j,m.line++,P=m.x=cn(i,this.left+d,this.right-n[m.line])):k>0&&O+j>this.bottom&&(P=m.x=P+r[m.line].width+d,m.line++,O=m.y=cn(i,this.top+_+d,this.bottom-r[m.line].height));const $=c.x(P);if(b($,O,S),P=Qwe(E,P+y+h,v?P+A:this.right,t.rtl),x(c.x(P),O,S),v)m.x+=A+d;else if(typeof S.text!="string"){const I=u.lineHeight;m.y+=qW(S,I)+d}else m.y+=j}),PW(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=gn(r.font),s=ei(r.padding);if(!r.display)return;const i=qu(t.rtl,this.left,this.width),o=this.ctx,l=r.position,c=n.size/2,u=s.top+c;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=cn(t.align,f,this.right-h);else{const y=this.columnSizes.reduce((g,w)=>Math.max(g,w.height),0);d=u+cn(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const m=cn(l,f,f+h);o.textAlign=i.textAlign(hE(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,jm(o,r.text,m,d,n)}_computeTitleHeight(){const t=this.options.title,r=gn(t.font),n=ei(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,s,i;if(Lo(t,this.left,this.right)&&Lo(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Lo(t,s.left,s.left+s.width)&&Lo(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!oSe(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=nSe(s,n);s&&!i&&qt(r.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!i&&qt(r.onHover,[t,n,this],this)}else n&&qt(r.onClick,[t,n,this],this)}}function sSe(e,t,r,n,s){const i=iSe(n,e,t,r),o=aSe(s,n,t.lineHeight);return{itemWidth:i,itemHeight:o}}function iSe(e,t,r,n){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),t+r.size/2+n.measureText(s).width}function aSe(e,t,r){let n=e;return typeof t.text!="string"&&(n=qW(t,r)),n}function qW(e,t){const r=e.text?e.text.length:0;return t*r}function oSe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var lSe={id:"legend",_element:PD,start(e,t,r){const n=e.legend=new PD({ctx:e.ctx,options:r,chart:e});Bs.configure(e,n,r),Bs.addBox(e,n)},stop(e){Bs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;Bs.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=ei(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:o&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class KW extends io{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const s=Rr(n.text)?n.text.length:1;this._padding=ei(n.padding);const i=s*gn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:s,right:i,options:o}=this,l=o.align;let c=0,u,d,f;return this.isHorizontal()?(d=cn(l,n,i),f=r+t,u=i-n):(o.position==="left"?(d=n+t,f=cn(l,s,r),c=Dt*-.5):(d=i-t,f=cn(l,r,s),c=Dt*.5),u=s-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=gn(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);jm(t,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:hE(r.align),textBaseline:"middle",translation:[o,l]})}}function cSe(e,t){const r=new KW({ctx:e.ctx,options:t,chart:e});Bs.configure(e,r,t),Bs.addBox(e,r),e.titleBlock=r}var uSe={id:"title",_element:KW,start(e,t,r){cSe(e,r)},stop(e){const t=e.titleBlock;Bs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;Bs.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jf={average(e){if(!e.length)return!1;let t,r,n=new Set,s=0,i=0;for(t=0,r=e.length;t<r;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),s+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,s=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=e.length;i<o;++i){const c=e[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=z1(t,u);d<s&&(s=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Li(e,t){return t&&(Rr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function wa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function dSe(e,t){const{element:r,datasetIndex:n,index:s}=t,i=e.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:l,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function AD(e,t){const r=e.chart.ctx,{body:n,footer:s,title:i}=e,{boxWidth:o,boxHeight:l}=t,c=gn(t.bodyFont),u=gn(t.titleFont),d=gn(t.footerFont),f=i.length,h=s.length,m=n.length,y=ei(t.padding);let g=y.height,w=0,b=n.reduce((_,j)=>_+j.before.length+j.lines.length+j.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),b){const _=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;g+=m*_+(b-m)*c.lineHeight+(b-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let x=0;const v=function(_){w=Math.max(w,r.measureText(_).width+x)};return r.save(),r.font=u.string,Mt(e.title,v),r.font=c.string,Mt(e.beforeBody.concat(e.afterBody),v),x=t.displayColors?o+2+t.boxPadding:0,Mt(n,_=>{Mt(_.before,v),Mt(_.lines,v),Mt(_.after,v)}),x=0,r.font=d.string,Mt(e.footer,v),r.restore(),w+=y.width,{width:w,height:g}}function fSe(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function hSe(e,t,r,n){const{x:s,width:i}=n,o=r.caretSize+r.caretPadding;if(e==="left"&&s+i+o>t.width||e==="right"&&s-i-o<0)return!0}function mSe(e,t,r,n){const{x:s,width:i}=r,{width:o,chartArea:{left:l,right:c}}=e;let u="center";return n==="center"?u=s<=(l+c)/2?"left":"right":s<=i/2?u="left":s>=o-i/2&&(u="right"),hSe(u,e,t,r)&&(u="center"),u}function OD(e,t,r){const n=r.yAlign||t.yAlign||fSe(e,r);return{xAlign:r.xAlign||t.xAlign||mSe(e,t,r,n),yAlign:n}}function pSe(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function gSe(e,t,r){let{y:n,height:s}=e;return t==="top"?n+=r:t==="bottom"?n-=s+r:n-=s/2,n}function TD(e,t,r,n){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:l,yAlign:c}=r,u=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Hu(o);let y=pSe(t,l);const g=gSe(t,c,u);return c==="center"?l==="left"?y+=u:l==="right"&&(y-=u):l==="left"?y-=Math.max(d,h)+s:l==="right"&&(y+=Math.max(f,m)+s),{x:pn(y,0,n.width-t.width),y:pn(g,0,n.height-t.height)}}function Pg(e,t,r){const n=ei(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function MD(e){return Li([],wa(e))}function vSe(e,t,r){return Vc(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function DD(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const YW={beforeTitle:ga,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:ga,beforeBody:ga,beforeLabel:ga,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return At(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ga,afterBody:ga,beforeFooter:ga,footer:ga,afterFooter:ga};function Bn(e,t,r,n){const s=e[t].call(r,n);return typeof s>"u"?YW[t].call(r,n):s}class Y1 extends io{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new OW(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=vSe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,s=Bn(n,"beforeTitle",this,t),i=Bn(n,"title",this,t),o=Bn(n,"afterTitle",this,t);let l=[];return l=Li(l,wa(s)),l=Li(l,wa(i)),l=Li(l,wa(o)),l}getBeforeBody(t,r){return MD(Bn(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,s=[];return Mt(t,i=>{const o={before:[],lines:[],after:[]},l=DD(n,i);Li(o.before,wa(Bn(l,"beforeLabel",this,i))),Li(o.lines,Bn(l,"label",this,i)),Li(o.after,wa(Bn(l,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(t,r){return MD(Bn(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,s=Bn(n,"beforeFooter",this,t),i=Bn(n,"footer",this,t),o=Bn(n,"afterFooter",this,t);let l=[];return l=Li(l,wa(s)),l=Li(l,wa(i)),l=Li(l,wa(o)),l}_createItems(t){const r=this._active,n=this.chart.data,s=[],i=[],o=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(dSe(this.chart,r[c]));return t.filter&&(l=l.filter((d,f,h)=>t.filter(d,f,h,n))),t.itemSort&&(l=l.sort((d,f)=>t.itemSort(d,f,n))),Mt(l,d=>{const f=DD(t.callbacks,d);s.push(Bn(f,"labelColor",this,d)),i.push(Bn(f,"labelPointStyle",this,d)),o.push(Bn(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const l=Jf[n.position].call(this,s,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=AD(this,n),u=Object.assign({},l,c),d=OD(this.chart,n,u),f=TD(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,s){const i=this.getCaretPosition(t,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Hu(l),{x:h,y:m}=t,{width:y,height:g}=r;let w,b,x,v,_,j;return i==="center"?(_=m+g/2,s==="left"?(w=h,b=w-o,v=_+o,j=_-o):(w=h+y,b=w+o,v=_-o,j=_+o),x=w):(s==="left"?b=h+Math.max(c,d)+o:s==="right"?b=h+y-Math.max(u,f)-o:b=this.caretX,i==="top"?(v=m,_=v-o,w=b-o,x=b+o):(v=m+g,_=v+o,w=b+o,x=b-o),j=v),{x1:w,x2:b,x3:x,y1:v,y2:_,y3:j}}drawTitle(t,r,n){const s=this.title,i=s.length;let o,l,c;if(i){const u=qu(n.rtl,this.x,this.width);for(t.x=Pg(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",o=gn(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(s[c],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===i&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,r,n,s,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=i,d=gn(i.bodyFont),f=Pg(this,"left",i),h=s.x(f),m=c<d.lineHeight?(d.lineHeight-c)/2:0,y=r.y+m;if(i.usePointStyle){const g={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},w=s.leftForLtr(h,u)+u/2,b=y+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,W1(t,g,w,b),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,W1(t,g,w,b)}else{t.lineWidth=bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(h,u),w=s.leftForLtr(s.xPlus(h,1),u-2),b=Hu(o.borderRadius);Object.values(b).some(x=>x!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Gy(t,{x:g,y,w:u,h:c,radius:b}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Gy(t,{x:w,y:y+1,w:u-2,h:c-2,radius:b}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,y,u,c),t.strokeRect(g,y,u,c),t.fillStyle=o.backgroundColor,t.fillRect(w,y+1,u-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=gn(n.bodyFont);let h=f.lineHeight,m=0;const y=qu(n.rtl,this.x,this.width),g=function(C){r.fillText(C,y.x(t.x+m),t.y+h/2),t.y+=h+i},w=y.textAlign(o);let b,x,v,_,j,S,k;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,t.x=Pg(this,w,n),r.fillStyle=n.bodyColor,Mt(this.beforeBody,g),m=l&&w!=="right"?o==="center"?u/2+d:u+2+d:0,_=0,S=s.length;_<S;++_){for(b=s[_],x=this.labelTextColors[_],r.fillStyle=x,Mt(b.before,g),v=b.lines,l&&v.length&&(this._drawColorBox(r,t,_,y,n),h=Math.max(f.lineHeight,c)),j=0,k=v.length;j<k;++j)g(v[j]),h=f.lineHeight;Mt(b.after,g)}m=0,h=f.lineHeight,Mt(this.afterBody,g),t.y-=i}drawFooter(t,r,n){const s=this.footer,i=s.length;let o,l;if(i){const c=qu(n.rtl,this.x,this.width);for(t.x=Pg(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=gn(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,r,n,s){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=t,{width:u,height:d}=n,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:y}=Hu(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(l+f,c),o==="top"&&this.drawCaret(t,r,n,s),r.lineTo(l+u-h,c),r.quadraticCurveTo(l+u,c,l+u,c+h),o==="center"&&i==="right"&&this.drawCaret(t,r,n,s),r.lineTo(l+u,c+d-y),r.quadraticCurveTo(l+u,c+d,l+u-y,c+d),o==="bottom"&&this.drawCaret(t,r,n,s),r.lineTo(l+m,c+d),r.quadraticCurveTo(l,c+d,l,c+d-m),o==="center"&&i==="left"&&this.drawCaret(t,r,n,s),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const o=Jf[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=AD(this,t),c=Object.assign({},o,this._size),u=OD(r,t,c),d=TD(t,c,u,r);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ei(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,s,r),EW(t,r.textDirection),i.y+=o.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),PW(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,s=t.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!qy(n,s),o=this._positionChanged(s,r);(i||o)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(t,i,r,n),l=this._positionChanged(o,t),c=r||!qy(o,i)||l;return c&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,n,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,r){const{caretX:n,caretY:s,options:i}=this,o=Jf[i.position].call(this,t,r);return o!==!1&&(n!==o.x||s!==o.y)}}Te(Y1,"positioners",Jf);var ySe={id:"tooltip",_element:Y1,positioners:Jf,afterInit(e,t,r){r&&(e.tooltip=new Y1({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YW},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const xSe=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function bSe(e,t,r,n){const s=e.indexOf(t);if(s===-1)return xSe(e,t,r,n);const i=e.lastIndexOf(t);return s!==i?r:s}const wSe=(e,t)=>e===null?null:pn(Math.round(e),0,t);function RD(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class G1 extends sf{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(At(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:bSe(n,t,at(r,t),this._addedLabels),wSe(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=r;o++)s.push({value:o});return s}getLabelForValue(t){return RD.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Te(G1,"id","category"),Te(G1,"defaults",{ticks:{callback:RD}});function _Se(e,t){const r=[],{bounds:s,step:i,min:o,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=e,m=i||1,y=d-1,{min:g,max:w}=t,b=!At(o),x=!At(l),v=!At(u),_=(w-g)/(f+1);let j=$M((w-g)/y/m)*m,S,k,C,E;if(j<1e-14&&!b&&!x)return[{value:g},{value:w}];E=Math.ceil(w/j)-Math.floor(g/j),E>y&&(j=$M(E*j/y/m)*m),At(c)||(S=Math.pow(10,c),j=Math.ceil(j*S)/S),s==="ticks"?(k=Math.floor(g/j)*j,C=Math.ceil(w/j)*j):(k=g,C=w),b&&x&&i&&Wwe((l-o)/i,j/1e3)?(E=Math.round(Math.min((l-o)/j,d)),j=(l-o)/E,k=o,C=l):v?(k=b?o:k,C=x?l:C,E=u-1,j=(C-k)/E):(E=(C-k)/j,jh(E,Math.round(E),j/1e3)?E=Math.round(E):E=Math.ceil(E));const A=Math.max(LM(j),LM(k));S=Math.pow(10,At(c)?A:c),k=Math.round(k*S)/S,C=Math.round(C*S)/S;let P=0;for(b&&(h&&k!==o?(r.push({value:o}),k<o&&P++,jh(Math.round((k+P*j)*S)/S,o,ID(o,_,e))&&P++):k<o&&P++);P<E;++P){const O=Math.round((k+P*j)*S)/S;if(x&&O>l)break;r.push({value:O})}return x&&h&&C!==l?r.length&&jh(r[r.length-1].value,l,ID(l,_,e))?r[r.length-1].value=l:r.push({value:l}):(!x||C===l)&&r.push({value:C}),r}function ID(e,t,{horizontal:r,minRotation:n}){const s=Ra(n),i=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class jSe extends sf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return At(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const o=c=>s=r?s:c,l=c=>i=n?i:c;if(t){const c=ta(s),u=ta(i);c<0&&u<0?l(0):c>0&&u>0&&o(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);l(i+c),t||o(s-c)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=_Se(s,i);return t.bounds==="ticks"&&Vwe(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const s=(n-r)/Math.max(t.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return pE(t,this.chart.options.locale,this.options.ticks.format)}}class X1 extends jSe{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Js(t)?t:0,this.max=Js(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Ra(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Te(X1,"id","linear"),Te(X1,"defaults",{ticks:{callback:bW.formatters.numeric}});const ob={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qn=Object.keys(ob);function $D(e,t){return e-t}function LD(e,t){if(At(t))return null;const r=e._adapter,{parser:n,round:s,isoWeekday:i}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),Js(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(s&&(o=s==="week"&&(bm(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,s)),+o)}function FD(e,t,r,n){const s=qn.length;for(let i=qn.indexOf(e);i<s-1;++i){const o=ob[qn[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-t)/(l*o.size))<=n)return qn[i]}return qn[s-1]}function SSe(e,t,r,n,s){for(let i=qn.length-1;i>=qn.indexOf(r);i--){const o=qn[i];if(ob[o].common&&e._adapter.diff(s,n,o)>=t-1)return o}return qn[r?qn.indexOf(r):0]}function kSe(e){for(let t=qn.indexOf(e)+1,r=qn.length;t<r;++t)if(ob[qn[t]].common)return qn[t]}function BD(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:s}=fE(r,t),i=r[n]>=t?r[n]:r[s];e[i]=!0}}function NSe(e,t,r,n){const s=e._adapter,i=+s.startOf(t[0].value,n),o=t[t.length-1].value;let l,c;for(l=i;l<=o;l=+s.add(l,1,n))c=r[l],c>=0&&(t[c].major=!0);return t}function zD(e,t,r){const n=[],s={},i=t.length;let o,l;for(o=0;o<i;++o)l=t[o],s[l]=o,n.push({value:l,major:!1});return i===0||!r?n:NSe(e,n,s,r)}class Jy extends sf{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),s=this._adapter=new Eje._date(t.adapters.date);s.init(r),_h(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:LD(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Js(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=Js(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,l=Gwe(s,i,o);return this._unit=r.unit||(n.autoSkip?FD(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):SSe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:kSe(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),zD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?r=1-s:r=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=pn(r,0,o),n=pn(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,o=i.unit||FD(i.minUnit,r,n,this._getLabelCapacity(r)),l=at(s.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,u=bm(c)||c===!0,d={};let f=r,h,m;if(u&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,u?"day":o),t.diff(n,r,o)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+o);const y=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<n;h=+t.add(h,l,o),m++)BD(d,h,y);return(h===n||s.bounds==="ticks"||m===1)&&BD(d,h,y),Object.keys(d).sort($D).map(g=>+g)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const s=this.options.time.displayFormats,i=this._unit,o=r||s[i];return this._adapter.format(t,o)}_tickFormatFunction(t,r,n,s){const i=this.options,o=i.ticks.callback;if(o)return qt(o,[t,r,n],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],h=n[r],m=u&&f&&h&&h.major;return this._adapter.format(t,s||(m?f:d))}generateTickLabels(t){let r,n,s;for(r=0,n=t.length;r<n;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,s=Ra(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(t,0,zD(this,[t],this._majorUnit),s),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)t.push(LD(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return gW(t.sort($D))}}Te(Jy,"id","time"),Te(Jy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ag(e,t,r){let n=0,s=e.length-1,i,o,l,c;r?(t>=e[n].pos&&t<=e[s].pos&&({lo:n,hi:s}=Jl(e,"pos",t)),{pos:i,time:l}=e[n],{pos:o,time:c}=e[s]):(t>=e[n].time&&t<=e[s].time&&({lo:n,hi:s}=Jl(e,"time",t)),{time:i,pos:l}=e[n],{time:o,pos:c}=e[s]);const u=o-i;return u?l+(c-l)*(t-i)/u:l}class UD extends Jy{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=Ag(r,this.min),this._tableRange=Ag(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,s=[],i=[];let o,l,c,u,d;for(o=0,l=t.length;o<l;++o)u=t[o],u>=r&&u<=n&&s.push(u);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,l=s.length;o<l;++o)d=s[o+1],c=s[o-1],u=s[o],Math.round((d+c)/2)!==u&&i.push({time:u,pos:o/(l-1)});return i}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Ag(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return Ag(this._table,n*this._tableRange+this._minPos,!0)}}Te(UD,"id","timeseries"),Te(UD,"defaults",Jy.defaults);const GW="label";function WD(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function CSe(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function XW(e,t){e.labels=t}function ZW(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:GW;const n=[];e.datasets=t.map(s=>{const i=e.datasets.find(o=>o[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function ESe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GW;const r={labels:[],datasets:[]};return XW(r,e.labels),ZW(r,e.datasets,t),r}function PSe(e,t){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...h}=e,m=p.useRef(null),y=p.useRef(null),g=()=>{m.current&&(y.current=new ab(m.current,{type:o,data:ESe(l,i),options:c&&{...c},plugins:u}),WD(t,y.current))},w=()=>{WD(t,null),y.current&&(y.current.destroy(),y.current=null)};return p.useEffect(()=>{!s&&y.current&&c&&CSe(y.current,c)},[s,c]),p.useEffect(()=>{!s&&y.current&&XW(y.current.config.data,l.labels)},[s,l.labels]),p.useEffect(()=>{!s&&y.current&&l.datasets&&ZW(y.current.config.data,l.datasets,i)},[s,l.datasets]),p.useEffect(()=>{y.current&&(s?(w(),setTimeout(g)):y.current.update(f))},[s,c,l.labels,l.datasets,f]),p.useEffect(()=>{y.current&&(w(),setTimeout(g))},[o]),p.useEffect(()=>(g(),()=>w()),[]),ie.createElement("canvas",{ref:m,role:"img",height:r,width:n,...h},d)}const ASe=p.forwardRef(PSe);function lb(e,t){return ab.register(t),p.forwardRef((r,n)=>ie.createElement(ASe,{...r,ref:n,type:e}))}const OSe=lb("line",tv),TSe=lb("bar",ev),MSe=lb("doughnut",Cu),DSe=lb("pie",V1);ab.register(G1,X1,iv,Qf,sv,Zf,uSe,ySe,lSe);const VD=["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)","rgba(14, 165, 233, 0.8)","rgba(34, 197, 94, 0.8)"],s_=["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(139, 92, 246, 1)","rgba(236, 72, 153, 1)","rgba(14, 165, 233, 1)","rgba(34, 197, 94, 1)"],RSe=({widget:e,onUpdate:t,onDelete:r,editMode:n=!1})=>{const[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(!1),h=async v=>{var _;try{const S=(_=(await de.auth.getSession()).data.session)==null?void 0:_.access_token;if(!S)throw new Error("No authentication token available");let k=[];Array.isArray(v.groupBy)?k=v.groupBy:typeof v.groupBy=="string"?k=[v.groupBy]:Array.isArray(v.groupFields)&&(k=v.groupFields);const C=v.filters||[],E=await fetch("http://localhost:8000/functions/v1/chart-widget-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({groupFields:k,filters:C})});if(!E.ok)throw new Error(`HTTP error! status: ${E.status}`);const A=await E.json();return A.success?A.data:null}catch(j){return console.error("Widget data fetch error:",j),u(j.message),null}},m={type:"bar",showLegend:!0,responsive:!0,maintainAspectRatio:!1,...e.config},y=e.data_source,g={responsive:m.responsive,maintainAspectRatio:m.maintainAspectRatio,plugins:{legend:{display:m.showLegend,position:"bottom"},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1}},scales:m.type!=="pie"&&m.type!=="doughnut"?{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}:{},animation:{duration:750,easing:"easeInOutQuart"}},w=async()=>{if(y){f(!0),l(!0),u(null);try{const v=await h(y);if(window.lastChartWidgetRawData=v,Array.isArray(v)&&v.length>0&&typeof v[0]=="object"){const _=Object.keys(v[0]).find(E=>E!=="count")||Object.keys(v[0])[0],j="count",S=v.map(E=>E[_]),k=v.map(E=>E[j]),C=[{label:_,data:k,backgroundColor:VD,borderColor:s_[0],borderWidth:1}];i({labels:S,datasets:C})}else if(v&&v.labels&&v.datasets){const _={...v,datasets:v.datasets.map((j,S)=>({...j,backgroundColor:j.backgroundColor||VD,borderColor:j.borderColor||s_[S%s_.length],borderWidth:j.borderWidth||1}))};i(_)}else u("No data available")}catch(v){console.error("Failed to load chart data:",v),u("Failed to load chart data")}finally{f(!1),l(!1)}}},b=()=>{if(!s)return;const _=[["Label",...s.labels],...s.datasets.map(C=>[C.label,...C.data])].map(C=>C.join(",")).join(`
`),j=new Blob([_],{type:"text/csv"}),S=URL.createObjectURL(j),k=document.createElement("a");k.href=S,k.download=`${e.title||"chart-data"}.csv`,k.click(),URL.revokeObjectURL(S)};p.useEffect(()=>{w()},[JSON.stringify(e.config),JSON.stringify(e.data_source)]);const x=()=>{if(!s)return null;switch(m.type){case"line":return a.jsx(OSe,{data:s,options:g});case"pie":return a.jsx(DSe,{data:s,options:g});case"doughnut":return a.jsx(MSe,{data:s,options:g});case"bar":default:return a.jsx(TSe,{data:s,options:g})}};return a.jsxs(Ce,{children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between p-4",children:[a.jsx(Ve,{className:"text-lg font-semibold",children:e.title||"Chart Widget"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:w,disabled:d,className:"h-8 w-8 p-0",title:"Refresh",children:a.jsx(Gs,{className:d?"h-4 w-4 animate-spin":"h-4 w-4"})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:b,disabled:!s,className:"h-8 w-8 p-0",title:"Export CSV",children:a.jsx($m,{className:"h-4 w-4"})}),n&&a.jsxs(a.Fragment,{children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t&&t(),className:"h-8 w-8 p-0",title:"Edit",children:a.jsx(Xs,{className:"h-4 w-4"})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:""})]})]})]}),a.jsx(Ae,{className:"p-4",children:a.jsx("div",{className:"h-64",children:o&&!s?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Ci,{className:"h-8 w-8 animate-spin"})}):c?a.jsx("div",{className:"flex items-center justify-center h-full text-red-500",children:a.jsx("p",{className:"text-sm",children:"Failed to load data"})}):s?x():a.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No data available"})})})})]})},ISe=e=>{switch((e==null?void 0:e.toLowerCase())||""){case"server":case"deployment":return a.jsx(Qi,{className:"h-4 w-4"});case"rack":case"room":case"datacenter":return a.jsx(nj,{className:"h-4 w-4"});default:return a.jsx(_x,{className:"h-4 w-4"})}},$Se=e=>{switch((e==null?void 0:e.toLowerCase())||""){case"server":case"deployment":return"bg-blue-500";case"rack":return"bg-green-500";case"room":return"bg-purple-500";case"datacenter":return"bg-orange-500";case"maintenance":return"bg-yellow-500";case"incident":return"bg-red-500";default:return"bg-gray-500"}},LSe=e=>{const t=Iee(e);return Dee(t)?`Today at ${Jn(t,"HH:mm")}`:Ree(t)?`Yesterday at ${Jn(t,"HH:mm")}`:Jn(t,"MMM dd, yyyy HH:mm")},FSe=({widget:e,onUpdate:t,onDelete:r,editMode:n=!1})=>{const[s,i]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(1),[y,g]=p.useState({});gr(`${e.id}_page`,h,m),gr(`${e.id}_filters`,y,g);const w=async()=>{var x;try{const _=(x=(await de.auth.getSession()).data.session)==null?void 0:x.access_token;if(!_)throw new Error("No authentication token available");const j=await fetch("http://localhost:8000/functions/v1/widget-data?action=timeline",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({filters:e.filters||[],config:e.data_source||{}})});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const S=await j.json();return S.success?S.data||[]:[]}catch(v){return console.error("Timeline data fetch error:",v),u(v.message),[]}},b=async()=>{f(!0),l(!0),u(null);try{const x=await w();i(x)}catch(x){console.error("Failed to load timeline data:",x)}finally{f(!1),l(!1)}};return p.useEffect(()=>{b()},[e.filters]),a.jsxs(Ce,{className:"h-full",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:e.title}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsxs(We,{variant:"secondary",className:"text-xs",children:[s.length," events"]}),a.jsx(G,{variant:"ghost",size:"sm",onClick:b,disabled:o||d,className:"h-8 w-8 p-0",children:a.jsx(Gs,{className:`h-4 w-4 ${d?"animate-spin":""}`})}),n&&a.jsxs(a.Fragment,{children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t&&t(),className:"h-8 w-8 p-0",children:a.jsx(Xs,{className:"h-4 w-4"})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:""})]})]})]}),a.jsx(Ae,{className:"p-4",children:a.jsx("div",{className:"max-h-80 overflow-y-auto",children:o&&s.length===0?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Ci,{className:"h-8 w-8 animate-spin"})}):c?a.jsx("div",{className:"flex items-center justify-center h-32 text-red-500",children:a.jsx("p",{className:"text-sm",children:"Failed to load timeline data"})}):s.length===0?a.jsx("div",{className:"flex items-center justify-center h-32 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No events found"})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-px bg-gray-200"}),a.jsx("div",{className:"space-y-4",children:s.map(x=>a.jsxs("div",{className:"relative flex items-start space-x-4",children:[a.jsx("div",{className:`flex-shrink-0 w-3 h-3 rounded-full ${$Se(x.category)} relative z-10`}),a.jsx("div",{className:"flex-grow min-w-0 pb-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[ISe(x.category),a.jsx("span",{className:"font-medium text-sm",children:x.title}),a.jsx(We,{variant:"outline",className:"text-xs",children:x.category})]}),x.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:x.description}),a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[a.jsx("span",{children:LSe(x.timestamp)}),x.server_name&&a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx(Qi,{className:"h-3 w-3"}),a.jsx("span",{children:x.server_name})]}),x.rack_name&&a.jsxs("span",{children:["Rack: ",x.rack_name]}),x.room_name&&a.jsxs("span",{children:["Room: ",x.room_name]})]})]})})})]},x.id))})]})})})]})};class BSe{constructor(t){Te(this,"query");Te(this,"options");this.options=t,this.query=de.from(t.table),t.select?this.query=this.query.select(t.select):t.aggregation==="count"?this.query=this.query.select("*",{count:"exact"}):this.query=this.query.select("*")}applyServerFilters(t){var r,n,s,i,o,l,c,u,d,f;return(r=t.models)!=null&&r.length&&(this.query=this.query.in("model",t.models)),(n=t.dc_sites)!=null&&n.length&&(this.query=this.query.in("dc_site",t.dc_sites)),(s=t.dc_buildings)!=null&&s.length&&(this.query=this.query.in("dc_building",t.dc_buildings)),(i=t.dc_floors)!=null&&i.length&&(this.query=this.query.in("dc_floor",t.dc_floors)),(o=t.dc_rooms)!=null&&o.length&&(this.query=this.query.in("dc_room",t.dc_rooms)),(l=t.allocations)!=null&&l.length&&(this.query=this.query.in("allocation",t.allocations)),(c=t.environments)!=null&&c.length&&(this.query=this.query.in("environment",t.environments)),(u=t.status)!=null&&u.length&&(this.query=this.query.in("status",t.status)),(d=t.device_types)!=null&&d.length&&(this.query=this.query.in("device_type",t.device_types)),(f=t.brands)!=null&&f.length&&(this.query=this.query.in("brand",t.brands)),this}applyBasicFilters(t){return t.forEach(r=>{switch(r.operator){case"equals":this.query=this.query.eq(r.field,r.value);break;case"not_equals":this.query=this.query.neq(r.field,r.value);break;case"contains":this.query=this.query.ilike(r.field,`%${r.value}%`);break;case"in":this.query=this.query.in(r.field,Array.isArray(r.value)?r.value:[r.value]);break;case"not_in":this.query=this.query.not(r.field,"in",Array.isArray(r.value)?r.value:[r.value]);break;case"gt":this.query=this.query.gt(r.field,r.value);break;case"gte":this.query=this.query.gte(r.field,r.value);break;case"lt":this.query=this.query.lt(r.field,r.value);break;case"lte":this.query=this.query.lte(r.field,r.value);break;default:console.warn(`Unknown filter operator: ${r.operator}`)}}),this}async execute(){var t,r;try{this.options.table==="servers"&&this.options.serverFilters?this.applyServerFilters(this.options.serverFilters):(t=this.options.basicFilters)!=null&&t.length&&this.applyBasicFilters(this.options.basicFilters),this.options.groupBy&&this.options.aggregation==="count"&&(this.query=de.from(this.options.table).select(`${this.options.groupBy}, count(*)`,{count:"exact"}),this.options.table==="servers"&&this.options.serverFilters?this.applyServerFilters(this.options.serverFilters):(r=this.options.basicFilters)!=null&&r.length&&this.applyBasicFilters(this.options.basicFilters)),this.options.orderBy&&(this.query=this.query.order(this.options.orderBy)),this.options.limit&&(this.query=this.query.limit(this.options.limit));const n=await this.query;if(n.error)throw n.error;return{data:n.data,count:n.count,error:null}}catch(n){return console.error("Query execution error:",n),{data:null,count:0,error:n instanceof Error?n.message:"Query execution failed"}}}getQuery(){return this.query}}async function zSe(e){return new BSe(e).execute()}const USe=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(null),{toast:s}=Er(),i=async b=>{t(!0),n(null);try{const{data:x,error:v}=await de.functions.invoke("widget-data",{method:"POST",body:{action:"query",config:b}});if(v)throw v;if(x.success)return x.data;throw new Error(x.error||"Failed to query data")}catch(x){const v=x.message||"Failed to query data";return n(v),s({title:"Error",description:v,variant:"destructive"}),null}finally{t(!1)}},o=async b=>{var x;t(!0),n(null);try{if(b.table==="servers"&&b.serverFilters){const v={table:b.table,serverFilters:b.serverFilters,aggregation:b.aggregation,groupBy:b.groupBy,orderBy:b.groupBy,limit:100},_=await zSe(v);if(_.error)throw new Error(_.error);return l(_.data,b)}else return i({table:b.table,groupBy:b.groupBy,aggregation:b.aggregation,filters:((x=b.basicFilters)==null?void 0:x.map(v=>({field:v.field,operator:v.operator,value:v.value})))||[],dateRange:b.dateRange})}catch(v){const _=v.message||"Failed to query enhanced data";return n(_),s({title:"Error",description:_,variant:"destructive"}),null}finally{t(!1)}},l=(b,x)=>{if(!b||b.length===0)return{labels:[],datasets:[{label:"No Data",data:[],backgroundColor:["#e5e7eb"]}],total:0};if(x.groupBy){const v=b.map(j=>j[x.groupBy]||"Unknown"),_=b.map(j=>j.count||0);return{labels:v,datasets:[{label:x.aggregation==="count"?"Count":x.aggregation||"Value",data:_,backgroundColor:c(v.length)}],total:_.reduce((j,S)=>j+S,0)}}else return{labels:["Total"],datasets:[{label:"Count",data:[b.length],backgroundColor:["#3b82f6"]}],total:b.length}},c=b=>{const x=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"],v=[];for(let _=0;_<b;_++)v.push(x[_%x.length]);return v},u=async b=>{t(!0),n(null);try{const{data:x,error:v}=await de.functions.invoke("widget-data",{method:"POST",body:{action:"timeline",filters:b||[]}});if(v)throw v;if(x.success)return x.data||[];throw new Error(x.error||"Failed to get timeline data")}catch(x){const v=x.message||"Failed to get timeline data";return n(v),s({title:"Error",description:v,variant:"destructive"}),[]}finally{t(!1)}},d=async b=>i({table:"servers",groupBy:"status",aggregation:"count",filters:b||[]}),f=async b=>i({table:"servers",groupBy:"deployment_status",aggregation:"count",filters:b||[]}),h=async(b="room",x)=>i({table:"servers",groupBy:b==="room"?"room_name":"rack_name",aggregation:"count",filters:x||[]}),m=async b=>i({table:"servers",groupBy:"hardware_type",aggregation:"count",filters:b||[]}),y=async(b="month",x)=>{const v=w(b);return i({table:"servers",groupBy:b,aggregation:"count",filters:x||[],dateRange:{field:"created_at",start:v.start,end:v.end}})},g=async b=>{t(!0),n(null);try{const{data:x,error:v}=await de.functions.invoke("widget-data",{method:"POST",body:{action:"rack_utilization",filters:b||[]}});if(v)throw v;if(x.success)return x.data;throw new Error(x.error||"Failed to get rack utilization data")}catch(x){const v=x.message||"Failed to get rack utilization data";return n(v),s({title:"Error",description:v,variant:"destructive"}),null}finally{t(!1)}},w=b=>{const x=new Date,v=new Date;switch(b){case"day":v.setDate(v.getDate()-30);break;case"week":v.setDate(v.getDate()-12*7);break;case"month":v.setMonth(v.getMonth()-12);break}return{start:v.toISOString(),end:x.toISOString()}};return{isLoading:e,error:r,queryData:i,queryEnhancedData:o,getTimelineData:u,getServerMetrics:d,getDeploymentStatus:f,getServersByLocation:h,getServersByHardware:m,getServersOverTime:y,getRackUtilization:g}},WSe=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),VSe=({widget:e,onUpdate:t,onDelete:r,editMode:n=!1})=>{const[s,i]=p.useState(1),[o,l]=p.useState({});gr(`${e.id}_page`,s,i),gr(`${e.id}_filters`,o,l);const[c,u]=p.useState(null),[d,f]=p.useState(null),{queryEnhancedData:h,isLoading:m}=USe(),y=async()=>{f(null);try{const g=e.data_source;if(!g)throw new Error("No data source configured");const w={table:g.table||"servers",aggregation:g.aggregation||"count",groupBy:g.groupBy};let b=[];Array.isArray(e.filters)&&(b=b.concat(e.filters)),Array.isArray(g.filters)&&(b=b.concat(g.filters)),Array.isArray(e.server_filters)&&(b=b.concat(e.server_filters)),b.length>0&&(w.basicFilters=b.map(S=>({field:S.field,operator:S.operator||"equals",value:S.value})));const x=await h(w);if(!x)throw new Error("No data returned");const v=x.total??x.value??0;let _=a.jsx(Qi,{className:"h-6 w-6"}),j="bg-blue-500";e.title.toLowerCase().includes("active")?(_=a.jsx(po,{className:"h-6 w-6"}),j="bg-green-500"):e.title.toLowerCase().includes("production")?(_=a.jsx(Qi,{className:"h-6 w-6"}),j="bg-green-500"):e.title.toLowerCase().includes("ready")?(_=a.jsx(Hq,{className:"h-6 w-6"}),j="bg-yellow-500"):e.title.toLowerCase().includes("total")&&(_=a.jsx(Qi,{className:"h-6 w-6"}),j="bg-blue-500"),u({label:e.title,value:v,icon:_,color:j})}catch(g){console.error("Failed to load metric data:",g),f("Failed to load metric data")}};return p.useEffect(()=>{y()},[e.filters,e.server_filters,e.data_source]),a.jsxs(Ce,{className:"h-full",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium",children:e.title}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:y,disabled:m,className:"h-8 w-8 p-0",children:a.jsx(Gs,{className:`h-4 w-4 ${m?"animate-spin":""}`})}),n&&a.jsxs(a.Fragment,{children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t&&t(),className:"h-8 w-8 p-0",children:a.jsx(Xs,{className:"h-4 w-4"})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:""})]})]})]}),a.jsx(Ae,{className:"p-6",children:m&&!c?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Ci,{className:"h-8 w-8 animate-spin"})}):d?a.jsx("div",{className:"flex items-center justify-center h-32 text-red-500",children:a.jsx("p",{className:"text-sm",children:"Failed to load metric"})}):c?a.jsxs("div",{className:"relative flex flex-col h-32",children:[a.jsx("div",{className:"flex-1 flex items-center justify-center",style:{paddingTop:"30px",paddingBottom:"30px"},children:a.jsx("div",{className:"text-8xl font-bold",children:WSe(c.value)})}),a.jsxs("div",{className:"flex items-center justify-between px-2 pb-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:c.label}),a.jsx("div",{className:`p-2 rounded-lg ${c.color} text-white`,children:a.jsx("div",{className:"h-4 w-4",children:c.icon})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-32 text-gray-400",children:a.jsx("p",{className:"text-sm",children:"No data available"})})})]})},HSe=()=>{const[e,t]=p.useState({models:[],dc_sites:[],dc_buildings:[],dc_floors:[],dc_rooms:[],allocations:[],environments:[],status:[],device_types:[],brands:[]}),[r,n]=p.useState({availableBuildings:[],availableFloors:[],availableRooms:[]}),[s,i]=p.useState(!1),[o,l]=p.useState(null),{enums:c}=Lc(),u=p.useCallback(async()=>{i(!0),l(null);try{const[{data:h},{data:m},{data:y},{data:g},{data:w},{data:b}]=await Promise.all([de.from("servers").select("model").not("model","is",null),de.from("servers").select("dc_site").not("dc_site","is",null),de.from("servers").select("dc_building").not("dc_building","is",null),de.from("servers").select("dc_floor").not("dc_floor","is",null),de.from("servers").select("dc_room").not("dc_room","is",null),de.from("servers").select("brand").not("brand","is",null)]),x=(_,j)=>[...new Set((_==null?void 0:_.map(S=>S[j]).filter(Boolean))||[])],v={models:x(h||[],"model"),dc_sites:x(m||[],"dc_site"),dc_buildings:x(y||[],"dc_building"),dc_floors:x(g||[],"dc_floor"),dc_rooms:x(w||[],"dc_room"),brands:x(b||[],"brand"),allocations:(c==null?void 0:c.allocationTypes)||[],environments:(c==null?void 0:c.environmentTypes)||[],status:(c==null?void 0:c.status)||[],device_types:(c==null?void 0:c.deviceTypes)||[]};t(v),n({availableBuildings:v.dc_buildings,availableFloors:v.dc_floors,availableRooms:v.dc_rooms})}catch(h){console.error("Error fetching filter options:",h),l(h instanceof Error?h.message:"Failed to fetch filter options")}finally{i(!1)}},[c]),d=p.useCallback(async(h,m,y)=>{try{let g=e.dc_buildings,w=e.dc_floors,b=e.dc_rooms;if(h){const{data:x}=await de.from("servers").select("dc_building").eq("dc_site",h).not("dc_building","is",null);g=[...new Set((x==null?void 0:x.map(v=>v.dc_building).filter(Boolean))||[])]}if(h&&m){const{data:x}=await de.from("servers").select("dc_floor").eq("dc_site",h).eq("dc_building",m).not("dc_floor","is",null);w=[...new Set((x==null?void 0:x.map(v=>v.dc_floor).filter(Boolean))||[])]}if(h&&m&&y){const{data:x}=await de.from("servers").select("dc_room").eq("dc_site",h).eq("dc_building",m).eq("dc_floor",y).not("dc_room","is",null);b=[...new Set((x==null?void 0:x.map(v=>v.dc_room).filter(Boolean))||[])]}n({selectedSite:h,availableBuildings:g,selectedBuilding:m,availableFloors:w,selectedFloor:y,availableRooms:b})}catch(g){console.error("Error updating hierarchical filters:",g)}},[e]),f=p.useCallback(async h=>{var m,y,g,w,b,x,v,_,j,S;try{let k=de.from("servers").select("id",{count:"exact"});(m=h.models)!=null&&m.length&&(k=k.in("model",h.models)),(y=h.dc_sites)!=null&&y.length&&(k=k.in("dc_site",h.dc_sites)),(g=h.dc_buildings)!=null&&g.length&&(k=k.in("dc_building",h.dc_buildings)),(w=h.dc_floors)!=null&&w.length&&(k=k.in("dc_floor",h.dc_floors)),(b=h.dc_rooms)!=null&&b.length&&(k=k.in("dc_room",h.dc_rooms)),(x=h.allocations)!=null&&x.length&&(k=k.in("allocation",h.allocations)),(v=h.environments)!=null&&v.length&&(k=k.in("environment",h.environments)),(_=h.status)!=null&&_.length&&(k=k.in("status",h.status)),(j=h.device_types)!=null&&j.length&&(k=k.in("device_type",h.device_types)),(S=h.brands)!=null&&S.length&&(k=k.in("brand",h.brands));const{count:C,error:E}=await k;if(E)throw E;return{isValid:!0,errors:[],warnings:C===0?["No servers match the selected filters"]:[],resultCount:C||0}}catch(k){return{isValid:!1,errors:[k instanceof Error?k.message:"Filter validation failed"],warnings:[],resultCount:0}}},[]);return p.useEffect(()=>{c&&u()},[c,u]),{filterOptions:e,hierarchicalState:r,isLoading:s,error:o,updateHierarchicalFilters:d,validateFilters:f,refetch:u}},qSe=({filters:e,onChange:t,onValidate:r,className:n=""})=>{var v;const{filterOptions:s,hierarchicalState:i,isLoading:o,error:l,updateHierarchicalFilters:c,validateFilters:u}=HSe(),[d,f]=p.useState(null),[h,m]=p.useState(!1),y=(_,j)=>{const S={...e,[_]:j};t(S)},g=(_,j,S)=>{const k=e[_]||[];let C;S?C=[...k,j]:C=k.filter(E=>E!==j),y(_,C.length>0?C:void 0)},w=async(_,j)=>{_==="site"?(y("dc_sites",[j]),y("dc_buildings",void 0),y("dc_floors",void 0),y("dc_rooms",void 0),await c(j)):_==="building"?(y("dc_buildings",[j]),y("dc_floors",void 0),y("dc_rooms",void 0),await c(i.selectedSite,j)):_==="floor"?(y("dc_floors",[j]),y("dc_rooms",void 0),await c(i.selectedSite,i.selectedBuilding,j)):_==="room"&&y("dc_rooms",[j])},b=()=>{t({logic:e.logic||"AND",hierarchical_filtering:e.hierarchical_filtering!==!1})};p.useEffect(()=>{const j=setTimeout(async()=>{if(Object.keys(e).some(S=>S!=="logic"&&S!=="hierarchical_filtering"&&e[S])){m(!0);try{const S=await u(e);f(S),r==null||r(S)}catch(S){console.error("Filter validation error:",S)}finally{m(!1)}}else f(null),r==null||r({isValid:!0,errors:[],warnings:[]})},500);return()=>clearTimeout(j)},[e,u,r]);const x=Object.keys(e).filter(_=>_!=="logic"&&_!=="hierarchical_filtering"&&e[_]).length;return o?a.jsx(Ce,{className:n,children:a.jsx(Ae,{className:"p-4",children:a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading filter options..."})})}):l?a.jsxs(Go,{variant:"destructive",className:n,children:[a.jsx($a,{className:"h-4 w-4"}),a.jsxs(oc,{children:["Failed to load filter options: ",l]})]}):a.jsxs(Ce,{className:n,children:[a.jsxs(Ue,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ha,{className:"h-4 w-4"}),a.jsx(Ve,{className:"text-base",children:"Server Selection"}),x>0&&a.jsxs(We,{variant:"secondary",className:"text-xs",children:[x," active"]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:x>0&&a.jsx(G,{variant:"ghost",size:"sm",onClick:b,className:"h-8 text-xs",children:"Clear All"})})]}),a.jsx(It,{children:"Filter servers by model, data center location, allocation, and environment"})]}),a.jsxs(Ae,{className:"pt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Filter Logic"}),a.jsxs(Se,{value:e.logic||"AND",onValueChange:_=>y("logic",_),children:[a.jsx(_e,{className:"w-32",children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"AND",children:"AND (All)"}),a.jsx(q,{value:"OR",children:"OR (Any)"})]})]}),a.jsx("div",{style:{marginBottom:"10px"}})]}),a.jsx(qi,{}),a.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[a.jsx(ne,{children:"Models"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.models.map(_=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Co,{id:`model-${_}`,checked:(e.models||[]).includes(_),onCheckedChange:j=>g("models",_,j)}),a.jsx(ne,{htmlFor:`model-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),a.jsx(qi,{style:{marginBottom:"10px"}}),a.jsxs("div",{className:"space-y-4",style:{marginBottom:"10px"},children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ne,{children:"Data Center Location"}),a.jsx(Co,{id:"hierarchical-filtering",checked:e.hierarchical_filtering!==!1,onCheckedChange:_=>y("hierarchical_filtering",_)}),a.jsx(ne,{htmlFor:"hierarchical-filtering",className:"text-sm font-normal",children:"Hierarchical filtering"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Site"}),a.jsxs(Se,{value:i.selectedSite||"",onValueChange:_=>w("site",_),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select site"})}),a.jsx(je,{children:s.dc_sites.map(_=>a.jsx(q,{value:_,children:_},_))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Building"}),a.jsxs(Se,{value:i.selectedBuilding||"",onValueChange:_=>w("building",_),disabled:e.hierarchical_filtering!==!1&&!i.selectedSite,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select building"})}),a.jsx(je,{children:i.availableBuildings.map(_=>a.jsx(q,{value:_,children:_},_))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Floor"}),a.jsxs(Se,{value:i.selectedFloor||"",onValueChange:_=>w("floor",_),disabled:e.hierarchical_filtering!==!1&&!i.selectedBuilding,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select floor"})}),a.jsx(je,{children:i.availableFloors.map(_=>a.jsx(q,{value:_,children:_},_))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Room"}),a.jsxs(Se,{value:((v=e.dc_rooms)==null?void 0:v[0])||"",onValueChange:_=>w("room",_),disabled:e.hierarchical_filtering!==!1&&!i.selectedFloor,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select room"})}),a.jsx(je,{children:i.availableRooms.map(_=>a.jsx(q,{value:_,children:_},_))})]})]})]})]}),a.jsx(qi,{style:{marginBottom:"10px"}}),a.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[a.jsx(ne,{children:"Allocation Types"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.allocations.map(_=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Co,{id:`allocation-${_}`,checked:(e.allocations||[]).includes(_),onCheckedChange:j=>g("allocations",_,j)}),a.jsx(ne,{htmlFor:`allocation-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),a.jsx(qi,{style:{marginBottom:"10px"}}),a.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[a.jsx(ne,{children:"Environments"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.environments.map(_=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Co,{id:`environment-${_}`,checked:(e.environments||[]).includes(_),onCheckedChange:j=>g("environments",_,j)}),a.jsx(ne,{htmlFor:`environment-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),a.jsx(qi,{style:{marginBottom:"10px"}}),a.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[a.jsx(ne,{children:"Status"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.status.map(_=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Co,{id:`status-${_}`,checked:(e.status||[]).includes(_),onCheckedChange:j=>g("status",_,j)}),a.jsx(ne,{htmlFor:`status-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),d&&a.jsxs("div",{className:"space-y-2",children:[d.errors.length>0&&a.jsxs(Go,{variant:"destructive",children:[a.jsx($a,{className:"h-4 w-4"}),a.jsx(oc,{children:d.errors.join(", ")})]}),d.warnings.length>0&&a.jsxs(Go,{children:[a.jsx($a,{className:"h-4 w-4"}),a.jsx(oc,{children:d.warnings.join(", ")})]}),d.isValid&&d.resultCount!==void 0&&a.jsx("div",{className:"text-sm text-muted-foreground",children:h?"Validating...":`${d.resultCount} servers match these filters`})]})]})]})},KSe=({widget:e,open:t,onOpenChange:r,onSave:n})=>{const{toast:s}=Er(),[i,o]=p.useState({title:"",widget_type:"metric",position_x:0,position_y:0,width:4,height:1,config:{},data_source:{},filters:[],server_filters:{}}),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState(null),m={servers:["status","type","location","model","manufacturer"],racks:["status","capacity","location","type"],rooms:["status","floor","type","capacity"],data_centers:["region","status","capacity","type"]};p.useEffect(()=>{e&&o({title:e.title||"",widget_type:e.widget_type||"metric",position_x:e.position_x||0,position_y:e.position_y||0,width:e.width||4,height:e.height||1,config:e.config||{},data_source:e.data_source||{},filters:e.filters||[],server_filters:e.server_filters||{}})},[e]);const y=async()=>{if(e){c(!0);try{let _=[];Array.isArray(i.filters)&&i.filters.length>0&&(_=[...i.filters]),i.server_filters&&Object.keys(i.server_filters).length>0&&(_=[..._,...Object.entries(i.server_filters).filter(([C,E])=>E!=null&&E!=="").map(([C,E])=>({field:C,operator:"equals",value:E}))]);const{server_filters:j,...S}=i,k={...S,data_source:{...i.data_source,filters:_}};await n({id:e.id,...k}),s({title:"Success",description:"Widget updated successfully"}),r(!1)}catch(_){console.error("Error updating widget:",_),s({title:"Error",description:"Failed to update widget",variant:"destructive"})}finally{c(!1)}}},g=(_,j)=>{o(S=>({...S,[_]:j}))},w=(_,j)=>{o(S=>({...S,config:{...S.config,[_]:j}}))},b=(_,j)=>{o(S=>({...S,data_source:{...S.data_source,[_]:j}}))},x=_=>{o(j=>({...j,server_filters:_})),d(!0)},v=_=>{h(_)};return e?a.jsx(jr,{open:t,onOpenChange:r,children:a.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Edit Widget"}),a.jsx(pr,{children:"Customize your widget settings and configuration."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Basic Settings"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"title",children:"Title"}),a.jsx(qe,{id:"title",value:i.title,onChange:_=>g("title",_.target.value),placeholder:"Widget title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"widget_type",children:"Widget Type"}),a.jsxs(Se,{value:i.widget_type,onValueChange:_=>g("widget_type",_),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"metric",children:"Metric"}),a.jsx(q,{value:"chart",children:"Chart"}),a.jsx(q,{value:"timeline",children:"Timeline"}),a.jsx(q,{value:"stat",children:"Stat"}),a.jsx(q,{value:"gauge",children:"Gauge"})]})]})]})]})]}),!(i.widget_type==="metric"||i.widget_type==="gauge"||i.widget_type==="stat")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Position & Size"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"position_x",children:"X Position"}),a.jsx(qe,{id:"position_x",type:"number",min:"0",max:"11",value:i.position_x,onChange:_=>g("position_x",parseInt(_.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"position_y",children:"Y Position"}),a.jsx(qe,{id:"position_y",type:"number",min:"0",value:i.position_y,onChange:_=>g("position_y",parseInt(_.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"width",children:"Width"}),a.jsx(qe,{id:"width",type:"number",min:"1",max:"12",value:i.width,onChange:_=>g("width",parseInt(_.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"height",children:"Height"}),a.jsx(qe,{id:"height",type:"number",min:"1",value:i.height,onChange:_=>g("height",parseInt(_.target.value))})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Widget Configuration"}),i.widget_type==="chart"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"chart_type",children:"Chart Type"}),a.jsxs(Se,{value:i.config.type||"bar",onValueChange:_=>w("type",_),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"bar",children:"Bar Chart"}),a.jsx(q,{value:"line",children:"Line Chart"}),a.jsx(q,{value:"pie",children:"Pie Chart"}),a.jsx(q,{value:"area",children:"Area Chart"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[a.jsx("input",{type:"checkbox",id:"show_legend",checked:i.config.showLegend||!1,onChange:_=>w("showLegend",_.target.checked)}),a.jsx(ne,{htmlFor:"show_legend",children:"Show Legend"})]})]}),i.widget_type==="metric"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"show_trend",checked:i.config.showTrend||!1,onChange:_=>w("showTrend",_.target.checked)}),a.jsx(ne,{htmlFor:"show_trend",children:"Show Trend"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"show_progress",checked:i.config.showProgress||!1,onChange:_=>w("showProgress",_.target.checked)}),a.jsx(ne,{htmlFor:"show_progress",children:"Show Progress"})]})]}),i.widget_type==="timeline"&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"max_events",children:"Max Events"}),a.jsx(qe,{id:"max_events",type:"number",min:"1",max:"50",value:i.config.maxEvents||10,onChange:_=>w("maxEvents",parseInt(_.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"group_by",children:"Group By"}),a.jsxs(Se,{value:i.config.groupBy||"day",onValueChange:_=>w("groupBy",_),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"hour",children:"Hour"}),a.jsx(q,{value:"day",children:"Day"}),a.jsx(q,{value:"week",children:"Week"}),a.jsx(q,{value:"month",children:"Month"})]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Data Source"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"data_table",children:"Table"}),a.jsxs(Se,{value:i.data_source.table||"",onValueChange:_=>b("table",_),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select a table"})}),a.jsxs(je,{children:[a.jsx(q,{value:"servers",children:"Servers"}),a.jsx(q,{value:"racks",children:"Racks"}),a.jsx(q,{value:"rooms",children:"Rooms"}),a.jsx(q,{value:"data_centers",children:"Data Centers"})]})]})]}),i.data_source.table&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"field",children:"Field"}),a.jsxs(Se,{value:i.data_source.field||"",onValueChange:_=>b("field",_),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select a field"})}),a.jsx(je,{children:(m[i.data_source.table]||[]).map(_=>a.jsx(q,{value:_,children:_},_))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"aggregation",children:"Aggregation"}),a.jsxs(Se,{value:i.data_source.aggregation||"count",onValueChange:_=>b("aggregation",_),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"count",children:"Count"}),a.jsx(q,{value:"sum",children:"Sum"}),a.jsx(q,{value:"avg",children:"Average"}),a.jsx(q,{value:"min",children:"Minimum"}),a.jsx(q,{value:"max",children:"Maximum"})]})]})]})]})]})]}),i.data_source.table==="servers"&&!(i.widget_type==="chart"||i.widget_type==="timeline")||i.widget_type==="metric"||i.widget_type==="gauge"||i.widget_type==="stat"?a.jsx("div",{className:"space-y-4",children:a.jsx(qSe,{filters:i.server_filters,onChange:x,onValidate:v})}):null]}),a.jsxs(ol,{children:[a.jsx(G,{variant:"outline",onClick:()=>r(!1),disabled:l,children:"Cancel"}),a.jsx(G,{onClick:y,disabled:l||f&&!f.isValid,children:l?"Saving...":"Save Changes"})]})]})}):null},HD=["hostname","ip_address","status","device_type","environment","brand","model","operating_system","dc_site","dc_building","dc_floor","dc_room","allocation","rack","unit","notes"],YSe=({onUpdate:e,onDelete:t,onRefresh:r})=>a.jsxs("div",{className:"flex space-x-1 justify-end items-center mb-2",children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",title:"Refresh",children:a.jsx(Gs,{size:18})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",title:"Edit",children:a.jsx(Xs,{size:18})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:a.jsx(ra,{size:18})})]}),GSe=async(e,t,r)=>{const n={columns:t,limit:100,offset:0,...r,data_source:e.data_source,config:e.config},i=await fetch("http://localhost:8000/functions/v1/list-widget-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error("Failed to fetch data");return await i.json()},XSe=({widget:e,editMode:t,onUpdate:r=()=>{},onDelete:n=()=>{}})=>{var E,A;const s=((E=e.config)==null?void 0:E.columns)||["hostname","ip_address"],i=e.filters||{},[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(()=>{const O=new URLSearchParams(window.location.search).get(`${e.id}_page`);return O?parseInt(O):1}),[y,g]=p.useState(()=>{const O=new URLSearchParams(window.location.search).get(`${e.id}_perPage`);return O?parseInt(O):10});p.useEffect(()=>{b(),m(1)},[e.data_source,e.config,JSON.stringify(i)]),p.useEffect(()=>{const P=new URLSearchParams(window.location.search);P.set(`${e.id}_page`,h.toString()),P.set(`${e.id}_perPage`,y.toString());const O=P.toString(),$=`${window.location.pathname}${O?"?"+O:""}${window.location.hash}`;window.history.replaceState({},"",$)},[h,y,e.id]);const w=Array.isArray(i)?{}:i,b=async()=>{u(!0),f(null);try{const P=await GSe(e,s,w);l(P||[])}catch(P){f(P.message)}finally{u(!1)}},x=Math.ceil(o.length/y),v=h*y,_=v-y,j=o.slice(_,v),S=((A=e.config)==null?void 0:A.height)||e.height||400,k=typeof S=="string"&&S.endsWith("%")?{height:S}:{height:`${S}px`},C={hostname:"Hostname",ip_address:"IP Address",status:"Status",device_type:"Device Type",environment:"Environment",brand:"Brand",model:"Model",operating_system:"Operating System",dc_site:"Site",dc_building:"Building",dc_floor:"Floor",dc_room:"Room",allocation:"Allocation",rack:"Rack",unit:"Unit",notes:"Notes"};return a.jsxs(Ce,{className:"shadow-md border rounded-xl",children:[a.jsxs(Ue,{className:"relative bg-gradient-to-r from-blue-50 to-white rounded-t-xl",children:[a.jsx(Ve,{className:"tracking-tight text-base font-semibold text-blue-900",children:e.title||"List Widget"}),t&&a.jsx("div",{className:"absolute top-2 right-2 z-10",children:a.jsx(YSe,{onUpdate:r,onDelete:n,onRefresh:b})})]}),a.jsx(Ae,{className:"p-4 flex flex-col",children:a.jsxs("div",{className:"list-widget-body",style:{...k,minHeight:100,overflowY:"auto"},children:[c&&a.jsx("div",{className:"text-center py-8 text-blue-600",children:"Loading..."}),d&&a.jsxs("div",{className:"text-center py-8 text-red-600",children:["Error: ",d]}),!c&&!d&&(!o||o.length===0)&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data found."}),!c&&!d&&o&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full border rounded-lg bg-white",children:[a.jsx("thead",{className:"sticky top-0 bg-blue-100 z-10",children:a.jsx("tr",{children:s.map(P=>a.jsx("th",{className:"px-4 py-2 text-left font-medium text-blue-900 border-b border-blue-200 uppercase text-xs tracking-wide",children:C[P]||P},P))})}),a.jsx("tbody",{children:j.map((P,O)=>a.jsx("tr",{className:O%2===0?"bg-blue-50 hover:bg-blue-100":"bg-white hover:bg-blue-50",children:s.map($=>a.jsx("td",{className:"px-4 py-2 border-b border-blue-50 text-sm text-gray-700",children:P[$]},$))},O))})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:"Rows per page:"}),a.jsx("select",{className:"border rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-blue-300",value:y,onChange:P=>{g(Number(P.target.value)),m(1)},children:[10,20,50,100].map(P=>a.jsx("option",{value:P,children:P},P))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(G,{variant:"outline",size:"sm",disabled:h===1,onClick:()=>m(h-1),children:"Prev"}),a.jsxs("span",{className:"text-sm",children:["Page ",h," of ",x]}),a.jsx(G,{variant:"outline",size:"sm",disabled:h===x||x===0,onClick:()=>m(h+1),children:"Next"})]})]})]})]})})]})},ZSe=({initialTitle:e="",initialColumns:t=["hostname","ip_address"],initialHeight:r=400,open:n,onOpenChange:s,onSave:i,onCancel:o})=>{const[l,c]=p.useState(e),[u,d]=p.useState(t),[f,h]=p.useState(r),m=["status","device_type","allocation","environment","brand","model","operating_system","dc_site","dc_building","dc_floor","dc_room","rack","unit"],{enums:y,loading:g}=Lc(),[w,b]=p.useState({}),x=E=>({device_type:"All Device Types",environment:"All Environments",brand:"All Brands",model:"All Models",allocation:"All Allocations",operating_system:"All OS",dc_site:"All Sites",dc_building:"All Buildings",dc_floor:"All Floors",dc_room:"All Rooms",rack:"All Racks",unit:"All Units",status:"All Status"})[E]||"All",v=E=>{const P={status:"status",device_type:"deviceTypes",allocation:"allocationTypes",environment:"environmentTypes",brand:"brands",model:"models",operating_system:"osTypes",dc_site:"sites",dc_building:"buildings",dc_floor:"floors",dc_room:"rooms",rack:"racks",unit:"units"}[E];if(P&&y[P])return y[P]},_=(E,A)=>{b(P=>({...P,[E]:A}))},j=(E,A)=>{const P=[...u];P[E]=A,d(P)},S=()=>{u.length<3&&d([...u,HD[0]])},k=E=>{u.length>1&&d(u.filter((A,P)=>P!==E))},C=()=>{i({title:l,columns:u,height:typeof f=="string"?parseInt(f):f,filters:w}),s(!1)};return a.jsx(jr,{open:n,onOpenChange:s,children:a.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Edit List Widget"}),a.jsx(pr,{children:"Configure your list widget columns, height, and filters."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"title",children:"Title"}),a.jsx(qe,{id:"title",value:l,onChange:E=>c(E.target.value),placeholder:"Widget title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Height (px or %)"}),a.jsx(qe,{value:f,onChange:E=>h(E.target.value),placeholder:"400"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Columns (1-3)"}),a.jsx("div",{className:"flex flex-col gap-2",children:u.map((E,A)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Se,{value:E,onValueChange:P=>j(A,P),children:[a.jsx(_e,{className:"w-40",children:a.jsx(ke,{})}),a.jsx(je,{children:HD.map(P=>a.jsx(q,{value:P,children:P},P))})]}),u.length>1&&a.jsx(G,{variant:"outline",size:"sm",onClick:()=>k(A),children:"-"}),A===u.length-1&&u.length<3&&a.jsx(G,{variant:"outline",size:"sm",onClick:S,children:"+"})]},A))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Filters"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map(E=>a.jsxs("div",{className:"space-y-1",children:[a.jsx(ne,{className:"text-xs",children:E}),a.jsxs(Se,{value:w[E]??"__all__",onValueChange:A=>_(E,A==="__all__"?"":A),disabled:g,children:[a.jsx(_e,{className:"w-full",children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"__all__",children:x(E)}),(v(E)||[]).map(A=>a.jsx(q,{value:A,children:A},A))]})]})]},E))})]})]}),a.jsxs(ol,{children:[a.jsx(G,{variant:"outline",onClick:o,children:"Cancel"}),a.jsx(G,{onClick:C,className:"bg-blue-600 text-white",children:"Save"})]})]})})},QSe=({onUpdate:e,onRefresh:t,onDelete:r})=>a.jsxs("div",{className:"flex space-x-1 justify-end items-center mb-2",children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",title:"Refresh",children:a.jsx(Gs,{size:18})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",title:"Edit",children:a.jsx(Xs,{size:18})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:a.jsx(ra,{size:18})})]}),JSe=async e=>{var t;try{const n=(t=(await de.auth.getSession()).data.session)==null?void 0:t.access_token;if(!n)throw new Error("No authentication token available");const s=await fetch("http://localhost:8000/functions/v1/widget-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({config:e})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const i=await s.json();return i.success?i.data:null}catch(r){throw r}},eke=({widget:e,editMode:t,onUpdate:r=()=>{},onDelete:n=()=>{}})=>{const[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(!1),h=async()=>{f(!0),l(!0),u(null);try{const m=e.data_source||{},y=await JSe(m);i((y==null?void 0:y.value)??null)}catch(m){u(m.message)}finally{f(!1),l(!1)}};return p.useEffect(()=>{h()},[e.data_source]),a.jsxs(Ce,{className:"h-full",children:[a.jsxs(Ue,{className:"relative",children:[a.jsx(Ve,{className:"tracking-tight text-sm font-medium",children:e.title||"Stat Widget"}),t&&a.jsx("div",{className:"absolute top-2 right-2 z-10",children:a.jsx(QSe,{onUpdate:r,onRefresh:h,onDelete:n})})]}),a.jsx(Ae,{className:"p-6 pt-0 flex items-center justify-center h-full",style:{paddingBottom:"90px"},children:a.jsx("div",{className:"flex flex-col items-center justify-center",children:o?a.jsx("span",{className:"text-2xl text-muted-foreground",children:"Loading..."}):c?a.jsx("span",{className:"text-red-500 text-sm",children:c}):a.jsx("span",{className:"text-8xl font-bold text-blue-600",children:s})})})]})},tke=({onUpdate:e,onRefresh:t,onDelete:r})=>a.jsxs("div",{className:"flex space-x-1 justify-end items-center mb-2",children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",title:"Refresh",children:a.jsx(Gs,{size:18})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",title:"Edit",children:a.jsx(Xs,{size:18})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:a.jsx(ra,{size:18})})]}),rke=async e=>{var t;try{const n=(t=(await de.auth.getSession()).data.session)==null?void 0:t.access_token;if(!n)throw new Error("No authentication token available");const s=await fetch("http://localhost:8000/functions/v1/widget-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({config:e})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const i=await s.json();return i.success?i.data:null}catch(r){throw r}},nke=({widget:e,editMode:t,onUpdate:r=()=>{},onDelete:n=()=>{}})=>{const[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(!1),h=async()=>{f(!0),l(!0),u(null);try{const m=e.data_source||{},y=await rke(m);i((y==null?void 0:y.value)??null)}catch(m){u(m.message)}finally{f(!1),l(!1)}};return p.useEffect(()=>{h()},[e.data_source]),a.jsxs(Ce,{className:"h-full",children:[a.jsxs(Ue,{className:"relative",children:[a.jsx(Ve,{className:"tracking-tight text-sm font-medium",children:e.title||"Gauge Widget"}),t&&a.jsx("div",{className:"absolute top-2 right-2 z-10",children:a.jsx(tke,{onUpdate:r,onRefresh:h,onDelete:n})})]}),a.jsx(Ae,{children:a.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center",children:o?a.jsx("span",{className:"text-xl text-muted-foreground",children:"Loading..."}):c?a.jsx("span",{className:"text-red-500 text-sm",children:c}):a.jsxs("span",{className:"text-3xl font-bold text-green-600",children:[s,"%"]})})})})]})},ske=({field:e,value:t,onChange:r,options:n})=>n?a.jsxs(Se,{value:t,onValueChange:r,children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsx(je,{children:n.map(s=>a.jsx(q,{value:s,children:s},s))})]}):a.jsx("input",{type:"text",value:t,onChange:s=>r(s.target.value),placeholder:`Filter by ${e}`,className:"border rounded px-2 py-1"}),ike=({widget:e,open:t,onOpenChange:r,onSave:n})=>{const{toast:s}=Er(),{enums:i}=Vd(),o=zd(),l=Um(),c=v=>({device_type:"All Device Types",environment:"All Environments",brand:"All Brands",model:"All Models",allocation:"All Allocations",operating_system:"All OS",dc_site:"All Sites",dc_building:"All Buildings",rack:"All Racks",status:"All Status"})[v]||"All",u=v=>{const j={status:"status",device_type:"deviceTypes",allocation:"allocationTypes",environment:"environmentTypes",brand:"brands",model:"models",operating_system:"osTypes",dc_site:"sites",dc_building:"buildings",rack:"racks"}[v];if(j&&i[j])return i[j]},[d,f]=p.useState({title:"",position_x:0,position_y:0,width:4,height:1,config:{type:"bar",showLegend:!0},data_source:{table:"servers",aggregation:"count",groupBy:["model"],filters:{}}}),[h,m]=p.useState(!1);p.useEffect(()=>{var v,_,j,S,k;e&&f({title:e.title||"",position_x:e.position_x||0,position_y:e.position_y||0,width:e.width||4,height:e.height||1,config:e.config||{type:"bar",showLegend:!0},data_source:{table:((v=e.data_source)==null?void 0:v.table)||"servers",aggregation:((_=e.data_source)==null?void 0:_.aggregation)||"count",groupBy:Array.isArray((j=e.data_source)==null?void 0:j.groupBy)?e.data_source.groupBy:(S=e.data_source)!=null&&S.groupBy?[e.data_source.groupBy]:["brand"],filters:(k=e.data_source)!=null&&k.filters&&typeof e.data_source.filters=="object"?e.data_source.filters:{}}})},[e]);const y=async()=>{var v,_,j,S,k,C,E;if(e){m(!0);try{const A={id:e.id,title:d.title||"Untitled Widget",position_x:typeof d.position_x=="number"?d.position_x:0,position_y:typeof d.position_y=="number"?d.position_y:0,width:typeof d.width=="number"?d.width:4,height:typeof d.height=="number"?d.height:1,config:{type:((v=d.config)==null?void 0:v.type)||"bar",showLegend:typeof((_=d.config)==null?void 0:_.showLegend)=="boolean"?d.config.showLegend:!0},data_source:{table:((j=d.data_source)==null?void 0:j.table)||"servers",aggregation:((S=d.data_source)==null?void 0:S.aggregation)||"count",groupBy:Array.isArray((k=d.data_source)==null?void 0:k.groupBy)?d.data_source.groupBy:(C=d.data_source)!=null&&C.groupBy?[d.data_source.groupBy]:["brand"],filters:(E=d.data_source)!=null&&E.filters&&typeof d.data_source.filters=="object"?d.data_source.filters:{}}},P=$=>Array.isArray($)?$.filter(I=>I!==void 0):$&&typeof $=="object"?Object.fromEntries(Object.entries($).filter(([I,B])=>B!==void 0).map(([I,B])=>[I,P(B)])):$,O=P(A);await n(O),s({title:"Success",description:"Chart widget updated successfully"}),r(!1)}catch(A){console.error("Error updating chart widget:",A),s({title:"Error",description:"Failed to update chart widget",variant:"destructive"})}finally{m(!1)}}},g=(v,_)=>{f(j=>({...j,[v]:_}))},w=(v,_)=>{f(j=>({...j,config:{...j.config,[v]:_}}))},b=(v,_)=>{f(j=>({...j,data_source:{...j.data_source,[v]:_}}))},x=v=>{const _=new URLSearchParams(v);return{groupBy:_.get("cw_groupBy")?_.get("cw_groupBy").split(","):void 0,table:_.get("cw_table")||void 0,aggregation:_.get("cw_agg")||void 0,filters:(()=>{const j={};for(const[S,k]of _.entries())S.startsWith("cw_filter_")&&(j[S.replace("cw_filter_","")]=k);return j})()}};return p.useEffect(()=>{if(t){const{groupBy:v,table:_,aggregation:j,filters:S}=x(o.search);f(k=>({...k,data_source:{...k.data_source,groupBy:v||k.data_source.groupBy,table:_||k.data_source.table,aggregation:j||k.data_source.aggregation,filters:Object.keys(S).length>0?S:k.data_source.filters}}))}},[t]),p.useEffect(()=>{if(!t)return;const v=new URLSearchParams(o.search);v.set("cw_groupBy",d.data_source.groupBy.join(",")),v.set("cw_table",String(d.data_source.table)),v.set("cw_agg",String(d.data_source.aggregation)),Object.entries(d.data_source.filters||{}).forEach(([_,j])=>{v.set(`cw_filter_${_}`,String(j))}),l({search:v.toString()},{replace:!0})},[d.data_source,t,o.search,l]),e?a.jsx(jr,{open:t,onOpenChange:r,children:a.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Edit Chart Widget"}),a.jsx(pr,{children:"Configure your chart widget breakdown, type, and data source."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Chart Settings"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"title",children:"Title"}),a.jsx(qe,{id:"title",value:d.title,onChange:v=>g("title",v.target.value),placeholder:"Widget title"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"chart_type",children:"Chart Type"}),a.jsxs(Se,{value:d.config.type,onValueChange:v=>w("type",v),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"bar",children:"Bar Chart"}),a.jsx(q,{value:"line",children:"Line Chart"}),a.jsx(q,{value:"pie",children:"Pie Chart"}),a.jsx(q,{value:"doughnut",children:"Doughnut Chart"})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[a.jsx("input",{type:"checkbox",id:"show_legend",checked:d.config.showLegend,onChange:v=>w("showLegend",v.target.checked)}),a.jsx(ne,{htmlFor:"show_legend",children:"Show Legend"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Breakdown Fields"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Group By"}),a.jsxs(Se,{value:d.data_source.groupBy.join(","),onValueChange:v=>b("groupBy",v.split(",")),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsx(je,{children:["device_type","environment","brand","model","allocation","operating_system","dc_site","dc_building","rack","status"].map(v=>a.jsx(q,{value:v,children:v},v))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Filters"}),["device_type","environment","brand","model","allocation","operating_system","dc_site","dc_building","rack","status"].map(v=>{var _;return a.jsx(ske,{field:v,value:String(((_=d.data_source.filters)==null?void 0:_[v])||c(v)),onChange:j=>{const S={...d.data_source.filters,[v]:String(j)};b("filters",S)},options:[c(v),...u(v)||[]]},v)})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Data Source"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"data_table",children:"Table"}),a.jsxs(Se,{value:d.data_source.table,onValueChange:v=>b("table",v),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"servers",children:"Servers"}),a.jsx(q,{value:"racks",children:"Racks"}),a.jsx(q,{value:"rooms",children:"Rooms"}),a.jsx(q,{value:"data_centers",children:"Data Centers"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"aggregation",children:"Aggregation"}),a.jsxs(Se,{value:d.data_source.aggregation,onValueChange:v=>b("aggregation",v),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"count",children:"Count"}),a.jsx(q,{value:"sum",children:"Sum"}),a.jsx(q,{value:"avg",children:"Average"}),a.jsx(q,{value:"min",children:"Minimum"}),a.jsx(q,{value:"max",children:"Maximum"})]})]})]})]})]}),a.jsxs(ol,{children:[a.jsx(G,{variant:"outline",onClick:()=>r(!1),disabled:h,children:"Cancel"}),a.jsx(G,{onClick:y,disabled:h,children:h?"Saving...":"Save Changes"})]})]})}):null},qD=12,ake=300,oke=({dashboardId:e})=>{var U,T,N,M;const{toast:t}=Er(),{dashboards:r,currentDashboard:n,getDashboard:s,createDashboard:i,updateDashboard:o,createWidget:l,updateWidget:c,deleteWidget:u,setCurrentDashboard:d,isLoading:f}=cwe();Um();const[h,m]=p.useState(!1),[y,g]=p.useState(""),[w,b]=p.useState(!1),[x,v]=p.useState(null),[_,j]=p.useState(!1);p.useEffect(()=>{e&&s(e)},[e]),p.useEffect(()=>{n&&g(n.name)},[n]);const S=async()=>{const L=y.trim()||"New Dashboard",W=await i({name:L,description:"Custom server tracking dashboard",layout:[]});W&&(m(!0),d(W),t({title:"Success",description:`Dashboard "${L}" created successfully`}))},k=async()=>{if(!n||!n.id||typeof n.id!="string")return;const L={name:y,updated_at:new Date().toISOString(),widgets:n.dashboard_widgets||[]};await o(n.id,L)&&(m(!1),t({title:"Success",description:"Dashboard saved successfully"}))},C=async L=>{if(!n)return;const K=(n.dashboard_widgets||[]).map(oe=>({x:oe.position_x,y:oe.position_y,width:oe.width,height:oe.height}));let z={x:0,y:0},H=!1;for(let oe=0;oe<10&&!H;oe++)for(let te=0;te<=qD-4&&!H;te++)K.some(ee=>te<ee.x+ee.width&&te+4>ee.x&&oe<ee.y+ee.height&&oe+1>ee.y)||(z={x:te,y:oe},H=!0);const V={widget_type:L,title:`${L.charAt(0).toUpperCase()+L.slice(1)} Widget`,position_x:z.x,position_y:z.y,width:L==="timeline"?6:4,height:1,config:E(L),data_source:A(L),filters:[]};await l(n.id,V)},E=L=>{switch(L){case"chart":return{type:"bar",showLegend:!0};case"metric":return{showTrend:!0,showProgress:!0};case"timeline":return{maxEvents:10,groupBy:"day"};case"stat":return{statType:"count",statLabel:"Sample Stat"};case"gauge":return{gaugeValue:75,gaugeLabel:"Sample Gauge"};default:return{}}},A=L=>{switch(L){case"chart":return{table:"servers",groupBy:"status",aggregation:"count"};case"metric":return{table:"servers",aggregation:"count"};case"timeline":return{table:"servers",orderBy:"created_at"};case"table":return{table:"servers",aggregation:"count"};case"stat":return{table:"servers",aggregation:"count"};case"gauge":return{table:"servers",aggregation:"count"};default:return{}}},P=L=>{v(L),j(!0)},O=async L=>{!x||!x.id||typeof x.id!="string"||await c(x.id,L)},$=L=>{const W={widget:L,onUpdate:()=>P(L),onDelete:()=>u(L.id),editMode:h};switch(L.widget_type){case"chart":return a.jsx(RSe,{...W});case"timeline":return a.jsx(FSe,{...W});case"metric":return a.jsx(VSe,{...W});case"table":return a.jsx(TableWidget,{...W});case"stat":return a.jsx(eke,{...W});case"gauge":return a.jsx(nke,{...W});case"list":return a.jsx(XSe,{...W});default:return a.jsx(Ce,{className:"h-full",children:a.jsx(Ae,{className:"p-4 flex items-center justify-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Unsupported widget type: ",L.widget_type]})})})}},I=async L=>{await s(L.id)},B=L=>({gridColumn:`span ${L.width}`,gridRow:`span ${L.height}`,minHeight:`${ake*L.height}px`});return!e&&!n&&!w?a.jsx("div",{className:"max-w-6xl mx-auto p-6",children:a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx(Up,{className:"h-6 w-6"}),a.jsx("span",{children:"Custom Dashboards"})]}),a.jsxs(G,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[a.jsx(Aa,{className:"h-4 w-4"}),a.jsx("span",{children:"Create New"})]})]})}),a.jsx(Ae,{children:f?a.jsx("div",{className:"text-center py-8",children:"Loading dashboards..."}):r.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Up,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No dashboards found"}),a.jsx("p",{className:"text-sm",children:"Create your first custom dashboard to get started"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(L=>{var W,K;return a.jsxs(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(L),children:[a.jsxs(Ue,{className:"pb-2",children:[a.jsx(Ve,{className:"text-lg",children:L.name}),L.description&&a.jsx(It,{className:"text-sm",children:L.description})]}),a.jsxs(Ae,{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(We,{variant:"secondary",className:"text-xs",children:L.status}),L.is_public&&a.jsx(We,{variant:"outline",className:"text-xs",children:"Public"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(c2,{className:"h-4 w-4"}),a.jsxs("span",{children:[((K=(W=L.dashboard_widgets)==null?void 0:W[0])==null?void 0:K.count)||0," widgets"]})]})]}),a.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Updated ",new Date(L.updated_at).toLocaleDateString()]})]})]},L.id)})})})]})}):w&&!n?a.jsx("div",{className:"max-w-6xl mx-auto p-6",children:a.jsxs(Ce,{children:[a.jsx(Ue,{className:"text-center",children:a.jsxs(Ve,{className:"flex items-center justify-center space-x-2",children:[a.jsx(Up,{className:"h-6 w-6"}),a.jsx("span",{children:"Create Custom Dashboard"})]})}),a.jsxs(Ae,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Dashboard Name"}),a.jsx(qe,{placeholder:"Enter dashboard name...",value:y,onChange:L=>g(L.target.value),className:"max-w-md mx-auto"})]}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsx(G,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),a.jsxs(G,{onClick:S,disabled:f,children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Create Dashboard"]})]})]})]})}):!n&&!h?a.jsx("div",{className:"max-w-6xl mx-auto p-6",children:a.jsxs(Ce,{children:[a.jsx(Ue,{className:"text-center",children:a.jsxs(Ve,{className:"flex items-center justify-center space-x-2",children:[a.jsx(Up,{className:"h-6 w-6"}),a.jsx("span",{children:"Create Custom Dashboard"})]})}),a.jsxs(Ae,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Dashboard Name"}),a.jsx(qe,{placeholder:"Enter dashboard name...",value:y,onChange:L=>g(L.target.value),className:"max-w-md mx-auto"})]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(G,{onClick:S,disabled:f,children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Create Dashboard"]})})]})]})}):a.jsxs("div",{className:"max-w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[h?a.jsx(qe,{value:y,onChange:L=>g(L.target.value),className:"text-2xl font-bold border-none p-0 h-auto"}):a.jsx("h1",{className:"text-2xl font-bold",children:n==null?void 0:n.name}),a.jsxs(We,{variant:"outline",children:[((U=n==null?void 0:n.dashboard_widgets)==null?void 0:U.length)||0," widgets"]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:h?a.jsxs(a.Fragment,{children:[a.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!1),children:[a.jsx(ra,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs(G,{size:"sm",onClick:k,children:[a.jsx(Bq,{className:"h-4 w-4 mr-2"}),"Save"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(G,{variant:"outline",size:"sm",children:[a.jsx(zq,{className:"h-4 w-4 mr-2"}),"Share"]}),a.jsxs(G,{variant:"outline",size:"sm",children:[a.jsx($m,{className:"h-4 w-4 mr-2"}),"Export"]}),a.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[a.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Edit"]})]})})]}),h&&a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[a.jsx(Aa,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Add Widget"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(G,{variant:"outline",size:"sm",onClick:()=>C("chart"),children:"Chart Widget"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>C("metric"),children:"Metrics Widget"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>C("timeline"),children:"Timeline Widget"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>C("stat"),children:"Stat Widget"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>C("gauge"),children:"Gauge Widget"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>C("list"),children:"List Widget"})]})]}),a.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${qD}, 1fr)`},children:(T=n==null?void 0:n.dashboard_widgets)==null?void 0:T.map(L=>a.jsx("div",{style:B(L),children:$(L)},L.id))}),(!(n!=null&&n.dashboard_widgets)||n.dashboard_widgets.length===0)&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(c2,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No widgets yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:h?"Add your first widget to get started":"Switch to edit mode to add widgets"}),!h&&a.jsxs(G,{onClick:()=>m(!0),children:[a.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Start Editing"]})]}),(x==null?void 0:x.widget_type)==="chart"?a.jsx(ike,{widget:x,open:_,onOpenChange:j,onSave:O}):(x==null?void 0:x.widget_type)==="list"?a.jsx(ZSe,{initialTitle:x.title,initialColumns:((N=x.config)==null?void 0:N.columns)||["hostname","ip_address"],initialHeight:((M=x.config)==null?void 0:M.height)||400,open:_,onOpenChange:j,onSave:O,onCancel:()=>j(!1)}):a.jsx(KSe,{widget:x,open:_,onOpenChange:j,onSave:O})]})},ho={totalServers:1247,activeServers:1189,maintenanceServers:31,offlineServers:27,warrantyExpiringSoon:15,dataCenters:4,racks:156,utilization:78},KD=[{name:"Dell R740",count:245,color:"#3b82f6"},{name:"HPE DL380",count:198,color:"#8b5cf6"},{name:"Dell R640",count:167,color:"#10b981"},{name:"HPE DL360",count:134,color:"#f59e0b"},{name:"Supermicro",count:89,color:"#ef4444"},{name:"Others",count:414,color:"#6b7280"}],lke=[{location:"DC-East",servers:342},{location:"DC-West",servers:298},{location:"DC-Central",servers:367},{location:"DC-North",servers:240}],cke=()=>{const[e,t]=p.useState("overview");return a.jsx("div",{className:"space-y-6",children:a.jsxs(qm,{value:e,onValueChange:t,className:"space-y-6",children:[a.jsxs(Hd,{className:"grid w-full grid-cols-2 lg:w-[400px]",children:[a.jsxs(Tr,{value:"overview",className:"flex items-center space-x-2",children:[a.jsx(Y4,{className:"h-4 w-4"}),a.jsx("span",{children:"Overview"})]}),a.jsxs(Tr,{value:"custom",className:"flex items-center space-x-2",children:[a.jsx(Vq,{className:"h-4 w-4"}),a.jsx("span",{children:"Custom Dashboard"})]})]}),a.jsxs(Mr,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Infrastructure Overview"}),a.jsx("p",{className:"text-blue-100",children:"Real-time monitoring of your data center assets"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(Ce,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium text-slate-600",children:"Total Servers"}),a.jsx(Qi,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(Ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ho.totalServers}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-green-600 mt-1",children:[a.jsx(Pq,{className:"h-3 w-3"}),a.jsx("span",{children:"+12 this week"})]})]})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium text-slate-600",children:"Active Servers"}),a.jsx(We,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Online"})]}),a.jsxs(Ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ho.activeServers}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[(ho.activeServers/ho.totalServers*100).toFixed(1),"% operational"]})]})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium text-slate-600",children:"Maintenance"}),a.jsx(We,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:"Scheduled"})]}),a.jsxs(Ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ho.maintenanceServers}),a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Requires attention"})]})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Ve,{className:"text-sm font-medium text-slate-600",children:"Capacity"}),a.jsx(En,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(Ae,{children:[a.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[ho.utilization,"%"]}),a.jsx(tB,{value:ho.utilization,className:"mt-2 h-2"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{className:"text-lg font-semibold text-slate-900",children:"Server Models"}),a.jsx(It,{children:"Distribution by hardware type"})]}),a.jsx(Ae,{children:a.jsx(Su,{width:"100%",height:300,children:a.jsxs(lW,{children:[a.jsx(rb,{data:KD,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"count",label:({name:r,count:n})=>`${r}: ${n}`,children:KD.map((r,n)=>a.jsx(nf,{fill:r.color},`cell-${n}`))}),a.jsx(ju,{})]})})})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{className:"text-lg font-semibold text-slate-900",children:"Servers by Location"}),a.jsx(It,{children:"Distribution across data centers"})]}),a.jsx(Ae,{children:a.jsx(Su,{width:"100%",height:300,children:a.jsxs($1,{data:lke,children:[a.jsx(wh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),a.jsx(Wu,{dataKey:"location",stroke:"#64748b"}),a.jsx(Vu,{stroke:"#64748b"}),a.jsx(ju,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),a.jsx(gm,{dataKey:"servers",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{className:"text-lg font-semibold text-slate-900",children:"System Alerts"}),a.jsx(It,{children:"Critical notifications and warnings"})]}),a.jsx(Ae,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-900",children:"Warranty Expiration Alert"}),a.jsxs("p",{className:"text-sm text-red-700",children:[ho.warrantyExpiringSoon," servers have warranties expiring within 30 days"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-yellow-900",children:"Maintenance Due"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Scheduled maintenance for Rack A-12 in DC-East tomorrow at 2:00 AM"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900",children:"System Update"}),a.jsx("p",{className:"text-sm text-blue-700",children:"New server inventory added to DC-Central - 8 Dell R750 units"})]})]})]})})]})]}),a.jsx(Mr,{value:"custom",className:"space-y-6",children:a.jsx(oke,{})})]})})},uke=e=>{const[t,r]=p.useState(null),[n,s]=p.useState(!0),[i,o]=p.useState(null),l=async()=>{try{s(!0);const{data:c,error:u}=await de.functions.invoke("get-rack-data",{method:"POST",body:{rackName:e}});if(u)throw u;const d=Array.from({length:42},(y,g)=>{const w=42-g,b=c.data.servers.filter(x=>{const v=parseInt(x.unit.substring(1)),_=v+(x.unit_height||1)-1;return w>=v&&w<=_});if(b.length>0){const x=b[0],v=parseInt(x.unit.substring(1)),_=w===v;return{unit:w,server:{id:x.id,hostname:x.hostname,serialNumber:x.serial_number,model:x.model,brand:x.brand,status:x.status,ipAddress:x.ip_address,ipOOB:x.ip_oob,deviceType:x.device_type,allocation:x.allocation,environment:x.environment,operatingSystem:x.operating_system,unitHeight:x.unit_height||1},isEmpty:!1,isPartOfMultiUnit:!_,multiUnitServerId:x.id}}return{unit:w,isEmpty:!0}}),f=c.data.servers,h=d.filter(y=>!y.isEmpty).length,m=f.reduce((y,g)=>(y[g.status]=(y[g.status]||0)+1,y),{});r({name:c.data.name,datacenter_id:c.data.datacenter_id,floor:c.data.floor,location:c.data.location,total_units:c.data.total_units,units:d,statistics:{totalServers:f.length,occupiedUnits:h,availableUnits:42-h,utilizationPercent:Math.round(h/42*100),serversByStatus:m}})}catch(c){o(c.message)}finally{s(!1)}};return p.useEffect(()=>{e&&l()},[e]),{rackData:t,loading:n,error:i,refetch:l}},dke=({onEditServer:e})=>{var P,O,$,I,B,U,T;const[t,r]=p.useState("physical"),[n,s]=p.useState("");gr("rackView_mode",t,r),gr("rackView_selectedRack",n,s);const[i,o]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(""),[f,h]=p.useState(!1),{hierarchyData:m,filters:y,loading:g,defaultRack:w,updateFilter:b,resetFilters:x}=iN(),v=y.rack?y.rack:n||(m.racks.length>0&&y.dc_site&&y.dc_building&&y.dc_floor&&y.dc_room?m.racks[0]:w||((P=m.allRacks)==null?void 0:P[0])||"RACK-01"),{rackData:_,loading:j,error:S}=uke(v);ie.useEffect(()=>{_&&(console.log("RackData units:",_.units.filter(N=>N.server)),console.log("Multi-unit servers:",_.units.filter(N=>N.server&&N.server.unitHeight>1)),k())},[_]);const k=async()=>{if(_)try{const{data:N,error:M}=await de.functions.invoke("get-rack-data",{body:{rackName:_.name}});if(M){console.error("Error fetching rack description:",M);return}N&&N.data&&N.data.description&&o(N.data.description)}catch(N){console.error("Error fetching rack description:",N)}},C=async()=>{if(_){c(!0),d("");try{const{error:N}=await de.functions.invoke("update-rack-description",{body:{rack_name:_.name,dc_site:_.datacenter_id,dc_building:"Building-A",dc_floor:"1",dc_room:"MDF",description:i}});if(N)throw N;d("Description saved successfully!"),setTimeout(()=>d(""),3e3),await k()}catch(N){console.error("Error saving rack description:",N),d("Error saving description"),setTimeout(()=>d(""),3e3)}finally{c(!1)}}},E=N=>{const M={className:"h-3 w-3",style:{display:"inline-block"}};switch(N==null?void 0:N.toLowerCase()){case"server":return a.jsxs("svg",{...M,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"1.5",fill:"#2563eb",stroke:"#1e40af",strokeWidth:"0.5"}),a.jsx("rect",{x:"3",y:"5.5",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),a.jsx("rect",{x:"3",y:"9",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),a.jsx("rect",{x:"3",y:"12.5",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),a.jsx("rect",{x:"3",y:"16",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),a.jsx("circle",{cx:"5",cy:"7",r:"0.8",fill:"#10b981"}),a.jsx("circle",{cx:"5",cy:"10.5",r:"0.8",fill:"#10b981"}),a.jsx("circle",{cx:"5",cy:"14",r:"0.8",fill:"#10b981"}),a.jsx("circle",{cx:"5",cy:"17.5",r:"0.8",fill:"#fbbf24"})]});case"storage":case"nas":case"san":return a.jsxs("svg",{...M,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",fill:"#7c3aed",stroke:"#6d28d9",strokeWidth:"0.5"}),a.jsx("rect",{x:"4",y:"6",width:"16",height:"2.5",rx:"0.5",fill:"#8b5cf6",stroke:"#7c3aed",strokeWidth:"0.3"}),a.jsx("rect",{x:"5",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),a.jsx("rect",{x:"7.5",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),a.jsx("rect",{x:"10",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),a.jsx("rect",{x:"12.5",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),a.jsx("circle",{cx:"6",cy:"7.2",r:"0.4",fill:"#10b981"}),a.jsx("circle",{cx:"8",cy:"7.2",r:"0.4",fill:"#10b981"}),a.jsx("circle",{cx:"10",cy:"7.2",r:"0.4",fill:"#fbbf24"})]});case"network":case"switch":case"router":case"firewall":return a.jsxs("svg",{...M,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"1.5",fill:"#059669",stroke:"#047857",strokeWidth:"0.5"}),a.jsx("rect",{x:"4",y:"8",width:"16",height:"8",rx:"0.5",fill:"#10b981",stroke:"#059669",strokeWidth:"0.3"}),a.jsx("rect",{x:"5",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),a.jsx("rect",{x:"6.5",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),a.jsx("rect",{x:"8",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),a.jsx("rect",{x:"9.5",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),a.jsx("rect",{x:"5",y:"10.5",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),a.jsx("rect",{x:"6.5",y:"10.5",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),a.jsx("circle",{cx:"16",cy:"14.2",r:"0.4",fill:"#10b981"}),a.jsx("circle",{cx:"17",cy:"14.2",r:"0.4",fill:"#fbbf24"})]});default:return a.jsxs("svg",{...M,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"1",fill:"#6b7280",stroke:"#4b5563",strokeWidth:"0.5"}),a.jsx("rect",{x:"5",y:"7",width:"14",height:"8",rx:"0.5",fill:"#011330"}),a.jsx("rect",{x:"6",y:"8",width:"12",height:"6",rx:"0.3",fill:"#011330"}),a.jsx("rect",{x:"7",y:"8.5",width:"6",height:"0.3",rx:"0.1",fill:"#10b981"}),a.jsx("rect",{x:"7",y:"9.2",width:"8",height:"0.3",rx:"0.1",fill:"#011330"}),a.jsx("rect",{x:"10",y:"16",width:"4",height:"1.5",rx:"0.3",fill:"#011330"}),a.jsx("circle",{cx:"19",cy:"7.5",r:"0.4",fill:"#10b981"})]})}},A=N=>t==="physical"?a.jsxs("div",{className:"flex items-center space-x-1",children:[E(N.deviceType),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx(We,{variant:"outline",className:"text-xs px-1 py-0",children:N.serialNumber}),a.jsx(We,{variant:"secondary",className:"text-xs px-1 py-0",children:N.brand}),a.jsx(We,{variant:"outline",className:"text-xs px-1 py-0",children:N.model}),a.jsx(We,{variant:"outline",className:"text-xs px-1 py-0",children:N.ipOOB}),a.jsx(We,{variant:"default",className:"text-xs px-1 py-0",children:N.deviceType}),a.jsx(We,{variant:fke(N.status),className:"text-xs px-1 py-0",children:N.status})]})]}):a.jsxs("div",{className:"flex items-center space-x-1",children:[E(N.deviceType),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.jsx(We,{variant:"default",className:"text-xs px-1 py-0",children:N.hostname}),a.jsx(We,{variant:"outline",className:"text-xs px-1 py-0",children:N.ipAddress}),a.jsx(We,{variant:"secondary",className:"text-xs px-1 py-0",children:N.allocation}),a.jsx(We,{variant:"outline",className:"text-xs px-1 py-0",children:N.operatingSystem}),a.jsx(We,{variant:"outline",className:"text-xs px-1 py-0",children:N.environment})]})]});return j?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading rack data..."})}):S?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-red-500",children:["Error: ",S]})}):!_||!_?null:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Rack View"}),a.jsx("p",{className:"text-slate-600",children:"Visual layout of your server infrastructure"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsxs(Se,{value:y.dc_site||"",onValueChange:N=>b("dc_site",N),children:[a.jsx(_e,{className:"w-40 h-10 flex-shrink-0",children:a.jsx(ke,{placeholder:"DC Site"})}),a.jsx(je,{children:(O=m.sites)==null?void 0:O.map(N=>a.jsx(q,{value:N,children:N},N))})]}),a.jsxs(Se,{value:y.dc_building||"",onValueChange:N=>b("dc_building",N),disabled:!y.dc_site,children:[a.jsx(_e,{className:"w-36 h-10 flex-shrink-0",children:a.jsx(ke,{placeholder:"Building"})}),a.jsx(je,{children:($=m.buildings)==null?void 0:$.map(N=>a.jsx(q,{value:N,children:N},N))})]}),a.jsxs(Se,{value:y.dc_floor||"",onValueChange:N=>b("dc_floor",N),disabled:!y.dc_building,children:[a.jsx(_e,{className:"w-28 h-10 flex-shrink-0",children:a.jsx(ke,{placeholder:"Floor"})}),a.jsx(je,{children:(I=m.floors)==null?void 0:I.map(N=>a.jsx(q,{value:N,children:N},N))})]}),a.jsxs(Se,{value:y.dc_room||"",onValueChange:N=>b("dc_room",N),disabled:!y.dc_floor,children:[a.jsx(_e,{className:"w-28 h-10 flex-shrink-0",children:a.jsx(ke,{placeholder:"Room"})}),a.jsx(je,{children:(B=m.rooms)==null?void 0:B.map(N=>a.jsx(q,{value:N,children:N},N))})]}),a.jsxs(Se,{value:v,onValueChange:N=>s(N),disabled:!y.dc_room,children:[a.jsx(_e,{className:"w-32 h-10 flex-shrink-0",children:a.jsx(ke,{placeholder:"Rack"})}),a.jsx(je,{children:(U=m.racks)==null?void 0:U.map(N=>a.jsx(q,{value:N,children:N},N))})]}),a.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),a.jsxs(Se,{value:y.rack||"",onValueChange:N=>b("rack",N),children:[a.jsx(_e,{className:"w-36 h-10 flex-shrink-0",children:a.jsx(ke,{placeholder:"Any Rack"})}),a.jsx(je,{children:(T=m.allRacks)==null?void 0:T.map(N=>a.jsx(q,{value:N,children:N},N))})]}),a.jsxs(Se,{value:t,onValueChange:N=>r(N),children:[a.jsx(_e,{className:"w-32 h-10 flex-shrink-0",children:a.jsx(ke,{placeholder:"View"})}),a.jsxs(je,{children:[a.jsx(q,{value:"physical",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tv,{className:"h-4 w-4"}),a.jsx("span",{children:"Physical"})]})}),a.jsx(q,{value:"logical",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Us,{className:"h-4 w-4"}),a.jsx("span",{children:"Logical"})]})})]})]}),a.jsxs(G,{variant:"outline",size:"default",onClick:x,className:"flex-shrink-0 h-10 px-4",children:[a.jsx(JS,{className:"h-4 w-4 mr-2"}),"Reset"]}),a.jsx(G,{variant:"outline",size:"default",onClick:()=>h(!0),className:"flex-shrink-0 h-10 px-4",children:"Edit Rack"})]}),g&&a.jsx("div",{className:"text-sm text-blue-600",children:"Loading hierarchy data..."})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsx("div",{className:"flex items-center space-x-2",children:t==="physical"?a.jsxs(a.Fragment,{children:[a.jsx(Tv,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Physical View"}),a.jsx("span",{className:"text-xs text-blue-700",children:"Showing: Serial Number  Brand  Model  IP OOB  Device Type  Status"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Us,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Logical View"}),a.jsx("span",{className:"text-xs text-blue-700",children:"Showing: Hostname  IP Address  Allocation  Operating System  Environment"})]})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-3",children:a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx(En,{className:"h-5 w-5 text-blue-600"}),a.jsxs("span",{children:[y.dc_site||_.datacenter_id," - ",y.dc_building||_.location," - ",y.dc_floor||`Floor ${_.floor}`," - ",y.dc_room||"Room-01"," - ",_.name]}),a.jsxs(We,{variant:"outline",children:[t," view"]})]}),a.jsxs(It,{children:["42U Rack - ",_.statistics.totalServers," servers installed"]})]}),a.jsx(Ae,{children:a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"black"},children:[a.jsxs("div",{className:"p-2 rounded-t-lg",style:{backgroundColor:"black"},children:[a.jsx("div",{className:"text-white text-center text-sm font-medium",children:_.name}),i&&a.jsx("div",{className:"text-white text-center text-sm font-bold mt-2",children:i})]}),a.jsx("div",{className:"bg-slate-50 border-l-4 border-r-4 min-h-[800px]",style:{borderLeftColor:"#ffffff",borderRightColor:"#ffffff",paddingTop:"8px",paddingBottom:"8px"},children:a.jsx(T$,{children:_.units.map(N=>N.server&&N.server.unitHeight>1&&N.isPartOfMultiUnit?null:N.server&&N.server.unitHeight>1?a.jsx("div",{className:"flex items-center border-b border-gray-200 px-1 transition-colors bg-black rounded hover:bg-blue-600 border-2 border-transparent hover:border-blue-400",style:{minHeight:`${N.server.unitHeight*2.5}rem`,paddingTop:"3px",paddingBottom:"3px",marginBottom:"2px"},children:a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:"flex items-center justify-between bg-white rounded px-2 py-2 shadow-sm w-full hover:bg-gray-50 transition-all duration-200",style:{minHeight:`${N.server.unitHeight*2.5*.99}rem`,height:`${N.server.unitHeight*2.5*.99}rem`,boxShadow:"0 2px 8px rgba(0,0,0,0.07)",cursor:"pointer"},onMouseEnter:M=>{M.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},onMouseLeave:M=>{M.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},children:a.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[a.jsxs("div",{className:"text-xs font-mono text-gray-600 flex-shrink-0 flex flex-col justify-center text-right",children:[a.jsxs("div",{children:["U",N.unit]}),a.jsx("div",{className:"text-gray-400",children:"-"}),a.jsxs("div",{children:["U",N.unit+N.server.unitHeight-1]})]}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[a.jsx("div",{className:"mb-1",children:A(N.server)}),a.jsxs("div",{className:"text-xs text-gray-500",children:[N.server.unitHeight,"U Server (Units U",N.unit,"-U",N.unit+N.server.unitHeight-1,")"]}),N.server.unitHeight>=3&&a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Height: ",N.server.unitHeight," Units  Model: ",N.server.model]})]}),a.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${i_(N.server.status)}`}),a.jsxs(_2,{children:[a.jsx(j2,{asChild:!0,children:a.jsx(Ov,{className:"h-4 w-4 text-gray-400 hover:text-gray-600 cursor-pointer"})}),a.jsx(hj,{side:"right",className:"max-w-xs",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Hostname:"})," ",N.server.hostname]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Serial:"})," ",N.server.serialNumber]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Model:"})," ",N.server.model]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," ",N.server.status]}),a.jsxs("div",{children:[a.jsx("strong",{children:"IP Address:"})," ",N.server.ipAddress]}),a.jsxs("div",{children:[a.jsx("strong",{children:"IP OOB:"})," ",N.server.ipOOB]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Device Type:"})," ",N.server.deviceType]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Allocation:"})," ",N.server.allocation]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Environment:"})," ",N.server.environment]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Height:"})," ",N.server.unitHeight,"U"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"DC Site:"})," ",_.datacenter_id]}),a.jsxs("div",{children:[a.jsx("strong",{children:"DC Building:"})," ",_.location]}),a.jsxs("div",{children:[a.jsx("strong",{children:"DC Floor:"})," Floor ",_.floor]})]})})]})]})]})})})},N.unit):a.jsx("div",{className:`flex items-center min-h-10 border-b border-gray-200 px-1 transition-colors ${N.server?"bg-black rounded hover:bg-blue-600 border-2 border-transparent hover:border-blue-400":""}`,style:N.server?{paddingTop:"3px",paddingBottom:"3px",marginBottom:"2px"}:{},children:N.server?a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:"flex items-center justify-between bg-white rounded px-2 py-2 shadow-sm w-full hover:bg-gray-50 transition-all duration-200",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.07)",cursor:"pointer"},onMouseEnter:M=>{M.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},onMouseLeave:M=>{M.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},children:a.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[a.jsxs("div",{className:"text-xs font-mono text-gray-600 flex-shrink-0 text-right",children:["U",N.unit]}),a.jsx("div",{className:"flex-1 min-w-0",children:A(N.server)}),a.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${i_(N.server.status)}`}),a.jsxs(_2,{children:[a.jsx(j2,{asChild:!0,children:a.jsx(Ov,{className:"h-3 w-3 text-gray-400 hover:text-gray-600 cursor-pointer"})}),a.jsx(hj,{side:"right",className:"max-w-xs",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Hostname:"})," ",N.server.hostname]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Serial:"})," ",N.server.serialNumber]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Model:"})," ",N.server.model]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," ",N.server.status]}),a.jsxs("div",{children:[a.jsx("strong",{children:"IP Address:"})," ",N.server.ipAddress]}),a.jsxs("div",{children:[a.jsx("strong",{children:"IP OOB:"})," ",N.server.ipOOB]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Device Type:"})," ",N.server.deviceType]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Allocation:"})," ",N.server.allocation]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Environment:"})," ",N.server.environment]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Height:"})," ",N.server.unitHeight,"U"]}),a.jsxs("div",{children:[a.jsx("strong",{children:"DC Site:"})," ",_.datacenter_id]}),a.jsxs("div",{children:[a.jsx("strong",{children:"DC Building:"})," ",_.location]}),a.jsxs("div",{children:[a.jsx("strong",{children:"DC Floor:"})," Floor ",_.floor]})]})})]})]})]})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-8 text-xs font-mono text-right flex-shrink-0 text-gray-400",children:["U",N.unit]}),a.jsx("div",{className:"flex-1 ml-3",children:a.jsx("div",{className:"text-xs text-gray-300 italic py-2",children:"Empty"})})]})},N.unit)).filter(Boolean)})}),a.jsx("div",{className:"p-2 rounded-b-lg",style:{backgroundColor:"black"},children:a.jsx("div",{className:"text-white text-center text-sm font-medium",children:_.name})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsx(Ue,{children:a.jsx(Ve,{className:"text-lg",children:"Rack Statistics"})}),a.jsxs(Ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Total Units:"}),a.jsx("span",{className:"font-medium",children:"42U"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Occupied:"}),a.jsxs("span",{className:"font-medium",children:[_.statistics.occupiedUnits,"U"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Available:"}),a.jsxs("span",{className:"font-medium",children:[_.statistics.availableUnits,"U"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Utilization:"}),a.jsxs("span",{className:"font-medium",children:[_.statistics.utilizationPercent,"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Total Servers:"}),a.jsx("span",{className:"font-medium",children:_.statistics.totalServers})]})]})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsx(Ue,{children:a.jsx(Ve,{className:"text-lg",children:"Server Status"})}),a.jsx(Ae,{className:"space-y-3",children:Object.entries(_.statistics.serversByStatus).map(([N,M])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${i_(N)}`}),a.jsx("span",{className:"text-sm",children:N})]}),a.jsx("span",{className:"font-medium",children:M})]},N))})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsx(Ue,{children:a.jsx(Ve,{className:"text-lg",children:"Status Legend"})}),a.jsxs(Ae,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),a.jsx("span",{className:"text-sm",children:"Active"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-sm",children:"Ready"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),a.jsx("span",{className:"text-sm",children:"Maintenance"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsx("span",{className:"text-sm",children:"Offline"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),a.jsx("span",{className:"text-sm",children:"Empty"})]})]})]})]})]}),a.jsx(jr,{open:f,onOpenChange:h,children:a.jsxs(fr,{className:"sm:max-w-[425px]",children:[a.jsxs(hr,{children:[a.jsxs(mr,{className:"flex items-center space-x-2",children:[a.jsx(Bf,{className:"h-5 w-5"}),a.jsx("span",{children:"Edit Rack"})]}),a.jsxs(pr,{children:["Update the rack description for ",_==null?void 0:_.name]})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(ne,{htmlFor:"description",className:"text-right",children:"Description"}),a.jsx(qe,{id:"description",value:i,onChange:N=>o(N.target.value),placeholder:"Enter rack description",maxLength:40,className:"col-span-3"})]}),a.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[i.length,"/40 characters"]}),u&&a.jsx("div",{className:`text-sm ${u.includes("Error")||u.includes("Failed")?"text-red-600":"text-green-600"}`,children:u})]}),a.jsxs(ol,{children:[a.jsx(G,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),a.jsx(G,{type:"button",onClick:async()=>{await C(),!u.includes("Error")&&!u.includes("Failed")&&setTimeout(()=>h(!1),1e3)},disabled:l,children:l?"Saving...":"Save Changes"})]})]})})]})},i_=e=>{switch(e){case"Active":return"bg-green-500";case"Ready":return"bg-blue-500";case"Maintenance":return"bg-yellow-500";case"Offline":case"Inactive":return"bg-red-500";case"Decommissioned":case"Retired":return"bg-gray-500";default:return"bg-gray-300"}},fke=e=>{switch(e){case"Active":return"default";case"Ready":return"secondary";case"Maintenance":return"outline";case"Offline":case"Inactive":return"destructive";case"Decommissioned":case"Retired":return"secondary";default:return"outline"}},hke=e=>{const[t,r]=p.useState([]),[n,s]=p.useState(!1),[i,o]=p.useState(null),l=async()=>{var c;if(!e.dc_site||!e.dc_building||!e.dc_floor||!e.dc_room){r([]);return}s(!0),o(null);try{const{data:u,error:d}=await de.functions.invoke("get-room-data",{body:{site:e.dc_site,building:e.dc_building,floor:e.dc_floor,room:e.dc_room}});if(d)throw d;console.log(" get-room-data response:",u);const f=((c=u==null?void 0:u.racks)==null?void 0:c.map(h=>{var m,y;return{id:h.id||h.name,name:h.name,location:h.location||`${e.dc_building} - Floor ${e.dc_floor}`,description:h.description,utilization:h.utilization||0,totalServers:h.serverCount||((m=h.servers)==null?void 0:m.length)||0,status:"Active",room:e.dc_room||"",servers:((y=h.servers)==null?void 0:y.map(g=>{var b;const w=g.position||parseInt(((b=g.unit)==null?void 0:b.replace("U",""))||"1");return{id:g.id,hostname:g.hostname,position:w,model:g.model||"Unknown",type:"Server",status:g.status||"Active",manufacturer:g.manufacturer||g.brand||"Unknown",unitHeight:g.unitHeight||g.unit_height||1,serialNumber:g.serialNumber||g.serial_number,ipAddress:g.ipAddress||g.ip_address,ipOOB:g.ipOOB||g.ip_oob,deviceType:g.deviceType||g.device_type,allocation:g.allocation,environment:g.environment}}))||[]}}))||[];console.log(" Transformed racks for RoomView:",f.length,"racks"),r(f)}catch(u){o(u instanceof Error?u.message:"Failed to fetch room data"),r([])}finally{s(!1)}};return p.useEffect(()=>{l()},[e.dc_site,e.dc_building,e.dc_floor,e.dc_room]),{racksData:t,loading:n,error:i,refetch:l}};function Td(e){const[t,r]=p.useState([]),[n,s]=p.useState({}),[i,o]=p.useState(!0),[l,c]=p.useState(null),[u,d]=p.useState(Date.now()),f=p.useCallback(async()=>{try{o(!0),c(null);const{data:{session:x}}=await de.auth.getSession();if(!x){console.warn("No session found when fetching enum colors"),r([]),s({});return}const v=new URLSearchParams;e&&v.append("enum_type",e);const{data:_,error:j}=await de.functions.invoke("enum-colors",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.access_token}`}});if(j)throw j;const S=(_==null?void 0:_.data)||[];r(S);const k={};S.forEach(C=>{k[C.enum_value]=C.color_hex}),s(k),d(Date.now())}catch(x){console.error("Error fetching enum colors:",x),c(x instanceof Error?x.message:"Failed to fetch colors")}finally{o(!1)}},[e]),h=async(x,v,_,j)=>{try{if(c(null),!/^#[0-9A-F]{6}$/i.test(_))throw new Error("Invalid color format. Expected #RRGGBB");const{data:{session:S}}=await de.auth.getSession();if(!S)throw new Error("Authentication required. Please sign in.");const{data:k,error:C}=await de.functions.invoke("enum-colors",{method:"POST",headers:{Authorization:`Bearer ${S.access_token}`},body:{enum_type:x,enum_value:v,color_hex:_,color_name:j}});if(C)throw console.error(" Error saving color:",C),C;return await f(),!0}catch(S){return console.error("Error saving enum color:",S),c(S instanceof Error?S.message:"Failed to save color"),!1}},m=async(x,v,_)=>{try{if(c(null),!/^#[0-9A-F]{6}$/i.test(v))throw new Error("Invalid color format. Expected #RRGGBB");const{data:{session:j}}=await de.auth.getSession();if(!j)throw new Error("Authentication required. Please sign in.");const{error:S}=await de.functions.invoke("enum-colors",{method:"PUT",headers:{Authorization:`Bearer ${j.access_token}`},body:{id:x,color_hex:v,color_name:_}});if(S)throw S;return await f(),!0}catch(j){return console.error("Error updating enum color:",j),c(j instanceof Error?j.message:"Failed to update color"),!1}},y=async x=>{try{c(null);const{data:{session:v}}=await de.auth.getSession();if(!v)throw new Error("Authentication required. Please sign in.");const{error:_}=await de.functions.invoke("enum-colors",{method:"DELETE",headers:{Authorization:`Bearer ${v.access_token}`},body:{id:x}});if(_)throw _;return await f(),!0}catch(v){return console.error("Error deleting enum color:",v),c(v instanceof Error?v.message:"Failed to delete color"),!1}},g=x=>n[x],w=x=>t.filter(v=>v.enum_type===x),b=async(x,v)=>{const _=w(x),j=new Set(_.map(C=>C.enum_value)),S=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#EC4899","#6366F1"],k=v.filter(C=>!j.has(C));for(let C=0;C<k.length;C++){const E=S[C%S.length];await h(x,k[C],E)}};return p.useEffect(()=>{f();const x=v=>{const{enumType:_}=v.detail;console.log(" Color update event received for:",_,"current hook enumType:",e),!e||!_||e===_?(console.log(" Refreshing colors for hook with enumType:",e),f()):console.log(" Ignoring color update - enum type mismatch")};return window.addEventListener("colorsUpdated",x),()=>{window.removeEventListener("colorsUpdated",x)}},[e,f]),{colors:t,colorMap:n,loading:i,error:l,lastUpdate:u,fetchColors:f,saveColor:h,updateColor:m,deleteColor:y,getColor:g,getColorsForType:w,generateDefaultColors:b}}const mke=e=>{const t=e.flatMap(r=>r.servers||[]);return{total:t.length,withHostname:t.filter(r=>r.hostname&&r.hostname!=="").length,withIpAddress:t.filter(r=>r.ipAddress&&r.ipAddress!=="").length,withAllocation:t.filter(r=>r.allocation&&r.allocation!=="").length,complete:t.filter(r=>r.hostname&&r.hostname!==""&&r.ipAddress&&r.ipAddress!==""&&r.allocation&&r.allocation!=="").length}},pke=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#EC4899","#6366F1","#22C55E","#F87171","#FBBF24","#A78BFA","#34D399","#60A5FA","#FB923C","#A3E635","#F472B6","#818CF8"];function YD({value:e,onChange:t,className:r,disabled:n}){const[s,i]=p.useState(e),[o,l]=p.useState(!1),c=f=>{t(f),i(f),l(!1)},u=f=>{const h=f.target.value;i(h),/^#[0-9A-F]{6}$/i.test(h)&&t(h)},d=()=>{/^#[0-9A-F]{6}$/i.test(s)&&(t(s),l(!1))};return a.jsxs(qk,{open:o,onOpenChange:l,children:[a.jsx(Kk,{asChild:!0,children:a.jsx(G,{variant:"outline",className:`w-8 h-8 p-0 rounded border-2 ${r}`,style:{backgroundColor:e},disabled:n,title:`Color: ${e}`,children:a.jsx("span",{className:"sr-only",children:"Pick color"})})}),a.jsx(n0,{className:"w-64 p-4",align:"start",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Choose Color"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:pke.map(f=>a.jsx("button",{className:`w-8 h-8 rounded border-2 hover:scale-110 transition-transform ${e===f?"border-gray-900 ring-2 ring-blue-500":"border-gray-300"}`,style:{backgroundColor:f},onClick:()=>c(f),title:f},f))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Custom Color"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(qe,{type:"text",value:s,onChange:u,placeholder:"#FF0000",pattern:"^#[0-9A-F]{6}$",className:"flex-1"}),a.jsx(G,{variant:"outline",onClick:d,disabled:!/^#[0-9A-F]{6}$/i.test(s),children:"Apply"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: #RRGGBB (e.g., #FF0000)"})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}}),a.jsx("span",{className:"text-sm font-mono",children:e})]})})]})})]})}const GD={allocation_type:["IAAS","PAAS","SAAS","Load Balancer","Database"],model_type:["PowerEdge R740","PowerEdge R750","PowerEdge R640","PowerEdge R650","ProLiant DL380","ProLiant DL360","ProLiant DL385","ProLiant DL365","ThinkSystem SR650","ThinkSystem SR630","ThinkSystem SR850","UCS C220","UCS C240","UCS C480"]};function gke({enumType:e,availableValues:t,onColorChange:r}){const[n,s]=p.useState("custom"),[i,o]=p.useState("dark"),[l,c]=p.useState({});gr("enumColor_scheme",n,s),gr("enumColor_theme",i,o),rp(l,"enumColorManager_editing"),np("enumColorManager_editing",c);const{colors:u,loading:d,error:f,saveColor:h,updateColor:m,deleteColor:y,getColorsForType:g,generateDefaultColors:w,fetchColors:b}=Td(e),{toast:x}=Er(),[v,_]=p.useState({enum_type:e||"allocation_type",enum_value:"",color_hex:"#3B82F6",color_name:""}),j=e?g(e):u,S=async()=>{if(!v.enum_value.trim()){x({title:"Error",description:"Please select an enum value",variant:"destructive"});return}await h(v.enum_type,v.enum_value,v.color_hex,v.color_name||void 0)?(x({title:"Success",description:"Color saved successfully"}),_({...v,enum_value:"",color_name:""}),r==null||r(v.enum_value,v.color_hex)):x({title:"Error",description:f||"Failed to save color",variant:"destructive"})},k=async(P,O)=>{await y(P)?(x({title:"Success",description:"Color deleted successfully"}),r==null||r(O,"")):x({title:"Error",description:f||"Failed to delete color",variant:"destructive"})},C=async(P,O)=>{await m(P.id,O,P.color_name)?(x({title:"Success",description:"Color updated successfully"}),r==null||r(P.enum_value,O)):x({title:"Error",description:f||"Failed to update color",variant:"destructive"})},E=async()=>{const P=v.enum_type,O=t||GD[P]||[];await w(P,O),x({title:"Success",description:`Generated default colors for ${P}`})},A=(t||GD[v.enum_type]||[]).filter(P=>!j.some(O=>O.enum_value===P));return a.jsxs(Ce,{className:"w-full",children:[a.jsx(Ue,{children:a.jsxs(Ve,{className:"flex items-center gap-2",children:["Enum Color Management",e&&a.jsx(We,{variant:"outline",children:e})]})}),a.jsxs(Ae,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[a.jsx("h3",{className:"font-medium",children:"Add New Color"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"enum-type",children:"Enum Type"}),a.jsxs(Se,{value:v.enum_type,onValueChange:P=>_({...v,enum_type:P,enum_value:""}),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select enum type"})}),a.jsxs(je,{children:[a.jsx(q,{value:"allocation_type",children:"Allocation Type"}),a.jsx(q,{value:"model_type",children:"Model Type"})]})]})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"enum-value",children:"Enum Value"}),a.jsxs(Se,{value:v.enum_value,onValueChange:P=>_({...v,enum_value:P}),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select enum value"})}),a.jsx(je,{children:A.map(P=>a.jsx(q,{value:P,children:P},P))})]})]}),a.jsxs("div",{children:[a.jsx(ne,{htmlFor:"color-name",children:"Color Name (Optional)"}),a.jsx(qe,{id:"color-name",value:v.color_name,onChange:P=>_({...v,color_name:P.target.value}),placeholder:"e.g., Primary Blue"})]}),a.jsxs("div",{children:[a.jsx(ne,{children:"Color"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(YD,{value:v.color_hex,onChange:P=>_({...v,color_hex:P})}),a.jsx("span",{className:"text-sm font-mono",children:v.color_hex})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(G,{onClick:S,disabled:d,children:[a.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Add Color"]}),a.jsxs(G,{variant:"outline",onClick:E,disabled:d,children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Generate Defaults"]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium",children:"Current Colors"}),a.jsxs(G,{variant:"outline",size:"sm",onClick:b,disabled:d,children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),d&&a.jsx("p",{className:"text-center py-4",children:"Loading colors..."}),f&&a.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 border border-red-200 rounded",children:f}),a.jsxs("div",{className:"grid gap-3",children:[j.map(P=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(YD,{value:P.color_hex,onChange:O=>C(P,O)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:P.enum_value}),a.jsxs("div",{className:"text-sm text-gray-500",children:[P.enum_type,"  ",P.color_hex,P.color_name&&`  ${P.color_name}`]})]})]}),a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>k(P.id,P.enum_value),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(Sx,{className:"w-4 h-4"})})]},P.id)),j.length===0&&!d&&a.jsx("p",{className:"text-center py-8 text-gray-500",children:"No colors configured. Add some colors or generate defaults."})]})]})]})]})}function vke(){const[e,t]=p.useState({});rp(e,"enumColorDemo_state"),np("enumColorDemo_state",t);const{getColor:r,loading:n}=Td("allocation_type"),{getColor:s,loading:i}=Td("model_type"),o=["IAAS","PAAS","SAAS","Load Balancer","Database"],l=["PowerEdge R740","PowerEdge R750","ProLiant DL380","ProLiant DL360"];return n||i?a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsx(Ve,{children:"Enum Color System Demo"})}),a.jsx(Ae,{children:a.jsx("p",{children:"Loading colors..."})})]}):a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsx(Ve,{children:"Enum Color System Demo"})}),a.jsxs(Ae,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Allocation Types (Logical View)"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map(c=>{const u=r(c)||"#6B7280",d=XD(u);return a.jsx("div",{className:"p-3 rounded-lg text-sm font-medium text-center",style:{backgroundColor:u,color:d},children:c},c)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Model Types (Physical View)"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.map(c=>{const u=s(c)||"#374151",d=XD(u);return a.jsx("div",{className:"p-3 rounded-lg text-sm font-medium text-center",style:{backgroundColor:u,color:d},children:c},c)})})]}),a.jsx("div",{className:"text-sm text-gray-600",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Usage:"}),' Toggle the view mode in RoomView to see servers colored by allocation type (logical view) or model type (physical view). Click the "Colors" button to manage custom colors.']})})]})]})}function XD(e){const t=e.replace("#",""),r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),s=parseInt(t.substr(4,2),16);return(.299*r+.587*n+.114*s)/255>.5?"#000000":"#ffffff"}const yke=()=>{var $,I,B,U;const[e,t]=p.useState(1),[r,n]=p.useState("physical");gr("roomView_page",e,t),gr("roomView_mode",r,n);const[s,i]=p.useState(!1),o=12,{hierarchyData:l,filters:c,updateFilter:u,resetFilters:d}=iN(),{racksData:f,loading:h,error:m}=hke(c),{getColor:y,lastUpdate:g}=Td("allocation_type"),{getColor:w,lastUpdate:b}=Td("model_type"),[x,v]=p.useState(0);if(p.useEffect(()=>{const T=()=>{console.log(" RoomView received color update event, forcing re-render"),v(N=>N+1)};return window.addEventListener("colorsUpdated",T),()=>{window.removeEventListener("colorsUpdated",T)}},[]),p.useEffect(()=>{console.log(" RoomView detected color update via timestamps, allocation:",g,"model:",b),v(T=>T+1)},[g,b]),f.length>0&&(f.flatMap(T=>T.servers||[]),mke(f)),h)return a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(Ci,{className:"h-8 w-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Loading room data..."})]});if(m)return a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx($a,{className:"h-8 w-8 text-red-500"}),a.jsxs("span",{className:"ml-2 text-red-500",children:["Error loading room data: ",m]})]});const _=T=>{switch(T){case"Active":return"bg-green-500";case"Maintenance":return"bg-yellow-500";case"Offline":return"bg-red-500";default:return"bg-gray-400"}},j=T=>{if(r==="logical"&&T.allocation){const N=y(T.allocation);if(N&&N!=="#ffffff"&&N!=="#000000")return N}else if(r==="physical"&&T.model){const N=w(T.model);if(N&&N!=="#ffffff"&&N!=="#000000")return N}return r==="logical"?"#2563eb":"#1f2937"},S=()=>"#000000",k=T=>{const N=[],M=new Set;T.forEach(W=>{for(let K=0;K<W.unitHeight;K++)M.add(W.position-K)});const L=new Map;T.forEach(W=>{L.set(W.position,W)});for(let W=42;W>=1;W--)if(L.has(W)){const K=L.get(W);N.push({unit:W,server:K})}else M.has(W)||N.push({unit:W,isEmpty:!0});return N},C=Math.ceil(f.length/o),E=(e-1)*o,A=E+o,P=f.slice(E,A),O=T=>{switch(T){case"Active":return"default";case"Maintenance":return"outline";case"Offline":return"destructive";default:return"secondary"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 p-6 bg-white rounded-lg border",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(En,{className:"h-5 w-5"}),a.jsx("h1",{className:"text-2xl font-bold",children:"Room View"}),c.dc_room&&a.jsx(We,{variant:"secondary",className:"ml-2",children:c.dc_room})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Se,{value:c.dc_site||"",onValueChange:T=>u("dc_site",T),children:[a.jsx(_e,{className:"w-[160px]",children:a.jsx(ke,{placeholder:"Select Site"})}),a.jsx(je,{children:($=l.sites)==null?void 0:$.map(T=>a.jsx(q,{value:T,children:T},T))})]}),a.jsxs(Se,{value:c.dc_building||"",onValueChange:T=>u("dc_building",T),disabled:!c.dc_site,children:[a.jsx(_e,{className:"w-[160px]",children:a.jsx(ke,{placeholder:"Select Building"})}),a.jsx(je,{children:(I=l.buildings)==null?void 0:I.map(T=>a.jsx(q,{value:T,children:T},T))})]}),a.jsxs(Se,{value:c.dc_floor||"",onValueChange:T=>u("dc_floor",T),disabled:!c.dc_building,children:[a.jsx(_e,{className:"w-[160px]",children:a.jsx(ke,{placeholder:"Select Floor"})}),a.jsx(je,{children:(B=l.floors)==null?void 0:B.map(T=>a.jsx(q,{value:T,children:T},T))})]}),a.jsxs(Se,{value:c.dc_room||"",onValueChange:T=>u("dc_room",T),disabled:!c.dc_floor,children:[a.jsx(_e,{className:"w-[160px]",children:a.jsx(ke,{placeholder:"Select Room"})}),a.jsx(je,{children:(U=l.rooms)==null?void 0:U.map(T=>a.jsx(q,{value:T,children:T},T))})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Se,{value:r,onValueChange:T=>n(T),children:[a.jsx(_e,{className:"w-[140px]",children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"physical",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Us,{className:"h-4 w-4"}),"Physical"]})}),a.jsx(q,{value:"logical",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tv,{className:"h-4 w-4"}),"Logical"]})})]})]}),!1]}),a.jsxs(G,{onClick:d,variant:"outline",size:"sm",children:[a.jsx(JS,{className:"h-4 w-4 mr-2"}),"Reset"]}),a.jsxs(G,{onClick:()=>i(!s),variant:"outline",size:"sm",className:"ml-2",children:[a.jsx(Fq,{className:"h-4 w-4 mr-2"}),"Colors"]})]})]}),f.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Racks"}),a.jsx("p",{className:"text-2xl font-bold",children:f.length})]}),a.jsx(En,{className:"h-8 w-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Servers"}),a.jsx("p",{className:"text-2xl font-bold",children:f.reduce((T,N)=>T+N.totalServers,0)})]}),a.jsx(Tv,{className:"h-8 w-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Utilization"}),a.jsxs("p",{className:"text-2xl font-bold",children:[f.length>0?Math.round(f.reduce((T,N)=>T+N.utilization,0)/f.length):0,"%"]})]}),a.jsx(Us,{className:"h-8 w-8 text-orange-500"})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Racks"}),a.jsx("p",{className:"text-2xl font-bold",children:f.filter(T=>T.status==="Active").length})]}),a.jsx("div",{className:`w-8 h-8 rounded-full ${_("Active")}`})]})})]}),c.dc_room?f.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(En,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No racks found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No racks are configured for this room."})]}):a.jsxs(a.Fragment,{children:[s&&a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsx(vke,{}),a.jsx(gke,{enumType:r==="logical"?"allocation_type":"model_type",onColorChange:()=>{}})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(T=>a.jsx("div",{className:"bg-white rounded-lg border shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:T.name}),a.jsx("p",{className:"text-sm text-gray-600",children:T.location})]}),a.jsx(We,{variant:O(T.status),children:T.status})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Utilization"}),a.jsxs("span",{children:[Math.round(T.utilization),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${T.utilization}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Servers:"}),a.jsx("span",{className:"font-medium",children:T.totalServers})]}),r==="physical"&&a.jsx("div",{className:"mt-3 border rounded",children:a.jsxs("div",{className:"p-2 rounded-lg",style:{backgroundColor:"black",height:"1280px",overflow:"hidden"},children:[a.jsxs("div",{className:"p-1 rounded-t-lg",style:{backgroundColor:"black"},children:[a.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&a.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]}),a.jsx("div",{className:"bg-gray-100 border-l-4 border-r-4",style:{borderLeftColor:"#ffffff",borderRightColor:"#ffffff",paddingTop:"4px",paddingBottom:"4px",height:"1185px",overflow:"visible"},children:a.jsx("div",{className:"",children:k(T.servers).map((N,M)=>N.server&&N.server.unitHeight>1?a.jsx("div",{className:"flex items-center transition-colors rounded hover:bg-blue-600 hover:border-blue-400",style:{minHeight:"24.2px",height:`${N.server.unitHeight*24.2}px`,paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(N.server),border:"2px solid transparent"},children:a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:`flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 ${r==="logical"?"bg-blue-50 border border-blue-200":"bg-white"}`,style:{minHeight:`${N.server.unitHeight*24.2-8}px`,height:`${N.server.unitHeight*24.2-8}px`,paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:r==="logical"?"0 1px 4px rgba(59,130,246,0.15)":"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:a.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[a.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:S()},children:["U",N.unit]}),a.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:r==="physical"?a.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[a.jsx("span",{className:"font-mono truncate",style:{color:S()},children:N.server.serialNumber||"N/A"}),a.jsx("span",{className:"truncate",style:{color:S()},children:N.server.model||"Unknown"}),a.jsx("span",{className:"font-mono truncate",style:{color:S()},children:N.server.ipOOB||"N/A"})]}):a.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[a.jsx("span",{className:"font-medium truncate",title:N.server.hostname||N.server.id,style:{color:S()},children:N.server.hostname||`Server-${N.server.id.slice(-4)}`}),a.jsx("span",{className:"font-mono truncate",title:N.server.ipAddress||"No IP assigned",style:{color:S()},children:N.server.ipAddress||"N/A"}),a.jsx("span",{className:"truncate font-medium",title:N.server.allocation||"No allocation",style:{color:S()},children:N.server.allocation||"Unassigned"})]})}),a.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${_(N.server.status)}`})})]})})})},M):a.jsx("div",{className:"flex items-center transition-colors rounded",style:N.server?{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(N.server),border:"2px solid transparent"}:{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:"#f3f4f6",border:"2px solid transparent"},children:N.server?a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:`flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 ${r==="logical"?"bg-blue-50 border border-blue-200":"bg-white"}`,style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:r==="logical"?"0 1px 4px rgba(59,130,246,0.15)":"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:a.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[a.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:S()},children:["U",N.unit]}),a.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:r==="physical"?a.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[a.jsx("span",{className:"font-mono truncate",style:{color:S()},children:N.server.serialNumber||"N/A"}),a.jsx("span",{className:"truncate",style:{color:S()},children:N.server.model||"Unknown"}),a.jsx("span",{className:"font-mono truncate",style:{color:S()},children:N.server.ipOOB||"N/A"})]}):a.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[a.jsx("span",{className:"font-medium truncate",title:N.server.hostname||N.server.id,style:{color:S()},children:N.server.hostname||`Server-${N.server.id.slice(-4)}`}),a.jsx("span",{className:"font-mono truncate",title:N.server.ipAddress||"No IP assigned",style:{color:S()},children:N.server.ipAddress||"N/A"}),a.jsx("span",{className:"truncate font-medium",title:N.server.allocation||"No allocation",style:{color:S()},children:N.server.allocation||"Unassigned"})]})}),a.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${_(N.server.status)}`})})]})})}):a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:"flex items-center justify-between rounded w-full",style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",backgroundColor:"#f3f4f6",overflow:"hidden"},children:a.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[a.jsxs("div",{className:"text-[8px] font-mono text-gray-500 flex-shrink-0",style:{width:"24px",textAlign:"right"},children:["U",N.unit]}),a.jsx("div",{className:"flex-1 overflow-hidden",style:{marginLeft:"8px"},children:a.jsx("div",{className:"text-[8px] text-gray-400 italic leading-none",children:"Empty"})})]})})})},M))})}),a.jsxs("div",{className:"p-1 rounded-b-lg",style:{backgroundColor:"black"},children:[a.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&a.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]})]})}),r==="logical"&&a.jsx("div",{className:"mt-3 border rounded",children:a.jsxs("div",{className:"p-2 rounded-lg",style:{backgroundColor:"black",height:"1280px",overflow:"hidden"},children:[a.jsxs("div",{className:"p-1 rounded-t-lg",style:{backgroundColor:"black"},children:[a.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&a.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]}),a.jsx("div",{className:"bg-gray-100 border-l-4 border-r-4",style:{borderLeftColor:"#ffffff",borderRightColor:"#ffffff",paddingTop:"4px",paddingBottom:"4px",height:"1185px",overflow:"visible"},children:a.jsx("div",{className:"",children:k(T.servers).map((N,M)=>N.server&&N.server.unitHeight>1?a.jsx("div",{className:"flex items-center transition-colors rounded hover:bg-blue-600 hover:border-blue-400",style:{minHeight:"24.2px",height:`${N.server.unitHeight*24.2}px`,paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(N.server),border:"2px solid transparent"},children:a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:"flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 bg-white",style:{minHeight:`${N.server.unitHeight*24.2-8}px`,height:`${N.server.unitHeight*24.2-8}px`,paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:a.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[a.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:S()},children:["U",N.unit]}),a.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:a.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[a.jsx("span",{className:"font-medium truncate",style:{color:S()},title:N.server.hostname||N.server.id,children:N.server.hostname||`Server-${N.server.id.slice(-4)}`}),a.jsx("span",{className:"font-mono truncate",style:{color:S()},title:N.server.ipAddress||"No IP assigned",children:N.server.ipAddress||"N/A"}),a.jsx("span",{className:"truncate font-medium",style:{color:S()},title:N.server.allocation||"No allocation",children:N.server.allocation||"Unassigned"})]})}),a.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${_(N.server.status)}`})})]})})})},M):a.jsx("div",{className:"flex items-center transition-colors rounded",style:N.server?{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(N.server),border:"2px solid transparent"}:{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:"#f3f4f6",border:"2px solid transparent"},children:N.server?a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:"flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 bg-white",style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:a.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[a.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:S()},children:["U",N.unit]}),a.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:a.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[a.jsx("span",{className:"font-medium truncate",title:N.server.hostname||N.server.id,style:{color:S()},children:N.server.hostname||`Server-${N.server.id.slice(-4)}`}),a.jsx("span",{className:"font-mono truncate",title:N.server.ipAddress||"No IP assigned",style:{color:S()},children:N.server.ipAddress||"N/A"}),a.jsx("span",{className:"truncate font-medium",title:N.server.allocation||"No allocation",style:{color:S()},children:N.server.allocation||"Unassigned"})]})}),a.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:a.jsx("div",{className:`w-2 h-2 rounded-full ${_(N.server.status)}`})})]})})}):a.jsx("div",{className:"flex-1 flex items-center",children:a.jsx("div",{className:"flex items-center justify-between rounded w-full",style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",backgroundColor:"#f3f4f6",overflow:"hidden"},children:a.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[a.jsxs("div",{className:"text-[8px] font-mono text-gray-500 flex-shrink-0",style:{width:"24px",textAlign:"right"},children:["U",N.unit]}),a.jsx("div",{className:"flex-1 overflow-hidden",style:{marginLeft:"8px"},children:a.jsx("div",{className:"text-[8px] text-gray-400 italic leading-none",children:"Empty"})})]})})})},M))})}),a.jsxs("div",{className:"p-1 rounded-b-lg",style:{backgroundColor:"black"},children:[a.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&a.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]})]})})]})},T.id))}),C>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",E+1,"-",Math.min(A,f.length)," of ",f.length," racks"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(G,{variant:"outline",size:"sm",onClick:()=>t(Math.max(1,e-1)),disabled:e===1,children:[a.jsx(K4,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:C},(T,N)=>a.jsx(G,{variant:e===N+1?"default":"outline",size:"sm",onClick:()=>t(N+1),className:"w-8 h-8 p-0",children:N+1},N+1))}),a.jsxs(G,{variant:"outline",size:"sm",onClick:()=>t(Math.min(C,e+1)),disabled:e===C,children:["Next",a.jsx(jx,{className:"h-4 w-4"})]})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(En,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No room selected"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please select a site, building, floor, and room to view the rack layout."})]})]})},Tl={serversByModel:[{model:"Dell R740",count:245,percentage:19.6},{model:"HPE DL380",count:198,percentage:15.9},{model:"Dell R640",count:167,percentage:13.4},{model:"HPE DL360",count:134,percentage:10.7},{model:"Supermicro",count:89,percentage:7.1}],serversByStatus:[{status:"Active",count:1189,color:"#10b981"},{status:"Maintenance",count:31,color:"#f59e0b"},{status:"Offline",count:27,color:"#ef4444"}],warrantyExpiration:[{month:"Jan 2024",expiring:12},{month:"Feb 2024",expiring:8},{month:"Mar 2024",expiring:15},{month:"Apr 2024",expiring:23},{month:"May 2024",expiring:18},{month:"Jun 2024",expiring:31}],utilizationByDataCenter:[{dataCenter:"DC-East",utilization:78,servers:342},{dataCenter:"DC-West",utilization:65,servers:298},{dataCenter:"DC-Central",utilization:82,servers:367},{dataCenter:"DC-North",utilization:71,servers:240}]},xke=()=>{const[e,t]=p.useState("inventory"),[r,n]=p.useState("all"),[s,i]=p.useState("30"),[o,l]=p.useState("csv");p.useEffect(()=>{const u=setInterval(()=>{localStorage.setItem("reports_state",JSON.stringify({reportType:e,selectedDataCenter:r,dateRange:s,exportFormat:o}))},5e3);return()=>clearInterval(u)},[e,r,s,o]),p.useEffect(()=>{const u=localStorage.getItem("reportParams");if(u&&u!=="undefined")try{const d=JSON.parse(u);d.reportType&&t(d.reportType),d.selectedDataCenter&&n(d.selectedDataCenter),d.dateRange&&i(d.dateRange),d.exportFormat&&l(d.exportFormat)}catch{}},[]);const c=()=>{console.log(`Exporting ${e} report as ${o} for last ${s} days`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Reports & Analytics"}),a.jsx("p",{className:"text-slate-600",children:"Generate custom reports and analyze your infrastructure"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(G,{variant:"outline",children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),"Advanced Filters"]}),a.jsxs(G,{onClick:c,children:[a.jsx(Eq,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{className:"text-lg",children:"Report Configuration"}),a.jsx(It,{children:"Customize your report parameters"})]}),a.jsx(Ae,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"reportType",children:"Report Type"}),a.jsxs(Se,{value:e,onValueChange:t,children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"inventory",children:"Inventory Summary"}),a.jsx(q,{value:"warranty",children:"Warranty Report"}),a.jsx(q,{value:"utilization",children:"Utilization Report"}),a.jsx(q,{value:"maintenance",children:"Maintenance Report"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dataCenter",children:"Data Center"}),a.jsxs(Se,{value:r,onValueChange:n,children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Data Centers"}),a.jsx(q,{value:"DC-East",children:"DC-East"}),a.jsx(q,{value:"DC-West",children:"DC-West"}),a.jsx(q,{value:"DC-Central",children:"DC-Central"}),a.jsx(q,{value:"DC-North",children:"DC-North"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"dateRange",children:"Date Range"}),a.jsxs(Se,{value:s,onValueChange:i,children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"7",children:"Last 7 days"}),a.jsx(q,{value:"30",children:"Last 30 days"}),a.jsx(q,{value:"90",children:"Last 90 days"}),a.jsx(q,{value:"365",children:"Last year"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"exportFormat",children:"Export Format"}),a.jsxs(Se,{value:o,onValueChange:l,children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"csv",children:"CSV"}),a.jsx(q,{value:"xlsx",children:"Excel"}),a.jsx(q,{value:"pdf",children:"PDF"}),a.jsx(q,{value:"json",children:"JSON"})]})]})]})]})})]}),a.jsxs(qm,{defaultValue:"charts",className:"space-y-6",children:[a.jsxs(Hd,{className:"grid w-full grid-cols-2 lg:w-[200px] bg-white border border-slate-200 shadow-sm",children:[a.jsx(Tr,{value:"charts",children:"Charts"}),a.jsx(Tr,{value:"tables",children:"Tables"})]}),a.jsx(Mr,{value:"charts",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsxs(Ve,{className:"text-lg flex items-center space-x-2",children:[a.jsx(Qi,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{children:"Servers by Model"})]}),a.jsx(It,{children:"Distribution of server hardware"})]}),a.jsx(Ae,{children:a.jsx(Su,{width:"100%",height:300,children:a.jsxs($1,{data:Tl.serversByModel,children:[a.jsx(wh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),a.jsx(Wu,{dataKey:"model",stroke:"#64748b",fontSize:12}),a.jsx(Vu,{stroke:"#64748b"}),a.jsx(ju,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),a.jsx(gm,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsxs(Ve,{className:"text-lg flex items-center space-x-2",children:[a.jsx(Xs,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{children:"Server Status"})]}),a.jsx(It,{children:"Current operational status"})]}),a.jsx(Ae,{children:a.jsx(Su,{width:"100%",height:300,children:a.jsxs(lW,{children:[a.jsx(rb,{data:Tl.serversByStatus,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"count",label:({status:u,count:d})=>`${u}: ${d}`,children:Tl.serversByStatus.map((u,d)=>a.jsx(nf,{fill:u.color},`cell-${d}`))}),a.jsx(ju,{})]})})})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{className:"text-lg",children:"Warranty Expiration Timeline"}),a.jsx(It,{children:"Servers with expiring warranties"})]}),a.jsx(Ae,{children:a.jsx(Su,{width:"100%",height:300,children:a.jsxs(Qbe,{data:Tl.warrantyExpiration,children:[a.jsx(wh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),a.jsx(Wu,{dataKey:"month",stroke:"#64748b",fontSize:12}),a.jsx(Vu,{stroke:"#64748b"}),a.jsx(ju,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),a.jsx(sE,{type:"monotone",dataKey:"expiring",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4}})]})})})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsxs(Ve,{className:"text-lg flex items-center space-x-2",children:[a.jsx(En,{className:"h-5 w-5 text-purple-600"}),a.jsx("span",{children:"Data Center Utilization"})]}),a.jsx(It,{children:"Capacity utilization by location"})]}),a.jsx(Ae,{children:a.jsx(Su,{width:"100%",height:300,children:a.jsxs($1,{data:Tl.utilizationByDataCenter,children:[a.jsx(wh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),a.jsx(Wu,{dataKey:"dataCenter",stroke:"#64748b",fontSize:12}),a.jsx(Vu,{stroke:"#64748b"}),a.jsx(ju,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),a.jsx(gm,{dataKey:"utilization",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})]})]})}),a.jsxs(Mr,{value:"tables",className:"space-y-6",children:[a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{className:"text-lg",children:"Server Model Summary"}),a.jsx(It,{children:"Detailed breakdown by server model"})]}),a.jsx(Ae,{children:a.jsx("div",{className:"rounded-md border overflow-x-auto",children:a.jsxs(vd,{children:[a.jsx(yd,{children:a.jsxs(_i,{children:[a.jsx(pt,{children:"Model"}),a.jsx(pt,{className:"text-right",children:"Count"}),a.jsx(pt,{className:"text-right",children:"Percentage"}),a.jsx(pt,{children:"Status"})]})}),a.jsx(xd,{children:Tl.serversByModel.map(u=>a.jsxs(_i,{children:[a.jsx(gt,{className:"font-medium",children:u.model}),a.jsx(gt,{className:"text-right",children:u.count}),a.jsxs(gt,{className:"text-right",children:[u.percentage,"%"]}),a.jsx(gt,{children:a.jsx(We,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:"In Production"})})]},u.model))})]})})})]}),a.jsxs(Ce,{className:"bg-white border-0 shadow-sm",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{className:"text-lg",children:"Data Center Utilization"}),a.jsx(It,{children:"Capacity and utilization metrics"})]}),a.jsx(Ae,{children:a.jsx("div",{className:"rounded-md border overflow-x-auto",children:a.jsxs(vd,{children:[a.jsx(yd,{children:a.jsxs(_i,{children:[a.jsx(pt,{children:"Data Center"}),a.jsx(pt,{className:"text-right",children:"Total Servers"}),a.jsx(pt,{className:"text-right",children:"Utilization"}),a.jsx(pt,{children:"Status"})]})}),a.jsx(xd,{children:Tl.utilizationByDataCenter.map(u=>a.jsxs(_i,{children:[a.jsx(gt,{className:"font-medium",children:u.dataCenter}),a.jsx(gt,{className:"text-right",children:u.servers}),a.jsxs(gt,{className:"text-right",children:[u.utilization,"%"]}),a.jsx(gt,{children:a.jsx(We,{className:u.utilization>80?"bg-red-100 text-red-700 hover:bg-red-100":u.utilization>60?"bg-yellow-100 text-yellow-700 hover:bg-yellow-100":"bg-green-100 text-green-700 hover:bg-green-100",children:u.utilization>80?"High":u.utilization>60?"Medium":"Normal"})})]},u.dataCenter))})]})})})]})]})]})]})},bke=e=>{if(!e)return"text";const t=e.toLowerCase();return t.includes("int")||t.includes("numeric")||t.includes("decimal")||t.includes("float")||t.includes("double")?"number":t==="boolean"||t==="bool"?"boolean":t.includes("date")||t.includes("time")?"date":"text"},wke=(e="servers")=>{const[t,r]=p.useState([]),[n,s]=p.useState(!0),[i,o]=p.useState(null),{toast:l}=Er(),{enums:c}=Vd(),u=()=>c!=null&&c.racks&&Array.isArray(c.racks)&&c.racks.length>0?c.racks:["RACK-01","RACK-02","RACK-03","RACK-04","RACK-05","RACK-06","RACK-07","RACK-08","RACK-09","RACK-10"],d=p.useCallback(async()=>{try{s(!0);const{data:f,error:h}=await de.functions.invoke(`get-table-schema?table=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(h)throw h;if(f!=null&&f.data){const m=f.data.map(y=>({column_name:y.column_name,data_type:bke(y.data_type),is_nullable:y.is_nullable,column_default:y.column_default,is_enum:y.is_enum||!1,enum_values:Array.isArray(y.enum_values)?y.enum_values:[]}));r(m)}else throw new Error("No data returned from server")}catch(f){console.error("Error fetching table schema:",f);const h=f instanceof Error?f:new Error("Failed to fetch table schema");o(h),l({title:"Error loading schema",description:"Using default schema. Some features may be limited.",variant:"destructive"});const m=[{column_name:"brand",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Dell","HPE","Cisco","Juniper","NetApp","Huawei","Inspur","Kaytus","ZTE","Meta Brain"]},{column_name:"model",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["PowerEdge R740","PowerEdge R750","PowerEdge R750xd","PowerVault ME4","ProLiant DL380","ProLiant DL360","Apollo 4510","ASA 5525-X","Nexus 93180YC-EX","MX204","AFF A400","Other"]},{column_name:"operating_system",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Ubuntu 22.04 LTS","Ubuntu 20.04 LTS","RHEL 8","CentOS 7","Oracle Linux 8","Windows Server 2022","Windows Server 2019","Storage OS 2.1","Cisco ASA 9.16","NX-OS 9.3","JunOS 21.2","ONTAP 9.10","Other"]},{column_name:"dc_site",data_type:"text",is_nullable:"NO",column_default:null,is_enum:!0,enum_values:["DC-East","DC-West","DC-North","DC-South","DC-Central","DC1","DC2","DC3","DC4","DC5"]},{column_name:"dc_building",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Building-A","Building-B","Building-C","Building-D","Building-E","Other"]},{column_name:"dc_floor",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["1","2","3","4","5","B1","B2","Ground","Mezzanine"]},{column_name:"dc_room",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["MDF","101","102","103","104","105","106","107","108","109","110","201","202","203","204","205","206","207","208","209","210","301","302","303","304","305","306","307","308","309","310","401","402","403","404","405","406","407","408","409","410","Server Room A","Server Room B","Network Room","Storage Room","Other"]},{column_name:"allocation",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["IAAS","PAAS","SAAS","Load Balancer","Database"]},{column_name:"status",data_type:"select",is_nullable:"NO",column_default:"Active",is_enum:!0,enum_values:["Active","Ready","Inactive","Maintenance","Decommissioned","Retired"]},{column_name:"device_type",data_type:"select",is_nullable:"NO",column_default:null,is_enum:!0,enum_values:["Server","Storage","Network"]},{column_name:"rack",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:u()},{column_name:"unit",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:Array.from({length:42},(y,g)=>`U${g+1}`)},{column_name:"environment",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Production","Testing","Pre-Production","Development"]},{column_name:"notes",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!1,enum_values:[]}];r(m)}finally{s(!1)}},[e,l]);return p.useEffect(()=>{d()},[d]),{columns:t,loading:n,error:i,refetch:d}},ZD=["hostname","dc_site","device_type","status","serial_number"],_ke=()=>{const[e,t]=p.useState(null),[r,n]=p.useState(!1),[s,i]=p.useState(null),[o,l]=p.useState([]),{toast:c}=Er(),{enums:u}=Lc(),d=p.useCallback((g,w)=>{if(!u||!u[w])return!1;const b=u[w];return Array.isArray(b)&&b.some(x=>String(x)===String(g))},[u]),f=g=>{var b;const w=(b=g.target.files)==null?void 0:b[0];w&&(t(w),i(null),l([]))},h=p.useCallback(async g=>{try{const b=(await g.text()).split(`
`).filter(v=>v.trim()!=="");if(b.length<2)return[];const x=b[0].split(",").map(v=>v.trim().toLowerCase());return b.slice(1).map((v,_)=>{const j=v.split(",").map(k=>k.trim()),S={id:_+1};return x.forEach((k,C)=>{j[C]!==void 0&&(S[k]=j[C]||null)}),ZD.forEach(k=>{S[k]===void 0&&(S[k]="")}),S})}catch(w){throw console.error("Error parsing CSV:",w),w}},[]),m=p.useCallback(async()=>{if(!e){c({title:"No file selected",description:"Please select a file to import",variant:"destructive"});return}if(!u){c({title:"Server data not loaded",description:"Please wait while we load the required data",variant:"destructive"});return}const w=["status","deviceTypes","allocationTypes","environmentTypes","racks","units"].filter(b=>{var x;return!u[b]||((x=u[b])==null?void 0:x.length)===0});if(w.length>0){c({title:"Missing enum data",description:`The following enum types are missing or empty: ${w.join(", ")}. Please make sure they are configured in the system.`,variant:"destructive"});return}n(!0),i(null),l([]);try{const b=await h(e),x=[],v={success:0,failed:0,errors:[]};for(const j of b){const S=[];for(const k of ZD){const C=j[k];(C==null||C==="")&&S.push(`Missing required field: ${k}`)}j.rack&&!d(j.rack,"racks")&&S.push(`Invalid rack value: ${j.rack}`),j.unit&&!d(j.unit,"units")&&S.push(`Invalid unit value: ${j.unit}`),j.allocation&&!d(j.allocation,"allocationTypes")&&S.push(`Invalid allocation value: ${j.allocation}`),j.environment&&!d(j.environment,"environmentTypes")&&S.push(`Invalid environment value: ${j.environment}`),j.device_type&&!d(j.device_type,"deviceTypes")&&S.push(`Invalid device type: ${j.device_type}`),j.status&&!d(j.status,"status")&&S.push(`Invalid status: ${j.status}`),x.push({row:j,errors:S})}const _=x.filter(j=>j.errors.length>0);if(l(x),_.length>0){c({title:"Validation failed",description:`Found ${_.length} rows with errors. Please fix them before importing.`,variant:"destructive"}),n(!1);return}for(const{row:j}of x)try{const{id:S,...k}=j,{data:C,error:E}=await de.from("servers").select("id").eq("hostname",j.hostname).maybeSingle();if(E)throw E;let A;if(C){const{error:P}=await de.from("servers").update(k).eq("hostname",j.hostname);A=P}else{const{error:P}=await de.from("servers").insert([k]);A=P}if(A)throw A;v.success++}catch(S){v.failed++;const k=S instanceof Error?S.message:"Unknown error";v.errors.push(`Row ${j.id} (${j.hostname}): ${k}`)}i(v),v.failed===0?c({title:"Import successful",description:`Successfully imported ${v.success} servers.`}):c({title:"Import completed with errors",description:`Imported ${v.success} servers, ${v.failed} failed.`,variant:"destructive"})}catch(b){console.error("Import error:",b),c({title:"Import failed",description:"An error occurred while processing the file.",variant:"destructive"})}finally{n(!1)}},[e,u]),y=p.useCallback(async()=>{if(!u){c({title:"Data not loaded",description:"Please wait while we load the required data",variant:"destructive"});return}try{const g=["hostname","dc_site","device_type","status","serial_number","brand","model","ip_address","ip_oob","operating_system","dc_building","dc_floor","dc_room","allocation","environment","rack","unit","warranty","notes"],w=A=>{const P=u[A];return Array.isArray(P)&&P.length>0?P[0]:""},b={hostname:"server-01",dc_site:"DC1",serial_number:"SER12345",ip_address:"192.168.1.10",ip_oob:"10.0.0.1",dc_building:"Building A",dc_floor:"1",dc_room:"Server Room 101",brand:"Dell",model:"PowerEdge R740",operating_system:"Ubuntu 22.04 LTS",warranty:"2025-12-31",notes:"Example note"},x={status:"status",device_type:"deviceTypes",allocation:"allocationTypes",environment:"environmentTypes",rack:"racks",unit:"units"},v=g.map(A=>{const P=x[A];if(P){const O=w(P);return O||{status:"Active",device_type:"Server",allocation:"IAAS",environment:"Production",rack:"RACK-01",unit:"U42"}[A]||""}return A in b?b[A]:""}),_=g.join(","),j=v.map(A=>{const P=String(A).replace(/"/g,'""');return P.includes(",")||P.includes('"')?`"${P}"`:P}).join(","),S=[_,j].join(`
`),k=new Blob([S],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(k),E=document.createElement("a");E.setAttribute("href",C),E.setAttribute("download","server_import_template.csv"),E.style.visibility="hidden",document.body.appendChild(E),E.click(),document.body.removeChild(E),c({title:"Template downloaded",description:"CSV template has been downloaded successfully"})}catch(g){console.error("Error generating template:",g),c({title:"Error generating template",description:"Failed to generate the CSV template. Please try again.",variant:"destructive"})}},[c]);return p.useEffect(()=>{const g=setInterval(()=>{localStorage.setItem("bulkImport_state",JSON.stringify({fileName:(e==null?void 0:e.name)||null,isImporting:r,importResults:s,validationResults:o}))},5e3);return()=>clearInterval(g)},[e,r,s,o]),p.useEffect(()=>{const g=localStorage.getItem("bulkImportState");if(g&&g!=="undefined")try{const w=JSON.parse(g);w.isImporting!==void 0&&n(w.isImporting),w.importResults&&i(w.importResults),w.validationResults&&l(w.validationResults)}catch{}},[]),a.jsx("div",{className:"w-full px-0 md:px-8 py-8",children:a.jsxs(Ce,{className:"w-full max-w-none",children:[a.jsxs(Ue,{children:[a.jsx(Ve,{children:"Bulk Import Servers"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a CSV file to import multiple servers at once. The first row should contain column headers."})]}),a.jsx(Ae,{className:"space-y-6",children:a.jsxs("div",{className:"grid w-full items-center gap-4",children:[a.jsx("div",{className:"grid w-full items-center gap-1.5",children:a.jsxs("label",{htmlFor:"csv-upload",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-lg cursor-pointer bg-background hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(G4,{className:"w-8 h-8 mb-2 text-muted-foreground"}),a.jsxs("p",{className:"mb-1 text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e?e.name:"CSV file (max 10MB)"})]}),a.jsx("input",{id:"csv-upload",type:"file",accept:".csv",className:"hidden",onChange:f,disabled:r})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(G,{onClick:m,disabled:!e||r,className:"min-w-[120px]",children:r?"Importing...":"Import"}),a.jsxs(G,{variant:"outline",onClick:y,disabled:r,className:"gap-2",children:[a.jsx($m,{className:"h-4 w-4"}),"Download Template"]}),e&&a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t(null),disabled:r,className:"ml-auto",children:"Clear"})]}),a.jsxs("div",{className:"mt-6 text-sm text-muted-foreground",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Instructions:"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Required columns:"})," hostname, dc_site, device_type, status, serial_number"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Optional columns:"})," brand, model, ip_address, ip_oob, operating_system, dc_building, dc_floor, dc_room, allocation, environment, rack, unit, warranty, notes"]}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:"Status values:"})," ",Array.isArray(u==null?void 0:u.status)?u.status.join(", "):"Loading..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Device types:"})," ",Array.isArray(u==null?void 0:u.deviceTypes)?u.deviceTypes.join(", "):"Loading..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Allocation types:"})," ",Array.isArray(u==null?void 0:u.allocationTypes)?u.allocationTypes.join(", "):"Loading..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Environment types:"})," ",Array.isArray(u==null?void 0:u.environmentTypes)?u.environmentTypes.join(", "):"Loading..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Racks:"})," ",Array.isArray(u==null?void 0:u.racks)?u.racks.slice(0,5).join(", ")+(u.racks.length>5?"...":""):"Loading..."]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Units:"})," ",Array.isArray(u==null?void 0:u.units)?u.units.slice(0,5).join(", ")+(u.units.length>5?"...":""):"Loading..."]})]}),o.length>0&&a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("h3",{className:"text-sm font-medium",children:["Validation Results (",o.filter(g=>g.errors.length>0).length," issues found)"]}),a.jsx("div",{className:"rounded-md border border-border overflow-hidden",children:a.jsx("div",{className:"max-h-60 overflow-y-auto",children:o.filter(g=>g.errors.length>0).map((g,w)=>a.jsxs("div",{className:"border-b border-border last:border-b-0 p-3 text-sm",children:[a.jsxs("div",{className:"font-medium mb-1",children:["Row ",g.row.id,":"]}),a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:g.errors.map((b,x)=>a.jsx("li",{className:"text-destructive",children:b},x))})]},w))})})]}),s&&a.jsxs("div",{className:"mt-6 space-y-2",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Import Results"}),a.jsxs("div",{className:"rounded-md bg-muted/50 p-4",children:[a.jsxs("p",{className:"text-sm",children:["Successfully imported: ",a.jsx("span",{className:"font-medium",children:s.success})]}),s.failed>0&&a.jsxs("p",{className:"text-sm text-destructive mt-1",children:["Failed: ",s.failed]}),s.errors.length>0&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("p",{className:"font-medium mb-1",children:"Errors:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[s.errors.slice(0,5).map((g,w)=>a.jsx("li",{className:"text-destructive",children:g},w)),s.errors.length>5&&a.jsxs("li",{className:"text-muted-foreground",children:["...and ",s.errors.length-5," more errors"]})]})]})]})]})]})})]})})},jke=[{id:"1",name:"Hostname",key:"hostname",type:"text",required:!0,visible:!0,isSystem:!0},{id:"2",name:"Device Type",key:"device_type",type:"select",required:!0,visible:!0,options:["Server","Storage","Network"],isSystem:!0},{id:"3",name:"DC Site",key:"dc_site",type:"text",required:!0,visible:!0,isSystem:!0},{id:"4",name:"DC Building",key:"dc_building",type:"text",required:!0,visible:!0,isSystem:!0},{id:"5",name:"DC Floor",key:"dc_floor",type:"select",required:!0,visible:!0,is_enum:!0,isSystem:!0},{id:"6",name:"DC Room",key:"dc_room",type:"select",required:!0,visible:!0,is_enum:!0,isSystem:!0},{id:"7",name:"Allocation",key:"allocation",type:"select",required:!0,visible:!0,options:["IAAS/PAAS","SAAS","Load Balancer","Database"],isSystem:!0},{id:"8",name:"Environment",key:"environment",type:"select",required:!0,visible:!0,options:["Production","Testing","Pre-Production","Development"],isSystem:!0},{id:"9",name:"IP Address",key:"ip_address",type:"text",required:!0,visible:!0,isSystem:!0},{id:"10",name:"Serial Number",key:"serial_number",type:"text",required:!0,visible:!0,isSystem:!0},{id:"11",name:"Brand",key:"brand",type:"select",required:!0,visible:!0,is_enum:!0,options:["Dell","HPE","Cisco","Juniper","NetApp","Huawei","Inspur","Kaytus","ZTE","Meta Brain"],isSystem:!0},{id:"12",name:"Model",key:"model",type:"text",required:!0,visible:!0,isSystem:!0},{id:"13",name:"Status",key:"status",type:"select",required:!0,visible:!0,options:["Active","Inactive","Maintenance","Retired"],isSystem:!0},{id:"14",name:"Notes",key:"notes",type:"text",required:!0,visible:!0,isSystem:!0},{id:"15",name:"Operating System",key:"operating_system",type:"text",required:!0,visible:!0,isSystem:!0},{id:"16",name:"Rack",key:"rack",type:"text",required:!0,visible:!0,isSystem:!0},{id:"17",name:"Unit",key:"unit",type:"text",required:!0,visible:!0,isSystem:!0},{id:"18",name:"Warranty",key:"warranty",type:"date",required:!1,visible:!0,isSystem:!0,description:"Warranty expiration date"}],Ske=["id","created_at","updated_at","created_by","updated_by","deleted_at","ip_oob","hostname","ip_address","serial_number"],kke=()=>{const[e,t]=p.useState(1),[r,n]=p.useState({}),[s,i]=p.useState(null);gr("serverProps_page",e,t),gr("serverProps_filters",r,n),rp({editingProperty:s},"serverProperties_editor"),np("serverProperties_editor",X=>{X.editingProperty&&i(X.editingProperty)});const{columns:o,error:l,refetch:c}=wke("servers"),[u,d]=p.useState([]),[f,h]=p.useState(!1),[m,y]=p.useState(!1),[g,w]=p.useState(null),[b,x]=p.useState(!1),[v,_]=p.useState({name:"",key:"",type:"text",required:!0,visible:!0,options:[],enumType:"",enumTypeName:"",enumValues:[]}),{toast:j}=Er(),{addEnumValue:S,refreshEnums:k}=Lc(),{getColorsForType:C,fetchColors:E,saveColor:A}=Td(),P=(X,se)=>{const ve=X==="allocation"?"allocation_type":X==="model"?"model_type":null;if(!ve)return"#e2e8f0";const Nt=C(ve).find(ot=>ot.enum_value===se);return(Nt==null?void 0:Nt.color_hex)||"#e2e8f0"},O=X=>{const se=X.replace("#",""),ve=parseInt(se.substr(0,2),16),Ze=parseInt(se.substr(2,2),16),Nt=parseInt(se.substr(4,2),16);return(.299*ve+.587*Ze+.114*Nt)/255>.5?"#000000":"#ffffff"};p.useEffect(()=>{if(o.length>0){const X=new Map;jke.forEach(se=>{X.set(se.key,{...se})}),o.forEach(se=>{var ve;if(!Ske.includes(se.column_name)){const Ze=X.get(se.column_name);Ze?(Ze.type=se.data_type,Ze.required=se.is_nullable==="NO",(ve=se.enum_values)!=null&&ve.length&&(Ze.options=se.enum_values,Ze.is_enum=!0)):X.set(se.column_name,{id:`dynamic_${se.column_name}`,name:se.column_name.split("_").map(Nt=>Nt.charAt(0).toUpperCase()+Nt.slice(1)).join(" "),key:se.column_name,type:se.data_type,required:se.is_nullable==="NO",visible:!0,options:se.enum_values||[],is_enum:se.is_enum||!1,column_default:se.column_default})}}),d(Array.from(X.values()))}},[o]),p.useEffect(()=>{l&&j({title:"Error loading schema",description:l.message,variant:"destructive"})},[l,j]);const $=X=>{var ve,Ze;const se={};return(ve=X.name)!=null&&ve.trim()||(se.name="Name is required"),(Ze=X.key)!=null&&Ze.trim()?/^[a-z0-9_]+$/.test(X.key)||(se.key="Key must be lowercase with underscores (a-z, 0-9, _)"):se.key="Key is required",X.type||(se.type="Type is required"),X.type==="enum"&&((!X.enumTypeName||!X.enumTypeName.trim())&&(se.enumTypeName="Enum type name is required"),(!X.enumValues||X.enumValues.length<2||X.enumValues.some(Nt=>!Nt.trim()))&&(se.enumValues="At least two non-empty enum values are required")),se},I=p.useCallback(async()=>{if(b){console.log("Already submitting, ignoring duplicate call");return}x(!0),console.log("Starting enum submission");try{console.log("Creating enum with values:",v.enumValues);const{data:X,error:se}=await de.functions.invoke("enum-manager",{method:"POST",body:{action:"create",type:v.key,value:v.enumValues}});if(se){console.error("Enum creation error:",se),j({title:"Error Creating Enum Type",description:se.message,variant:"destructive"});return}console.log("Enum created successfully:",X);const ve={name:v.name,key:v.key,type:v.type,enumType:X.name,description:v.description||`${v.name} property`,required:v.required||!1,options:X.values,default_value:v.default_value||null};console.log("Creating property with body:",ve);const{data:Ze,error:Nt}=await de.functions.invoke("property-manager",{method:"POST",body:ve});if(Nt)throw console.error("Property creation error:",Nt),Nt;if(Ze){console.log("Property created successfully:",Ze);const ot=Ze.data||Ze,ss={id:ot.id,name:ot.name,key:ot.key,type:ot.property_type,required:ot.required||!1,visible:!0,options:ot.options||[],is_enum:ot.property_type==="enum",description:ot.description,category:ot.category||void 0,default_value:ot.default_value||void 0};console.log("Adding column to properties:",ss),d(ai=>{console.log("Current properties count:",ai.length);const Xr=[...ai,ss];return console.log("Updated properties count:",Xr.length),Xr});const cr={name:"",key:"",type:"text",required:!0,visible:!0,options:[],enumType:"",enumTypeName:"",enumValues:[]};console.log("Resetting form state to:",cr),_(cr),console.log("Closing dialog"),h(!1),j({title:"Property Added",description:`Successfully added property '${ot.name}'

Note: Please refresh the page to see the new column in the table.`,duration:5e3});try{await c(),console.log("Table schema refreshed successfully"),await k(),console.log("Enums refreshed after new column creation"),window.dispatchEvent(new CustomEvent("schemaUpdated",{detail:{action:"enum_column_added",columnKey:v.key,columnName:v.name}}))}catch(ai){console.error("Failed to refresh table schema:",ai)}console.log("Enum submission completed successfully")}else throw new Error((Ze==null?void 0:Ze.error)||"Failed to add property")}catch(X){console.error("Error adding enum column:",X);let se=X.message||"Failed to add column";se.includes("already exists")?se="A column with this key already exists. Please choose a different key.":se.includes("reserved SQL keyword")?se=`Invalid column name: ${se}`:se.includes("invalid input syntax")&&(se="Invalid column name. Please use only letters, numbers, and underscores."),j({title:"Error Adding Column",description:se,variant:"destructive"})}finally{console.log("Setting isSubmitting to false"),x(!1)}},[b,v,j,c]),B=async X=>{var Nt,ot;if(X.preventDefault(),!((Nt=v.name)!=null&&Nt.trim())||!((ot=v.key)!=null&&ot.trim())){j({title:"Validation Error",description:"Name and key are required fields",variant:"destructive"});return}const se=$(v);if(Object.keys(se).length>0){j({title:"Validation Error",description:Object.values(se)[0],variant:"destructive"});return}const ve=v.key.toLowerCase();if(u.some(ss=>ss.key.toLowerCase()===ve)){j({title:"Validation Error",description:`A property with the key '${ve}' already exists`,variant:"destructive"});return}if(v.type==="enum"){await I();return}x(!0);try{const ss={name:v.name,key:v.key,type:v.type,enumType:v.enumType,description:v.description||`${v.name} property`,required:v.required||!1,options:v.options||[],default_value:v.default_value||null},{data:cr,error:ai}=await de.functions.invoke("property-manager",{method:"POST",body:ss});if(ai)throw ai;if(cr){const Xr=cr.data||cr,db={id:Xr.id,name:Xr.name,key:Xr.key,type:Xr.property_type,required:Xr.required||!1,visible:!0,options:Xr.options||[],is_enum:Xr.property_type==="select",description:Xr.description,category:Xr.category||void 0,default_value:Xr.default_value||void 0};d(fb=>[...fb,db]),_({name:"",key:"",type:"text",required:!0,visible:!0,options:[],enumType:"",enumTypeName:"",enumValues:[]}),h(!1),j({title:"Property Added",description:`Successfully added property '${cr.data.name}'

Note: Please refresh the page to see the new column in the table.`,duration:5e3})}else throw new Error((cr==null?void 0:cr.error)||"Failed to add property")}catch(ss){console.error("Error adding column:",ss);let cr=ss.message||"Failed to add column";cr.includes("already exists")?cr="A column with this key already exists. Please choose a different key.":cr.includes("reserved SQL keyword")?cr=`Invalid column name: ${cr}`:cr.includes("invalid input syntax")&&(cr="Invalid column name. Please use only letters, numbers, and underscores."),j({title:"Error Adding Column",description:cr,variant:"destructive"})}finally{x(!1)}},U=X=>{L(X),K(""),Y("#3B82F6"),X.key==="rack"?Le(!0):N(!0)},[T,N]=p.useState(!1),[M,L]=p.useState(null),[W,K]=p.useState(""),[z,H]=p.useState(!1),[V,oe]=p.useState(""),[te,Ne]=p.useState(""),[ee,pe]=p.useState(!1),[we,Q]=p.useState({}),[Je,Le]=p.useState(!1),[et,it]=p.useState(""),[re,D]=p.useState(""),[F,Y]=p.useState("#3B82F6"),[me,ce]=p.useState(0),[le,Ie]=p.useState(!1),[Be,jt]=p.useState(""),[Xe,Pr]=p.useState(null),[Fr,$n]=p.useState("#3B82F6"),da=async X=>{if(X.preventDefault(),!(!M||!W.trim()))try{if(await S(M.key,W),(M.key==="allocation"||M.key==="model")&&F){const se=M.key==="allocation"?"allocation_type":"model_type";try{await A(se,W,F,`${W} Color`)&&(await E(),ce(Ze=>Ze+1),console.log("Colors refreshed after saving new color"),window.dispatchEvent(new CustomEvent("colorsUpdated",{detail:{enumType:se}})),console.log(" ServerProperties: Dispatched colorsUpdated event for",se))}catch(ve){console.error("Error saving color:",ve)}}await k(),d(se=>se.map(ve=>ve.key===M.key&&ve.options?{...ve,options:[...ve.options,W]}:ve));try{await c(),console.log("Table schema refreshed after enum value addition"),window.dispatchEvent(new CustomEvent("enumsUpdated",{detail:{action:"enum_value_added",columnKey:M.key,columnName:M.name,newValue:W}})),window.dispatchEvent(new CustomEvent("schemaUpdated",{detail:{action:"enum_value_added",columnKey:M.key,columnName:M.name,newValue:W}}))}catch(se){console.error("Failed to refresh table schema after enum value addition:",se)}j({title:"Option Added",description:`Added ${W} to ${M.key}`}),N(!1),K(""),Y("#3B82F6")}catch(se){j({title:"Error",description:se.message,variant:"destructive"})}},ns=p.useCallback(async()=>{var ve;const X=u.find(Ze=>Ze.key==="rack");if(!(X!=null&&X.options))return;const se={};for(const Ze of X.options)try{const{data:Nt,error:ot}=await de.functions.invoke("get-rack-data",{body:{rackName:Ze}});!ot&&((ve=Nt==null?void 0:Nt.data)!=null&&ve.description)&&(se[Ze]=Nt.data.description)}catch(Nt){console.error(`Error fetching description for rack ${Ze}:`,Nt)}Q(se)},[u]),Ln=async(X,se)=>{pe(!0);try{const{error:ve}=await de.functions.invoke("update-rack-description",{body:{rack_name:X,dc_site:"DC-East",dc_building:"Building-A",dc_floor:"1",dc_room:"MDF",description:se}});if(ve)throw ve;return Q(Ze=>({...Ze,[X]:se})),j({title:"Success",description:`Description for ${X} saved successfully!`}),!0}catch(ve){return console.error("Error saving rack description:",ve),j({title:"Error",description:ve.message||"Failed to save rack description",variant:"destructive"}),!1}finally{pe(!1)}},fa=X=>{oe(X),Ne(we[X]||""),H(!0)},ii=(X,se)=>{Pr(X),jt(se);const ve=P(X.key,se);$n(ve),Ie(!0)},Es=async()=>{if(!(!Xe||!Be||!Fr))try{const X=Xe.key==="allocation"?"allocation_type":"model_type";if(await A(X,Be,Fr,`${Be} Color`))await E(),ce(ve=>ve+1),window.dispatchEvent(new CustomEvent("colorsUpdated",{detail:{enumType:X}})),console.log(" ServerProperties: Dispatched colorsUpdated event for",X),j({title:"Color Updated",description:`Updated color for ${Be}`}),Ie(!1),jt(""),Pr(null),$n("#3B82F6");else throw new Error("Failed to save color")}catch(X){console.error("Error updating color:",X),j({title:"Error",description:"Failed to update color",variant:"destructive"})}},Kc=async X=>{if(X.preventDefault(),!(!M||!et.trim()))try{await S(M.key,et),re.trim()&&await Ln(et,re),await k(),d(se=>se.map(ve=>ve.key===M.key&&ve.options?{...ve,options:[...ve.options,et]}:ve));try{await c(),console.log("Table schema refreshed after rack addition"),window.dispatchEvent(new CustomEvent("enumsUpdated",{detail:{action:"enum_value_added",columnKey:M.key,columnName:M.name,newValue:et}})),window.dispatchEvent(new CustomEvent("schemaUpdated",{detail:{action:"enum_value_added",columnKey:M.key,columnName:M.name,newValue:et}}))}catch(se){console.error("Failed to refresh table schema after rack addition:",se)}j({title:"Rack Added",description:`Added ${et} to ${M.key}${re?" with description":""}`}),Le(!1),it(""),D(""),await ns()}catch(se){j({title:"Error",description:se.message,variant:"destructive"})}};p.useEffect(()=>{u.length>0&&ns()},[u,ns]);const Ke=X=>{_(se=>{const ve={...se,type:X};return X==="select"&&!se.options?ve.options=[]:X==="enum"&&!se.enumType?(ve.enumType="",delete ve.options):X!=="select"&&X!=="enum"&&se.options&&(delete ve.options,delete ve.enumType),ve})},ge=X=>{const{id:se,value:ve}=X.target;_(Ze=>({...Ze,[se]:ve}))},St=async()=>{if(g){x(!0);try{const{data:X,error:se}=await de.functions.invoke("property-manager",{method:"DELETE",body:{key:g.key}});if(se)throw se;if(X!=null&&X.success)d(u.filter(ve=>ve.key!==(g==null?void 0:g.key))),j({title:"Success",description:X.message||"Column deleted successfully"});else throw new Error((X==null?void 0:X.error)||"Failed to delete column")}catch(X){console.error("Error deleting column:",X),j({title:"Error",description:X.message||"Failed to delete column. Please check console for details.",variant:"destructive"})}finally{x(!1),y(!1),w(null)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Server Properties & Management"}),a.jsx("p",{className:"text-slate-600",children:"Customize server properties and manage data"})]})}),a.jsxs(qm,{defaultValue:"properties",className:"space-y-6",children:[a.jsxs(Hd,{className:"grid w-full grid-cols-2",children:[a.jsx(Tr,{value:"properties",children:"Properties"}),a.jsx(Tr,{value:"import",children:"Bulk Import"})]}),a.jsxs(Mr,{value:"properties",className:"space-y-6",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs(jr,{open:f,onOpenChange:h,children:[a.jsx(nm,{asChild:!0,children:a.jsxs(G,{children:[a.jsx(Aa,{className:"h-4 w-4 mr-2"}),"Add Property"]})}),a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Add New Property"}),a.jsx(pr,{children:"Create a new server property to track additional information"})]}),a.jsxs("form",{onSubmit:B,children:[a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"name",children:"Property Name"}),a.jsx(qe,{id:"name",value:v.name||"",onChange:ge,placeholder:"e.g., Networks"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"key",children:"Property Key"}),a.jsx(qe,{id:"key",value:v.key||"",onChange:ge,placeholder:"e.g., networks"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"type",children:"Property Type"}),a.jsxs(Se,{value:v.type||"text",onValueChange:Ke,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select property type"})}),a.jsxs(je,{children:[a.jsx(q,{value:"text",children:"Text"}),a.jsx(q,{value:"number",children:"Number"}),a.jsx(q,{value:"date",children:"Date"}),a.jsx(q,{value:"boolean",children:"Boolean"}),a.jsx(q,{value:"enum",children:"Enum (Database Type)"})]})]})]}),v.type==="enum"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Enum Values"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{value:v.enumTypeName||"",onChange:X=>{_(se=>({...se,enumTypeName:X.target.value,enumValues:[X.target.value,...(se.enumValues||[]).filter((ve,Ze)=>Ze!==0)]}))},placeholder:"First enum value (e.g., device_status)"}),(v.enumValues||[]).slice(1).map((X,se)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qe,{value:X,onChange:ve=>{const Ze=[...v.enumValues||[]];Ze[se+1]=ve.target.value,_(Nt=>({...Nt,enumValues:Ze}))},placeholder:"Enum value"}),a.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:()=>{_(ve=>({...ve,enumValues:(ve.enumValues||[]).filter((Ze,Nt)=>Nt!==se+1)}))},children:"Remove"})]},se+1)),a.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:()=>{_(X=>({...X,enumValues:[...X.enumValues||[],""]}))},children:"Add Value"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nN,{id:"required",checked:v.required||!1,onCheckedChange:X=>_(se=>({...se,required:X}))}),a.jsx(ne,{htmlFor:"required",children:"Required field"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx(G,{type:"button",variant:"outline",onClick:()=>h(!1),disabled:b,children:"Cancel"}),a.jsx(G,{type:"submit",disabled:b,children:b?"Adding...":"Add Property"})]})]})]})]})}),a.jsxs(Ce,{children:[a.jsxs(Ue,{children:[a.jsx(Ve,{children:"Property Configuration"}),a.jsx(It,{children:"Manage which properties are visible and required for servers"})]}),a.jsx(Ae,{children:a.jsx("div",{className:"space-y-4",children:u.map(X=>{var se;return a.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium",children:X.name}),X.required&&a.jsx(We,{variant:"secondary",className:"text-xs",children:"Required"}),a.jsx(We,{variant:"outline",className:"text-xs",children:X.type}),X.type==="enum"&&X.enumType&&a.jsx(We,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:X.enumType}),X.is_enum&&a.jsx(We,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:"ENUM"})]}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Key: ",X.key]}),X.is_enum&&a.jsx("div",{className:"flex flex-wrap gap-2 mt-2 items-center justify-start",children:(se=X.options)==null?void 0:se.map(ve=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(We,{variant:"secondary",className:"px-2 py-1 rounded-full text-xs font-normal",style:X.key==="model"||X.key==="allocation"?{backgroundColor:P(X.key,ve),color:O(P(X.key,ve)),border:`1px solid ${P(X.key,ve)}`}:{},children:[ve,X.key==="rack"&&we[ve]&&a.jsxs("span",{className:"ml-1 text-slate-500",children:["(",we[ve],")"]})]},`${ve}-${me}`),X.key==="rack"&&a.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>fa(ve),className:"h-6 w-6 p-0 hover:bg-slate-100",title:`Edit description for ${ve}`,children:a.jsx(Bf,{className:"h-3 w-3"})}),(X.key==="model"||X.key==="allocation")&&a.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>ii(X,ve),className:"h-6 w-6 p-0 hover:bg-slate-100",title:`Edit color for ${ve}`,children:a.jsx(Bf,{className:"h-3 w-3"})})]},ve))})]}),X.is_enum&&a.jsxs("div",{className:"flex flex-col items-end justify-start min-w-[100px]",children:[a.jsx("div",{className:"flex gap-2 mb-2",children:a.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:()=>U(X),className:"flex items-center justify-center h-7 text-xs px-2",children:[a.jsx(Aa,{className:"h-3 w-3 mr-1"}),"Add Option"]})}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(We,{variant:"secondary",className:"text-xs",children:"Required"}),X.isSystem&&a.jsx(We,{variant:"outline",className:"text-xs",children:"System"})]}),!X.isSystem&&a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{w(X),y(!0)},className:"text-gray-500 hover:text-gray-700 mt-2",children:a.jsx(Sx,{className:"h-4 w-4"})})]})]})},X.id)})})})]}),a.jsx(jr,{open:m,onOpenChange:y,children:a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Delete Column"}),a.jsxs(pr,{children:['Are you sure you want to delete the column "',g==null?void 0:g.name,'"? This action cannot be undone.']})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx(G,{variant:"outline",onClick:()=>y(!1),disabled:b,children:"Cancel"}),a.jsx(G,{variant:"destructive",onClick:St,disabled:b,children:b?"Deleting...":"Delete Column"})]})]})})]}),a.jsx(Mr,{value:"import",className:"space-y-6",children:a.jsx(_ke,{})})]}),a.jsx(jr,{open:T,onOpenChange:N,children:a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Add Enum Option"}),a.jsxs(pr,{children:["Add a new option to ",M==null?void 0:M.name,a.jsx("br",{}),a.jsx("span",{className:"text-amber-600 font-medium",children:" Warning: Enum values cannot be deleted after being added."})]})]}),a.jsxs("form",{onSubmit:da,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"enumValue",children:"Option Name"}),a.jsx(qe,{id:"enumValue",value:W,onChange:X=>K(X.target.value),placeholder:"Enter new option",required:!0})]}),((M==null?void 0:M.key)==="allocation"||(M==null?void 0:M.key)==="model")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"enumColor",children:"Color"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{id:"enumColor",type:"color",value:F,onChange:X=>Y(X.target.value),className:"w-12 h-8 rounded border border-gray-300 cursor-pointer"}),a.jsx(qe,{value:F,onChange:X=>Y(X.target.value),placeholder:"#3B82F6",className:"w-24 font-mono text-sm"}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Choose a color for this ",M==null?void 0:M.name.toLowerCase()," value"]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(G,{type:"button",variant:"outline",onClick:()=>{N(!1),K(""),Y("#3B82F6")},children:"Cancel"}),a.jsx(G,{type:"submit",children:"Add Option"})]})]})]})}),a.jsx(jr,{open:Je,onOpenChange:Le,children:a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Add New Rack"}),a.jsxs(pr,{children:["Add a new rack with optional description",a.jsx("br",{}),a.jsx("span",{className:"text-amber-600 font-medium",children:" Warning: Rack values cannot be deleted after being added."})]})]}),a.jsxs("form",{onSubmit:Kc,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"rackName",children:"Rack Name"}),a.jsx(qe,{id:"rackName",value:et,onChange:X=>it(X.target.value),placeholder:"e.g., RACK-04",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"rackDescription",children:"Description (Optional)"}),a.jsx(qe,{id:"rackDescription",value:re,onChange:X=>D(X.target.value),placeholder:"e.g., High-density compute rack",maxLength:40}),a.jsxs("div",{className:"text-xs text-gray-500",children:[re.length,"/40 characters"]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(G,{type:"button",variant:"outline",onClick:()=>Le(!1),children:"Cancel"}),a.jsx(G,{type:"submit",children:"Add Rack"})]})]})]})}),a.jsx(jr,{open:z,onOpenChange:H,children:a.jsxs(fr,{className:"sm:max-w-[425px]",children:[a.jsxs(hr,{children:[a.jsxs(mr,{className:"flex items-center space-x-2",children:[a.jsx(Bf,{className:"h-5 w-5"}),a.jsx("span",{children:"Edit Rack Description"})]}),a.jsxs(pr,{children:["Update the description for ",V]})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(ne,{htmlFor:"description",className:"text-right",children:"Description"}),a.jsx(qe,{id:"description",value:te,onChange:X=>Ne(X.target.value),placeholder:"Enter rack description",maxLength:40,className:"col-span-3"})]}),a.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[te.length,"/40 characters"]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(G,{type:"button",variant:"outline",onClick:()=>H(!1),children:"Cancel"}),a.jsx(G,{type:"button",onClick:async()=>{await Ln(V,te)&&H(!1)},disabled:ee,children:ee?"Saving...":"Save Changes"})]})]})}),a.jsx(jr,{open:le,onOpenChange:Ie,children:a.jsxs(fr,{className:"sm:max-w-[425px]",children:[a.jsxs(hr,{children:[a.jsxs(mr,{className:"flex items-center space-x-2",children:[a.jsx(Bf,{className:"h-5 w-5"}),a.jsx("span",{children:"Edit Color"})]}),a.jsxs(pr,{children:['Update the color for "',Be,'" in ',Xe==null?void 0:Xe.name]})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"editColor",children:"Color"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{id:"editColor",type:"color",value:Fr,onChange:X=>$n(X.target.value),className:"w-12 h-8 rounded border border-gray-300 cursor-pointer"}),a.jsx(qe,{value:Fr,onChange:X=>$n(X.target.value),placeholder:"#3B82F6",className:"w-24 font-mono text-sm"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Choose a new color"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Preview"}),a.jsx(We,{variant:"secondary",className:"px-3 py-1 rounded-full text-sm font-normal",style:{backgroundColor:Fr,color:O(Fr),border:`1px solid ${Fr}`},children:Be})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(G,{type:"button",variant:"outline",onClick:()=>Ie(!1),children:"Cancel"}),a.jsx(G,{type:"button",onClick:Es,children:"Save Color"})]})]})})]})},QD=[{id:"1",name:"A-12",floor:1,location:"DC-East",capacity:42,occupied:28,powerUsage:85,status:"Normal",servers:{total:14,active:12,maintenance:1,offline:1}},{id:"2",name:"A-13",floor:1,location:"DC-East",capacity:42,occupied:35,powerUsage:92,status:"Warning",servers:{total:18,active:15,maintenance:2,offline:1}},{id:"3",name:"B-08",floor:2,location:"DC-East",capacity:42,occupied:40,powerUsage:95,status:"Critical",servers:{total:20,active:17,maintenance:1,offline:2}},{id:"4",name:"B-09",floor:2,location:"DC-East",capacity:42,occupied:22,powerUsage:70,status:"Normal",servers:{total:11,active:10,maintenance:1,offline:0}},{id:"5",name:"C-05",floor:3,location:"DC-East",capacity:42,occupied:30,powerUsage:80,status:"Normal",servers:{total:15,active:14,maintenance:0,offline:1}},{id:"6",name:"D-15",floor:1,location:"DC-West",capacity:42,occupied:25,powerUsage:75,status:"Normal",servers:{total:13,active:12,maintenance:1,offline:0}}],Nke=({onViewRack:e})=>{const[t,r]=p.useState(""),[n,s]=p.useState(""),[i,o]=p.useState(""),[l,c]=p.useState("");gr("dc_site",t,r),gr("dc_building",n,s),gr("dc_floor",i,o),gr("dc_room",l,c);const[u,d]=p.useState("DC-East"),[f,h]=p.useState("all"),[m,y]=p.useState("all"),[g,w]=p.useState(0),[b,x]=p.useState(""),[v,_]=p.useState(null),{toast:j}=Er(),S=QD.filter(E=>!(E.location!==u||f==="status"&&m!=="all"&&E.status!==m||f==="utilization"&&E.occupied/E.capacity*100<g||b&&!E.name.toLowerCase().includes(b.toLowerCase()))),k=[...new Set(QD.filter(E=>E.location===u).map(E=>E.floor))].sort(),C=(E,A)=>{e?e(E):(_(E),j({title:"Rack Selected",description:`Viewing detailed information for ${A}`}))};return k.reduce((E,A)=>(E[A]=S.filter(P=>P.floor===A),E),{}),S.reduce((E,A)=>E+A.servers.total,0),S.length>0&&Math.round(S.reduce((E,A)=>E+A.occupied/A.capacity*100,0)/S.length),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Data Center View"}),a.jsx("p",{className:"text-slate-600",children:"Overview of all racks organized by floors with enhanced search"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nj,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Racks"}),a.jsx("p",{className:"text-2xl font-bold",children:S.length})]})]})})}),a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qi,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Servers"}),a.jsx("p",{className:"text-2xl font-bold",children:S.reduce((E,A)=>E+A.servers.total,0)})]})]})})}),a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Aq,{className:"h-5 w-5 text-orange-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Avg Utilization"}),a.jsxs("p",{className:"text-2xl font-bold",children:[S.length>0?Math.round(S.reduce((E,A)=>E+A.occupied/A.capacity*100,0)/S.length):0,"%"]})]})]})})}),a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-5 w-5 bg-red-500 rounded"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Critical Racks"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:S.filter(E=>E.status==="Critical").length})]})]})})})]}),a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx(Ha,{className:"h-5 w-5"}),a.jsx("span",{children:"Filters"})]})}),a.jsx(Ae,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Data Center"}),a.jsxs(Se,{value:u,onValueChange:d,children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"DC-East",children:"DC-East"}),a.jsx(q,{value:"DC-West",children:"DC-West"}),a.jsx(q,{value:"DC-Central",children:"DC-Central"}),a.jsx(q,{value:"DC-North",children:"DC-North"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Floor"}),a.jsxs(Se,{value:i.toString(),onValueChange:E=>o(E==="all"?"all":parseInt(E).toString()),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Floors"}),k.map(E=>a.jsxs(q,{value:E.toString(),children:["Floor ",E]},E))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Filter By"}),a.jsxs(Se,{value:f,onValueChange:E=>h(E),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All"}),a.jsx(q,{value:"status",children:"Status"}),a.jsx(q,{value:"utilization",children:"Utilization"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[f==="status"&&a.jsxs(a.Fragment,{children:[a.jsx(ne,{children:"Status"}),a.jsxs(Se,{value:m,onValueChange:E=>y(E),children:[a.jsx(_e,{children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Statuses"}),a.jsx(q,{value:"Normal",children:"Normal"}),a.jsx(q,{value:"Warning",children:"Warning"}),a.jsx(q,{value:"Critical",children:"Critical"})]})]})]}),f==="utilization"&&a.jsxs(a.Fragment,{children:[a.jsx(ne,{children:"Min Utilization (%)"}),a.jsx(qe,{type:"number",value:g,onChange:E=>w(parseInt(E.target.value)||0),placeholder:"0",min:"0",max:"100"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Search Racks"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(qe,{placeholder:"Search rack names...",value:b,onChange:E=>x(E.target.value),className:"pl-10"})]})]})]})})]}),a.jsx("div",{className:"space-y-6",children:k.map(E=>{const A=S.filter(P=>P.floor===E);return A.length===0?null:a.jsxs(Ce,{children:[a.jsxs(Ue,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nj,{className:"h-5 w-5 text-blue-600"}),a.jsxs(Ve,{children:["Floor ",E]})]}),a.jsxs(We,{variant:"outline",children:[A.length," rack",A.length!==1?"s":""]})]}),a.jsxs(It,{children:[u," - Level ",E]})]}),a.jsx(Ae,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:A.map(P=>a.jsxs(Ce,{className:"border border-slate-200 hover:border-slate-300 transition-colors",children:[a.jsx(Ue,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ve,{className:"text-lg",children:P.name}),a.jsx(We,{className:P.status==="Normal"?"bg-green-100 text-green-700 hover:bg-green-100":P.status==="Warning"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-100":"bg-red-100 text-red-700 hover:bg-red-100",children:P.status})]})}),a.jsxs(Ae,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Capacity:"}),a.jsxs("span",{className:"font-medium",children:[P.occupied,"/",P.capacity,"U"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${P.occupied/P.capacity>.9?"bg-red-500":P.occupied/P.capacity>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${P.occupied/P.capacity*100}%`}})}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Utilization:"}),a.jsxs("span",{className:"font-medium",children:[Math.round(P.occupied/P.capacity*100),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Power Usage:"}),a.jsxs("span",{className:"font-medium",children:[P.powerUsage,"%"]})]}),a.jsx("div",{className:"pt-2 border-t",children:a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"Servers:"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsx("span",{children:P.servers.active})]}),a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),a.jsx("span",{children:P.servers.maintenance})]}),a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsx("span",{children:P.servers.offline})]})]})]})}),a.jsxs(G,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>C(P.id,P.name),children:[a.jsx(Us,{className:"h-3 w-3 mr-1"}),"View Rack"]})]})]},P.id))})})]},E)})}),S.length===0&&a.jsx(Ce,{children:a.jsxs(Ae,{className:"text-center py-12",children:[a.jsx(Lq,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-500",children:"No racks found matching the current filters"})]})})]})},Cke=()=>{var it;const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(""),[o,l]=p.useState(1),[c,u]=p.useState({}),[d,f]=p.useState(null),[h,m]=p.useState(""),[y,g]=p.useState(!1),[w,b]=p.useState(!1),[x,v]=p.useState(""),[_,j]=p.useState(""),[S,k]=p.useState(!1),[C,E]=p.useState(null),[A,P]=p.useState(!1),[O,$]=p.useState(!1),[I,B]=p.useState(null),[U,T]=p.useState(""),[N,M]=p.useState(!1),[L,W]=p.useState(!1),[K,z]=p.useState(null),{toast:H}=Er(),V=[{value:"viewer",label:"Viewer",description:"Can only view data"},{value:"engineer",label:"Engineer",description:"Can view and edit servers and properties"},{value:"super_admin",label:"Super Admin",description:"Full access including user management"}];gr("userMgmt_page",o,l),gr("userMgmt_filters",c,u),gr("userMgmt_search",s,i),rp({editingUser:d,newUserEmail:x,newUserRole:_},"userManagement_form"),np("userManagement_form",re=>{re.editingUser&&f(re.editingUser),re.newUserEmail&&v(re.newUserEmail),re.newUserRole&&j(re.newUserRole)}),p.useEffect(()=>{oe()},[]);const oe=async()=>{try{n(!0);const{data:re,error:D}=await de.from("profiles").select("*");if(D)throw D;const{data:F,error:Y}=await de.from("user_roles").select("user_id, role");if(Y)throw Y;const me=(re==null?void 0:re.map(ce=>({...ce,user_roles:(F==null?void 0:F.filter(le=>le.user_id===ce.id))||[]})))||[];t(me)}catch(re){console.error("Error fetching users:",re),H({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{n(!1)}},te=async(re,D)=>{try{const{error:F}=await de.from("user_roles").update({role:D}).eq("user_id",re);if(F)throw F;H({title:"Success",description:"User role updated successfully"}),oe(),g(!1),f(null),m("")}catch(F){console.error("Error updating user role:",F),H({title:"Error",description:"Failed to update user role",variant:"destructive"})}},Ne=async()=>{var re;if(!I||!U){H({title:"Error",description:"Please enter a new password",variant:"destructive"});return}try{M(!0);const{data:{session:D},error:F}=await de.auth.getSession();if(F||!D)throw console.error("Session error or no active session:",F),new Error((F==null?void 0:F.message)||"No active session. Please log in again.");const me="http://localhost:8000/functions/v1/admin-reset-password";console.log("Calling password reset function:",{functionUrl:me,userId:I});const ce=await fetch(me,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D.access_token}`},body:JSON.stringify({userId:I,newPassword:U})}),le=await ce.json().catch(()=>({}));if(!ce.ok)throw console.error("Error response from server:",{status:ce.status,statusText:ce.statusText,responseData:le}),new Error(((re=le.error)==null?void 0:re.message)||le.message||`Failed to reset password (Status: ${ce.status})`);H({title:"Success",description:"Password has been reset successfully"}),T(""),B(null)}catch(D){console.error("Error in handleResetPassword:",D),H({title:"Error",description:D instanceof Error?D.message:"An unknown error occurred",variant:"destructive"})}finally{M(!1)}},ee=async()=>{if(C)try{$(!0);const{data:{session:re}}=await de.auth.getSession();if(!re)throw new Error("No active session");const F=await fetch("http://localhost:8000/functions/v1/admin-delete-user",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re.access_token}`},body:JSON.stringify({userId:C.id})});if(!F.ok){const Y=await F.json().catch(()=>({}));throw new Error(Y.error||"Failed to delete user")}H({title:"Success",description:"User has been deleted successfully"}),oe(),P(!1),E(null)}catch(re){console.error("Error deleting user:",re),H({title:"Error",description:re instanceof Error?re.message:"Failed to delete user",variant:"destructive"})}finally{$(!1)}},pe=async()=>{if(!x||!_){H({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}try{k(!0);const{data:{session:re}}=await de.auth.getSession();if(!re)throw new Error("No active session");const D="http://localhost:8000",F=Array.from(crypto.getRandomValues(new Uint8Array(8))).map(ce=>(ce%36).toString(36)).join("")+"A1!";console.log(`Temporary password for ${x}: ${F}`);const Y=await fetch(`${D}/functions/v1/admin-create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re.access_token}`},body:JSON.stringify({email:x,password:F,fullName:x.split("@")[0],role:_})});if(!Y.ok){const ce=await Y.json().catch(()=>({}));throw new Error(ce.error||"Failed to create user")}const me=()=>{navigator.clipboard.writeText(F),H({title:"Copied!",description:"Password copied to clipboard",duration:2e3})};H({title:"User Created Successfully",description:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:["User account created for ",x]}),a.jsxs("div",{className:"bg-yellow-50 p-2 rounded-md text-sm text-yellow-800 border border-yellow-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("p",{className:"font-medium",children:"Temporary Password:"}),a.jsx(G,{variant:"ghost",size:"sm",className:"text-xs h-6 px-2 text-yellow-700 hover:bg-yellow-100",onClick:ce=>{ce.stopPropagation(),me()},children:"Copy"})]}),a.jsxs("div",{className:"flex items-center justify-between bg-yellow-100 px-3 py-2 rounded font-mono text-sm mb-2",children:[a.jsx("span",{className:"select-all",children:F}),a.jsx("button",{onClick:ce=>{ce.stopPropagation(),me()},className:"ml-2 text-yellow-600 hover:text-yellow-800",title:"Copy to clipboard",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),a.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),a.jsx("p",{className:"text-xs text-yellow-700",children:"Please provide this password to the user securely."}),a.jsx("p",{className:"text-xs text-yellow-700",children:"They will be prompted to change it on first login."})]})]}),duration:1e4,className:"[&>div]:w-full"}),v(""),j(""),b(!1),oe()}catch(re){console.error("Error adding user:",re),H({title:"Error",description:re instanceof Error?re.message:"Failed to add user",variant:"destructive"})}finally{k(!1)}},we=re=>{switch(re){case"super_admin":return"bg-red-100 text-red-700 hover:bg-red-100";case"engineer":return"bg-blue-100 text-blue-700 hover:bg-blue-100";case"viewer":return"bg-gray-100 text-gray-700 hover:bg-gray-100";default:return"bg-gray-100 text-gray-700 hover:bg-gray-100"}},Q=re=>{const D={variant:"outline",className:re?"bg-green-50 text-green-700 border-green-200":"bg-amber-50 text-amber-700 border-amber-200"};return re?a.jsxs(We,{...D,children:[a.jsx(Wh,{className:"h-3 w-3 mr-1"})," Active"]}):a.jsxs(We,{...D,children:[a.jsx(ra,{className:"h-3 w-3 mr-1"})," Pending"]})},Je=async(re,D)=>{try{z(re);const{error:F}=await de.from("profiles").update({status:D}).eq("id",re);if(F)throw F;H({title:"Success",description:`User has been ${D?"approved":"rejected"} successfully`}),oe()}catch(F){console.error("Error updating user status:",F),H({title:"Error",description:F instanceof Error?F.message:"Failed to update user status",variant:"destructive"})}finally{z(null)}},Le=e.filter(re=>{var D,F;return re.username.toLowerCase().includes(s.toLowerCase())||((D=re.full_name)==null?void 0:D.toLowerCase().includes(s.toLowerCase()))||((F=re.user_roles[0])==null?void 0:F.role.toLowerCase().includes(s.toLowerCase()))||(re.status?"active":"inactive").includes(s.toLowerCase())}),et=e.reduce((re,D)=>{var Y;const F=(Y=D.user_roles[0])==null?void 0:Y.role;return re[F]=(re[F]||0)+1,re},{});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Loading users..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"User Management"}),a.jsx("p",{className:"text-slate-600",children:"Manage user roles and permissions"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(jr,{open:w,onOpenChange:b,children:[a.jsx(nm,{asChild:!0,children:a.jsxs(G,{className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(Wq,{className:"h-4 w-4 mr-2"}),"Add User"]})}),a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Add New User"}),a.jsx(pr,{children:"Invite a new user to the system and assign them a role."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx($q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(qe,{id:"email",type:"email",placeholder:"user@example.com",value:x,onChange:re=>v(re.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Role"}),a.jsxs(Se,{value:_,onValueChange:re=>j(re),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select a role"})}),a.jsx(je,{children:V.map(re=>a.jsx(q,{value:re.value,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:re.label}),a.jsx("span",{className:"text-xs text-slate-500",children:re.description})]})},re.value))})]})]}),_==="super_admin"&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx($a,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-yellow-800",children:"Warning"}),a.jsx("p",{className:"text-yellow-700",children:"Super Admins have full access to the system including user management."})]})]})}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium",children:"How it works:"}),a.jsx("p",{children:"After creating the user, you'll need to provide them with the temporary password shown in the success message."}),a.jsx("p",{className:"mt-1 text-xs",children:"The user will be prompted to change their password on first login."})]})}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(G,{variant:"outline",onClick:()=>{b(!1),v(""),j("")},disabled:S,children:"Cancel"}),a.jsx(G,{onClick:pe,disabled:!x||!_||S,children:S?"Adding...":"Add User"})]})]})]})]}),a.jsxs(We,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[a.jsx(sj,{className:"h-3 w-3 mr-1"}),"Super Admin Only"]}),a.jsx(jr,{open:!!I,onOpenChange:re=>!re&&B(null),children:a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Reset User Password"}),a.jsx(pr,{children:"Set a new password for this user. They will need to use this password to log in."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"newPassword",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{id:"newPassword",type:L?"text":"password",value:U,onChange:re=>T(re.target.value),placeholder:"Enter new password",className:"pr-10"}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>W(!L),tabIndex:-1,children:L?a.jsx(Du,{className:"h-4 w-4"}):a.jsx(Us,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 8 characters. Include uppercase, lowercase, and numbers."})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx(G,{variant:"outline",onClick:()=>{B(null),T("")},disabled:N,children:"Cancel"}),a.jsx(G,{onClick:Ne,disabled:!U||U.length<8||N,children:N?"Updating...":"Update Password"})]})]})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ru,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sj,{className:"h-5 w-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Super Admins"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:et.super_admin||0})]})]})})}),a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vh,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Engineers"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:et.engineer||0})]})]})})}),a.jsx(Ce,{children:a.jsx(Ae,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ru,{className:"h-5 w-5 text-gray-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Viewers"}),a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:et.viewer||0})]})]})})})]}),a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsxs(Ve,{className:"flex items-center space-x-2",children:[a.jsx(cd,{className:"h-5 w-5"}),a.jsx("span",{children:"Search Users"})]})}),a.jsx(Ae,{children:a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx(ne,{children:"Search by username, name, or role"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(qe,{placeholder:"Search users...",value:s,onChange:re=>i(re.target.value),className:"pl-10"})]})]})})})]}),a.jsxs(Ce,{children:[a.jsxs(Ue,{children:[a.jsxs(Ve,{children:["Users (",Le.length,")"]}),a.jsx(It,{children:"Manage user roles and permissions. Click the edit button to change a user's role."})]}),a.jsxs(Ae,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(vd,{children:[a.jsx(yd,{children:a.jsxs(_i,{children:[a.jsx(pt,{children:"Username"}),a.jsx(pt,{children:"Full Name"}),a.jsx(pt,{children:"Status"}),a.jsx(pt,{children:"Current Role"}),a.jsx(pt,{children:"Member Since"}),a.jsx(pt,{className:"text-right",children:"Actions"})]})}),a.jsx(xd,{children:Le.map(re=>{var D,F;return a.jsxs(_i,{children:[a.jsx(gt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center",children:[re.username,re.status===!1&&a.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(Pending)"})]})}),a.jsx(gt,{children:re.full_name||""}),a.jsx(gt,{children:Q(re.status!==!1)}),a.jsx(gt,{children:a.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${we((D=re.user_roles[0])==null?void 0:D.role)}`,children:(F=re.user_roles[0])==null?void 0:F.role.replace("_"," ").replace(/\b\w/g,Y=>Y.toUpperCase())})}),a.jsx(gt,{children:re.created_at?new Date(re.created_at).toLocaleDateString():""}),a.jsx(gt,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{B(re.id),T("")},title:"Reset Password",children:a.jsx(Rq,{className:"h-4 w-4"})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{var Y;f(re),m(((Y=re.user_roles[0])==null?void 0:Y.role)||""),g(!0)},title:"Edit Role",children:a.jsx(Vh,{className:"h-4 w-4"})}),re.status===!1?a.jsxs(a.Fragment,{children:[a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>Je(re.id,!0),title:"Approve User",className:"text-green-600 hover:text-green-700 hover:bg-green-50",disabled:K===re.id,children:K===re.id?a.jsx(Ci,{className:"h-4 w-4 animate-spin"}):a.jsx(Wh,{className:"h-4 w-4"})}),a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{E(re),P(!0)},title:"Reject User",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(ra,{className:"h-4 w-4"})})]}):a.jsx(a.Fragment,{children:a.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{E(re),P(!0)},title:"Delete User",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(Sx,{className:"h-4 w-4"})})})]})})]},re.id)})})]})}),Le.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ru,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-500",children:"No users found matching your search."})]})]})]}),a.jsx(jr,{open:y,onOpenChange:g,children:a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Edit User Role"}),a.jsxs(pr,{children:["Change the role for ",(d==null?void 0:d.username)||"this user"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"New Role"}),a.jsxs(Se,{value:h,onValueChange:re=>m(re),children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"Select a role"})}),a.jsx(je,{children:V.map(re=>a.jsx(q,{value:re.value,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:re.label}),a.jsx("span",{className:"text-xs text-slate-500",children:re.description})]})},re.value))})]})]}),h==="super_admin"&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx($a,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-yellow-800",children:"Warning"}),a.jsx("p",{className:"text-yellow-700",children:"Super Admins have full access to the system including user management."})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[a.jsx(G,{variant:"outline",onClick:()=>{g(!1),f(null),m("")},children:"Cancel"}),a.jsx(G,{onClick:()=>{h&&d&&te(d.id,h)},disabled:!h||d&&h===((it=d.user_roles[0])==null?void 0:it.role),children:"Update Role"})]})]})]})}),a.jsx(jr,{open:A,onOpenChange:P,children:a.jsxs(fr,{children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Delete User"}),a.jsxs(pr,{children:["Are you sure you want to delete ",C==null?void 0:C.username,"? This action cannot be undone."]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsx(G,{variant:"outline",onClick:()=>{P(!1),E(null)},disabled:O,children:"Cancel"}),a.jsx(G,{variant:"destructive",onClick:ee,disabled:O,children:O?a.jsxs(a.Fragment,{children:[a.jsx(Ci,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete User"})]})]})})]})};var Z1=["Enter"," "],Eke=["ArrowDown","PageUp","Home"],QW=["ArrowUp","PageDown","End"],Pke=[...Eke,...QW],Ake={ltr:[...Z1,"ArrowRight"],rtl:[...Z1,"ArrowLeft"]},Oke={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bp="Menu",[km,Tke,Mke]=xx(bp),[Hc,JW]=Mi(bp,[Mke,gl,Kx]),cb=gl(),eV=Kx(),[Dke,qc]=Hc(bp),[Rke,wp]=Hc(bp),tV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=cb(t),[c,u]=p.useState(null),d=p.useRef(!1),f=yn(i),h=Hx(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(Ex,{...l,children:a.jsx(Dke,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(Rke,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};tV.displayName=bp;var Ike="MenuAnchor",kE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=cb(r);return a.jsx(Fm,{...s,...n,ref:t})});kE.displayName=Ike;var NE="MenuPortal",[$ke,rV]=Hc(NE,{forceMount:void 0}),nV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=qc(NE,t);return a.jsx($ke,{scope:t,forceMount:r,children:a.jsx(rs,{present:r||i.open,children:a.jsx(Id,{asChild:!0,container:s,children:n})})})};nV.displayName=NE;var Hs="MenuContent",[Lke,CE]=Hc(Hs),sV=p.forwardRef((e,t)=>{const r=rV(Hs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=qc(Hs,e.__scopeMenu),o=wp(Hs,e.__scopeMenu);return a.jsx(km.Provider,{scope:e.__scopeMenu,children:a.jsx(rs,{present:n||i.open,children:a.jsx(km.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(Fke,{...s,ref:t}):a.jsx(Bke,{...s,ref:t})})})})}),Fke=p.forwardRef((e,t)=>{const r=qc(Hs,e.__scopeMenu),n=p.useRef(null),s=ut(t,n);return p.useEffect(()=>{const i=n.current;if(i)return Qx(i)},[]),a.jsx(EE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ye(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Bke=p.forwardRef((e,t)=>{const r=qc(Hs,e.__scopeMenu);return a.jsx(EE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),EE=p.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...g}=e,w=qc(Hs,r),b=wp(Hs,r),x=cb(r),v=eV(r),_=Tke(r),[j,S]=p.useState(null),k=p.useRef(null),C=ut(t,k,w.onContentChange),E=p.useRef(0),A=p.useRef(""),P=p.useRef(0),O=p.useRef(null),$=p.useRef("right"),I=p.useRef(0),B=y?Xm:p.Fragment,U=y?{as:Va,allowPinchZoom:!0}:void 0,T=M=>{var te,Ne;const L=A.current+M,W=_().filter(ee=>!ee.disabled),K=document.activeElement,z=(te=W.find(ee=>ee.ref.current===K))==null?void 0:te.textValue,H=W.map(ee=>ee.textValue),V=Qke(H,L,z),oe=(Ne=W.find(ee=>ee.textValue===V))==null?void 0:Ne.ref.current;(function ee(pe){A.current=pe,window.clearTimeout(E.current),pe!==""&&(E.current=window.setTimeout(()=>ee(""),1e3))})(L),oe&&setTimeout(()=>oe.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),Zx();const N=p.useCallback(M=>{var W,K;return $.current===((W=O.current)==null?void 0:W.side)&&eNe(M,(K=O.current)==null?void 0:K.area)},[]);return a.jsx(Lke,{scope:r,searchRef:A,onItemEnter:p.useCallback(M=>{N(M)&&M.preventDefault()},[N]),onItemLeave:p.useCallback(M=>{var L;N(M)||((L=k.current)==null||L.focus(),S(null))},[N]),onTriggerLeave:p.useCallback(M=>{N(M)&&M.preventDefault()},[N]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(M=>{O.current=M},[]),children:a.jsx(B,{...U,children:a.jsx(Gm,{asChild:!0,trapped:s,onMountAutoFocus:ye(i,M=>{var L;M.preventDefault(),(L=k.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(PL,{asChild:!0,...v,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:ye(c,M=>{b.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Px,{role:"menu","aria-orientation":"vertical","data-state":bV(w.open),"data-radix-menu-content":"",dir:b.dir,...x,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:ye(g.onKeyDown,M=>{const W=M.target.closest("[data-radix-menu-content]")===M.currentTarget,K=M.ctrlKey||M.altKey||M.metaKey,z=M.key.length===1;W&&(M.key==="Tab"&&M.preventDefault(),!K&&z&&T(M.key));const H=k.current;if(M.target!==H||!Pke.includes(M.key))return;M.preventDefault();const oe=_().filter(te=>!te.disabled).map(te=>te.ref.current);QW.includes(M.key)&&oe.reverse(),Xke(oe)}),onBlur:ye(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(E.current),A.current="")}),onPointerMove:ye(e.onPointerMove,Nm(M=>{const L=M.target,W=I.current!==M.clientX;if(M.currentTarget.contains(L)&&W){const K=M.clientX>I.current?"right":"left";$.current=K,I.current=M.clientX}}))})})})})})})});sV.displayName=Hs;var zke="MenuGroup",PE=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(He.div,{role:"group",...n,ref:t})});PE.displayName=zke;var Uke="MenuLabel",iV=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(He.div,{...n,ref:t})});iV.displayName=Uke;var ex="MenuItem",JD="menu.itemSelect",ub=p.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=p.useRef(null),o=wp(ex,e.__scopeMenu),l=CE(ex,e.__scopeMenu),c=ut(t,i),u=p.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(JD,{bubbles:!0,cancelable:!0});f.addEventListener(JD,m=>n==null?void 0:n(m),{once:!0}),GS(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(aV,{...s,ref:c,disabled:r,onClick:ye(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ye(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ye(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Z1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ub.displayName=ex;var aV=p.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=CE(ex,r),l=eV(r),c=p.useRef(null),u=ut(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[i.children]),a.jsx(km.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(AL,{asChild:!0,...l,focusable:!n,children:a.jsx(He.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ye(e.onPointerMove,Nm(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(e.onPointerLeave,Nm(y=>o.onItemLeave(y))),onFocus:ye(e.onFocus,()=>f(!0)),onBlur:ye(e.onBlur,()=>f(!1))})})})}),Wke="MenuCheckboxItem",oV=p.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(fV,{scope:e.__scopeMenu,checked:r,children:a.jsx(ub,{role:"menuitemcheckbox","aria-checked":tx(r)?"mixed":r,...s,ref:t,"data-state":OE(r),onSelect:ye(s.onSelect,()=>n==null?void 0:n(tx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});oV.displayName=Wke;var lV="MenuRadioGroup",[Vke,Hke]=Hc(lV,{value:void 0,onValueChange:()=>{}}),cV=p.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=yn(n);return a.jsx(Vke,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(PE,{...s,ref:t})})});cV.displayName=lV;var uV="MenuRadioItem",dV=p.forwardRef((e,t)=>{const{value:r,...n}=e,s=Hke(uV,e.__scopeMenu),i=r===s.value;return a.jsx(fV,{scope:e.__scopeMenu,checked:i,children:a.jsx(ub,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":OE(i),onSelect:ye(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});dV.displayName=uV;var AE="MenuItemIndicator",[fV,qke]=Hc(AE,{checked:!1}),hV=p.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=qke(AE,r);return a.jsx(rs,{present:n||tx(i.checked)||i.checked===!0,children:a.jsx(He.span,{...s,ref:t,"data-state":OE(i.checked)})})});hV.displayName=AE;var Kke="MenuSeparator",mV=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});mV.displayName=Kke;var Yke="MenuArrow",pV=p.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=cb(r);return a.jsx(Ax,{...s,...n,ref:t})});pV.displayName=Yke;var Gke="MenuSub",[qCe,gV]=Hc(Gke),eh="MenuSubTrigger",vV=p.forwardRef((e,t)=>{const r=qc(eh,e.__scopeMenu),n=wp(eh,e.__scopeMenu),s=gV(eh,e.__scopeMenu),i=CE(eh,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(kE,{asChild:!0,...u,children:a.jsx(aV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":bV(r.open),...e,ref:yx(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ye(e.onPointerMove,Nm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ye(e.onPointerLeave,Nm(f=>{var m,y;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(y=r.content)==null?void 0:y.dataset.side,w=g==="right",b=w?-5:5,x=h[w?"left":"right"],v=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ye(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Ake[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});vV.displayName=eh;var yV="MenuSubContent",xV=p.forwardRef((e,t)=>{const r=rV(Hs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=qc(Hs,e.__scopeMenu),o=wp(Hs,e.__scopeMenu),l=gV(yV,e.__scopeMenu),c=p.useRef(null),u=ut(t,c);return a.jsx(km.Provider,{scope:e.__scopeMenu,children:a.jsx(rs,{present:n||i.open,children:a.jsx(km.Slot,{scope:e.__scopeMenu,children:a.jsx(EE,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ye(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ye(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ye(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Oke[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});xV.displayName=yV;function bV(e){return e?"open":"closed"}function tx(e){return e==="indeterminate"}function OE(e){return tx(e)?"indeterminate":e?"checked":"unchecked"}function Xke(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Zke(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Qke(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Zke(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Jke(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function eNe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Jke(r,t)}function Nm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var tNe=tV,rNe=kE,nNe=nV,sNe=sV,iNe=PE,aNe=iV,oNe=ub,lNe=oV,cNe=cV,uNe=dV,dNe=hV,fNe=mV,hNe=pV,mNe=vV,pNe=xV,TE="DropdownMenu",[gNe,KCe]=Mi(TE,[JW]),In=JW(),[vNe,wV]=gNe(TE),_V=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=In(t),u=p.useRef(null),[d=!1,f]=Ni({prop:s,defaultProp:i,onChange:o});return a.jsx(vNe,{scope:t,triggerId:Ws(),triggerRef:u,contentId:Ws(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(tNe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};_V.displayName=TE;var jV="DropdownMenuTrigger",SV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=wV(jV,r),o=In(r);return a.jsx(rNe,{asChild:!0,...o,children:a.jsx(He.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:yx(t,i.triggerRef),onPointerDown:ye(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ye(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});SV.displayName=jV;var yNe="DropdownMenuPortal",kV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=In(t);return a.jsx(nNe,{...n,...r})};kV.displayName=yNe;var NV="DropdownMenuContent",CV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=wV(NV,r),i=In(r),o=p.useRef(!1);return a.jsx(sNe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:ye(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ye(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CV.displayName=NV;var xNe="DropdownMenuGroup",bNe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(iNe,{...s,...n,ref:t})});bNe.displayName=xNe;var wNe="DropdownMenuLabel",EV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(aNe,{...s,...n,ref:t})});EV.displayName=wNe;var _Ne="DropdownMenuItem",PV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(oNe,{...s,...n,ref:t})});PV.displayName=_Ne;var jNe="DropdownMenuCheckboxItem",AV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(lNe,{...s,...n,ref:t})});AV.displayName=jNe;var SNe="DropdownMenuRadioGroup",kNe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(cNe,{...s,...n,ref:t})});kNe.displayName=SNe;var NNe="DropdownMenuRadioItem",OV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(uNe,{...s,...n,ref:t})});OV.displayName=NNe;var CNe="DropdownMenuItemIndicator",TV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(dNe,{...s,...n,ref:t})});TV.displayName=CNe;var ENe="DropdownMenuSeparator",MV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(fNe,{...s,...n,ref:t})});MV.displayName=ENe;var PNe="DropdownMenuArrow",ANe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(hNe,{...s,...n,ref:t})});ANe.displayName=PNe;var ONe="DropdownMenuSubTrigger",DV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(mNe,{...s,...n,ref:t})});DV.displayName=ONe;var TNe="DropdownMenuSubContent",RV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=In(r);return a.jsx(pNe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RV.displayName=TNe;var MNe=_V,DNe=SV,RNe=kV,IV=CV,$V=EV,LV=PV,FV=AV,BV=OV,zV=TV,UV=MV,WV=DV,VV=RV;const INe=MNe,$Ne=DNe,LNe=p.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(WV,{ref:s,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(jx,{className:"ml-auto h-4 w-4"})]}));LNe.displayName=WV.displayName;const FNe=p.forwardRef(({className:e,...t},r)=>a.jsx(VV,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));FNe.displayName=VV.displayName;const HV=p.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(RNe,{children:a.jsx(IV,{ref:n,sideOffset:t,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));HV.displayName=IV.displayName;const Q1=p.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(LV,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Q1.displayName=LV.displayName;const BNe=p.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(FV,{ref:s,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(zV,{children:a.jsx(Wh,{className:"h-4 w-4"})})}),t]}));BNe.displayName=FV.displayName;const zNe=p.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(BV,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(zV,{children:a.jsx(Tq,{className:"h-2 w-2 fill-current"})})}),t]}));zNe.displayName=BV.displayName;const qV=p.forwardRef(({className:e,inset:t,...r},n)=>a.jsx($V,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));qV.displayName=$V.displayName;const J1=p.forwardRef(({className:e,...t},r)=>a.jsx(UV,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));J1.displayName=UV.displayName;function UNe({open:e,onOpenChange:t}){const[r,n]=p.useState(""),[s,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[y,g]=p.useState(!1),{updatePassword:w}=ua(),{toast:b}=Er();rp({currentPassword:e?r:"",newPassword:e?s:"",confirmPassword:e?o:""},"changePasswordForm"),np("changePasswordForm",_=>{e&&_.currentPassword&&n(_.currentPassword),e&&_.newPassword&&i(_.newPassword),e&&_.confirmPassword&&l(_.confirmPassword)});const x=_=>{!_&&!c&&(n(""),i(""),l(""),f(!1),m(!1),g(!1)),t(_)},v=async _=>{if(_.preventDefault(),s!==o){b({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(s.length<6){b({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}if(!r){b({title:"Error",description:"Please enter your current password",variant:"destructive"});return}try{u(!0),await new Promise(S=>setTimeout(S,100));const{error:j}=await w(r,s);if(j)throw j;n(""),i(""),l(""),x(!1)}catch(j){console.error("Change password error:",j),b({title:"Error",description:j.message||"Failed to update password",variant:"destructive"})}finally{u(!1)}};return a.jsx(jr,{open:e,onOpenChange:x,children:a.jsx(fr,{className:"sm:max-w-[425px]",children:a.jsxs("form",{onSubmit:v,children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Change Password"}),a.jsx(pr,{children:"Enter your current password and set a new one."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"currentPassword",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{id:"currentPassword",type:d?"text":"password",value:r,onChange:_=>n(_.target.value),disabled:c,className:"pr-10",required:!0}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",onClick:()=>f(!d),disabled:c,tabIndex:-1,children:d?a.jsx(Du,{className:"h-4 w-4"}):a.jsx(Us,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"newPassword",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{id:"newPassword",type:h?"text":"password",value:s,onChange:_=>i(_.target.value),disabled:c,className:"pr-10",required:!0}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",onClick:()=>m(!h),disabled:c,tabIndex:-1,children:h?a.jsx(Du,{className:"h-4 w-4"}):a.jsx(Us,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 6 characters recommended"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{id:"confirmPassword",type:y?"text":"password",value:o,onChange:_=>l(_.target.value),disabled:c,className:"pr-10",required:!0}),a.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",onClick:()=>g(!y),disabled:c,tabIndex:-1,children:y?a.jsx(Du,{className:"h-4 w-4"}):a.jsx(Us,{className:"h-4 w-4"})})]})]})]}),a.jsxs(ol,{children:[a.jsx(G,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:c,children:"Cancel"}),a.jsx(G,{type:"submit",disabled:c||!r||!s||!o,className:"min-w-[120px]",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ci,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})})})}const WNe=()=>{const[e,t]=p.useState(!1),{user:r,profile:n,userRole:s,signOut:i}=ua(),{logDataOperation:o}=G3();if(!r||!n)return null;const l=d=>{switch(d){case"super_admin":return"destructive";case"engineer":return"default";case"viewer":return"secondary";default:return"outline"}},c=d=>{switch(d){case"super_admin":return"Super Admin";case"engineer":return"Engineer";case"viewer":return"Viewer";default:return"Unknown"}},u=async d=>{d.preventDefault(),await o("LOGOUT","users",r==null?void 0:r.id,{email:r==null?void 0:r.email}),await i()};return a.jsxs(INe,{children:[a.jsx($Ne,{asChild:!0,children:a.jsxs(G,{variant:"ghost",className:"flex items-center space-x-2",children:[a.jsx(zf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:n.username}),a.jsx(We,{variant:l(s||""),className:"text-xs",children:c(s||"")})]})}),a.jsxs(HV,{align:"end",className:"w-56",children:[a.jsx(qV,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium",children:n.full_name||n.username}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r.email})]})}),a.jsx(J1,{}),a.jsxs(Q1,{onSelect:d=>{d.preventDefault(),t(!0)},children:[a.jsx(Dq,{className:"h-4 w-4 mr-2"}),"Change Password"]}),a.jsx(J1,{}),a.jsxs(Q1,{onSelect:u,children:[a.jsx(Iq,{className:"h-4 w-4 mr-2"}),"Sign Out"]}),a.jsx(UNe,{open:e,onOpenChange:t})]})]})},VNe=({children:e,onLogoUpdate:t})=>{const[r,n]=p.useState(!1),[s,i]=p.useState(!1),[o,l]=p.useState("DCIMS"),[c,u]=p.useState(!1),d=p.useRef(null),{hasRole:f}=ua(),{toast:h}=Er(),m=f("engineer"),y=()=>{const x=document.createElement("img");x.onload=()=>u(!0),x.onerror=()=>u(!1),x.src="/logo.png?"+Date.now()},g=x=>{var _;const v=(_=x.target.files)==null?void 0:_[0];if(v){if(!v.type.startsWith("image/")){h({title:"Invalid File Type",description:"Please select an image file (PNG, JPG, etc.)",variant:"destructive"});return}h({title:"Logo Upload Instructions",description:"Please save your selected image as 'logo.png' in the /public folder of your project, then refresh the page."})}},w=()=>{u(!1),h({title:"Logo Removed",description:"Organization logo has been removed. Default logo will be used."}),t==null||t()},b=()=>{localStorage.setItem("organizationName",o),h({title:"Settings Updated",description:"Organization name has been updated."})};return a.jsxs(jr,{open:r,onOpenChange:x=>{n(x),x&&(y(),l(localStorage.getItem("organizationName")||"DCIMS"))},children:[a.jsx(nm,{asChild:!0,children:e}),a.jsxs(fr,{className:"sm:max-w-[425px]",children:[a.jsxs(hr,{children:[a.jsx(mr,{children:"Organization Settings"}),a.jsx(pr,{children:"Customize your organization's branding and settings."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"org-name",children:"Organization Name"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(qe,{id:"org-name",value:o,onChange:x=>l(x.target.value),disabled:!m,placeholder:"Organization Name"}),m&&a.jsx(G,{onClick:b,disabled:o===(localStorage.getItem("organizationName")||"DCIMS"),size:"sm",children:"Update"})]}),!m&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"You need engineer permissions to edit settings."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{children:"Organization Logo"}),c&&a.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg bg-gray-50",children:[a.jsx("img",{src:"/logo.png?"+Date.now(),alt:"Current logo",className:"h-12 w-12 object-contain",onError:()=>u(!1)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:"Current Logo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Click upload to replace"})]}),m&&a.jsx(G,{variant:"ghost",size:"sm",onClick:w,disabled:s,children:a.jsx(ra,{className:"h-4 w-4"})})]}),!c&&a.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg bg-gray-50",children:[a.jsx("div",{className:"h-12 w-12 flex items-center justify-center bg-blue-600 rounded",children:a.jsx(Mq,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:"Default Logo"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a custom logo to replace"})]})]}),m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:g,className:"hidden"}),a.jsxs(G,{variant:"outline",onClick:()=>{var x;return(x=d.current)==null?void 0:x.click()},disabled:s,className:"w-full",children:[a.jsx(G4,{className:"h-4 w-4 mr-2"}),s?"Uploading...":c?"Replace Logo":"Upload Logo"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload PNG, JPG or other image formats. Max size: 5MB"})]})]})]})]})]})};function HNe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(1),[c,u]=p.useState(10),[d,f]=p.useState(0),[h,m]=p.useState(!1),[y,g]=p.useState(new Set),[w,b]=p.useState("timestamp"),[x,v]=p.useState("desc");p.useState("detailed");const[_,j]=p.useState(!1),[S,k]=p.useState(new Date),[C,E]=p.useState(null),[A,P]=p.useState({search:"",severity:"all",action:"all",resourceType:"all",dateRange:"all"}),O=async(H=!1)=>{H?i(!0):n(!0),E(null);try{const V=(o-1)*c,oe=await fetch(`http://localhost:8000/functions/v1/activity-logs?limit=${c}&offset=${V}`,{headers:{"Content-Type":"application/json"}});if(oe.ok){const te=await oe.json();t(te.logs||[]),f(te.totalCount||0),k(new Date)}else throw new Error(`HTTP ${oe.status}: Failed to fetch logs`)}catch(V){console.error("Failed to fetch logs:",V),E(V instanceof Error?V.message:"Failed to fetch activity logs"),t([]),f(0)}finally{n(!1),i(!1)}};p.useEffect(()=>{O()},[o,c]),p.useEffect(()=>{if(!_)return;const H=setInterval(()=>{O(!0)},3e4);return()=>clearInterval(H)},[_,o,c]);const $=()=>{O(!0)},I=H=>{w===H?v(x==="asc"?"desc":"asc"):(b(H),v("desc"))},B=H=>{const V=new Set(y);V.has(H)?V.delete(H):V.add(H),g(V)},U=H=>{switch(H.toLowerCase()){case"create":case"insert":return a.jsx(dh,{className:"w-4 h-4 text-green-500"});case"update":case"modify":return a.jsx(Xs,{className:"w-4 h-4 text-blue-500"});case"delete":case"remove":return a.jsx(o2,{className:"w-4 h-4 text-red-500"});case"login":case"signin":return a.jsx(zf,{className:"w-4 h-4 text-green-500"});case"logout":case"signout":return a.jsx(zf,{className:"w-4 h-4 text-gray-500"});default:return a.jsx(po,{className:"w-4 h-4 text-blue-500"})}},T=H=>{switch(H.toLowerCase()){case"users":case"user":return a.jsx(Ru,{className:"w-4 h-4 text-blue-500"});case"servers":case"server":return a.jsx(Qi,{className:"w-4 h-4 text-green-500"});case"database":case"db":return a.jsx(En,{className:"w-4 h-4 text-purple-500"});case"roles":case"user_roles":return a.jsx(sj,{className:"w-4 h-4 text-orange-500"});default:return a.jsx(po,{className:"w-4 h-4 text-gray-500"})}},N=H=>{switch(H.toLowerCase()){case"error":case"critical":return"destructive";case"warning":return"secondary";case"info":case"success":return"default";default:return"outline"}},M=H=>{switch(H.toLowerCase()){case"error":case"critical":return a.jsx(o2,{className:"w-3 h-3"});case"warning":return a.jsx(Mv,{className:"w-3 h-3"});case"info":return a.jsx(Ov,{className:"w-3 h-3"});case"success":return a.jsx(dh,{className:"w-3 h-3"});default:return a.jsx(po,{className:"w-3 h-3"})}},L=H=>{const V=new Date(H),te=new Date().getTime()-V.getTime(),Ne=te/(1e3*60*60);return Ne<1?`${Math.floor(te/6e4)}m ago`:Ne<24?`${Math.floor(Ne)}h ago`:V.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},K=e.filter(H=>{if(H.details&&Array.isArray(H.details.changed_fields)){const V=H.details.changed_fields,oe=["updated_at","raw_user_meta_data"];if(V.every(te=>oe.includes(te)))return!1}return!(H.resource_type==="user_roles"&&H.action==="DELETE")}).map(H=>{var pe,we,Q,Je,Le,et,it,re,D,F,Y,me,ce,le,Ie,Be,jt;let V=H.username||"";if(!V){let Xe=H.email;!Xe&&H.details&&(Xe=((pe=H.details.new_values)==null?void 0:pe.email)||((we=H.details.old_values)==null?void 0:we.email)||H.details.user_email),Xe?V=Xe.split("@")[0]:H.user_id&&(V=H.user_id.slice(0,8)+"...")}let oe=H.action,te="",Ne=H.resource_type;const ee=["id","aud","role","email","created_at","updated_at","instance_id"];if(H.resource_type==="users"&&H.details&&Array.isArray(H.details.changed_fields)&&ee.some(Xe=>H.details.changed_fields.includes(Xe)))oe="CREATE",te=`User ${(((Je=(Q=H.details)==null?void 0:Q.new_values)==null?void 0:Je.email)||H.email||"").split("@")[0]} was created`,Ne="User";else if(H.resource_type==="users"&&((et=(Le=H.details)==null?void 0:Le.changed_fields)!=null&&et.includes("last_sign_in_at")))oe="LOGIN",te="User signed in successfully",Ne="Session";else if(H.resource_type==="user_roles"&&((re=(it=H.details)==null?void 0:it.new_values)!=null&&re.role)){oe="ROLE_CHANGE";const Xe=H.details.new_values.role,Pr=((D=H.details)==null?void 0:D.user_email)||"";te=`Role changed to ${Xe} for ${Pr.split("@")[0]}`,Ne="User Role"}else if(H.resource_type==="servers"){const Xe=((Y=(F=H.details)==null?void 0:F.new_values)==null?void 0:Y.serial_number)||((ce=(me=H.details)==null?void 0:me.old_values)==null?void 0:ce.serial_number)||"";te=`${((Ie=(le=H.details)==null?void 0:le.new_values)==null?void 0:Ie.device_type)||((jt=(Be=H.details)==null?void 0:Be.old_values)==null?void 0:jt.device_type)||"Device"} ${Xe||H.resource_id}`,Ne="Server"}return{...H,actorUsername:V,displayAction:oe,description:te,resourceDisplay:Ne}}),z=Math.max(1,Math.ceil(d/c));return a.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsx("div",{className:"relative overflow-hidden bg-white rounded-2xl shadow-xl border border-gray-200",children:a.jsxs("div",{className:"relative flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0 p-8",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-600 rounded-2xl shadow-lg",children:a.jsx(po,{className:"w-6 h-6 text-white"})}),a.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center",children:a.jsx(Uq,{className:"w-2.5 h-2.5 text-white"})})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Activity Logs"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Monitor system activities and user actions in real-time"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!h),className:"flex items-center space-x-2 hover:bg-blue-50 border-blue-200 text-blue-700 hover:text-blue-900 transition-all",children:[a.jsx(Ha,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"}),a.jsx(Av,{className:`w-4 h-4 transition-transform ${h?"rotate-180":""}`})]}),a.jsxs(G,{variant:"outline",size:"sm",onClick:$,disabled:s,className:"flex items-center space-x-2 hover:bg-green-50 border-green-200 text-green-700 hover:text-green-900 transition-all",children:[a.jsx(Gs,{className:`w-4 h-4 ${s?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs(G,{variant:"outline",size:"sm",className:"flex items-center space-x-2 hover:bg-purple-50 border-purple-200 text-purple-700 hover:text-purple-900 transition-all",children:[a.jsx($m,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]})}),h&&a.jsx(Ce,{className:"border-2 border-dashed border-blue-200 bg-blue-50 shadow-lg",children:a.jsx(Ae,{className:"pt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Search Activities"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(qe,{placeholder:"Search logs...",value:A.search,onChange:H=>P(V=>({...V,search:H.target.value})),className:"pl-10 border-gray-300 focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Severity Level"}),a.jsxs(Se,{value:A.severity,onValueChange:H=>P(V=>({...V,severity:H})),children:[a.jsx(_e,{className:"border-gray-300 focus:border-blue-500",children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Severities"}),a.jsx(q,{value:"info",children:"Info"}),a.jsx(q,{value:"warning",children:"Warning"}),a.jsx(q,{value:"error",children:"Error"}),a.jsx(q,{value:"critical",children:"Critical"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Action Type"}),a.jsxs(Se,{value:A.action,onValueChange:H=>P(V=>({...V,action:H})),children:[a.jsx(_e,{className:"border-gray-300 focus:border-blue-500",children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Actions"}),a.jsx(q,{value:"create",children:"Create"}),a.jsx(q,{value:"update",children:"Update"}),a.jsx(q,{value:"delete",children:"Delete"}),a.jsx(q,{value:"login",children:"Login"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Resource Type"}),a.jsxs(Se,{value:A.resourceType,onValueChange:H=>P(V=>({...V,resourceType:H})),children:[a.jsx(_e,{className:"border-gray-300 focus:border-blue-500",children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Resources"}),a.jsx(q,{value:"users",children:"Users"}),a.jsx(q,{value:"servers",children:"Servers"}),a.jsx(q,{value:"user_roles",children:"Roles"})]})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Ce,{className:"relative overflow-hidden bg-blue-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:a.jsx(Ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Activities"}),a.jsx("p",{className:"text-3xl font-bold",children:d.toLocaleString()}),a.jsx("p",{className:"text-blue-100 text-xs mt-1",children:"All time"})]}),a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(po,{className:"w-8 h-8"})})]})})}),a.jsx(Ce,{className:"relative overflow-hidden bg-green-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:a.jsx(Ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Success Rate"}),a.jsx("p",{className:"text-3xl font-bold",children:"98.5%"}),a.jsx("p",{className:"text-green-100 text-xs mt-1",children:"Last 30 days"})]}),a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(dh,{className:"w-8 h-8"})})]})})}),a.jsx(Ce,{className:"relative overflow-hidden bg-orange-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:a.jsx(Ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Active Users"}),a.jsx("p",{className:"text-3xl font-bold",children:"24"}),a.jsx("p",{className:"text-orange-100 text-xs mt-1",children:"Currently online"})]}),a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(Ru,{className:"w-8 h-8"})})]})})}),a.jsx(Ce,{className:"relative overflow-hidden bg-purple-600 text-white border-0 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1",children:a.jsx(Ae,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Last Hour"}),a.jsx("p",{className:"text-3xl font-bold",children:K.filter(H=>{const V=new Date(H.timestamp).getTime(),oe=Date.now()-60*60*1e3;return V>oe}).length}),a.jsx("p",{className:"text-purple-100 text-xs mt-1",children:"Recent activity"})]}),a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(l2,{className:"w-8 h-8"})})]})})})]}),a.jsxs(Ce,{className:"shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[a.jsx(Ue,{className:"border-b-2 border-gray-100 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ve,{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:a.jsx(Us,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Activity Timeline"})]}),a.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx(_x,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Showing ",K.length," of ",d.toLocaleString()," activities"]})]})]})}),a.jsx(Ae,{className:"p-0",children:r?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600"}),a.jsx("div",{className:"absolute inset-0 rounded-full h-16 w-16 border-4 border-transparent border-t-blue-400 animate-ping"})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Loading Activity Logs"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Fetching recent system activities..."})]})]})}):K.length===0?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"flex flex-col items-center space-y-6 max-w-md text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(po,{className:"w-10 h-10 text-gray-400"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"No Activity Found"}),a.jsx("p",{className:"text-gray-500 leading-relaxed",children:"There are no activity logs to display at the moment. Activities will appear here as users interact with the system."})]}),a.jsxs(G,{variant:"outline",onClick:$,className:"mt-6 px-6 py-3 border-blue-300 text-blue-700 hover:bg-blue-50",children:[a.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Refresh Logs"]})]})}):a.jsxs(a.Fragment,{children:[a.jsxs(vd,{children:[a.jsx(yd,{children:a.jsxs(_i,{className:"hover:bg-transparent border-b-2 border-gray-100",children:[a.jsx(pt,{className:"cursor-pointer select-none font-bold hover:bg-blue-50 transition-colors py-4",onClick:()=>I("timestamp"),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(l2,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{children:"Time"}),a.jsx(Vb,{className:"w-3 h-3 opacity-50"})]})}),a.jsx(pt,{className:"font-bold py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zf,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{children:"User"})]})}),a.jsx(pt,{className:"cursor-pointer select-none font-bold hover:bg-blue-50 transition-colors py-4",onClick:()=>I("action"),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(po,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{children:"Action"}),a.jsx(Vb,{className:"w-3 h-3 opacity-50"})]})}),a.jsx(pt,{className:"font-bold py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{className:"w-4 h-4 text-orange-600"}),a.jsx("span",{children:"Resource"})]})}),a.jsx(pt,{className:"font-bold py-4",children:"Description"}),a.jsx(pt,{className:"cursor-pointer select-none font-bold hover:bg-blue-50 transition-colors py-4",onClick:()=>I("severity"),children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Mv,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{children:"Severity"}),a.jsx(Vb,{className:"w-3 h-3 opacity-50"})]})}),a.jsx(pt,{className:"w-16"})]})}),a.jsx(xd,{children:K.map((H,V)=>a.jsxs(_i,{className:`hover:bg-blue-50 transition-all duration-300 group cursor-pointer border-l-4 border-transparent hover:border-blue-400 ${V%2===0?"bg-white":"bg-gray-50/50"}`,onClick:()=>B(H.id),children:[a.jsx(gt,{className:"font-mono text-xs py-4",children:a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("span",{className:"font-semibold text-gray-900 bg-blue-100 px-3 py-1 rounded-lg text-xs",children:L(H.timestamp)}),a.jsx("span",{className:"text-gray-500 text-xs",children:new Date(H.timestamp).toLocaleTimeString()})]})}),a.jsx(gt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(zf,{className:"w-3.5 h-3.5 text-gray-600"})}),a.jsx("span",{className:"font-semibold text-gray-900",children:H.actorUsername||"System"})]})}),a.jsx(gt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[U(H.displayAction),a.jsx("span",{className:"font-semibold text-gray-900 bg-gray-100 px-3 py-1 rounded-lg text-sm",children:H.displayAction.replace("_"," ")})]})}),a.jsx(gt,{className:"py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[T(H.resource_type),a.jsx("span",{className:"text-gray-900 font-medium",children:H.resourceDisplay})]})}),a.jsx(gt,{className:"py-4",children:a.jsx("span",{className:"text-gray-700",children:H.description||"No description available"})}),a.jsx(gt,{className:"py-4",children:a.jsxs(We,{variant:N(H.severity),className:"flex items-center space-x-2 px-3 py-2 font-semibold shadow-sm",children:[M(H.severity),a.jsx("span",{className:"capitalize",children:H.severity})]})}),a.jsx(gt,{className:"py-4",children:a.jsx(G,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-blue-100 rounded-lg",children:y.has(H.id)?a.jsx(Av,{className:"w-4 h-4 text-blue-600"}):a.jsx(jx,{className:"w-4 h-4 text-gray-400"})})})]},H.id))})]}),a.jsxs("div",{className:"flex items-center justify-between px-8 py-6 border-t-2 border-gray-100 bg-gray-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Show"}),a.jsxs(Se,{value:c.toString(),onValueChange:H=>{u(Number(H)),l(1)},children:[a.jsx(_e,{className:"w-20 h-9 border-gray-300 bg-white",children:a.jsx(ke,{})}),a.jsxs(je,{children:[a.jsx(q,{value:"10",children:"10"}),a.jsx(q,{value:"20",children:"20"}),a.jsx(q,{value:"50",children:"50"}),a.jsx(q,{value:"100",children:"100"})]})]}),a.jsx("span",{className:"font-medium",children:"entries"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(G,{variant:"outline",size:"sm",onClick:()=>l(1),disabled:o===1,className:"hover:bg-blue-50 border-blue-200",children:"First"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>l(H=>Math.max(H-1,1)),disabled:o===1,className:"hover:bg-blue-50 border-blue-200",children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-1 px-4 py-2 bg-blue-100 rounded-xl border border-blue-300 shadow-sm",children:a.jsxs("span",{className:"text-sm font-bold text-blue-900",children:["Page ",o," of ",z]})}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>l(H=>Math.min(H+1,z)),disabled:o===z,className:"hover:bg-blue-50 border-blue-200",children:"Next"}),a.jsx(G,{variant:"outline",size:"sm",onClick:()=>l(z),disabled:o===z,className:"hover:bg-blue-50 border-blue-200",children:"Last"})]}),a.jsxs("div",{className:"text-sm text-gray-600 font-medium",children:["Showing ",(o-1)*c+1," to ",Math.min(o*c,d)," of ",d.toLocaleString()," results"]})]})]})})]})]})})}const qNe=({device:e,onViewDetails:t})=>a.jsxs("div",{className:"border rounded-lg p-4 shadow-sm hover:shadow-md transition",children:[a.jsx("h2",{className:"text-lg font-bold mb-1",children:e.device_model}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.manufacturer,"  ",e.year,"  ",e.unit_height]}),a.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mb-2",children:e.device_type}),a.jsx("span",{className:"inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs mb-2 ml-2",children:e.status}),a.jsx("p",{className:"text-gray-700 text-sm mt-2",children:e.description}),a.jsx("button",{onClick:t,className:"mt-4 inline-block text-blue-600 hover:underline font-medium cursor-pointer",children:"View Details"})]}),KV=()=>{const{enums:e,loading:t,error:r}=Vd();return{brands:e.brands||[],models:e.models||[],deviceTypes:e.deviceTypes||[],loading:t,error:r}},KNe=({manufacturer:e,type:t,status:r,year:n,onManufacturerChange:s,onTypeChange:i,onStatusChange:o,onYearChange:l,manufacturers:c,years:u})=>{const{brands:d,deviceTypes:f,loading:h}=KV(),{enums:m}=Vd(),[y,g]=p.useState([]),[w,b]=p.useState(!1);p.useEffect(()=>{(async()=>{b(!0);try{const S=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),k=await fetch("http://localhost:8000/functions/v1/device-glossary",{headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(k.ok){const C=await k.json(),E=Array.isArray(C)?C:C.devices||[],A=[...new Set(E.map(P=>{var O;return(O=P.year)==null?void 0:O.toString()}))].filter(P=>typeof P=="string"&&P!=="null"&&P!=="undefined").sort((P,O)=>parseInt(O)-parseInt(P));g(A)}}catch(S){console.error("Error fetching years:",S),g(["2025","2024","2023","2022","2021"])}finally{b(!1)}})()},[]);const x=c||d||[],v=u||m.years||y||[],_=f||["Server","Storage","Network","Power"];return a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs(Se,{value:e,onValueChange:s,disabled:h,children:[a.jsxs(_e,{children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),a.jsx(ke,{placeholder:h?"Loading...":"All Manufacturers"})]}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Manufacturers"}),x.map(j=>a.jsx(q,{value:j,children:j},j))]})]}),a.jsxs(Se,{value:t,onValueChange:i,disabled:h,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:h?"Loading...":"All Types"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Types"}),_.map(j=>a.jsx(q,{value:j,children:j},j))]})]}),a.jsxs(Se,{value:r,onValueChange:o,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:"All Status"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Status"}),a.jsx(q,{value:"Active",children:"Active"}),a.jsx(q,{value:"Ready",children:"Ready"}),a.jsx(q,{value:"Inactive",children:"Inactive"}),a.jsx(q,{value:"Maintenance",children:"Maintenance"}),a.jsx(q,{value:"Decommissioned",children:"Decommissioned"}),a.jsx(q,{value:"Retired",children:"Retired"})]})]}),a.jsxs(Se,{value:n,onValueChange:l,disabled:w,children:[a.jsx(_e,{children:a.jsx(ke,{placeholder:w?"Loading...":"All Years"})}),a.jsxs(je,{children:[a.jsx(q,{value:"all",children:"All Years"}),v.map(j=>a.jsx(q,{value:j,children:j},j))]})]})]})},YNe=({query:e,setQuery:t})=>a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(qe,{placeholder:"Search device models, manufacturer, specs...",value:e,onChange:r=>t(r.target.value),className:"pl-10"})]})}),GNe=[{key:"cpu",label:"CPU",icon:""},{key:"memory",label:"Memory",icon:""},{key:"storage",label:"Storage",icon:""},{key:"network",label:"Network",icon:""},{key:"power",label:"Power",icon:""},{key:"management",label:"Management",icon:""}],XNe=({specs:e})=>{const[t,r]=p.useState("cpu"),n=s=>{var o;const i=((o=e.specifications)==null?void 0:o[s])||e[s];switch(s){case"cpu":return a.jsx("div",{className:"space-y-4",children:i?a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-4",children:"CPU Specifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Processor Model:"}),a.jsx("p",{className:"text-blue-900",children:i.cpu_model||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Generation:"}),a.jsx("p",{className:"text-blue-900",children:i.cpu_generation||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Physical Cores:"}),a.jsx("p",{className:"text-blue-900",children:i.physical_cores||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Logical Cores:"}),a.jsx("p",{className:"text-blue-900",children:i.logical_cores||"Not specified"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"CPU Quantity:"}),a.jsx("p",{className:"text-blue-900",children:i.cpu_quantity||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Base Frequency:"}),a.jsx("p",{className:"text-blue-900",children:i.base_frequency_ghz?`${i.base_frequency_ghz} GHz`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Boost Frequency:"}),a.jsx("p",{className:"text-blue-900",children:i.boost_frequency_ghz?`${i.boost_frequency_ghz} GHz`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"TDP:"}),a.jsx("p",{className:"text-blue-900",children:i.tdp_watts?`${i.tdp_watts}W`:"Not specified"})]})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"CPU Specifications"}),a.jsxs("div",{className:"text-blue-800",children:[a.jsx("p",{className:"mb-2",children:"This device model supports high-performance processors suitable for enterprise workloads."}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:" Compatible with Intel Xeon and AMD EPYC processors"}),a.jsx("li",{children:" Supports up to dual socket configurations"}),a.jsx("li",{children:" Multi-core architecture optimized for server workloads"}),a.jsx("li",{children:" Advanced power management features"})]})]})]}),a.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Note:"})," Detailed CPU specifications will be added through the Admin Panel. This includes specific processor models, clock speeds, core counts, and power consumption data."]})})]})});case"memory":return a.jsx("div",{className:"space-y-4",children:i?a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-4",children:"Memory Specifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Total Capacity:"}),a.jsx("p",{className:"text-green-900",children:i.total_capacity_gb?`${i.total_capacity_gb} GB`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Memory Type:"}),a.jsx("p",{className:"text-green-900",children:i.memory_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Frequency:"}),a.jsx("p",{className:"text-green-900",children:i.memory_frequency_mhz?`${i.memory_frequency_mhz} MHz`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Module Count:"}),a.jsx("p",{className:"text-green-900",children:i.module_count||"Not specified"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Module Capacity:"}),a.jsx("p",{className:"text-green-900",children:i.module_capacity_gb?`${i.module_capacity_gb} GB each`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"ECC Support:"}),a.jsx("p",{className:"text-green-900",children:i.ecc_support!==void 0?i.ecc_support?"Yes":"No":"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Maximum Capacity:"}),a.jsx("p",{className:"text-green-900",children:i.maximum_capacity_gb?`${i.maximum_capacity_gb} GB`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Memory Channels:"}),a.jsx("p",{className:"text-green-900",children:i.memory_channels||"Not specified"})]})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-2",children:"Memory Specifications"}),a.jsxs("div",{className:"text-green-800",children:[a.jsx("p",{className:"mb-2",children:"Enterprise-grade memory support for demanding applications."}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:" DDR4/DDR5 ECC registered memory support"}),a.jsx("li",{children:" Multiple DIMM slots for expansion"}),a.jsx("li",{children:" Error correction and reliability features"}),a.jsx("li",{children:" High-speed memory interfaces"})]})]})]}),a.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Note:"})," Detailed memory specifications can be configured in the Admin Panel, including supported capacities, speeds, and compatibility matrices."]})})]})});case"storage":return a.jsx("div",{className:"space-y-4",children:i&&Array.isArray(i)&&i.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-purple-900 mb-4",children:"Storage Specifications"}),i.map((l,c)=>a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[a.jsxs("h5",{className:"text-md font-semibold text-purple-800 mb-3",children:["Storage Slot ",l.storage_slot_number]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Storage Model:"}),a.jsx("p",{className:"text-purple-900",children:l.storage_model||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Type:"}),a.jsx("p",{className:"text-purple-900",children:l.storage_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Capacity:"}),a.jsx("p",{className:"text-purple-900",children:l.capacity_gb?`${l.capacity_gb} GB`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Interface:"}),a.jsx("p",{className:"text-purple-900",children:l.interface_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Form Factor:"}),a.jsx("p",{className:"text-purple-900",children:l.drive_form_factor||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Hot Plug:"}),a.jsx("p",{className:"text-purple-900",children:l.hot_plug_support!==void 0?l.hot_plug_support?"Yes":"No":"Not specified"})]})]})]},c))]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Storage Specifications"}),a.jsxs("div",{className:"text-purple-800",children:[a.jsx("p",{className:"mb-2",children:"Flexible storage options for various deployment scenarios."}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:" Support for SSD and NVMe drives"}),a.jsx("li",{children:" RAID configuration capabilities"}),a.jsx("li",{children:" Hot-swappable drive bays"}),a.jsx("li",{children:" High-performance storage controllers"})]})]})]}),a.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Note:"})," Storage specifications including supported drive types, capacities, and RAID configurations can be managed through the Admin Panel."]})})]})});case"network":return a.jsx("div",{className:"space-y-4",children:i&&Array.isArray(i)&&i.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-900 mb-4",children:"Network Specifications"}),i.map((l,c)=>a.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-6",children:[a.jsxs("h5",{className:"text-md font-semibold text-cyan-800 mb-3",children:["NIC Slot ",l.nic_slot_number]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"NIC Type:"}),a.jsx("p",{className:"text-cyan-900",children:l.nic_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Manufacturer:"}),a.jsx("p",{className:"text-cyan-900",children:l.nic_manufacturer||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Model:"}),a.jsx("p",{className:"text-cyan-900",children:l.nic_model||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Port Type:"}),a.jsx("p",{className:"text-cyan-900",children:l.port_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Port Speed:"}),a.jsx("p",{className:"text-cyan-900",children:l.port_speed_gbps?`${l.port_speed_gbps} Gbps`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Port Quantity:"}),a.jsx("p",{className:"text-cyan-900",children:l.port_quantity||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-cyan-700",children:"Management Port:"}),a.jsx("p",{className:"text-cyan-900",children:l.is_management_port!==void 0?l.is_management_port?"Yes":"No":"Not specified"})]})]})]},c))]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-900 mb-2",children:"Network Specifications"}),a.jsxs("div",{className:"text-cyan-800",children:[a.jsx("p",{className:"mb-2",children:"Enterprise networking capabilities for high-performance connectivity."}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:" Gigabit and 10GbE network interfaces"}),a.jsx("li",{children:" Redundant network connections"}),a.jsx("li",{children:" Advanced network management features"}),a.jsx("li",{children:" Support for various network topologies"})]})]})]}),a.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Note:"})," Network interface specifications including port counts, speeds, and protocols can be configured in the Admin Panel."]})})]})});case"power":return a.jsx("div",{className:"space-y-4",children:i&&Array.isArray(i)&&i.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-yellow-900 mb-4",children:"Power Specifications"}),i.map((l,c)=>a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[a.jsxs("h5",{className:"text-md font-semibold text-yellow-800 mb-3",children:["PSU Slot ",l.psu_slot_number]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Max Power:"}),a.jsx("p",{className:"text-yellow-900",children:l.max_power_watts?`${l.max_power_watts}W`:"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Cable Type:"}),a.jsx("p",{className:"text-yellow-900",children:l.power_cable_type||"Not specified"})]})]})]},c))]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Power Specifications"}),a.jsxs("div",{className:"text-yellow-800",children:[a.jsx("p",{className:"mb-2",children:"Efficient power management for optimal data center operations."}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:" High-efficiency power supplies"}),a.jsx("li",{children:" Redundant power configurations"}),a.jsx("li",{children:" Advanced power monitoring"}),a.jsx("li",{children:" Energy-efficient design"})]})]})]}),a.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Note:"})," Power consumption data, PSU specifications, and efficiency ratings can be added through the Admin Panel."]})})]})});case"management":return a.jsx("div",{className:"space-y-4",children:i?a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-indigo-900 mb-4",children:"Management Specifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-indigo-700",children:"Management Type:"}),a.jsx("p",{className:"text-indigo-900",children:i.management_type||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-indigo-700",children:"Remote Console:"}),a.jsx("p",{className:"text-indigo-900",children:i.remote_console_support!==void 0?i.remote_console_support?"Supported":"Not supported":"Not specified"})]})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-indigo-700",children:"Power Control:"}),a.jsx("p",{className:"text-indigo-900",children:i.power_control_support!==void 0?i.power_control_support?"Supported":"Not supported":"Not specified"})]})})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-indigo-900 mb-2",children:"Management Features"}),a.jsxs("div",{className:"text-indigo-800",children:[a.jsx("p",{className:"mb-2",children:"Comprehensive management and monitoring capabilities."}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:" Remote management interfaces (IPMI, BMC)"}),a.jsx("li",{children:" Hardware monitoring and alerting"}),a.jsx("li",{children:" Console redirection capabilities"}),a.jsx("li",{children:" Firmware update mechanisms"})]})]})]}),a.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Note:"})," Management interface details and monitoring capabilities can be specified through the Admin Panel."]})})]})});default:return a.jsx("div",{className:"text-gray-500",children:"No specification data available."})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8",children:GNe.map(s=>a.jsxs("button",{className:`flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors ${t===s.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>r(s.key),children:[a.jsx("span",{children:s.icon}),a.jsx("span",{children:s.label})]},s.key))})}),a.jsx("div",{className:"py-4",children:n(t)})]})},ZNe=({device:e,compatibility:t})=>a.jsx("div",{className:"space-y-4",children:t&&t.length>0?a.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Compatible Model"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Compatibility Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((r,n)=>{var s;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:((s=r.compatible_device)==null?void 0:s.device_model)||r.compatible_model||"Unknown Model"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.compatibility_type||"General"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.level==="full"?"bg-green-100 text-green-800":r.level==="partial"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:r.level||"Compatible"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.notes||"No additional notes"})]},n)})})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Compatibility Information"}),a.jsxs("div",{className:"text-blue-800 space-y-2",children:[a.jsx("p",{children:"This device model has been designed for enterprise compatibility across various infrastructure components."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[a.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:" Rack Compatibility"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[a.jsx("li",{children:" Standard 19-inch rack mounting"}),a.jsxs("li",{children:[" ",e.unit_height," form factor"]}),a.jsx("li",{children:" Enterprise rack rail systems"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[a.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:" Infrastructure"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[a.jsx("li",{children:" Standard data center power"}),a.jsx("li",{children:" Enterprise networking"}),a.jsx("li",{children:" Environmental monitoring"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[a.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:" Management"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[a.jsx("li",{children:" DCIM software integration"}),a.jsx("li",{children:" Remote management protocols"}),a.jsx("li",{children:" Monitoring system compatibility"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[a.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:" Ecosystem"}),a.jsxs("ul",{className:"text-sm space-y-1",children:[a.jsx("li",{children:" Industry standard interfaces"}),a.jsx("li",{children:" Vendor neutral design"}),a.jsx("li",{children:" Future upgrade paths"})]})]})]})]})]}),a.jsx("div",{className:"text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Note:"})," Detailed compatibility matrices with specific models, components, and software can be configured through the Admin Panel. This includes testing results, certification status, and known compatibility issues."]})})]})}),QNe=({device:e})=>{const[t,r]=p.useState({}),[n,s]=p.useState([]);p.useEffect(()=>{e!=null&&e.id&&(i(),o())},[e==null?void 0:e.id]);const i=async()=>{if(e!=null&&e.id)try{const l=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),c=await fetch(`http://localhost:8000/functions/v1/device-glossary/${e.id}/complete-specs`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});r(c.ok?await c.json():{})}catch{r({})}},o=async()=>{if(e!=null&&e.id)try{const l=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),c=await fetch(`http://localhost:8000/functions/v1/device-glossary/${e.id}/compatibility`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});s(c.ok?await c.json():[])}catch{s([])}};return e?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-6",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.device_model}),a.jsxs("div",{className:"flex items-center space-x-4 text-gray-600 mb-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:"Manufacturer:"}),a.jsx("span",{className:"ml-2",children:e.manufacturer})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:"Year:"}),a.jsx("span",{className:"ml-2",children:e.year})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:"Unit Height:"}),a.jsx("span",{className:"ml-2",children:e.unit_height})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:e.device_type}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${e.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.status})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]})})}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Technical Specifications"}),a.jsx(XNe,{specs:t})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Compatibility Information"}),a.jsx(ZNe,{device:e,compatibility:n})]})]}):a.jsx("div",{className:"container mx-auto p-6",children:"Loading..."})};class JNe{getApiUrl(t){return`http://localhost:8000/functions/v1${t}`}async getAuthHeaders(){const{data:{session:t},error:r}=await de.auth.getSession();if(r||!t)throw new Error("Not authenticated");return{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`,apikey:""}}getEndpointPath(t){switch(t){case"cpu":return"/device-cpu-specs";case"memory":return"/device-memory-specs";case"power":return"/device-power-specs";case"network":return"/device-network-specs";case"storage":return"/device-storage-specs";default:throw new Error(`Unknown component type: ${t}`)}}async getComponents(t,r=0,n=50){try{const s=await this.getAuthHeaders(),i=this.getEndpointPath(t),o=`${this.getApiUrl(i)}?offset=${r}&limit=${n}`,l=await fetch(o,{method:"GET",headers:s});if(!l.ok)throw new Error(`Failed to fetch ${t} components: ${l.statusText}`);const c=await l.json();return{data:this.transformApiResponse(t,c),totalCount:c.totalCount||0}}catch(s){throw console.error(`Error fetching ${t} components:`,s),s}}async createComponent(t,r){try{const n=await this.getAuthHeaders(),s=this.getEndpointPath(t),i=this.getApiUrl(s),o=await fetch(i,{method:"POST",headers:n,body:JSON.stringify(r)});if(!o.ok)throw new Error(`Failed to create ${t} component: ${o.statusText}`);return await o.json()}catch(n){throw console.error(`Error creating ${t} component:`,n),n}}async updateComponent(t,r,n){try{const s=await this.getAuthHeaders(),i=this.getEndpointPath(t),o=this.getApiUrl(i),l=await fetch(o,{method:"PUT",headers:s,body:JSON.stringify({id:r,...n})});if(!l.ok)throw new Error(`Failed to update ${t} component: ${l.statusText}`);return await l.json()}catch(s){throw console.error(`Error updating ${t} component:`,s),s}}async deleteComponent(t,r){try{const n=await this.getAuthHeaders(),s=this.getEndpointPath(t),i=`${this.getApiUrl(s)}?id=${r}`,o=await fetch(i,{method:"DELETE",headers:n});if(!o.ok)throw new Error(`Failed to delete ${t} component: ${o.statusText}`)}catch(n){throw console.error(`Error deleting ${t} component:`,n),n}}transformApiResponse(t,r){const n=this.getResponseKey(t);return(r[n]||[]).map(i=>({...i,name:this.generateComponentName(t,i),specifications:this.extractSpecifications(t,i)}))}getResponseKey(t){switch(t){case"cpu":return"cpuSpecs";case"memory":return"memorySpecs";case"power":return"powerSpecs";case"network":return"networkSpecs";case"storage":return"storageSpecs";default:return"data"}}generateComponentName(t,r){switch(t){case"cpu":return r.cpu_model||`${r.cpu_generation||"Unknown"} CPU`;case"memory":return`${r.total_capacity_gb||0}GB ${r.memory_type||"RAM"}`;case"power":return`${r.max_power_watts||0}W PSU`;case"network":return`${r.nic_manufacturer||"Unknown"} ${r.nic_model||"NIC"}`;case"storage":return`${r.storage_model||"Unknown"} ${r.capacity_gb||0}GB ${r.storage_type||"Drive"}`;default:return"Unknown Component"}}extractSpecifications(t,r){switch(t){case"cpu":return{cores:r.physical_cores,threads:r.logical_cores,baseClockGHz:r.base_frequency_ghz,boostClockGHz:r.boost_frequency_ghz,architecture:r.cpu_architecture,tdpWatts:r.tdp_watts};case"memory":return{capacity:`${r.total_capacity_gb}GB`,speed:`${r.memory_frequency_mhz}MHz`,type:r.memory_type,modules:r.module_count,ecc:r.ecc_support};case"power":return{wattage:`${r.max_power_watts}W`,cableType:r.power_cable_type,slotNumber:r.psu_slot_number};case"network":return{ports:r.port_quantity,speed:`${r.port_speed_gbps}Gbps`,portType:r.port_type,connectorType:r.connector_type,manufacturer:r.nic_manufacturer};case"storage":return{capacity:`${r.capacity_gb}GB`,type:r.storage_type,interface:r.interface_type,formFactor:r.drive_form_factor,hotPlug:r.hot_plug_support,tier:r.performance_tier};default:return{}}}}const Cm=new JNe,eCe=({open:e,onClose:t,onAdd:r})=>{const{brands:n,models:s,deviceTypes:i,loading:o}=KV(),[l,c]=p.useState({device_model:"",manufacturer:"",year:new Date().getFullYear(),unit_height:"1U",device_type:"",status:"active",description:"",cpu_specs:{processor_family:"",processor_model:"",cores:"",threads:"",base_clock:"",max_clock:"",cache:"",tdp:"",socket_type:"",socket_count:"1"},memory_specs:{memory_type:"DDR4",max_capacity:"",dimm_slots:"",ecc_support:!0,speed:"",form_factor:"RDIMM"},storage_specs:{storage_bays:"",supported_drives:[],raid_support:[],hot_swap:!0,controller_type:""},network_specs:{ethernet_ports:"",port_speed:"1GbE",management_port:!0,expansion_slots:""},power_specs:{psu_wattage:"",psu_efficiency:"80+ Gold",redundant_psu:!1,power_consumption_idle:"",power_consumption_max:""}}),[u,d]=p.useState("basic"),[f,h]=p.useState({cpu:[],memory:[],storage:[],network:[],power:[]}),[m,y]=p.useState({cpu:[],memory:[],storage:[],network:[],power:[]}),[g,w]=p.useState(!1),b=async()=>{if(e){w(!0);try{const S=["cpu","memory","storage","network","power"],k={};for(const C of S)try{const E=await Cm.getComponents(C,0,100);k[C]=E.data}catch(E){console.error(`Error loading ${C} components:`,E),k[C]=[]}h(k)}catch(S){console.error("Error loading components:",S)}finally{w(!1)}}},x=(S,k)=>{k&&y(C=>{const E=C[S]||[];return{...C,[S]:[...E,k]}})},v=(S,k,C)=>{y(E=>{const A=E[S];return C!==void 0?{...E,[S]:A.filter((P,O)=>O!==C)}:{...E,[S]:A.filter(P=>P.id!==k)}})};p.useEffect(()=>{b()},[e]);const _=(S,k,C)=>{c(E=>({...E,[S]:k}))},j=()=>{const S={device_model:l.device_model,manufacturer:l.manufacturer,year:l.year,unit_height:l.unit_height,device_type:l.device_type,status:l.status,description:l.description,specifications:{cpu:l.cpu_specs,memory:l.memory_specs,storage:l.storage_specs,network:l.network_specs,power:l.power_specs},components:{cpu:m.cpu,memory:m.memory,storage:m.storage,network:m.network,power:m.power}};r(S)};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Add New Device Model"}),a.jsx("p",{className:"text-green-100",children:"Define device specifications and component compatibility"})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"basic",label:"Basic Info",icon:""},{key:"cpu",label:"CPU",icon:""},{key:"memory",label:"Memory",icon:""},{key:"storage",label:"Storage",icon:""},{key:"network",label:"Network",icon:""},{key:"power",label:"Power",icon:""}].map(S=>a.jsxs("button",{onClick:()=>d(S.key),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${u===S.key?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx("span",{children:S.icon}),a.jsx("span",{children:S.label})]},S.key))})}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[u==="basic"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Model *"}),a.jsxs("select",{value:l.device_model,onChange:S=>_("device_model",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:o,children:[a.jsx("option",{value:"",children:o?"Loading models...":"Select Device Model"}),s.map(S=>a.jsx("option",{value:S,children:S},S))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manufacturer *"}),a.jsxs("select",{value:l.manufacturer,onChange:S=>_("manufacturer",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:o,children:[a.jsx("option",{value:"",children:o?"Loading manufacturers...":"Select Manufacturer"}),n.map(S=>a.jsx("option",{value:S,children:S},S))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),a.jsx("input",{type:"number",value:l.year,onChange:S=>_("year",parseInt(S.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",min:"2000",max:"2030"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Height"}),a.jsxs("select",{value:l.unit_height,onChange:S=>_("unit_height",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"1U",children:"1U"}),a.jsx("option",{value:"2U",children:"2U"}),a.jsx("option",{value:"3U",children:"3U"}),a.jsx("option",{value:"4U",children:"4U"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Type"}),a.jsxs("select",{value:l.device_type,onChange:S=>_("device_type",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",disabled:o,children:[a.jsx("option",{value:"",children:o?"Loading device types...":"Select Device Type"}),i.map(S=>a.jsx("option",{value:S,children:S},S))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:l.status,onChange:S=>_("status",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"eol",children:"End of Life"}),a.jsx("option",{value:"discontinued",children:"Discontinued"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:S=>_("description",S.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Describe the device capabilities and use cases..."})]})]}),u==="cpu"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"CPU Specifications"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Select CPU Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Available CPU Components"}),g?a.jsx("div",{className:"text-sm text-blue-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:S=>{const k=f.cpu.find(C=>C.id===S.target.value);k&&(x("cpu",k),S.target.value="")},className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a CPU component to add"}),f.cpu.map(S=>{var k,C;return a.jsxs("option",{value:S.id,children:[S.name," - ",(k=S.specifications)==null?void 0:k.architecture," - ",(C=S.specifications)==null?void 0:C.cores," cores"]},`${S.id}-${Math.random()}`)})]})]}),m.cpu.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-blue-700",children:["Selected CPU Components (",m.cpu.length,")"]}),m.cpu.map((S,k)=>{var C,E,A,P;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-blue-600 bg-white p-3 rounded border border-blue-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:S.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Cores: ",(C=S.specifications)==null?void 0:C.cores," | Threads: ",(E=S.specifications)==null?void 0:E.threads," | Base Clock: ",(A=S.specifications)==null?void 0:A.baseClockGHz,"GHz | Architecture: ",(P=S.specifications)==null?void 0:P.architecture]})]}),a.jsx("button",{type:"button",onClick:()=>v("cpu",S.id,k),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${S.id}-${k}`)})]})]})]})]}),u==="memory"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Memory Specifications"}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"Select Memory Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Available Memory Components"}),g?a.jsx("div",{className:"text-sm text-green-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:S=>{const k=f.memory.find(C=>C.id===S.target.value);k&&(x("memory",k),S.target.value="")},className:"w-full px-3 py-2 border border-green-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a memory component to add"}),f.memory.map(S=>{var k,C;return a.jsxs("option",{value:S.id,children:[S.name," - ",(k=S.specifications)==null?void 0:k.type," - ",(C=S.specifications)==null?void 0:C.capacity]},`${S.id}-${Math.random()}`)})]})]}),m.memory.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-green-700",children:["Selected Memory Components (",m.memory.length,")"]}),m.memory.map((S,k)=>{var C,E,A,P;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600 bg-white p-3 rounded border border-green-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:S.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Capacity: ",(C=S.specifications)==null?void 0:C.capacity," | Type: ",(E=S.specifications)==null?void 0:E.type," | Speed: ",(A=S.specifications)==null?void 0:A.speed," | ECC: ",(P=S.specifications)!=null&&P.ecc?"Yes":"No"]})]}),a.jsx("button",{type:"button",onClick:()=>v("memory",S.id,k),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${S.id}-${k}`)})]})]})]})]}),u==="storage"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Storage Specifications"}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Select Storage Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-1",children:"Available Storage Components"}),g?a.jsx("div",{className:"text-sm text-purple-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:S=>{const k=f.storage.find(C=>C.id===S.target.value);k&&(x("storage",k),S.target.value="")},className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a storage component to add"}),f.storage.map(S=>{var k,C;return a.jsxs("option",{value:S.id,children:[S.name," - ",(k=S.specifications)==null?void 0:k.type," - ",(C=S.specifications)==null?void 0:C.capacity]},`${S.id}-${Math.random()}`)})]})]}),m.storage.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-purple-700",children:["Selected Storage Components (",m.storage.length,")"]}),m.storage.map((S,k)=>{var C,E,A,P;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-purple-600 bg-white p-3 rounded border border-purple-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:S.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Capacity: ",(C=S.specifications)==null?void 0:C.capacity," | Type: ",(E=S.specifications)==null?void 0:E.type," | Interface: ",(A=S.specifications)==null?void 0:A.interface," | Hot Plug: ",(P=S.specifications)!=null&&P.hotPlug?"Yes":"No"]})]}),a.jsx("button",{type:"button",onClick:()=>v("storage",S.id,k),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${S.id}-${k}`)})]})]})]})]}),u==="network"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Network Specifications"}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Select Network Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-orange-700 mb-1",children:"Available Network Components"}),g?a.jsx("div",{className:"text-sm text-orange-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:S=>{const k=f.network.find(C=>C.id===S.target.value);k&&(x("network",k),S.target.value="")},className:"w-full px-3 py-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a network component to add"}),f.network.map(S=>{var k,C;return a.jsxs("option",{value:S.id,children:[S.name," - ",(k=S.specifications)==null?void 0:k.ports," ports - ",(C=S.specifications)==null?void 0:C.speed]},`${S.id}-${Math.random()}`)})]})]}),m.network.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-orange-700",children:["Selected Network Components (",m.network.length,")"]}),m.network.map((S,k)=>{var C,E,A;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-orange-600 bg-white p-3 rounded border border-orange-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:S.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Ports: ",(C=S.specifications)==null?void 0:C.ports," | Speed: ",(E=S.specifications)==null?void 0:E.speed," | Type: ",(A=S.specifications)==null?void 0:A.type]})]}),a.jsx("button",{type:"button",onClick:()=>v("network",S.id,k),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${S.id}-${k}`)})]})]})]})]}),u==="power"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Power Specifications"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-2",children:"Select Power Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"Available Power Components"}),g?a.jsx("div",{className:"text-sm text-red-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:S=>{const k=f.power.find(C=>C.id===S.target.value);k&&(x("power",k),S.target.value="")},className:"w-full px-3 py-2 border border-red-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a power component to add"}),f.power.map(S=>{var k,C;return a.jsxs("option",{value:S.id,children:[S.name," - ",(k=S.specifications)==null?void 0:k.wattage,"W - ",(C=S.specifications)==null?void 0:C.efficiency]},`${S.id}-${Math.random()}`)})]})]}),m.power.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-red-700",children:["Selected Power Components (",m.power.length,")"]}),m.power.map((S,k)=>{var C,E,A;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-red-600 bg-white p-3 rounded border border-red-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:S.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Wattage: ",(C=S.specifications)==null?void 0:C.wattage,"W | Efficiency: ",(E=S.specifications)==null?void 0:E.efficiency," | Redundant: ",(A=S.specifications)!=null&&A.redundant?"Yes":"No"]})]}),a.jsx("button",{type:"button",onClick:()=>v("power",S.id,k),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${S.id}-${k}`)})]})]})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Fill in the specifications to create detailed device compatibility profiles"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{onClick:j,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition font-medium",children:"Add Device Model"})]})]})]})}):null},tCe=({open:e,device:t,onClose:r,onSave:n})=>{const[s,i]=p.useState("cpu"),[o,l]=p.useState({cpu:[],memory:[],storage:[],network:[],power:[]}),[c,u]=p.useState({cpu:[],memory:[],storage:[],network:[],power:[]}),[d,f]=p.useState(!1),[h,m]=p.useState({cpu_specs:{processor_family:"",processor_model:"",cores:"",threads:"",base_clock:"",max_clock:"",cache:"",tdp:"",socket_type:"",socket_count:"1"},memory_specs:{memory_type:"DDR4",max_capacity:"",dimm_slots:"",speed:"",form_factor:"RDIMM",ecc_support:!0},storage_specs:{storage_bays:"",controller_type:"",hot_swap:!1},network_specs:{ethernet_ports:"",port_speed:"1GbE",expansion_slots:"",management_port:!1},power_specs:{psu_wattage:"",psu_efficiency:"80+ Bronze",power_consumption_idle:"",power_consumption_max:"",redundant_psu:!1}}),y=async()=>{if(e){f(!0);try{const v=["cpu","memory","storage","network","power"],_={cpu:[],memory:[],storage:[],network:[],power:[]};for(const j of v)try{const S=await Cm.getComponents(j,0,100);if(j==="storage"){const k=S.data.reduce((C,E)=>{const A=`${E.storage_model}_${E.storage_type}_${E.capacity_gb}_${E.interface_type}`;return C.find(P=>`${P.storage_model}_${P.storage_type}_${P.capacity_gb}_${P.interface_type}`===A)||(E.name=E.name||`${E.storage_model} ${E.capacity_gb}GB ${E.storage_type}`,C.push(E)),C},[]);_[j]=k}else _[j]=S.data}catch(S){console.error(`Error loading ${j} components:`,S),_[j]=[]}l(_)}catch(v){console.error("Error loading components:",v)}finally{f(!1)}}};p.useEffect(()=>{y()},[e]),p.useEffect(()=>{var v,_,j,S,k;t?(t.specifications&&m({cpu_specs:t.specifications.cpu_specs||h.cpu_specs,memory_specs:t.specifications.memory_specs||h.memory_specs,storage_specs:t.specifications.storage_specs||h.storage_specs,network_specs:t.specifications.network_specs||h.network_specs,power_specs:t.specifications.power_specs||h.power_specs}),u({cpu:((v=t.components)==null?void 0:v.cpu)||[],memory:((_=t.components)==null?void 0:_.memory)||[],storage:((j=t.components)==null?void 0:j.storage)||[],network:((S=t.components)==null?void 0:S.network)||[],power:((k=t.components)==null?void 0:k.power)||[]})):u({cpu:[],memory:[],storage:[],network:[],power:[]})},[t]);const g=(v,_)=>{_&&u(j=>{const S=j[v]||[];return{...j,[v]:[...S,_]}})},w=(v,_,j)=>{u(S=>{const k=S[v];return j!==void 0?{...S,[v]:k.filter((C,E)=>E!==j)}:{...S,[v]:k.filter(C=>C.id!==_)}})},b=()=>{const v={...h,components:{cpu:c.cpu,memory:c.memory,storage:c.storage,network:c.network,power:c.power}};n(v),r()};if(!e)return null;const x=[{id:"cpu",label:"CPU",color:"bg-blue-500"},{id:"memory",label:"Memory",color:"bg-green-500"},{id:"storage",label:"Storage",color:"bg-purple-500"},{id:"network",label:"Network",color:"bg-orange-500"},{id:"power",label:"Power",color:"bg-red-500"}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] shadow-xl",children:[a.jsxs("div",{className:"border-b border-gray-200 px-6 py-4",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Edit Specifications"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Update hardware specifications for ",t==null?void 0:t.device_model]})]}),a.jsx("div",{className:"border-b border-gray-200 px-6",children:a.jsx("nav",{className:"flex space-x-1",children:x.map(v=>a.jsxs("button",{onClick:()=>i(v.id),className:`flex items-center px-4 py-3 border-b-2 font-medium text-sm transition ${s===v.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${v.color} mr-2 opacity-75`}),v.label]},v.id))})}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[s==="cpu"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"CPU Specifications"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Select CPU Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Available CPU Components"}),d?a.jsx("div",{className:"text-sm text-blue-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:v=>{const _=o.cpu.find(j=>j.id===v.target.value);_&&(g("cpu",_),v.target.value="")},className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a CPU component to add"}),o.cpu.map(v=>{var _,j;return a.jsxs("option",{value:v.id,children:[v.name," - ",(_=v.specifications)==null?void 0:_.architecture," - ",(j=v.specifications)==null?void 0:j.cores," cores"]},`${v.id}-${Math.random()}`)})]})]}),c.cpu.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-blue-700",children:["Selected CPU Components (",c.cpu.length,")"]}),c.cpu.map((v,_)=>{var j,S,k,C;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-blue-600 bg-white p-3 rounded border border-blue-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:v.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Cores: ",(j=v.specifications)==null?void 0:j.cores," | Threads: ",(S=v.specifications)==null?void 0:S.threads," | Base Clock: ",(k=v.specifications)==null?void 0:k.baseClockGHz,"GHz | Architecture: ",(C=v.specifications)==null?void 0:C.architecture]})]}),a.jsx("button",{type:"button",onClick:()=>w("cpu",v.id,_),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${v.id}-${_}`)})]})]})]})]}),s==="memory"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Memory Specifications"}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"Select Memory Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Available Memory Components"}),d?a.jsx("div",{className:"text-sm text-green-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:v=>{const _=o.memory.find(j=>j.id===v.target.value);_&&(g("memory",_),v.target.value="")},className:"w-full px-3 py-2 border border-green-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a memory component to add"}),o.memory.map(v=>{var _,j;return a.jsxs("option",{value:v.id,children:[v.name," - ",(_=v.specifications)==null?void 0:_.type," - ",(j=v.specifications)==null?void 0:j.capacity]},`${v.id}-${Math.random()}`)})]})]}),c.memory.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-green-700",children:["Selected Memory Components (",c.memory.length,")"]}),c.memory.map((v,_)=>{var j,S,k,C;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-green-600 bg-white p-3 rounded border border-green-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:v.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Capacity: ",(j=v.specifications)==null?void 0:j.capacity," | Type: ",(S=v.specifications)==null?void 0:S.type," | Speed: ",(k=v.specifications)==null?void 0:k.speed," | ECC: ",(C=v.specifications)!=null&&C.ecc?"Yes":"No"]})]}),a.jsx("button",{type:"button",onClick:()=>w("memory",v.id,_),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${v.id}-${_}`)})]})]})]})]}),s==="storage"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Storage Specifications"}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Select Storage Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-purple-700 mb-1",children:"Available Storage Components"}),d?a.jsx("div",{className:"text-sm text-purple-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:v=>{const _=o.storage.find(j=>j.id===v.target.value);_&&(g("storage",_),v.target.value="")},className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a storage component to add"}),o.storage.map(v=>a.jsxs("option",{value:v.id,children:[v.storage_model," - ",v.capacity_gb,"GB ",v.storage_type," (",v.interface_type,")"]},`${v.id}-${Math.random()}`))]})]}),c.storage.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-purple-700",children:["Selected Storage Components (",c.storage.length,")"]}),c.storage.map((v,_)=>a.jsxs("div",{className:"flex items-center justify-between text-sm text-purple-600 bg-white p-3 rounded border border-purple-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:v.storage_model||v.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Capacity: ",v.capacity_gb,"GB | Type: ",v.storage_type," | Interface: ",v.interface_type," | Hot Plug: ",v.hot_plug_support?"Yes":"No"]})]}),a.jsx("button",{type:"button",onClick:()=>w("storage",v.id,_),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${v.id}-${_}`))]})]})]})]}),s==="network"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Network Specifications"}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Select Network Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-orange-700 mb-1",children:"Available Network Components"}),d?a.jsx("div",{className:"text-sm text-orange-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:v=>{const _=o.network.find(j=>j.id===v.target.value);_&&(g("network",_),v.target.value="")},className:"w-full px-3 py-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a network component to add"}),o.network.map(v=>{var _,j;return a.jsxs("option",{value:v.id,children:[v.name," - ",(_=v.specifications)==null?void 0:_.ports," ports - ",(j=v.specifications)==null?void 0:j.speed]},`${v.id}-${Math.random()}`)})]})]}),c.network.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-orange-700",children:["Selected Network Components (",c.network.length,")"]}),c.network.map((v,_)=>{var j,S,k;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-orange-600 bg-white p-3 rounded border border-orange-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:v.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Ports: ",(j=v.specifications)==null?void 0:j.ports," | Speed: ",(S=v.specifications)==null?void 0:S.speed," | Type: ",(k=v.specifications)==null?void 0:k.type]})]}),a.jsx("button",{type:"button",onClick:()=>w("network",v.id,_),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${v.id}-${_}`)})]})]})]})]}),s==="power"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Power Specifications"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-2",children:"Select Power Components"}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"Available Power Components"}),d?a.jsx("div",{className:"text-sm text-red-600",children:"Loading components..."}):a.jsxs("select",{value:"",onChange:v=>{const _=o.power.find(j=>j.id===v.target.value);_&&(g("power",_),v.target.value="")},className:"w-full px-3 py-2 border border-red-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 bg-white",children:[a.jsx("option",{value:"",children:"Select a power component to add"}),o.power.map(v=>{var _,j;return a.jsxs("option",{value:v.id,children:[v.name," - ",(_=v.specifications)==null?void 0:_.wattage,"W - ",(j=v.specifications)==null?void 0:j.efficiency]},`${v.id}-${Math.random()}`)})]})]}),c.power.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-red-700",children:["Selected Power Components (",c.power.length,")"]}),c.power.map((v,_)=>{var j,S,k;return a.jsxs("div",{className:"flex items-center justify-between text-sm text-red-600 bg-white p-3 rounded border border-red-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:v.name}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Wattage: ",(j=v.specifications)==null?void 0:j.wattage,"W | Efficiency: ",(S=v.specifications)==null?void 0:S.efficiency," | Redundant: ",(k=v.specifications)!=null&&k.redundant?"Yes":"No"]})]}),a.jsx("button",{type:"button",onClick:()=>w("power",v.id,_),className:"ml-3 px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Remove"})]},`${v.id}-${_}`)})]})]})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Update the specifications for this device model"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{onClick:b,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition font-medium",children:"Save Changes"})]})]})]})})},rCe=({open:e,onClose:t,componentType:r,onComponentAdded:n})=>{const[s,i]=p.useState({}),[o,l]=p.useState(!1);if(!e)return null;const c=()=>{switch(r){case"cpu":return[{name:"cpu_model",label:"CPU Model",type:"text",required:!0},{name:"cpu_generation",label:"Generation",type:"text"},{name:"physical_cores",label:"Physical Cores",type:"number"},{name:"logical_cores",label:"Logical Cores",type:"number"},{name:"base_frequency_ghz",label:"Base Frequency (GHz)",type:"number",step:"0.1"},{name:"boost_frequency_ghz",label:"Boost Frequency (GHz)",type:"number",step:"0.1"},{name:"cpu_architecture",label:"Architecture",type:"text"},{name:"tdp_watts",label:"TDP (Watts)",type:"number"}];case"memory":return[{name:"total_capacity_gb",label:"Total Capacity (GB)",type:"number",required:!0},{name:"memory_type",label:"Memory Type",type:"text",required:!0},{name:"memory_frequency_mhz",label:"Frequency (MHz)",type:"number"},{name:"module_count",label:"Module Count",type:"number"},{name:"module_capacity_gb",label:"Module Capacity (GB)",type:"number"},{name:"ecc_support",label:"ECC Support",type:"checkbox"},{name:"maximum_capacity_gb",label:"Maximum Capacity (GB)",type:"number"}];case"power":return[{name:"max_power_watts",label:"Max Power (Watts)",type:"number",required:!0},{name:"power_cable_type",label:"Cable Type",type:"text"},{name:"psu_slot_number",label:"PSU Slot Number",type:"number"}];case"network":return[{name:"nic_manufacturer",label:"Manufacturer",type:"text"},{name:"nic_model",label:"Model",type:"text",required:!0},{name:"port_quantity",label:"Port Quantity",type:"number"},{name:"port_speed_gbps",label:"Port Speed (Gbps)",type:"number"},{name:"port_type",label:"Port Type",type:"text"},{name:"connector_type",label:"Connector Type",type:"text"}];case"storage":return[{name:"storage_model",label:"Storage Model",type:"text",required:!0},{name:"storage_type",label:"Storage Type",type:"text",required:!0},{name:"capacity_gb",label:"Capacity (GB)",type:"number",required:!0},{name:"interface_type",label:"Interface Type",type:"text"},{name:"drive_form_factor",label:"Form Factor",type:"text"},{name:"hot_plug_support",label:"Hot Plug Support",type:"checkbox"},{name:"performance_tier",label:"Performance Tier",type:"text"},{name:"warranty_years",label:"Warranty (Years)",type:"number"},{name:"quantity",label:"Quantity",type:"number"},{name:"storage_slot_number",label:"Slot Number",type:"number"}];default:return[]}},u=(h,m)=>{i(y=>({...y,[h]:m}))},d=async h=>{h.preventDefault(),l(!0);try{await Cm.createComponent(r,s),n(),t(),i({})}catch(m){console.error("Error creating component:",m),alert("Failed to create component. Please try again.")}finally{l(!1)}},f=c();return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-xl",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Add New ",r.toUpperCase()," Component"]})}),a.jsxs("form",{onSubmit:d,className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(h=>a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1",children:[h.label,h.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h.type==="checkbox"?a.jsx("input",{type:"checkbox",checked:s[h.name]||!1,onChange:m=>u(h.name,m.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}):a.jsx("input",{type:h.type,step:h.step,value:s[h.name]||"",onChange:m=>u(h.name,h.type==="number"?Number(m.target.value):m.target.value),required:h.required,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]},h.name))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition disabled:opacity-50",children:o?"Creating...":"Create Component"})]})]})]})})},Rf=({open:e,onClose:t,componentType:r,title:n})=>{const[s,i]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState(!1);p.useEffect(()=>{e&&d()},[e,r]);const d=async()=>{l(!0);try{const b=await Cm.getComponents(r);i(b.data)}catch(b){console.error("Error fetching components:",b),i([])}finally{l(!1)}},f=()=>{u(!0)},h=()=>{d()},m=b=>{alert(`Edit ${b.name} functionality - integrate with componentService.updateComponent()`)},y=async b=>{if(window.confirm("Are you sure you want to delete this component?"))try{await Cm.deleteComponent(r,b),i(x=>x.filter(v=>v.id!==b))}catch(x){console.error("Error deleting component:",x),alert("Failed to delete component. Please try again.")}};if(!e)return null;const w=(()=>{switch(r){case"cpu":return{headerBg:"bg-blue-50",titleText:"text-blue-900",descText:"text-blue-700",button:"bg-blue-600 hover:bg-blue-700",badge:"bg-blue-100 text-blue-700",accent:"border-blue-200",cardBorder:"border-blue-200",specsBg:"bg-blue-100",specsText:"text-blue-700"};case"memory":return{headerBg:"bg-green-50",titleText:"text-green-900",descText:"text-green-700",button:"bg-green-600 hover:bg-green-700",badge:"bg-green-100 text-green-700",accent:"border-green-200",cardBorder:"border-green-200",specsBg:"bg-green-100",specsText:"text-green-700"};case"power":return{headerBg:"bg-yellow-50",titleText:"text-yellow-900",descText:"text-yellow-700",button:"bg-yellow-600 hover:bg-yellow-700",badge:"bg-yellow-100 text-yellow-700",accent:"border-yellow-200",cardBorder:"border-yellow-200",specsBg:"bg-yellow-100",specsText:"text-yellow-700"};case"network":return{headerBg:"bg-purple-50",titleText:"text-purple-900",descText:"text-purple-700",button:"bg-purple-600 hover:bg-purple-700",badge:"bg-purple-100 text-purple-700",accent:"border-purple-200",cardBorder:"border-purple-200",specsBg:"bg-purple-100",specsText:"text-purple-700"};case"storage":return{headerBg:"bg-orange-50",titleText:"text-orange-900",descText:"text-orange-700",button:"bg-orange-600 hover:bg-orange-700",badge:"bg-orange-100 text-orange-700",accent:"border-orange-200",cardBorder:"border-orange-200",specsBg:"bg-orange-100",specsText:"text-orange-700"};default:return{headerBg:"bg-gray-50",titleText:"text-gray-900",descText:"text-gray-700",button:"bg-gray-600 hover:bg-gray-700",badge:"bg-gray-100 text-gray-700",accent:"border-gray-200",cardBorder:"border-gray-200",specsBg:"bg-gray-100",specsText:"text-gray-700"}}})();return a.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:[a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl max-h-[90vh] shadow-xl",children:[a.jsxs("div",{className:`border-b border-gray-200 px-6 py-4 ${w.headerBg}`,children:[a.jsx("h2",{className:`text-2xl font-bold ${w.titleText}`,children:n}),a.jsxs("p",{className:`${w.descText} mt-1`,children:["Manage hardware ",r," specifications and models"]})]}),a.jsx("div",{className:"border-b border-gray-200 px-6 py-4 bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[s.length," ",r," component",s.length!==1?"s":""," found"]}),a.jsxs("button",{onClick:f,className:`px-4 py-2 ${w.button} text-white rounded-md transition font-medium`,children:["Add New ",r.toUpperCase()," Component"]})]})}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:o?a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"text-gray-500",children:["Loading ",r," components..."]})}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:`${w.titleText} text-lg font-medium mb-2`,children:["No ",r," components found"]}),a.jsxs("div",{className:"text-gray-500 mb-4",children:["Start by adding your first ",r," component specification"]}),a.jsxs("button",{onClick:f,className:`px-6 py-3 ${w.button} text-white rounded-md transition font-medium`,children:["Add First ",r.toUpperCase()," Component"]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-medium text-gray-500 border-b pb-2",children:[a.jsx("div",{className:"col-span-3",children:"Component Name"}),a.jsx("div",{className:"col-span-6",children:"Key Specifications"}),a.jsx("div",{className:"col-span-2",children:"Last Updated"}),a.jsx("div",{className:"col-span-1",children:"Actions"})]}),s.map(b=>a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center py-3 border-b border-gray-100 hover:bg-gray-50",children:[a.jsxs("div",{className:"col-span-3",children:[a.jsx("div",{className:"font-medium text-gray-900",children:b.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",b.id]})]}),a.jsx("div",{className:"col-span-6",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:b.specifications&&Object.entries(b.specifications).slice(0,3).map(([x,v])=>a.jsxs("span",{className:`px-2 py-1 ${w.specsBg} ${w.specsText} text-xs rounded`,children:[x,": ",String(v)||"N/A"]},x))})}),a.jsx("div",{className:"col-span-2 text-sm text-gray-500",children:new Date(b.updated_at).toLocaleDateString()}),a.jsx("div",{className:"col-span-1",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>m(b),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:()=>y(b.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},b.id))]})}),a.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Use component management to define hardware specifications and compatibility matrices"}),a.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition font-medium",children:"Close"})]})]}),a.jsx(rCe,{open:c,onClose:()=>u(!1),componentType:r,onComponentAdded:h})]})},nCe=()=>{var M;const[e,t]=p.useState(!1),[r,n]=p.useState(!1),[s,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState("devices"),[h,m]=p.useState(!1),[y,g]=p.useState(!1),[w,b]=p.useState(!1),[x,v]=p.useState(!1),[_,j]=p.useState(!1),{enums:S,addEnumValue:k,refreshEnums:C}=Vd(),[E,A]=p.useState(""),[P,O]=p.useState(!1);p.useEffect(()=>{$()},[]);const $=async()=>{u(!0);try{const L=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),W=await fetch("http://localhost:8000/functions/v1/device-glossary",{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(W.ok){const K=await W.json(),z=Array.isArray(K)?K:K.devices||[];l(z)}else l([])}catch(L){console.error("Error fetching devices:",L),l([])}finally{u(!1)}},I=async L=>{try{const W=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token");await fetch("http://localhost:8000/functions/v1/device-glossary",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify(L)}),t(!1),$()}catch(W){console.error("Error adding device:",W)}},B=async L=>{if(s)try{const W=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),K={...L,id:s.id};console.log("Sending update payload:",JSON.stringify(K,null,2));const z=await fetch("http://localhost:8000/functions/v1/device-glossary",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify(K)});if(!z.ok){const V=await z.text();throw console.error("Update failed:",z.status,V),new Error(`Update failed: ${z.status}`)}const H=await z.json();console.log("Update response:",H),n(!1),i(null),$()}catch(W){console.error("Error updating device:",W)}},U=async L=>{try{const W=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),K=await fetch(`http://localhost:8000/functions/v1/device-glossary/${L}/complete-specs`,{headers:{Authorization:`Bearer ${W}`}});if(!K.ok)throw new Error("Failed to fetch device specs");const z=await K.json(),H={...z.device,specifications:z.specifications,components:{cpu:z.specifications.cpu?[{id:z.specifications.cpu.id,name:z.specifications.cpu.cpu_model,model:z.specifications.cpu.cpu_model,component_model:z.specifications.cpu.cpu_model,component_type:"CPU",specifications:{generation:z.specifications.cpu.cpu_generation,cores:z.specifications.cpu.physical_cores,threads:z.specifications.cpu.logical_cores,baseClockGHz:z.specifications.cpu.base_frequency_ghz,base_frequency:z.specifications.cpu.base_frequency_ghz,boost_frequency:z.specifications.cpu.boost_frequency_ghz,architecture:z.specifications.cpu.cpu_architecture,tdp:z.specifications.cpu.tdp_watts,l1_cache:z.specifications.cpu.l1_cache_kb,l2_cache:z.specifications.cpu.l2_cache_mb,l3_cache:z.specifications.cpu.l3_cache_mb,instruction_sets:z.specifications.cpu.instruction_sets},quantity:z.specifications.cpu.cpu_quantity||1}]:[],memory:z.specifications.memory?[{id:z.specifications.memory.id,name:`${z.specifications.memory.memory_type} Memory`,model:`${z.specifications.memory.memory_type} Memory`,component_model:`${z.specifications.memory.memory_type} Memory`,component_type:"Memory",specifications:{capacity:z.specifications.memory.total_capacity_gb,type:z.specifications.memory.memory_type,speed:z.specifications.memory.memory_frequency_mhz,ecc:z.specifications.memory.ecc_support,frequency:z.specifications.memory.memory_frequency_mhz,module_count:z.specifications.memory.module_count,module_capacity:z.specifications.memory.module_capacity_gb,ecc_support:z.specifications.memory.ecc_support,max_capacity:z.specifications.memory.maximum_capacity_gb,channels:z.specifications.memory.memory_channels}}]:[],storage:(z.specifications.storage||[]).map(V=>({id:V.id,name:V.storage_model,model:V.storage_model,component_model:V.storage_model,component_type:V.storage_type,specifications:{capacity:V.capacity_gb,type:V.storage_type,interface:V.interface_type,hotPlug:V.hot_plug_support,capacity_gb:V.capacity_gb,interface_type:V.interface_type,hot_plug_support:V.hot_plug_support,form_factor:V.drive_form_factor,performance_tier:V.performance_tier,warranty_years:V.warranty_years},quantity:V.quantity||1,storage_type:V.storage_type,capacity_gb:V.capacity_gb,interface_type:V.interface_type,hot_plug_support:V.hot_plug_support,drive_form_factor:V.drive_form_factor,performance_tier:V.performance_tier,warranty_years:V.warranty_years})),network:(z.specifications.network||[]).map(V=>({id:V.id,name:V.nic_model,model:V.nic_model,component_model:V.nic_model,component_type:V.nic_type,manufacturer:V.nic_manufacturer,specifications:{ports:V.port_quantity,speed:V.port_speed_gbps,type:V.nic_type,port_type:V.port_type,connector:V.connector_type,management:V.is_management_port,modules:V.supported_modules,drivers:V.driver_support},nic_type:V.nic_type,nic_manufacturer:V.nic_manufacturer,port_type:V.port_type,port_speed_gbps:V.port_speed_gbps,port_quantity:V.port_quantity,connector_type:V.connector_type,is_management_port:V.is_management_port,supported_modules:V.supported_modules,driver_support:V.driver_support})),power:(z.specifications.power||[]).map(V=>({id:V.id,name:`${V.max_power_watts}W PSU`,model:`${V.max_power_watts}W PSU`,component_model:`${V.max_power_watts}W PSU`,component_type:"Power Supply",specifications:{wattage:V.max_power_watts,efficiency:"80+ Bronze",redundant:!1,cable_type:V.power_cable_type},max_power_watts:V.max_power_watts,power_cable_type:V.power_cable_type}))}};i(H),n(!0)}catch(W){console.error("Error fetching device specs:",W)}},T=async L=>{if(confirm("Are you sure you want to delete this device?"))try{const W=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token");await fetch(`http://localhost:8000/functions/v1/device-glossary/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}}),$()}catch(W){console.error("Error deleting device:",W)}},N=async()=>{if(!E.trim())return;const L=parseInt(E.trim());if(isNaN(L)||L<1990||L>2050){alert("Please enter a valid year between 1990 and 2050");return}O(!0);try{await k("year",E.trim())&&(A(""),await C())}catch(W){console.error("Error adding year:",W)}finally{O(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-lg",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Device Glossary Administration"}),a.jsx("p",{className:"text-green-100",children:"Manage device models, specifications, and hardware components"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[a.jsx("div",{className:"border-b border-slate-200",children:a.jsxs("nav",{className:"flex space-x-8 px-6",children:[a.jsx("button",{onClick:()=>f("devices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${d==="devices"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Device Models"}),a.jsx("button",{onClick:()=>f("components"),className:`py-4 px-1 border-b-2 font-medium text-sm ${d==="components"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Hardware Components"}),a.jsx("button",{onClick:()=>f("enums"),className:`py-4 px-1 border-b-2 font-medium text-sm ${d==="enums"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Year Management"})]})}),a.jsxs("div",{className:"p-6",children:[d==="devices"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{className:"px-4 py-2 rounded bg-green-600 text-white font-medium hover:bg-green-700 transition",onClick:()=>t(!0),children:"+ Add New Device Model"}),a.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white font-medium hover:bg-blue-700 transition",onClick:()=>s&&U(s.id),disabled:!s,children:"Edit Specifications"})]}),c?a.jsx("div",{className:"text-center py-8",children:"Loading devices..."}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Select"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device Model"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manufacturer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(L=>a.jsxs("tr",{className:(s==null?void 0:s.id)===L.id?"bg-blue-50":"",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"radio",name:"selectedDevice",checked:(s==null?void 0:s.id)===L.id,onChange:()=>i(L),className:"form-radio h-4 w-4 text-green-600"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.device_model}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.manufacturer}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.device_type}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.year}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>T(L.id),className:"text-red-600 hover:text-red-900 ml-2",children:"Delete"})})]},L.id))})]}),o.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No devices found. Add your first device model above."})]})]}),d==="components"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"CPU Management"}),a.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Manage processor specifications and models"}),a.jsx("button",{className:"w-full px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition text-sm",onClick:()=>m(!0),children:"Manage CPUs"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Memory Management"}),a.jsx("p",{className:"text-green-700 text-sm mb-3",children:"Manage RAM specifications and compatibility"}),a.jsx("button",{className:"w-full px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition text-sm",onClick:()=>g(!0),children:"Manage Memory"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Power Management"}),a.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"Manage PSU specifications and requirements"}),a.jsx("button",{className:"w-full px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition text-sm",onClick:()=>b(!0),children:"Manage Power"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Network Interfaces"}),a.jsx("p",{className:"text-purple-700 text-sm mb-3",children:"Manage Network Interface Card specifications and capabilities"}),a.jsx("button",{className:"w-full px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition text-sm",onClick:()=>v(!0),children:"Manage NICs"})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"Storage Devices"}),a.jsx("p",{className:"text-orange-700 text-sm mb-3",children:"Manage storage specifications and capabilities"}),a.jsx("button",{className:"w-full px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition text-sm",onClick:()=>j(!0),children:"Manage Storage"})]})]}),a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Component Management Features"}),a.jsxs("ul",{className:"text-gray-700 space-y-1 text-sm",children:[a.jsx("li",{children:" Add new hardware specifications for CPU, Memory, Power, Network, and Storage components"}),a.jsx("li",{children:" Define compatibility matrices between different components"}),a.jsx("li",{children:" Set performance benchmarks and power consumption data"}),a.jsx("li",{children:" Manage component lifecycle and end-of-life information"}),a.jsx("li",{children:" Import/export component data in bulk"})]})]})]}),d==="enums"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Year Management"}),a.jsx("p",{className:"text-blue-700 mb-6",children:"Manage year values for device filters. Years are automatically detected from existing devices, but you can add additional years here for future devices."}),a.jsx("div",{className:"max-w-md",children:a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Available Years"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{type:"number",value:E,onChange:L=>A(L.target.value),placeholder:"Enter year (e.g., 2026)",min:"1990",max:"2050",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:L=>L.key==="Enter"&&N()}),a.jsx("button",{onClick:N,disabled:P||!E.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Adding...":"Add"})]}),a.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Years:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:((M=S.years)==null?void 0:M.map(L=>a.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:L},L)))||a.jsx("span",{className:"text-xs text-gray-500",children:"Years are auto-detected from devices"})})]})]})}),a.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-semibold text-yellow-800 mb-2",children:" About Year Management:"}),a.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:" Years are automatically extracted from device data in the filters"}),a.jsx("li",{children:" You can add future years here for planning upcoming device releases"}),a.jsx("li",{children:" Manufacturers and models are managed through the main enum system"}),a.jsx("li",{children:" Device types are predefined in the system configuration"})]})]})]})})]})]}),a.jsx(eCe,{open:e,onClose:()=>t(!1),onAdd:I}),a.jsx(tCe,{open:r,device:s,onClose:()=>n(!1),onSave:B}),a.jsx(Rf,{open:h,onClose:()=>m(!1),componentType:"cpu",title:"CPU Management"}),a.jsx(Rf,{open:y,onClose:()=>g(!1),componentType:"memory",title:"Memory Management"}),a.jsx(Rf,{open:w,onClose:()=>b(!1),componentType:"power",title:"Power Management"}),a.jsx(Rf,{open:x,onClose:()=>v(!1),componentType:"network",title:"Network Interface Management"}),a.jsx(Rf,{open:_,onClose:()=>j(!1),componentType:"storage",title:"Storage Management"})]})},sCe=({value:e,isDifferent:t,type:r})=>a.jsx("span",{className:t?"bg-yellow-100 text-yellow-800 font-bold px-2 rounded":"text-gray-700",children:e}),iCe=({comparisonData:e,activeFilters:t})=>{console.log("ComparisonTable received:",{comparisonData:e,activeFilters:t});const r=i=>({storage_breakdown:"Storage Configuration",storage_total:"Total Storage Capacity",storage_drives_count:"Number of Drives",storage_type:"Storage Types",storage_interface:"Storage Interfaces",network_interfaces:"Network Configuration",network_speed:"Network Speeds",network_types:"Network Interface Types",network_total_ports:"Total Network Ports",cpu_base_frequency:"CPU Base Frequency",cpu_max_frequency:"CPU Max Frequency",memory_slots_total:"Total Memory Slots",memory_slots_used:"Memory Slots Used",power_supply_wattage:"Power Supply Wattage",power_consumption:"Power Consumption"})[i]||i.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase());if(!e)return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Select at least 2 models to see comparison"})});const n=Array.isArray(e)?e:e.models||e.devices||[];if(console.log("Extracted models for comparison:",n),!Array.isArray(n)||n.length===0)return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-gray-500",children:"No comparison data available"}),a.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:["Debug: Received data type: ",typeof e,", Array: ",Array.isArray(e)?"yes":"no"]})]})});const s=[{key:"basic",title:"Basic Information",fields:["device_model","manufacturer","year","device_type","status"]},{key:"cpu",title:"CPU Specifications",fields:["cpu_model","cpu_cores","cpu_threads","cpu_base_frequency","cpu_max_frequency"]},{key:"memory",title:"Memory Specifications",fields:["memory_total","memory_type","memory_speed","memory_slots_total","memory_slots_used"]},{key:"storage",title:"Storage Information",fields:["storage_breakdown","storage_total","storage_drives_count","storage_type","storage_interface"]},{key:"network",title:"Network Interfaces",fields:["network_interfaces","network_total_ports","network_speed","network_types"]},{key:"power",title:"Power Supply",fields:["power_consumption","power_supply_wattage","power_efficiency"]}].filter(i=>i.key==="basic"||t.includes(i.key));return a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 p-4 font-bold",children:"Device Comparison"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100",children:[a.jsx("th",{className:"text-left p-3 font-medium min-w-[200px]",children:"Specification"}),n.map((i,o)=>a.jsxs("th",{className:"text-left p-3 font-medium min-w-[180px]",children:[a.jsx("div",{children:i.device_model||`Model ${o+1}`}),a.jsxs("div",{className:"text-sm text-gray-600 font-normal",children:[i.manufacturer," ",i.year&&`(${i.year})`]})]},o))]})}),a.jsx("tbody",{children:s.map(i=>a.jsxs(ie.Fragment,{children:[a.jsx("tr",{children:a.jsx("td",{colSpan:n.length+1,className:"bg-blue-50 p-3 font-semibold text-blue-800",children:i.title})}),i.fields.map(o=>{const l=n.map(d=>d[o]),c=[...new Set(l.filter(d=>d!=null))],u=c.length>1;return a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 font-medium capitalize",children:r(o)}),n.map((d,f)=>a.jsx("td",{className:"p-3 align-top",children:d[o]?a.jsx("div",{className:`${o==="storage_breakdown"||o==="network_interfaces"?"text-sm break-words max-w-xs":""}`,children:a.jsx(sCe,{value:d[o],isDifferent:u&&c.length>1})}):a.jsx("span",{className:"text-gray-400",children:"N/A"})},f))]},o)})]},i.key))})]})})]})},aCe=({selectedModels:e,onModelSelect:t,onModelRemove:r,maxSelection:n})=>{const[s,i]=p.useState([]),[o,l]=p.useState(!1);console.log("ModelSelector props:",{selectedModels:e,maxSelection:n}),p.useEffect(()=>{c()},[]);const c=async()=>{l(!0);try{const u=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),d=await fetch("http://localhost:8000/functions/v1/device-glossary",{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(d.ok){const f=await d.json(),h=Array.isArray(f)?f:f.devices||[];console.log("ModelSelector loaded devices:",h.length,"devices"),console.log("Sample device structure:",h[0]),i(h)}else i([])}catch(u){console.error("Error loading models:",u),i([])}finally{l(!1)}};return a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"mb-2 font-bold",children:["Select Models to Compare (",e.length,"/",n,")"]}),o?a.jsx("div",{className:"text-center py-4",children:"Loading models..."}):s.length===0?a.jsx("div",{className:"text-center py-4 text-gray-500",children:"No server models found"}):a.jsxs(a.Fragment,{children:[e.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm font-medium mb-2",children:"Selected Models:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(u=>{const d=s.find(f=>f.id===u);return d?a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center gap-1",children:[d.device_model," (",d.manufacturer,")",a.jsx("button",{onClick:()=>r==null?void 0:r(u),className:"ml-1 text-red-500 hover:text-red-700",children:""})]},u):null})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:Array.isArray(s)&&s.filter(u=>!e.includes(u.id)).map(u=>a.jsxs("button",{className:"border rounded px-3 py-2 bg-gray-50 hover:bg-blue-50 text-left transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:e.length>=n,onClick:()=>t(u.id),children:[a.jsx("div",{className:"font-medium",children:u.device_model}),a.jsxs("div",{className:"text-sm text-gray-600",children:[u.manufacturer,"  ",u.device_type,"  ",u.year||"N/A"]})]},u.id))})]})]})},oCe=({activeFilters:e,onFiltersChange:t})=>{const r=[{key:"cpu",label:"CPU Specifications"},{key:"memory",label:"Memory/RAM"},{key:"storage",label:"Storage"},{key:"network",label:"Network Interfaces"},{key:"power",label:"Power Supply"}],n=s=>{const i=e.includes(s);t(i?e.filter(o=>o!==s):[...e,s])};return a.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[a.jsx("div",{className:"mb-3 font-bold",children:"Comparison Categories"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:r.map(s=>a.jsx("button",{onClick:()=>n(s.key),className:`px-3 py-2 rounded text-sm transition-colors ${e.includes(s.key)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.label},s.key))}),a.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:["Selected ",e.length," of ",r.length," categories"]})]})},lCe=({models:e,comparisonData:t})=>{const r=()=>{if(!t)return;const n=Array.isArray(t)?t:t.models||t.devices||[];if(n.length===0)return;const s=new Set;n.forEach(d=>{Object.keys(d).forEach(f=>s.add(f))});const i=Array.from(s);let o=i.join(",")+`
`;n.forEach(d=>{const f=i.map(h=>{const m=d[h]||"";return typeof m=="string"&&(m.includes(",")||m.includes('"'))?`"${m.replace(/"/g,'""')}"`:m}).join(",");o+=f+`
`});const l=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),u=URL.createObjectURL(l);c.setAttribute("href",u),c.setAttribute("download",`device-comparison-${new Date().toISOString().split("T")[0]}.csv`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)};return!t||e.length===0?null:a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold",children:"Export Comparison"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Download comparison data as CSV"})]}),a.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[a.jsx($m,{className:"h-4 w-4"}),"Export CSV"]})]})})},cCe=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(null),[s,i]=p.useState(!1),[o,l]=p.useState(["cpu","memory","storage","network","power"]);p.useEffect(()=>{console.log("Effect triggered:",{selectedModelsLength:e.length,selectedModels:e,activeFilters:o}),e.length>=2?d():n(null)},[e,o]);const c=h=>{e.includes(h)||t([...e,h])},u=h=>{t(e.filter(m=>m!==h))},d=async()=>{i(!0);try{console.log("Loading comparison for models:",e);const h=e.join(","),m=o.join(","),y=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),g=await fetch(`http://localhost:8000/functions/v1/device-glossary/compare?models=${h}&include=${m}`,{headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(g.ok){const w=await g.json();if(console.log("Comparison API data:",w),w.models&&w.specifications){const b=w.models.map((x,v)=>{const _=w.specifications.cpu[v],j=w.specifications.memory[v],S=w.specifications.storage[v]||[],k=w.specifications.network[v]||[],C=w.specifications.power[v]||[];return{...x,cpu_model:(_==null?void 0:_.cpu_model)||"N/A",cpu_cores:_!=null&&_.physical_cores?_.cpu_quantity>1?`${_.physical_cores*_.cpu_quantity} (${_.cpu_quantity}x ${_.physical_cores})`:_.physical_cores:"N/A",cpu_threads:_!=null&&_.logical_cores?_.cpu_quantity>1?`${_.logical_cores*_.cpu_quantity} (${_.cpu_quantity}x ${_.logical_cores})`:_.logical_cores:"N/A",cpu_base_frequency:_!=null&&_.base_frequency_ghz?`${_.base_frequency_ghz} GHz`:"N/A",cpu_max_frequency:_!=null&&_.boost_frequency_ghz?`${_.boost_frequency_ghz} GHz`:"N/A",memory_total:j!=null&&j.total_capacity_gb?`${j.total_capacity_gb} GB`:"N/A",memory_type:(j==null?void 0:j.memory_type)||"N/A",memory_speed:j!=null&&j.memory_frequency_mhz?`${j.memory_frequency_mhz} MHz`:"N/A",memory_slots_total:j!=null&&j.module_count?j.module_capacity_gb?`${j.module_count} (${j.module_capacity_gb}GB each)`:j.module_count:"N/A",memory_slots_used:j!=null&&j.module_count?j.module_capacity_gb?`${j.module_count} (${j.module_capacity_gb}GB each)`:j.module_count:"N/A",storage_total:S.length>0?`${S.reduce((E,A)=>E+(A.capacity_gb||0),0)} GB`:"N/A",storage_type:S.length>0?[...new Set(S.map(E=>E.storage_type))].join(", "):"N/A",storage_interface:S.length>0?[...new Set(S.map(E=>E.interface_type))].join(", "):"N/A",storage_breakdown:S.length>0?(()=>{const E=S.reduce((A,P)=>{const O=`${P.storage_type}_${P.interface_type}`;return A[O]||(A[O]={count:0,capacity:P.capacity_gb,type:P.storage_type,interface:P.interface_type}),A[O].count+=P.quantity||1,A},{});return Object.values(E).map(A=>`${A.count}x ${A.capacity}GB ${A.type} (${A.interface})`).join(" + ")})():"N/A",storage_drives_count:S.reduce((E,A)=>E+(A.quantity||1),0)||0,network_interfaces:k.length>0?(()=>{const E=k.reduce((A,P)=>{const O=`${P.port_speed_gbps}Gbps_${P.nic_type}`;return A[O]||(A[O]={ports:0,speed:P.port_speed_gbps,type:P.nic_type}),A[O].ports+=P.port_quantity||1,A},{});return Object.values(E).map(A=>`${A.ports}x ${A.speed}Gbps ${A.type}`).join(" + ")})():"N/A",network_speed:k.length>0?[...new Set(k.map(E=>`${E.port_speed_gbps}Gbps`))].join(", "):"N/A",network_types:k.length>0?[...new Set(k.map(E=>E.nic_type))].join(", "):"N/A",network_total_ports:k.reduce((E,A)=>E+(A.port_quantity||1),0)||0,power_consumption:C.length>0?(()=>{const E=C.reduce((P,O)=>P+(O.max_power_watts||0),0),A=C.length;return A>1?`${E}W (${A} PSUs)`:`${E}W`})():"N/A",power_supply_wattage:C.length>0?(()=>{const E=C.reduce((P,O)=>P+(O.max_power_watts||0),0),A=C.length;return A>1?`${E}W (${A} PSUs)`:`${E}W`})():"N/A",power_efficiency:"80+ Bronze"}});console.log("Transformed comparison data:",b),n(b)}else n(w)}else console.log("Comparison API failed, using fallback:",g.status),await f()}catch(h){console.error("Error loading comparison:",h),await f()}finally{i(!1)}},f=async()=>{try{console.log("Using fallback: fetching individual models with complete specs");const h=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),m=e.map(async w=>{var b,x,v,_,j,S,k,C,E,A,P,O,$,I,B,U,T,N,M,L,W;try{const K=await fetch(`http://localhost:8000/functions/v1/device-glossary/${w}/complete-specs`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(K.ok){const z=await K.json();return console.log("Individual model spec data:",z),{...z.device,cpu_model:((b=z.specifications.cpu)==null?void 0:b.cpu_model)||"N/A",cpu_cores:(x=z.specifications.cpu)!=null&&x.physical_cores?z.specifications.cpu.cpu_quantity>1?`${z.specifications.cpu.physical_cores*z.specifications.cpu.cpu_quantity} (${z.specifications.cpu.cpu_quantity}x ${z.specifications.cpu.physical_cores})`:z.specifications.cpu.physical_cores:"N/A",cpu_threads:(v=z.specifications.cpu)!=null&&v.logical_cores?z.specifications.cpu.cpu_quantity>1?`${z.specifications.cpu.logical_cores*z.specifications.cpu.cpu_quantity} (${z.specifications.cpu.cpu_quantity}x ${z.specifications.cpu.logical_cores})`:z.specifications.cpu.logical_cores:"N/A",cpu_base_frequency:(_=z.specifications.cpu)!=null&&_.base_frequency_ghz?`${z.specifications.cpu.base_frequency_ghz} GHz`:"N/A",cpu_max_frequency:(j=z.specifications.cpu)!=null&&j.boost_frequency_ghz?`${z.specifications.cpu.boost_frequency_ghz} GHz`:"N/A",memory_total:(S=z.specifications.memory)!=null&&S.total_capacity_gb?`${z.specifications.memory.total_capacity_gb} GB`:"N/A",memory_type:((k=z.specifications.memory)==null?void 0:k.memory_type)||"N/A",memory_speed:(C=z.specifications.memory)!=null&&C.memory_frequency_mhz?`${z.specifications.memory.memory_frequency_mhz} MHz`:"N/A",memory_slots_total:(E=z.specifications.memory)!=null&&E.module_count?z.specifications.memory.module_capacity_gb?`${z.specifications.memory.module_count} (${z.specifications.memory.module_capacity_gb}GB each)`:z.specifications.memory.module_count:"N/A",memory_slots_used:(A=z.specifications.memory)!=null&&A.module_count?z.specifications.memory.module_capacity_gb?`${z.specifications.memory.module_count} (${z.specifications.memory.module_capacity_gb}GB each)`:z.specifications.memory.module_count:"N/A",storage_total:((P=z.specifications.storage)==null?void 0:P.length)>0?`${z.specifications.storage.reduce((V,oe)=>V+(oe.capacity_gb||0),0)} GB`:"N/A",storage_type:((O=z.specifications.storage)==null?void 0:O.length)>0?[...new Set(z.specifications.storage.map(V=>V.storage_type))].join(", "):"N/A",storage_interface:(($=z.specifications.storage)==null?void 0:$.length)>0?[...new Set(z.specifications.storage.map(V=>V.interface_type))].join(", "):"N/A",storage_breakdown:((I=z.specifications.storage)==null?void 0:I.length)>0?(()=>{const oe=z.specifications.storage.reduce((te,Ne)=>{const ee=`${Ne.storage_type}_${Ne.interface_type}`;return te[ee]||(te[ee]={count:0,capacity:Ne.capacity_gb,type:Ne.storage_type,interface:Ne.interface_type}),te[ee].count+=Ne.quantity||1,te},{});return Object.values(oe).map(te=>`${te.count}x ${te.capacity}GB ${te.type} (${te.interface})`).join(" + ")})():"N/A",storage_drives_count:((B=z.specifications.storage)==null?void 0:B.reduce((V,oe)=>V+(oe.quantity||1),0))||0,network_interfaces:((U=z.specifications.network)==null?void 0:U.length)>0?(()=>{const oe=z.specifications.network.reduce((te,Ne)=>{const ee=`${Ne.port_speed_gbps}Gbps_${Ne.nic_type}`;return te[ee]||(te[ee]={ports:0,speed:Ne.port_speed_gbps,type:Ne.nic_type}),te[ee].ports+=Ne.port_quantity||1,te},{});return Object.values(oe).map(te=>`${te.ports}x ${te.speed}Gbps ${te.type}`).join(" + ")})():"N/A",network_speed:((T=z.specifications.network)==null?void 0:T.length)>0?[...new Set(z.specifications.network.map(V=>`${V.port_speed_gbps}Gbps`))].join(", "):"N/A",network_types:((N=z.specifications.network)==null?void 0:N.length)>0?[...new Set(z.specifications.network.map(V=>V.nic_type))].join(", "):"N/A",network_total_ports:((M=z.specifications.network)==null?void 0:M.reduce((V,oe)=>V+(oe.port_quantity||1),0))||0,power_consumption:((L=z.specifications.power)==null?void 0:L.length)>0?(()=>{const V=z.specifications.power,oe=V.reduce((Ne,ee)=>Ne+(ee.max_power_watts||0),0),te=V.length;return te>1?`${oe}W (${te} PSUs)`:`${oe}W`})():"N/A",power_supply_wattage:((W=z.specifications.power)==null?void 0:W.length)>0?(()=>{const V=z.specifications.power,oe=V.reduce((Ne,ee)=>Ne+(ee.max_power_watts||0),0),te=V.length;return te>1?`${oe}W (${te} PSUs)`:`${oe}W`})():"N/A",power_efficiency:"80+ Bronze"}}return null}catch(K){return console.error(`Error fetching specs for model ${w}:`,K),null}}),g=(await Promise.all(m)).filter(w=>w!==null);console.log("Flattened models for comparison:",g),g.length>0?n(g):(console.log("No valid models found for comparison"),n(null))}catch(h){console.error("Error in fallback comparison:",h),n(null)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(aCe,{selectedModels:e,onModelSelect:c,onModelRemove:u,maxSelection:4}),a.jsx(oCe,{activeFilters:o,onFiltersChange:l}),e.length>=2&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-4",children:[a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Debug:"})," Selected ",e.length," models: ",e.join(", ")]}),a.jsx("button",{onClick:()=>d(),className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:" Refresh Comparison"})]}),s?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):null,r&&!s&&a.jsx(iCe,{comparisonData:r,activeFilters:o}),r&&a.jsx(lCe,{models:e,comparisonData:r})]})},uCe=()=>{const[e,t]=p.useState([]),[r,n]=p.useState(null),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState("all"),[d,f]=p.useState("all"),[h,m]=p.useState("all"),[y,g]=p.useState("all"),[w,b]=p.useState(""),[x,v]=p.useState(!1),{hasRole:_}=ua(),j=_("engineer");p.useEffect(()=>{S()},[c,d,h,y,w]);const S=async()=>{v(!0);try{const k=new URLSearchParams;c&&c!=="all"&&k.append("manufacturer",c),d&&d!=="all"&&k.append("device_type",d),h&&h!=="all"&&k.append("status",h),y&&y!=="all"&&k.append("year",y),w&&k.append("search",w);const C=localStorage.getItem("sb-access-token")||sessionStorage.getItem("sb-access-token"),E=await fetch(`http://localhost:8000/functions/v1/device-glossary?${k.toString()}`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(E.ok){const A=await E.json(),P=Array.isArray(A)?A:A.devices||[];t(P),console.log("Devices loaded:",P.length,"devices"),console.log("Device models:",P.map(O=>O.device_model))}else console.error("API response not ok:",E.status,E.statusText),t([])}catch(k){console.error("Error fetching devices:",k),t([])}finally{v(!1)}};return a.jsx("div",{className:"space-y-6",children:r?a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ve,{children:"Device Details"}),a.jsxs(It,{children:["Viewing specifications for ",r.device_model]})]}),a.jsx(G,{onClick:()=>n(null),variant:"outline",children:" Back to List"})]})}),a.jsx(Ae,{children:a.jsx(QNe,{device:r})})]}):s?a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ve,{children:"Device Glossary Administration"}),a.jsx(It,{children:"Manage device specifications and hardware profiles"})]}),a.jsx(G,{onClick:()=>{i(!1),S()},variant:"outline",children:" Back to Glossary"})]})}),a.jsx(Ae,{children:a.jsx(nCe,{})})]}):o?a.jsxs(Ce,{children:[a.jsx(Ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ve,{children:"Device Comparison"}),a.jsx(It,{children:"Compare hardware specifications side by side"})]}),a.jsx(G,{onClick:()=>l(!1),variant:"outline",children:" Back to Glossary"})]})}),a.jsx(Ae,{children:a.jsx(cCe,{})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ce,{children:a.jsx(Ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Ve,{className:"text-2xl",children:"Device Glossary"}),a.jsx(It,{children:"Comprehensive hardware specifications and compatibility information"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(G,{onClick:S,variant:"outline",size:"sm",title:"Refresh device list",children:" Refresh"}),a.jsx(G,{onClick:()=>l(!0),variant:"outline",size:"sm",title:"Compare devices",children:" Compare"}),j&&a.jsx(G,{onClick:()=>i(!0),variant:"outline",size:"sm",children:" Admin Panel"})]})]})})}),a.jsx(Ce,{children:a.jsxs(Ae,{className:"pt-6",children:[a.jsx(KNe,{manufacturer:c,type:d,status:h,year:y,onManufacturerChange:u,onTypeChange:f,onStatusChange:m,onYearChange:g}),a.jsx(YNe,{query:w,setQuery:b})]})}),a.jsx(Ce,{children:a.jsx(Ae,{className:"pt-6",children:x?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.length===0?a.jsx("div",{className:"col-span-3 text-center text-gray-500",children:"No devices found."}):e.map(k=>a.jsx(qNe,{device:k,onViewDetails:()=>n(k)},k.id))})})})]})})},wn=()=>{const e=zd(),t=Um(),r={"/":"dashboard","/dashboard":"dashboard","/serverinventory":"servers","/servers":"servers","/rackview":"rackview","/racks":"rackview","/roomview":"roomview","/rooms":"roomview","/datacenter":"datacenter","/reports":"reports","/properties":"properties","/users":"users","/usermanagement":"users","/activitylogs":"activitylogs","/device-glossary":"glossary"},n={dashboard:"/",servers:"/serverinventory",rackview:"/rackview",roomview:"/roomview",datacenter:"/datacenter",reports:"/reports",properties:"/properties",users:"/users",activitylogs:"/activitylogs",glossary:"/device-glossary"},s=()=>r[e.pathname]||"dashboard",[i,o]=p.useState(s()),[l,c]=p.useState(null),[u,d]=p.useState("DCIMS"),[f,h]=p.useState(!1),{hasRole:m}=ua();Er(),p.useEffect(()=>{const v=s();v!==i&&o(v)},[e.pathname]);const y=v=>{o(v);const _=n[v]||"/";e.pathname!==_&&t(_,{replace:!0})},g=m("engineer"),w=m("super_admin");p.useEffect(()=>{const v=localStorage.getItem("organizationName");v&&d(v),(()=>{const j=document.createElement("img");j.onload=()=>h(!0),j.onerror=()=>h(!1),j.src="/logo.png?"+Date.now()})()},[]);const b=()=>{const v=localStorage.getItem("organizationName");v&&d(v);const _=document.createElement("img");_.onload=()=>h(!0),_.onerror=()=>h(!1),_.src="/logo.png?"+Date.now()},x=v=>{c(v),y("rackview")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[a.jsx("header",{className:"bg-white border-b border-slate-200 shadow-sm",children:a.jsx("div",{className:"container mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[f?a.jsx("div",{className:"h-10 w-10 rounded-lg overflow-hidden bg-white border border-slate-200 flex items-center justify-center",children:a.jsx("img",{src:"/logo.png?"+Date.now(),alt:"Organization Logo",className:"h-8 w-8 object-contain",onError:()=>h(!1)})}):a.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:a.jsx(En,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:u}),a.jsx("p",{className:"text-sm text-slate-600",children:"Data Center Inventory Management"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(We,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"System Online"}),a.jsx(VNe,{onLogoUpdate:b,children:a.jsxs(G,{variant:"outline",size:"sm",children:[a.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Settings"]})}),a.jsx(WNe,{})]})]})})}),a.jsx("main",{className:"container mx-auto px-6 py-8",children:a.jsxs(qm,{value:i,onValueChange:y,className:"space-y-6",children:[a.jsxs(Hd,{className:`grid w-full ${w&&g?"grid-cols-10":w?"grid-cols-9":g?"grid-cols-8":"grid-cols-7"} lg:w-[${w&&g?"1000px":w?"900px":g?"800px":"700px"}] bg-white border border-slate-200 shadow-sm`,children:[a.jsxs(Tr,{value:"dashboard",className:"flex items-center space-x-2",children:[a.jsx(Y4,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),a.jsxs(Tr,{value:"servers",className:"flex items-center space-x-2",children:[a.jsx(Qi,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Inventory"})]}),a.jsxs(Tr,{value:"rackview",className:"flex items-center space-x-2",children:[a.jsx(En,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Rack View"})]}),a.jsxs(Tr,{value:"roomview",className:"flex items-center space-x-2",children:[a.jsx(En,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Room View"})]}),a.jsxs(Tr,{value:"datacenter",className:"flex items-center space-x-2",children:[a.jsx(En,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"DC View"})]}),g&&a.jsxs(Tr,{value:"properties",className:"flex items-center space-x-2",children:[a.jsx(Xs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Properties"})]}),a.jsxs(Tr,{value:"reports",className:"flex items-center space-x-2",children:[a.jsx(Ha,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Reports"})]}),w&&a.jsxs(Tr,{value:"users",className:"flex items-center space-x-2",children:[a.jsx(Ru,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),w&&a.jsxs(Tr,{value:"activitylogs",className:"flex items-center space-x-2",children:[a.jsx(Ha,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Activity Logs"})]}),a.jsxs(Tr,{value:"glossary",className:"flex items-center space-x-2",children:[a.jsx(En,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Glossary"})]})]}),a.jsx(Mr,{value:"dashboard",className:"space-y-6",children:a.jsx(cke,{})}),a.jsx(Mr,{value:"servers",className:"space-y-6",children:a.jsx(Uie,{})}),a.jsx(Mr,{value:"rackview",className:"space-y-6",children:a.jsx(dke,{selectedRackId:l})}),a.jsx(Mr,{value:"roomview",className:"space-y-6",children:a.jsx(yke,{onRackClick:x})}),a.jsx(Mr,{value:"datacenter",className:"space-y-6",children:a.jsx(Nke,{onViewRack:x})}),g&&a.jsx(Mr,{value:"properties",className:"space-y-6",children:a.jsx(kke,{})}),a.jsx(Mr,{value:"reports",className:"space-y-6",children:a.jsx(xke,{})}),w&&a.jsx(Mr,{value:"users",className:"space-y-6",children:a.jsx(Cke,{})}),w&&a.jsx(Mr,{value:"activitylogs",className:"space-y-6",children:a.jsx(HNe,{})}),a.jsx(Mr,{value:"glossary",className:"space-y-6",children:a.jsx(uCe,{})})]})})]})},dCe=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(!1),[s,i]=p.useState("signin"),[o,l]=p.useState(!1),[c,u]=p.useState({loading:!1,success:!1,error:null}),[d,f]=p.useState({email:"",password:""}),[h,m]=p.useState({email:"",password:"",username:"",fullName:""}),{signIn:y,signUp:g,user:w}=ua(),b=Um(),x=()=>{l(!1),i("signin"),u({loading:!1,success:!1,error:null})};p.useEffect(()=>{w&&b("/")},[w,b]);const v=async j=>{j.preventDefault(),t(!0);const{error:S}=await y(d.email,d.password);S||b("/"),t(!1)},_=async j=>{j.preventDefault(),u({loading:!0,success:!1,error:null});try{const{error:S,success:k}=await g(h.email,h.password,h.username,h.fullName);S?u({loading:!1,success:!1,error:S.message||"Failed to create account"}):(u({loading:!1,success:!0,error:null}),m({email:"",password:"",username:"",fullName:""}),l(!0))}catch{u({loading:!1,success:!1,error:"An unexpected error occurred"})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-center mb-8",children:[a.jsx("div",{className:"p-3 bg-blue-600 rounded-lg mr-3",children:a.jsx(En,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"DCIMS"}),a.jsx("p",{className:"text-slate-600",children:"Data Center Inventory Management"})]})]}),a.jsxs(Ce,{children:[a.jsxs(Ue,{children:[a.jsx(Ve,{children:"Authentication"}),a.jsx(It,{children:"Sign in to access your data center inventory"})]}),a.jsx(Ae,{children:a.jsxs(qm,{value:s,onValueChange:i,className:"space-y-4",children:[a.jsxs(Hd,{className:"grid w-full grid-cols-2",children:[a.jsx(Tr,{value:"signin",children:"Sign In"}),a.jsx(Tr,{value:"signup",children:"Sign Up"})]}),a.jsx(Mr,{value:"signin",className:"space-y-4",children:a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"signin-email",children:"Email"}),a.jsx(qe,{id:"signin-email",type:"email",placeholder:"Enter your email",value:d.email,onChange:j=>f({...d,email:j.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"signin-password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{id:"signin-password",type:r?"text":"password",placeholder:"Enter your password",value:d.password,onChange:j=>f({...d,password:j.target.value}),required:!0}),a.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!r),children:r?a.jsx(Du,{className:"h-4 w-4"}):a.jsx(Us,{className:"h-4 w-4"})})]})]}),a.jsx(G,{type:"submit",className:"w-full",disabled:e,children:e?"Signing In...":"Sign In"})]})}),a.jsx(Mr,{value:"signup",className:"space-y-4",children:a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"signup-email",children:"Email"}),a.jsx(qe,{id:"signup-email",type:"email",placeholder:"Enter your email",value:h.email,onChange:j=>m({...h,email:j.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"signup-username",children:"Username"}),a.jsx(qe,{id:"signup-username",type:"text",placeholder:"Choose a username",value:h.username,onChange:j=>m({...h,username:j.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"signup-fullname",children:"Full Name (Optional)"}),a.jsx(qe,{id:"signup-fullname",type:"text",placeholder:"Enter your full name",value:h.fullName,onChange:j=>m({...h,fullName:j.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ne,{htmlFor:"signup-password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(qe,{id:"signup-password",type:r?"text":"password",placeholder:"Create a password",value:h.password,onChange:j=>m({...h,password:j.target.value}),required:!0}),a.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!r),children:r?a.jsx(Du,{className:"h-4 w-4"}):a.jsx(Us,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground text-center p-2 bg-muted/50 rounded-md",children:"Your account will be accessible after admin approval. Please contact the administrator."}),a.jsx(G,{type:"submit",className:"w-full",disabled:c.loading,children:c.loading?"Creating account...":"Create account"}),c.error&&a.jsxs(Go,{className:"mt-4 border-red-200 bg-red-50",variant:"destructive",children:[a.jsx(ra,{className:"h-4 w-4"}),a.jsx(Y3,{children:"Sign Up Failed"}),a.jsx(oc,{children:c.error})]})]})]})})]})})]})]}),a.jsx(jr,{open:o,onOpenChange:l,children:a.jsxs(fr,{className:"sm:max-w-md",children:[a.jsx(hr,{children:a.jsxs(mr,{className:"flex items-center gap-2 text-green-800",children:[a.jsx(dh,{className:"h-5 w-5 text-green-600"}),"Account Created Successfully!"]})}),a.jsxs(pr,{className:"text-center",children:["Your account has been created and is pending admin approval.",a.jsx("br",{}),"You will be redirected to sign in when the progress completes."]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-4",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full animate-progress-fill",onAnimationEnd:x})})]})})]})},fCe=()=>{const e=zd();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},_n=({children:e,requiredRole:t="viewer"})=>{const{user:r,loading:n,hasRole:s,error:i}=ua(),[o,l]=p.useState(!1);return p.useEffect(()=>{if(n){const c=setTimeout(()=>{l(!0)},1e4);return()=>clearTimeout(c)}else l(!1)},[n]),i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(Ce,{className:"w-full max-w-md",children:[a.jsxs(Ue,{className:"text-center",children:[a.jsx($a,{className:"h-12 w-12 text-red-500 mx-auto mb-2"}),a.jsx(Ve,{className:"text-red-600",children:"Authentication Error"}),a.jsx(It,{children:i})]}),a.jsx(Ae,{className:"text-center",children:a.jsxs(G,{onClick:()=>window.location.reload(),className:"w-full",variant:"outline",children:[a.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Refresh Page"]})})]})}):n&&o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(Ce,{className:"w-full max-w-md",children:[a.jsxs(Ue,{className:"text-center",children:[a.jsx($a,{className:"h-12 w-12 text-yellow-500 mx-auto mb-2"}),a.jsx(Ve,{className:"text-yellow-600",children:"Loading Taking Too Long"}),a.jsx(It,{children:"Authentication is taking longer than expected. This might be due to network issues."})]}),a.jsxs(Ae,{className:"text-center space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Ci,{className:"h-6 w-6 animate-spin mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Still trying to connect..."})]}),a.jsxs(G,{onClick:()=>window.location.reload(),className:"w-full",variant:"outline",children:[a.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Refresh Page"]})]})]})}):n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ci,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r?s(t)?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(Ce,{className:"w-full max-w-md",children:[a.jsxs(Ue,{className:"text-center",children:[a.jsx($a,{className:"h-12 w-12 text-red-500 mx-auto mb-2"}),a.jsx(Ve,{className:"text-red-600",children:"Access Denied"}),a.jsx(It,{children:"You don't have permission to access this page."})]}),a.jsxs(Ae,{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Required role: ",t]}),a.jsx(G,{onClick:()=>window.history.back(),variant:"outline",className:"w-full",children:"Go Back"})]})]})}):a.jsx(FX,{to:"/auth",replace:!0})},hCe=new ZG,mCe=()=>a.jsx(JG,{client:hCe,children:a.jsxs(T$,{children:[a.jsx(CK,{}),a.jsx(rY,{}),a.jsx(VX,{children:a.jsx(oJ,{children:a.jsx(lJ,{children:a.jsxs(zX,{children:[a.jsx(Br,{path:"/auth",element:a.jsx(dCe,{})}),a.jsx(Br,{path:"/",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/dashboard",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/serverinventory",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/servers",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/rackview",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/racks",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/roomview",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/rooms",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/datacenter",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/reports",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/properties",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/users",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/usermanagement",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/activitylogs",element:a.jsx(_n,{requiredRole:"super_admin",children:a.jsx(wn,{})})}),a.jsx(Br,{path:"/device-glossary",element:a.jsx(_n,{children:a.jsx(wn,{})})}),a.jsx(Br,{path:"*",element:a.jsx(fCe,{})})]})})})})]})});_4(document.getElementById("root")).render(a.jsx(mCe,{}));
