var YV=Object.defineProperty;var IN=e=>{throw TypeError(e)};var GV=(e,t,r)=>t in e?YV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pe=(e,t,r)=>GV(e,typeof t!="symbol"?t+"":t,r),rb=(e,t,r)=>t.has(e)||IN("Cannot "+r);var re=(e,t,r)=>(rb(e,t,"read from private field"),r?r.call(e):t.get(e)),Ct=(e,t,r)=>t.has(e)?IN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),st=(e,t,r,n)=>(rb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),rn=(e,t,r)=>(rb(e,t,"access private method"),r);var hm=(e,t,r,n)=>({set _(s){st(e,t,s,r)},get _(){return re(e,t,n)}});function XV(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZV(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var JM={exports:{}},Ky={},eR={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=Symbol.for("react.element"),QV=Symbol.for("react.portal"),JV=Symbol.for("react.fragment"),e9=Symbol.for("react.strict_mode"),t9=Symbol.for("react.profiler"),r9=Symbol.for("react.provider"),n9=Symbol.for("react.context"),s9=Symbol.for("react.forward_ref"),i9=Symbol.for("react.suspense"),a9=Symbol.for("react.memo"),o9=Symbol.for("react.lazy"),LN=Symbol.iterator;function l9(e){return e===null||typeof e!="object"?null:(e=LN&&e[LN]||e["@@iterator"],typeof e=="function"?e:null)}var tR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rR=Object.assign,nR={};function Ad(e,t,r){this.props=e,this.context=t,this.refs=nR,this.updater=r||tR}Ad.prototype.isReactComponent={};Ad.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ad.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sR(){}sR.prototype=Ad.prototype;function zj(e,t,r){this.props=e,this.context=t,this.refs=nR,this.updater=r||tR}var Uj=zj.prototype=new sR;Uj.constructor=zj;rR(Uj,Ad.prototype);Uj.isPureReactComponent=!0;var $N=Array.isArray,iR=Object.prototype.hasOwnProperty,Wj={current:null},aR={key:!0,ref:!0,__self:!0,__source:!0};function oR(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)iR.call(t,n)&&!aR.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Sp,type:e,key:i,ref:a,props:s,_owner:Wj.current}}function c9(e,t){return{$$typeof:Sp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vj(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sp}function u9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var FN=/\/+/g;function nb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?u9(""+e.key):t.toString(36)}function jg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Sp:case QV:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+nb(a,0):n,$N(s)?(r="",e!=null&&(r=e.replace(FN,"$&/")+"/"),jg(s,t,r,"",function(u){return u})):s!=null&&(Vj(s)&&(s=c9(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(FN,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",$N(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+nb(i,o);a+=jg(i,t,r,c,s)}else if(c=l9(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+nb(i,o++),a+=jg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pm(e,t,r){if(e==null)return e;var n=[],s=0;return jg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function d9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},Sg={transition:null},f9={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:Sg,ReactCurrentOwner:Wj};function lR(){throw Error("act(...) is not supported in production builds of React.")}dt.Children={map:pm,forEach:function(e,t,r){pm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pm(e,function(){t++}),t},toArray:function(e){return pm(e,function(t){return t})||[]},only:function(e){if(!Vj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dt.Component=Ad;dt.Fragment=JV;dt.Profiler=t9;dt.PureComponent=zj;dt.StrictMode=e9;dt.Suspense=i9;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f9;dt.act=lR;dt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=rR({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Wj.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)iR.call(t,c)&&!aR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Sp,type:e.type,key:s,ref:i,props:n,_owner:a}};dt.createContext=function(e){return e={$$typeof:n9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:r9,_context:e},e.Consumer=e};dt.createElement=oR;dt.createFactory=function(e){var t=oR.bind(null,e);return t.type=e,t};dt.createRef=function(){return{current:null}};dt.forwardRef=function(e){return{$$typeof:s9,render:e}};dt.isValidElement=Vj;dt.lazy=function(e){return{$$typeof:o9,_payload:{_status:-1,_result:e},_init:d9}};dt.memo=function(e,t){return{$$typeof:a9,type:e,compare:t===void 0?null:t}};dt.startTransition=function(e){var t=Sg.transition;Sg.transition={};try{e()}finally{Sg.transition=t}};dt.unstable_act=lR;dt.useCallback=function(e,t){return Pn.current.useCallback(e,t)};dt.useContext=function(e){return Pn.current.useContext(e)};dt.useDebugValue=function(){};dt.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};dt.useEffect=function(e,t){return Pn.current.useEffect(e,t)};dt.useId=function(){return Pn.current.useId()};dt.useImperativeHandle=function(e,t,r){return Pn.current.useImperativeHandle(e,t,r)};dt.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};dt.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};dt.useMemo=function(e,t){return Pn.current.useMemo(e,t)};dt.useReducer=function(e,t,r){return Pn.current.useReducer(e,t,r)};dt.useRef=function(e){return Pn.current.useRef(e)};dt.useState=function(e){return Pn.current.useState(e)};dt.useSyncExternalStore=function(e,t,r){return Pn.current.useSyncExternalStore(e,t,r)};dt.useTransition=function(){return Pn.current.useTransition()};dt.version="18.3.1";eR.exports=dt;var g=eR.exports;const te=Ai(g),cR=XV({__proto__:null,default:te},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h9=g,p9=Symbol.for("react.element"),m9=Symbol.for("react.fragment"),g9=Object.prototype.hasOwnProperty,v9=h9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y9={key:!0,ref:!0,__self:!0,__source:!0};function uR(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)g9.call(t,n)&&!y9.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:p9,type:e,key:i,ref:a,props:s,_owner:v9.current}}Ky.Fragment=m9;Ky.jsx=uR;Ky.jsxs=uR;JM.exports=Ky;var l=JM.exports,dR={exports:{}},ks={},fR={exports:{}},hR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,D){var U=C.length;C.push(D);e:for(;0<U;){var W=U-1>>>1,V=C[W];if(0<s(V,D))C[W]=D,C[U]=V,U=W;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var D=C[0],U=C.pop();if(U!==D){C[0]=U;e:for(var W=0,V=C.length,ue=V>>>1;W<ue;){var me=2*(W+1)-1,Ee=C[me],xe=me+1,fe=C[xe];if(0>s(Ee,U))xe<V&&0>s(fe,Ee)?(C[W]=fe,C[xe]=U,W=xe):(C[W]=Ee,C[me]=U,W=me);else if(xe<V&&0>s(fe,U))C[W]=fe,C[xe]=U,W=xe;else break e}}return D}function s(C,D){var U=C.sortIndex-D.sortIndex;return U!==0?U:C.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=C)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function _(C){if(v=!1,x(C),!p)if(r(c)!==null)p=!0,z(j);else{var D=r(u);D!==null&&T(_,D.startTime-C)}}function j(C,D){p=!1,v&&(v=!1,b(E),E=-1),m=!0;var U=h;try{for(x(D),f=r(c);f!==null&&(!(f.expirationTime>D)||C&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var V=W(f.expirationTime<=D);D=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),x(D)}else n(c);f=r(c)}if(f!==null)var ue=!0;else{var me=r(u);me!==null&&T(_,me.startTime-D),ue=!1}return ue}finally{f=null,h=U,m=!1}}var k=!1,S=null,E=-1,N=5,O=-1;function P(){return!(e.unstable_now()-O<N)}function A(){if(S!==null){var C=e.unstable_now();O=C;var D=!0;try{D=S(!0,C)}finally{D?L():(k=!1,S=null)}}else k=!1}var L;if(typeof y=="function")L=function(){y(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=A,L=function(){B.postMessage(null)}}else L=function(){w(A,0)};function z(C){S=C,k||(k=!0,L())}function T(C,D){E=w(function(){C(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,z(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var U=h;h=D;try{return C()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,D){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=h;h=C;try{return D()}finally{h=U}},e.unstable_scheduleCallback=function(C,D,U){var W=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,C={id:d++,callback:D,priorityLevel:C,startTime:U,expirationTime:V,sortIndex:-1},U>W?(C.sortIndex=U,t(u,C),r(c)===null&&C===r(u)&&(v?(b(E),E=-1):v=!0,T(_,U-W))):(C.sortIndex=V,t(c,C),p||m||(p=!0,z(j))),C},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(C){var D=h;return function(){var U=h;h=D;try{return C.apply(this,arguments)}finally{h=U}}}})(hR);fR.exports=hR;var x9=fR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b9=g,bs=x9;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pR=new Set,wh={};function Tc(e,t){ed(e,t),ed(e+"Capture",t)}function ed(e,t){for(wh[e]=t,e=0;e<t.length;e++)pR.add(t[e])}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qw=Object.prototype.hasOwnProperty,w9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BN={},zN={};function _9(e){return qw.call(zN,e)?!0:qw.call(BN,e)?!1:w9.test(e)?zN[e]=!0:(BN[e]=!0,!1)}function j9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S9(e,t,r,n){if(t===null||typeof t>"u"||j9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){en[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];en[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){en[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){en[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){en[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){en[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){en[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){en[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){en[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hj=/[\-:]([a-z])/g;function Kj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hj,Kj);en[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hj,Kj);en[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hj,Kj);en[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){en[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});en.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){en[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function qj(e,t,r,n){var s=en.hasOwnProperty(t)?en[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S9(t,r,s,n)&&(r=null),n||s===null?_9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ja=b9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mm=Symbol.for("react.element"),uu=Symbol.for("react.portal"),du=Symbol.for("react.fragment"),Yj=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),mR=Symbol.for("react.provider"),gR=Symbol.for("react.context"),Gj=Symbol.for("react.forward_ref"),Gw=Symbol.for("react.suspense"),Xw=Symbol.for("react.suspense_list"),Xj=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),vR=Symbol.for("react.offscreen"),UN=Symbol.iterator;function nf(e){return e===null||typeof e!="object"?null:(e=UN&&e[UN]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,sb;function Df(e){if(sb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sb=t&&t[1]||""}return`
`+sb+e}var ib=!1;function ab(e,t){if(!e||ib)return"";ib=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{ib=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Df(e):""}function k9(e){switch(e.tag){case 5:return Df(e.type);case 16:return Df("Lazy");case 13:return Df("Suspense");case 19:return Df("SuspenseList");case 0:case 2:case 15:return e=ab(e.type,!1),e;case 11:return e=ab(e.type.render,!1),e;case 1:return e=ab(e.type,!0),e;default:return""}}function Zw(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case du:return"Fragment";case uu:return"Portal";case Yw:return"Profiler";case Yj:return"StrictMode";case Gw:return"Suspense";case Xw:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gR:return(e.displayName||"Context")+".Consumer";case mR:return(e._context.displayName||"Context")+".Provider";case Gj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xj:return t=e.displayName||null,t!==null?t:Zw(e.type)||"Memo";case yo:t=e._payload,e=e._init;try{return Zw(e(t))}catch{}}return null}function C9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zw(t);case 8:return t===Yj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E9(e){var t=yR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gm(e){e._valueTracker||(e._valueTracker=E9(e))}function xR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qw(e,t){var r=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function WN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bR(e,t){t=t.checked,t!=null&&qj(e,"checked",t,!1)}function Jw(e,t){bR(e,t);var r=Qo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?e_(e,t.type,r):t.hasOwnProperty("defaultValue")&&e_(e,t.type,Qo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function e_(e,t,r){(t!=="number"||Qg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Mf=Array.isArray;function Eu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function t_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function HN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Mf(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qo(r)}}function wR(e,t){var r=Qo(t.value),n=Qo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function KN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _R(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_R(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vm,jR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vm=vm||document.createElement("div"),vm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _h(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N9=["Webkit","ms","Moz","O"];Object.keys(Zf).forEach(function(e){N9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zf[t]=Zf[e]})});function SR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zf.hasOwnProperty(e)&&Zf[e]?(""+t).trim():t+"px"}function kR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=SR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var P9=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n_(e,t){if(t){if(P9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function s_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=null;function Zj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var a_=null,Nu=null,Pu=null;function qN(e){if(e=Ep(e)){if(typeof a_!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Zy(t),a_(e.stateNode,e.type,t))}}function CR(e){Nu?Pu?Pu.push(e):Pu=[e]:Nu=e}function ER(){if(Nu){var e=Nu,t=Pu;if(Pu=Nu=null,qN(e),t)for(e=0;e<t.length;e++)qN(t[e])}}function NR(e,t){return e(t)}function PR(){}var ob=!1;function AR(e,t,r){if(ob)return e(t,r);ob=!0;try{return NR(e,t,r)}finally{ob=!1,(Nu!==null||Pu!==null)&&(PR(),ER())}}function jh(e,t){var r=e.stateNode;if(r===null)return null;var n=Zy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var o_=!1;if(Ba)try{var sf={};Object.defineProperty(sf,"passive",{get:function(){o_=!0}}),window.addEventListener("test",sf,sf),window.removeEventListener("test",sf,sf)}catch{o_=!1}function A9(e,t,r,n,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qf=!1,Jg=null,ev=!1,l_=null,O9={onError:function(e){Qf=!0,Jg=e}};function T9(e,t,r,n,s,i,a,o,c){Qf=!1,Jg=null,A9.apply(O9,arguments)}function D9(e,t,r,n,s,i,a,o,c){if(T9.apply(this,arguments),Qf){if(Qf){var u=Jg;Qf=!1,Jg=null}else throw Error(le(198));ev||(ev=!0,l_=u)}}function Dc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function OR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YN(e){if(Dc(e)!==e)throw Error(le(188))}function M9(e){var t=e.alternate;if(!t){if(t=Dc(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return YN(s),e;if(i===n)return YN(s),t;i=i.sibling}throw Error(le(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function TR(e){return e=M9(e),e!==null?DR(e):null}function DR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DR(e);if(t!==null)return t;e=e.sibling}return null}var MR=bs.unstable_scheduleCallback,GN=bs.unstable_cancelCallback,R9=bs.unstable_shouldYield,I9=bs.unstable_requestPaint,dr=bs.unstable_now,L9=bs.unstable_getCurrentPriorityLevel,Qj=bs.unstable_ImmediatePriority,RR=bs.unstable_UserBlockingPriority,tv=bs.unstable_NormalPriority,$9=bs.unstable_LowPriority,IR=bs.unstable_IdlePriority,qy=null,Gi=null;function F9(e){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(qy,e,void 0,(e.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:U9,B9=Math.log,z9=Math.LN2;function U9(e){return e>>>=0,e===0?32:31-(B9(e)/z9|0)|0}var ym=64,xm=4194304;function Rf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Rf(o):(i&=a,i!==0&&(n=Rf(i)))}else a=r&~s,a!==0?n=Rf(a):i!==0&&(n=Rf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xi(t),s=1<<r,n|=e[r],t&=~s;return n}function W9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-xi(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=W9(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function c_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LR(){var e=ym;return ym<<=1,!(ym&4194240)&&(ym=64),e}function lb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xi(t),e[t]=r}function H9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-xi(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Jj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xi(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Mt=0;function $R(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FR,eS,BR,zR,UR,u_=!1,bm=[],Fo=null,Bo=null,zo=null,Sh=new Map,kh=new Map,_o=[],K9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XN(e,t){switch(e){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":Sh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(t.pointerId)}}function af(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ep(t),t!==null&&eS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function q9(e,t,r,n,s){switch(t){case"focusin":return Fo=af(Fo,e,t,r,n,s),!0;case"dragenter":return Bo=af(Bo,e,t,r,n,s),!0;case"mouseover":return zo=af(zo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Sh.set(i,af(Sh.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,kh.set(i,af(kh.get(i)||null,e,t,r,n,s)),!0}return!1}function WR(e){var t=Ul(e.target);if(t!==null){var r=Dc(t);if(r!==null){if(t=r.tag,t===13){if(t=OR(r),t!==null){e.blockedOn=t,UR(e.priority,function(){BR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=d_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);i_=n,r.target.dispatchEvent(n),i_=null}else return t=Ep(r),t!==null&&eS(t),e.blockedOn=r,!1;t.shift()}return!0}function ZN(e,t,r){kg(e)&&r.delete(t)}function Y9(){u_=!1,Fo!==null&&kg(Fo)&&(Fo=null),Bo!==null&&kg(Bo)&&(Bo=null),zo!==null&&kg(zo)&&(zo=null),Sh.forEach(ZN),kh.forEach(ZN)}function of(e,t){e.blockedOn===t&&(e.blockedOn=null,u_||(u_=!0,bs.unstable_scheduleCallback(bs.unstable_NormalPriority,Y9)))}function Ch(e){function t(s){return of(s,e)}if(0<bm.length){of(bm[0],e);for(var r=1;r<bm.length;r++){var n=bm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fo!==null&&of(Fo,e),Bo!==null&&of(Bo,e),zo!==null&&of(zo,e),Sh.forEach(t),kh.forEach(t),r=0;r<_o.length;r++)n=_o[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_o.length&&(r=_o[0],r.blockedOn===null);)WR(r),r.blockedOn===null&&_o.shift()}var Au=Ja.ReactCurrentBatchConfig,nv=!0;function G9(e,t,r,n){var s=Mt,i=Au.transition;Au.transition=null;try{Mt=1,tS(e,t,r,n)}finally{Mt=s,Au.transition=i}}function X9(e,t,r,n){var s=Mt,i=Au.transition;Au.transition=null;try{Mt=4,tS(e,t,r,n)}finally{Mt=s,Au.transition=i}}function tS(e,t,r,n){if(nv){var s=d_(e,t,r,n);if(s===null)yb(e,t,n,sv,r),XN(e,n);else if(q9(s,e,t,r,n))n.stopPropagation();else if(XN(e,n),t&4&&-1<K9.indexOf(e)){for(;s!==null;){var i=Ep(s);if(i!==null&&FR(i),i=d_(e,t,r,n),i===null&&yb(e,t,n,sv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else yb(e,t,n,null,r)}}var sv=null;function d_(e,t,r,n){if(sv=null,e=Zj(n),e=Ul(e),e!==null)if(t=Dc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=OR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sv=e,null}function VR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L9()){case Qj:return 1;case RR:return 4;case tv:case $9:return 16;case IR:return 536870912;default:return 16}default:return 16}}var Do=null,rS=null,Cg=null;function HR(){if(Cg)return Cg;var e,t=rS,r=t.length,n,s="value"in Do?Do.value:Do.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Cg=s.slice(e,1<n?1-n:void 0)}function Eg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wm(){return!0}function QN(){return!1}function Cs(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wm:QN,this.isPropagationStopped=QN,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wm)},persist:function(){},isPersistent:wm}),t}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nS=Cs(Od),Cp=tr({},Od,{view:0,detail:0}),Z9=Cs(Cp),cb,ub,lf,Yy=tr({},Cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lf&&(lf&&e.type==="mousemove"?(cb=e.screenX-lf.screenX,ub=e.screenY-lf.screenY):ub=cb=0,lf=e),cb)},movementY:function(e){return"movementY"in e?e.movementY:ub}}),JN=Cs(Yy),Q9=tr({},Yy,{dataTransfer:0}),J9=Cs(Q9),eH=tr({},Cp,{relatedTarget:0}),db=Cs(eH),tH=tr({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),rH=Cs(tH),nH=tr({},Od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sH=Cs(nH),iH=tr({},Od,{data:0}),eP=Cs(iH),aH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lH[e])?!!t[e]:!1}function sS(){return cH}var uH=tr({},Cp,{key:function(e){if(e.key){var t=aH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sS,charCode:function(e){return e.type==="keypress"?Eg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dH=Cs(uH),fH=tr({},Yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tP=Cs(fH),hH=tr({},Cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sS}),pH=Cs(hH),mH=tr({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),gH=Cs(mH),vH=tr({},Yy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yH=Cs(vH),xH=[9,13,27,32],iS=Ba&&"CompositionEvent"in window,Jf=null;Ba&&"documentMode"in document&&(Jf=document.documentMode);var bH=Ba&&"TextEvent"in window&&!Jf,KR=Ba&&(!iS||Jf&&8<Jf&&11>=Jf),rP=" ",nP=!1;function qR(e,t){switch(e){case"keyup":return xH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fu=!1;function wH(e,t){switch(e){case"compositionend":return YR(t);case"keypress":return t.which!==32?null:(nP=!0,rP);case"textInput":return e=t.data,e===rP&&nP?null:e;default:return null}}function _H(e,t){if(fu)return e==="compositionend"||!iS&&qR(e,t)?(e=HR(),Cg=rS=Do=null,fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return KR&&t.locale!=="ko"?null:t.data;default:return null}}var jH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jH[e.type]:t==="textarea"}function GR(e,t,r,n){CR(n),t=iv(t,"onChange"),0<t.length&&(r=new nS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var eh=null,Eh=null;function SH(e){aI(e,0)}function Gy(e){var t=mu(e);if(xR(t))return e}function kH(e,t){if(e==="change")return t}var XR=!1;if(Ba){var fb;if(Ba){var hb="oninput"in document;if(!hb){var iP=document.createElement("div");iP.setAttribute("oninput","return;"),hb=typeof iP.oninput=="function"}fb=hb}else fb=!1;XR=fb&&(!document.documentMode||9<document.documentMode)}function aP(){eh&&(eh.detachEvent("onpropertychange",ZR),Eh=eh=null)}function ZR(e){if(e.propertyName==="value"&&Gy(Eh)){var t=[];GR(t,Eh,e,Zj(e)),AR(SH,t)}}function CH(e,t,r){e==="focusin"?(aP(),eh=t,Eh=r,eh.attachEvent("onpropertychange",ZR)):e==="focusout"&&aP()}function EH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gy(Eh)}function NH(e,t){if(e==="click")return Gy(t)}function PH(e,t){if(e==="input"||e==="change")return Gy(t)}function AH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _i=typeof Object.is=="function"?Object.is:AH;function Nh(e,t){if(_i(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!qw.call(t,s)||!_i(e[s],t[s]))return!1}return!0}function oP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lP(e,t){var r=oP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oP(r)}}function QR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function JR(){for(var e=window,t=Qg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qg(e.document)}return t}function aS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OH(e){var t=JR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&QR(r.ownerDocument.documentElement,r)){if(n!==null&&aS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=lP(r,i);var a=lP(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TH=Ba&&"documentMode"in document&&11>=document.documentMode,hu=null,f_=null,th=null,h_=!1;function cP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;h_||hu==null||hu!==Qg(n)||(n=hu,"selectionStart"in n&&aS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),th&&Nh(th,n)||(th=n,n=iv(f_,"onSelect"),0<n.length&&(t=new nS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hu)))}function _m(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var pu={animationend:_m("Animation","AnimationEnd"),animationiteration:_m("Animation","AnimationIteration"),animationstart:_m("Animation","AnimationStart"),transitionend:_m("Transition","TransitionEnd")},pb={},eI={};Ba&&(eI=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function Xy(e){if(pb[e])return pb[e];if(!pu[e])return e;var t=pu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in eI)return pb[e]=t[r];return e}var tI=Xy("animationend"),rI=Xy("animationiteration"),nI=Xy("animationstart"),sI=Xy("transitionend"),iI=new Map,uP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(e,t){iI.set(e,t),Tc(t,[e])}for(var mb=0;mb<uP.length;mb++){var gb=uP[mb],DH=gb.toLowerCase(),MH=gb[0].toUpperCase()+gb.slice(1);ul(DH,"on"+MH)}ul(tI,"onAnimationEnd");ul(rI,"onAnimationIteration");ul(nI,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(sI,"onTransitionEnd");ed("onMouseEnter",["mouseout","mouseover"]);ed("onMouseLeave",["mouseout","mouseover"]);ed("onPointerEnter",["pointerout","pointerover"]);ed("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var If="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RH=new Set("cancel close invalid load scroll toggle".split(" ").concat(If));function dP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,D9(n,t,void 0,e),e.currentTarget=null}function aI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;dP(s,o,u),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;dP(s,o,u),i=c}}}if(ev)throw e=l_,ev=!1,l_=null,e}function Vt(e,t){var r=t[y_];r===void 0&&(r=t[y_]=new Set);var n=e+"__bubble";r.has(n)||(oI(t,e,2,!1),r.add(n))}function vb(e,t,r){var n=0;t&&(n|=4),oI(r,e,n,t)}var jm="_reactListening"+Math.random().toString(36).slice(2);function Ph(e){if(!e[jm]){e[jm]=!0,pR.forEach(function(r){r!=="selectionchange"&&(RH.has(r)||vb(r,!1,e),vb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jm]||(t[jm]=!0,vb("selectionchange",!1,t))}}function oI(e,t,r,n){switch(VR(t)){case 1:var s=G9;break;case 4:s=X9;break;default:s=tS}r=s.bind(null,t,r,e),s=void 0,!o_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function yb(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Ul(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}AR(function(){var u=i,d=Zj(r),f=[];e:{var h=iI.get(e);if(h!==void 0){var m=nS,p=e;switch(e){case"keypress":if(Eg(r)===0)break e;case"keydown":case"keyup":m=dH;break;case"focusin":p="focus",m=db;break;case"focusout":p="blur",m=db;break;case"beforeblur":case"afterblur":m=db;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=JN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=J9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pH;break;case tI:case rI:case nI:m=rH;break;case sI:m=gH;break;case"scroll":m=Z9;break;case"wheel":m=yH;break;case"copy":case"cut":case"paste":m=sH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tP}var v=(t&4)!==0,w=!v&&e==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,b!==null&&(_=jh(y,b),_!=null&&v.push(Ah(y,_,x)))),w)break;y=y.return}0<v.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==i_&&(p=r.relatedTarget||r.fromElement)&&(Ul(p)||p[za]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Ul(p):null,p!==null&&(w=Dc(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=JN,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=tP,_="onPointerLeave",b="onPointerEnter",y="pointer"),w=m==null?h:mu(m),x=p==null?h:mu(p),h=new v(_,y+"leave",m,r,d),h.target=w,h.relatedTarget=x,_=null,Ul(d)===u&&(v=new v(b,y+"enter",p,r,d),v.target=x,v.relatedTarget=w,_=v),w=_,m&&p)t:{for(v=m,b=p,y=0,x=v;x;x=qc(x))y++;for(x=0,_=b;_;_=qc(_))x++;for(;0<y-x;)v=qc(v),y--;for(;0<x-y;)b=qc(b),x--;for(;y--;){if(v===b||b!==null&&v===b.alternate)break t;v=qc(v),b=qc(b)}v=null}else v=null;m!==null&&fP(f,h,m,v,!1),p!==null&&w!==null&&fP(f,w,p,v,!0)}}e:{if(h=u?mu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=kH;else if(sP(h))if(XR)j=PH;else{j=EH;var k=CH}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=NH);if(j&&(j=j(e,u))){GR(f,j,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&e_(h,"number",h.value)}switch(k=u?mu(u):window,e){case"focusin":(sP(k)||k.contentEditable==="true")&&(hu=k,f_=u,th=null);break;case"focusout":th=f_=hu=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,cP(f,r,d);break;case"selectionchange":if(TH)break;case"keydown":case"keyup":cP(f,r,d)}var S;if(iS)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else fu?qR(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(KR&&r.locale!=="ko"&&(fu||E!=="onCompositionStart"?E==="onCompositionEnd"&&fu&&(S=HR()):(Do=d,rS="value"in Do?Do.value:Do.textContent,fu=!0)),k=iv(u,E),0<k.length&&(E=new eP(E,e,null,r,d),f.push({event:E,listeners:k}),S?E.data=S:(S=YR(r),S!==null&&(E.data=S)))),(S=bH?wH(e,r):_H(e,r))&&(u=iv(u,"onBeforeInput"),0<u.length&&(d=new eP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}aI(f,t)})}function Ah(e,t,r){return{instance:e,listener:t,currentTarget:r}}function iv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jh(e,r),i!=null&&n.unshift(Ah(e,i,s)),i=jh(e,t),i!=null&&n.push(Ah(e,i,s))),e=e.return}return n}function qc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fP(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=jh(r,i),c!=null&&a.unshift(Ah(r,c,o))):s||(c=jh(r,i),c!=null&&a.push(Ah(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var IH=/\r\n?/g,LH=/\u0000|\uFFFD/g;function hP(e){return(typeof e=="string"?e:""+e).replace(IH,`
`).replace(LH,"")}function Sm(e,t,r){if(t=hP(t),hP(e)!==t&&r)throw Error(le(425))}function av(){}var p_=null,m_=null;function g_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var v_=typeof setTimeout=="function"?setTimeout:void 0,$H=typeof clearTimeout=="function"?clearTimeout:void 0,pP=typeof Promise=="function"?Promise:void 0,FH=typeof queueMicrotask=="function"?queueMicrotask:typeof pP<"u"?function(e){return pP.resolve(null).then(e).catch(BH)}:v_;function BH(e){setTimeout(function(){throw e})}function xb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ch(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ch(t)}function Uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Td=Math.random().toString(36).slice(2),Wi="__reactFiber$"+Td,Oh="__reactProps$"+Td,za="__reactContainer$"+Td,y_="__reactEvents$"+Td,zH="__reactListeners$"+Td,UH="__reactHandles$"+Td;function Ul(e){var t=e[Wi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[za]||r[Wi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mP(e);e!==null;){if(r=e[Wi])return r;e=mP(e)}return t}e=r,r=e.parentNode}return null}function Ep(e){return e=e[Wi]||e[za],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Zy(e){return e[Oh]||null}var x_=[],gu=-1;function dl(e){return{current:e}}function Yt(e){0>gu||(e.current=x_[gu],x_[gu]=null,gu--)}function zt(e,t){gu++,x_[gu]=e.current,e.current=t}var Jo={},gn=dl(Jo),Yn=dl(!1),fc=Jo;function td(e,t){var r=e.type.contextTypes;if(!r)return Jo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gn(e){return e=e.childContextTypes,e!=null}function ov(){Yt(Yn),Yt(gn)}function gP(e,t,r){if(gn.current!==Jo)throw Error(le(168));zt(gn,t),zt(Yn,r)}function lI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(le(108,C9(e)||"Unknown",s));return tr({},r,n)}function lv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jo,fc=gn.current,zt(gn,e),zt(Yn,Yn.current),!0}function vP(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=lI(e,t,fc),n.__reactInternalMemoizedMergedChildContext=e,Yt(Yn),Yt(gn),zt(gn,e)):Yt(Yn),zt(Yn,r)}var _a=null,Qy=!1,bb=!1;function cI(e){_a===null?_a=[e]:_a.push(e)}function WH(e){Qy=!0,cI(e)}function fl(){if(!bb&&_a!==null){bb=!0;var e=0,t=Mt;try{var r=_a;for(Mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_a=null,Qy=!1}catch(s){throw _a!==null&&(_a=_a.slice(e+1)),MR(Qj,fl),s}finally{Mt=t,bb=!1}}return null}var vu=[],yu=0,cv=null,uv=0,Ms=[],Rs=0,hc=null,Ca=1,Ea="";function Ol(e,t){vu[yu++]=uv,vu[yu++]=cv,cv=e,uv=t}function uI(e,t,r){Ms[Rs++]=Ca,Ms[Rs++]=Ea,Ms[Rs++]=hc,hc=e;var n=Ca;e=Ea;var s=32-xi(n)-1;n&=~(1<<s),r+=1;var i=32-xi(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Ca=1<<32-xi(t)+s|r<<s|n,Ea=i+e}else Ca=1<<i|r<<s|n,Ea=e}function oS(e){e.return!==null&&(Ol(e,1),uI(e,1,0))}function lS(e){for(;e===cv;)cv=vu[--yu],vu[yu]=null,uv=vu[--yu],vu[yu]=null;for(;e===hc;)hc=Ms[--Rs],Ms[Rs]=null,Ea=Ms[--Rs],Ms[Rs]=null,Ca=Ms[--Rs],Ms[Rs]=null}var vs=null,ms=null,Xt=!1,pi=null;function dI(e,t){var r=Ls(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vs=e,ms=Uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vs=e,ms=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hc!==null?{id:Ca,overflow:Ea}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ls(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vs=e,ms=null,!0):!1;default:return!1}}function b_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function w_(e){if(Xt){var t=ms;if(t){var r=t;if(!yP(e,t)){if(b_(e))throw Error(le(418));t=Uo(r.nextSibling);var n=vs;t&&yP(e,t)?dI(n,r):(e.flags=e.flags&-4097|2,Xt=!1,vs=e)}}else{if(b_(e))throw Error(le(418));e.flags=e.flags&-4097|2,Xt=!1,vs=e}}}function xP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vs=e}function km(e){if(e!==vs)return!1;if(!Xt)return xP(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!g_(e.type,e.memoizedProps)),t&&(t=ms)){if(b_(e))throw fI(),Error(le(418));for(;t;)dI(e,t),t=Uo(t.nextSibling)}if(xP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ms=Uo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ms=null}}else ms=vs?Uo(e.stateNode.nextSibling):null;return!0}function fI(){for(var e=ms;e;)e=Uo(e.nextSibling)}function rd(){ms=vs=null,Xt=!1}function cS(e){pi===null?pi=[e]:pi.push(e)}var VH=Ja.ReactCurrentBatchConfig;function cf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Cm(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bP(e){var t=e._init;return t(e._payload)}function hI(e){function t(b,y){if(e){var x=b.deletions;x===null?(b.deletions=[y],b.flags|=16):x.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=Ko(b,y),b.index=0,b.sibling=null,b}function i(b,y,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<y?(b.flags|=2,y):x):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,y,x,_){return y===null||y.tag!==6?(y=Eb(x,b.mode,_),y.return=b,y):(y=s(y,x),y.return=b,y)}function c(b,y,x,_){var j=x.type;return j===du?d(b,y,x.props.children,_,x.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===yo&&bP(j)===y.type)?(_=s(y,x.props),_.ref=cf(b,y,x),_.return=b,_):(_=Mg(x.type,x.key,x.props,null,b.mode,_),_.ref=cf(b,y,x),_.return=b,_)}function u(b,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Nb(x,b.mode,_),y.return=b,y):(y=s(y,x.children||[]),y.return=b,y)}function d(b,y,x,_,j){return y===null||y.tag!==7?(y=nc(x,b.mode,_,j),y.return=b,y):(y=s(y,x),y.return=b,y)}function f(b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Eb(""+y,b.mode,x),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mm:return x=Mg(y.type,y.key,y.props,null,b.mode,x),x.ref=cf(b,null,y),x.return=b,x;case uu:return y=Nb(y,b.mode,x),y.return=b,y;case yo:var _=y._init;return f(b,_(y._payload),x)}if(Mf(y)||nf(y))return y=nc(y,b.mode,x,null),y.return=b,y;Cm(b,y)}return null}function h(b,y,x,_){var j=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:o(b,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mm:return x.key===j?c(b,y,x,_):null;case uu:return x.key===j?u(b,y,x,_):null;case yo:return j=x._init,h(b,y,j(x._payload),_)}if(Mf(x)||nf(x))return j!==null?null:d(b,y,x,_,null);Cm(b,x)}return null}function m(b,y,x,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(x)||null,o(y,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mm:return b=b.get(_.key===null?x:_.key)||null,c(y,b,_,j);case uu:return b=b.get(_.key===null?x:_.key)||null,u(y,b,_,j);case yo:var k=_._init;return m(b,y,x,k(_._payload),j)}if(Mf(_)||nf(_))return b=b.get(x)||null,d(y,b,_,j,null);Cm(y,_)}return null}function p(b,y,x,_){for(var j=null,k=null,S=y,E=y=0,N=null;S!==null&&E<x.length;E++){S.index>E?(N=S,S=null):N=S.sibling;var O=h(b,S,x[E],_);if(O===null){S===null&&(S=N);break}e&&S&&O.alternate===null&&t(b,S),y=i(O,y,E),k===null?j=O:k.sibling=O,k=O,S=N}if(E===x.length)return r(b,S),Xt&&Ol(b,E),j;if(S===null){for(;E<x.length;E++)S=f(b,x[E],_),S!==null&&(y=i(S,y,E),k===null?j=S:k.sibling=S,k=S);return Xt&&Ol(b,E),j}for(S=n(b,S);E<x.length;E++)N=m(S,b,E,x[E],_),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?E:N.key),y=i(N,y,E),k===null?j=N:k.sibling=N,k=N);return e&&S.forEach(function(P){return t(b,P)}),Xt&&Ol(b,E),j}function v(b,y,x,_){var j=nf(x);if(typeof j!="function")throw Error(le(150));if(x=j.call(x),x==null)throw Error(le(151));for(var k=j=null,S=y,E=y=0,N=null,O=x.next();S!==null&&!O.done;E++,O=x.next()){S.index>E?(N=S,S=null):N=S.sibling;var P=h(b,S,O.value,_);if(P===null){S===null&&(S=N);break}e&&S&&P.alternate===null&&t(b,S),y=i(P,y,E),k===null?j=P:k.sibling=P,k=P,S=N}if(O.done)return r(b,S),Xt&&Ol(b,E),j;if(S===null){for(;!O.done;E++,O=x.next())O=f(b,O.value,_),O!==null&&(y=i(O,y,E),k===null?j=O:k.sibling=O,k=O);return Xt&&Ol(b,E),j}for(S=n(b,S);!O.done;E++,O=x.next())O=m(S,b,E,O.value,_),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?E:O.key),y=i(O,y,E),k===null?j=O:k.sibling=O,k=O);return e&&S.forEach(function(A){return t(b,A)}),Xt&&Ol(b,E),j}function w(b,y,x,_){if(typeof x=="object"&&x!==null&&x.type===du&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case mm:e:{for(var j=x.key,k=y;k!==null;){if(k.key===j){if(j=x.type,j===du){if(k.tag===7){r(b,k.sibling),y=s(k,x.props.children),y.return=b,b=y;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===yo&&bP(j)===k.type){r(b,k.sibling),y=s(k,x.props),y.ref=cf(b,k,x),y.return=b,b=y;break e}r(b,k);break}else t(b,k);k=k.sibling}x.type===du?(y=nc(x.props.children,b.mode,_,x.key),y.return=b,b=y):(_=Mg(x.type,x.key,x.props,null,b.mode,_),_.ref=cf(b,y,x),_.return=b,b=_)}return a(b);case uu:e:{for(k=x.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(b,y.sibling),y=s(y,x.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=Nb(x,b.mode,_),y.return=b,b=y}return a(b);case yo:return k=x._init,w(b,y,k(x._payload),_)}if(Mf(x))return p(b,y,x,_);if(nf(x))return v(b,y,x,_);Cm(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(b,y.sibling),y=s(y,x),y.return=b,b=y):(r(b,y),y=Eb(x,b.mode,_),y.return=b,b=y),a(b)):r(b,y)}return w}var nd=hI(!0),pI=hI(!1),dv=dl(null),fv=null,xu=null,uS=null;function dS(){uS=xu=fv=null}function fS(e){var t=dv.current;Yt(dv),e._currentValue=t}function __(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ou(e,t){fv=e,uS=xu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Ks(e){var t=e._currentValue;if(uS!==e)if(e={context:e,memoizedValue:t,next:null},xu===null){if(fv===null)throw Error(le(308));xu=e,fv.dependencies={lanes:0,firstContext:e}}else xu=xu.next=e;return t}var Wl=null;function hS(e){Wl===null?Wl=[e]:Wl.push(e)}function mI(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ua(e,n)}function Ua(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xo=!1;function pS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ua(e,r)}return s=n.interleaved,s===null?(t.next=t,hS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ua(e,r)}function Ng(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jj(e,r)}}function wP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hv(e,t,r,n){var s=e.updateQueue;xo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=tr({},f,h);break e;case 2:xo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mc|=a,e.lanes=a,e.memoizedState=f}}function _P(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(le(191,s));s.call(n)}}}var Np={},Xi=dl(Np),Th=dl(Np),Dh=dl(Np);function Vl(e){if(e===Np)throw Error(le(174));return e}function mS(e,t){switch(zt(Dh,t),zt(Th,e),zt(Xi,Np),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:r_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=r_(t,e)}Yt(Xi),zt(Xi,t)}function sd(){Yt(Xi),Yt(Th),Yt(Dh)}function vI(e){Vl(Dh.current);var t=Vl(Xi.current),r=r_(t,e.type);t!==r&&(zt(Th,e),zt(Xi,r))}function gS(e){Th.current===e&&(Yt(Xi),Yt(Th))}var Jt=dl(0);function pv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wb=[];function vS(){for(var e=0;e<wb.length;e++)wb[e]._workInProgressVersionPrimary=null;wb.length=0}var Pg=Ja.ReactCurrentDispatcher,_b=Ja.ReactCurrentBatchConfig,pc=0,er=null,Ar=null,zr=null,mv=!1,rh=!1,Mh=0,HH=0;function nn(){throw Error(le(321))}function yS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_i(e[r],t[r]))return!1;return!0}function xS(e,t,r,n,s,i){if(pc=i,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pg.current=e===null||e.memoizedState===null?GH:XH,e=r(n,s),rh){i=0;do{if(rh=!1,Mh=0,25<=i)throw Error(le(301));i+=1,zr=Ar=null,t.updateQueue=null,Pg.current=ZH,e=r(n,s)}while(rh)}if(Pg.current=gv,t=Ar!==null&&Ar.next!==null,pc=0,zr=Ar=er=null,mv=!1,t)throw Error(le(300));return e}function bS(){var e=Mh!==0;return Mh=0,e}function $i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?er.memoizedState=zr=e:zr=zr.next=e,zr}function qs(){if(Ar===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Ar.next;var t=zr===null?er.memoizedState:zr.next;if(t!==null)zr=t,Ar=e;else{if(e===null)throw Error(le(310));Ar=e,e={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},zr===null?er.memoizedState=zr=e:zr=zr.next=e}return zr}function Rh(e,t){return typeof t=="function"?t(e):t}function jb(e){var t=qs(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=Ar,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((pc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=n):c=c.next=f,er.lanes|=d,mc|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=o,_i(n,t.memoizedState)||(Kn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,er.lanes|=i,mc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sb(e){var t=qs(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);_i(i,t.memoizedState)||(Kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function yI(){}function xI(e,t){var r=er,n=qs(),s=t(),i=!_i(n.memoizedState,s);if(i&&(n.memoizedState=s,Kn=!0),n=n.queue,wS(_I.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Ih(9,wI.bind(null,r,n,s,t),void 0,null),Wr===null)throw Error(le(349));pc&30||bI(r,t,s)}return s}function bI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wI(e,t,r,n){t.value=r,t.getSnapshot=n,jI(t)&&SI(e)}function _I(e,t,r){return r(function(){jI(t)&&SI(e)})}function jI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_i(e,r)}catch{return!0}}function SI(e){var t=Ua(e,1);t!==null&&bi(t,e,1,-1)}function jP(e){var t=$i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:e},t.queue=e,e=e.dispatch=YH.bind(null,er,e),[t.memoizedState,e]}function Ih(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kI(){return qs().memoizedState}function Ag(e,t,r,n){var s=$i();er.flags|=e,s.memoizedState=Ih(1|t,r,void 0,n===void 0?null:n)}function Jy(e,t,r,n){var s=qs();n=n===void 0?null:n;var i=void 0;if(Ar!==null){var a=Ar.memoizedState;if(i=a.destroy,n!==null&&yS(n,a.deps)){s.memoizedState=Ih(t,r,i,n);return}}er.flags|=e,s.memoizedState=Ih(1|t,r,i,n)}function SP(e,t){return Ag(8390656,8,e,t)}function wS(e,t){return Jy(2048,8,e,t)}function CI(e,t){return Jy(4,2,e,t)}function EI(e,t){return Jy(4,4,e,t)}function NI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function PI(e,t,r){return r=r!=null?r.concat([e]):null,Jy(4,4,NI.bind(null,t,e),r)}function _S(){}function AI(e,t){var r=qs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function OI(e,t){var r=qs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function TI(e,t,r){return pc&21?(_i(r,t)||(r=LR(),er.lanes|=r,mc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=r)}function KH(e,t){var r=Mt;Mt=r!==0&&4>r?r:4,e(!0);var n=_b.transition;_b.transition={};try{e(!1),t()}finally{Mt=r,_b.transition=n}}function DI(){return qs().memoizedState}function qH(e,t,r){var n=Ho(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},MI(e))RI(t,r);else if(r=mI(e,t,r,n),r!==null){var s=Cn();bi(r,e,n,s),II(r,t,n)}}function YH(e,t,r){var n=Ho(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(MI(e))RI(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,_i(o,a)){var c=t.interleaved;c===null?(s.next=s,hS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=mI(e,t,s,n),r!==null&&(s=Cn(),bi(r,e,n,s),II(r,t,n))}}function MI(e){var t=e.alternate;return e===er||t!==null&&t===er}function RI(e,t){rh=mv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function II(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Jj(e,r)}}var gv={readContext:Ks,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},GH={readContext:Ks,useCallback:function(e,t){return $i().memoizedState=[e,t===void 0?null:t],e},useContext:Ks,useEffect:SP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ag(4194308,4,NI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ag(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ag(4,2,e,t)},useMemo:function(e,t){var r=$i();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$i();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qH.bind(null,er,e),[n.memoizedState,e]},useRef:function(e){var t=$i();return e={current:e},t.memoizedState=e},useState:jP,useDebugValue:_S,useDeferredValue:function(e){return $i().memoizedState=e},useTransition:function(){var e=jP(!1),t=e[0];return e=KH.bind(null,e[1]),$i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=er,s=$i();if(Xt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),Wr===null)throw Error(le(349));pc&30||bI(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,SP(_I.bind(null,n,i,e),[e]),n.flags|=2048,Ih(9,wI.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=$i(),t=Wr.identifierPrefix;if(Xt){var r=Ea,n=Ca;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=HH++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XH={readContext:Ks,useCallback:AI,useContext:Ks,useEffect:wS,useImperativeHandle:PI,useInsertionEffect:CI,useLayoutEffect:EI,useMemo:OI,useReducer:jb,useRef:kI,useState:function(){return jb(Rh)},useDebugValue:_S,useDeferredValue:function(e){var t=qs();return TI(t,Ar.memoizedState,e)},useTransition:function(){var e=jb(Rh)[0],t=qs().memoizedState;return[e,t]},useMutableSource:yI,useSyncExternalStore:xI,useId:DI,unstable_isNewReconciler:!1},ZH={readContext:Ks,useCallback:AI,useContext:Ks,useEffect:wS,useImperativeHandle:PI,useInsertionEffect:CI,useLayoutEffect:EI,useMemo:OI,useReducer:Sb,useRef:kI,useState:function(){return Sb(Rh)},useDebugValue:_S,useDeferredValue:function(e){var t=qs();return Ar===null?t.memoizedState=e:TI(t,Ar.memoizedState,e)},useTransition:function(){var e=Sb(Rh)[0],t=qs().memoizedState;return[e,t]},useMutableSource:yI,useSyncExternalStore:xI,useId:DI,unstable_isNewReconciler:!1};function li(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function j_(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ex={isMounted:function(e){return(e=e._reactInternals)?Dc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=Ho(e),i=Ra(n,s);i.payload=t,r!=null&&(i.callback=r),t=Wo(e,i,s),t!==null&&(bi(t,e,s,n),Ng(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=Ho(e),i=Ra(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wo(e,i,s),t!==null&&(bi(t,e,s,n),Ng(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Cn(),n=Ho(e),s=Ra(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wo(e,s,n),t!==null&&(bi(t,e,n,r),Ng(t,e,n))}};function kP(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Nh(r,n)||!Nh(s,i):!0}function LI(e,t,r){var n=!1,s=Jo,i=t.contextType;return typeof i=="object"&&i!==null?i=Ks(i):(s=Gn(t)?fc:gn.current,n=t.contextTypes,i=(n=n!=null)?td(e,s):Jo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ex,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function CP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ex.enqueueReplaceState(t,t.state,null)}function S_(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},pS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ks(i):(i=Gn(t)?fc:gn.current,s.context=td(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(j_(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ex.enqueueReplaceState(s,s.state,null),hv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function id(e,t){try{var r="",n=t;do r+=k9(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function kb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function k_(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QH=typeof WeakMap=="function"?WeakMap:Map;function $I(e,t,r){r=Ra(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yv||(yv=!0,R_=n),k_(e,t)},r}function FI(e,t,r){r=Ra(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){k_(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){k_(e,t),typeof n!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function EP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new QH;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=f7.bind(null,e,t,r),t.then(e,e))}function NP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function PP(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ra(-1,1),t.tag=2,Wo(r,t,1))),r.lanes|=1),e)}var JH=Ja.ReactCurrentOwner,Kn=!1;function wn(e,t,r,n){t.child=e===null?pI(t,null,r,n):nd(t,e.child,r,n)}function AP(e,t,r,n,s){r=r.render;var i=t.ref;return Ou(t,s),n=xS(e,t,r,n,i,s),r=bS(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s)):(Xt&&r&&oS(t),t.flags|=1,wn(e,t,n,s),t.child)}function OP(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!AS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,BI(e,t,i,n,s)):(e=Mg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Nh,r(a,n)&&e.ref===t.ref)return Wa(e,t,s)}return t.flags|=1,e=Ko(i,n),e.ref=t.ref,e.return=t,t.child=e}function BI(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Nh(i,n)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,Wa(e,t,s)}return C_(e,t,r,n,s)}function zI(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(wu,cs),cs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(wu,cs),cs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,zt(wu,cs),cs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,zt(wu,cs),cs|=n;return wn(e,t,s,r),t.child}function UI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function C_(e,t,r,n,s){var i=Gn(r)?fc:gn.current;return i=td(t,i),Ou(t,s),r=xS(e,t,r,n,i,s),n=bS(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wa(e,t,s)):(Xt&&n&&oS(t),t.flags|=1,wn(e,t,r,s),t.child)}function TP(e,t,r,n,s){if(Gn(r)){var i=!0;lv(t)}else i=!1;if(Ou(t,s),t.stateNode===null)Og(e,t),LI(t,r,n),S_(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ks(u):(u=Gn(r)?fc:gn.current,u=td(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&CP(t,a,n,u),xo=!1;var h=t.memoizedState;a.state=h,hv(t,n,a,s),c=t.memoizedState,o!==n||h!==c||Yn.current||xo?(typeof d=="function"&&(j_(t,r,d,n),c=t.memoizedState),(o=xo||kP(t,r,o,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,gI(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:li(t.type,o),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ks(c):(c=Gn(r)?fc:gn.current,c=td(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&CP(t,a,n,c),xo=!1,h=t.memoizedState,a.state=h,hv(t,n,a,s);var p=t.memoizedState;o!==f||h!==p||Yn.current||xo?(typeof m=="function"&&(j_(t,r,m,n),p=t.memoizedState),(u=xo||kP(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return E_(e,t,r,n,i,s)}function E_(e,t,r,n,s,i){UI(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&vP(t,r,!1),Wa(e,t,i);n=t.stateNode,JH.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=nd(t,e.child,null,i),t.child=nd(t,null,o,i)):wn(e,t,o,i),t.memoizedState=n.state,s&&vP(t,r,!0),t.child}function WI(e){var t=e.stateNode;t.pendingContext?gP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gP(e,t.context,!1),mS(e,t.containerInfo)}function DP(e,t,r,n,s){return rd(),cS(s),t.flags|=256,wn(e,t,r,n),t.child}var N_={dehydrated:null,treeContext:null,retryLane:0};function P_(e){return{baseLanes:e,cachePool:null,transitions:null}}function VI(e,t,r){var n=t.pendingProps,s=Jt.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),zt(Jt,s&1),e===null)return w_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=nx(a,n,0,null),e=nc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=P_(r),t.memoizedState=N_,e):jS(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return e7(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ko(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ko(o,i):(i=nc(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?P_(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=N_,n}return i=e.child,e=i.sibling,n=Ko(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jS(e,t){return t=nx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Em(e,t,r,n){return n!==null&&cS(n),nd(t,e.child,null,r),e=jS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e7(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=kb(Error(le(422))),Em(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=nx({mode:"visible",children:n.children},s,0,null),i=nc(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&nd(t,e.child,null,a),t.child.memoizedState=P_(a),t.memoizedState=N_,i);if(!(t.mode&1))return Em(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(le(419)),n=kb(i,n,void 0),Em(e,t,a,n)}if(o=(a&e.childLanes)!==0,Kn||o){if(n=Wr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ua(e,s),bi(n,e,s,-1))}return PS(),n=kb(Error(le(421))),Em(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h7.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ms=Uo(s.nextSibling),vs=t,Xt=!0,pi=null,e!==null&&(Ms[Rs++]=Ca,Ms[Rs++]=Ea,Ms[Rs++]=hc,Ca=e.id,Ea=e.overflow,hc=t),t=jS(t,n.children),t.flags|=4096,t)}function MP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),__(e.return,t,r)}function Cb(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function HI(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(wn(e,t,n.children,r),n=Jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MP(e,r,t);else if(e.tag===19)MP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zt(Jt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&pv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Cb(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Cb(t,!0,r,null,i);break;case"together":Cb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Og(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=Ko(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ko(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function t7(e,t,r){switch(t.tag){case 3:WI(t),rd();break;case 5:vI(t);break;case 1:Gn(t.type)&&lv(t);break;case 4:mS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;zt(dv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zt(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?VI(e,t,r):(zt(Jt,Jt.current&1),e=Wa(e,t,r),e!==null?e.sibling:null);zt(Jt,Jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return HI(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),zt(Jt,Jt.current),n)break;return null;case 22:case 23:return t.lanes=0,zI(e,t,r)}return Wa(e,t,r)}var KI,A_,qI,YI;KI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};A_=function(){};qI=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Vl(Xi.current);var i=null;switch(r){case"input":s=Qw(e,s),n=Qw(e,n),i=[];break;case"select":s=tr({},s,{value:void 0}),n=tr({},n,{value:void 0}),i=[];break;case"textarea":s=t_(e,s),n=t_(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=av)}n_(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Vt("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};YI=function(e,t,r,n){r!==n&&(t.flags|=4)};function uf(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function r7(e,t,r){var n=t.pendingProps;switch(lS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return Gn(t.type)&&ov(),sn(t),null;case 3:return n=t.stateNode,sd(),Yt(Yn),Yt(gn),vS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(km(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pi!==null&&($_(pi),pi=null))),A_(e,t),sn(t),null;case 5:gS(t);var s=Vl(Dh.current);if(r=t.type,e!==null&&t.stateNode!=null)qI(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return sn(t),null}if(e=Vl(Xi.current),km(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Wi]=t,n[Oh]=i,e=(t.mode&1)!==0,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<If.length;s++)Vt(If[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":WN(n,i),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Vt("invalid",n);break;case"textarea":HN(n,i),Vt("invalid",n)}n_(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Sm(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Sm(n.textContent,o,e),s=["children",""+o]):wh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Vt("scroll",n)}switch(r){case"input":gm(n),VN(n,i,!0);break;case"textarea":gm(n),KN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=av)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_R(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Wi]=t,e[Oh]=n,KI(e,t,!1,!1),t.stateNode=e;e:{switch(a=s_(r,n),r){case"dialog":Vt("cancel",e),Vt("close",e),s=n;break;case"iframe":case"object":case"embed":Vt("load",e),s=n;break;case"video":case"audio":for(s=0;s<If.length;s++)Vt(If[s],e);s=n;break;case"source":Vt("error",e),s=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),s=n;break;case"details":Vt("toggle",e),s=n;break;case"input":WN(e,n),s=Qw(e,n),Vt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=tr({},n,{value:void 0}),Vt("invalid",e);break;case"textarea":HN(e,n),s=t_(e,n),Vt("invalid",e);break;default:s=n}n_(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?kR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_h(e,c):typeof c=="number"&&_h(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Vt("scroll",e):c!=null&&qj(e,i,c,a))}switch(r){case"input":gm(e),VN(e,n,!1);break;case"textarea":gm(e),KN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Eu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Eu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=av)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)YI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=Vl(Dh.current),Vl(Xi.current),km(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wi]=t,(i=n.nodeValue!==r)&&(e=vs,e!==null))switch(e.tag){case 3:Sm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sm(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wi]=t,t.stateNode=n}return sn(t),null;case 13:if(Yt(Jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&ms!==null&&t.mode&1&&!(t.flags&128))fI(),rd(),t.flags|=98560,i=!1;else if(i=km(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(le(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[Wi]=t}else rd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),i=!1}else pi!==null&&($_(pi),pi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?Tr===0&&(Tr=3):PS())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return sd(),A_(e,t),e===null&&Ph(t.stateNode.containerInfo),sn(t),null;case 10:return fS(t.type._context),sn(t),null;case 17:return Gn(t.type)&&ov(),sn(t),null;case 19:if(Yt(Jt),i=t.memoizedState,i===null)return sn(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)uf(i,!1);else{if(Tr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=pv(e),a!==null){for(t.flags|=128,uf(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zt(Jt,Jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&dr()>ad&&(t.flags|=128,n=!0,uf(i,!1),t.lanes=4194304)}else{if(!n)if(e=pv(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Xt)return sn(t),null}else 2*dr()-i.renderingStartTime>ad&&r!==1073741824&&(t.flags|=128,n=!0,uf(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dr(),t.sibling=null,r=Jt.current,zt(Jt,n?r&1|2:r&1),t):(sn(t),null);case 22:case 23:return NS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?cs&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function n7(e,t){switch(lS(t),t.tag){case 1:return Gn(t.type)&&ov(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sd(),Yt(Yn),Yt(gn),vS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gS(t),null;case 13:if(Yt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));rd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(Jt),null;case 4:return sd(),null;case 10:return fS(t.type._context),null;case 22:case 23:return NS(),null;case 24:return null;default:return null}}var Nm=!1,un=!1,s7=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function bu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function O_(e,t,r){try{r()}catch(n){sr(e,t,n)}}var RP=!1;function i7(e,t){if(p_=nv,e=JR(),aS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(o=a),h===i&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(m_={focusedElem:e,selectionRange:r},nv=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:li(t.type,v),w);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(_){sr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return p=RP,RP=!1,p}function nh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&O_(t,r,i)}s=s.next}while(s!==n)}}function tx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function T_(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function GI(e){var t=e.alternate;t!==null&&(e.alternate=null,GI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wi],delete t[Oh],delete t[y_],delete t[zH],delete t[UH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XI(e){return e.tag===5||e.tag===3||e.tag===4}function IP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=av));else if(n!==4&&(e=e.child,e!==null))for(D_(e,t,r),e=e.sibling;e!==null;)D_(e,t,r),e=e.sibling}function M_(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(M_(e,t,r),e=e.sibling;e!==null;)M_(e,t,r),e=e.sibling}var Zr=null,di=!1;function ao(e,t,r){for(r=r.child;r!==null;)ZI(e,t,r),r=r.sibling}function ZI(e,t,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(qy,r)}catch{}switch(r.tag){case 5:un||bu(r,t);case 6:var n=Zr,s=di;Zr=null,ao(e,t,r),Zr=n,di=s,Zr!==null&&(di?(e=Zr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zr.removeChild(r.stateNode));break;case 18:Zr!==null&&(di?(e=Zr,r=r.stateNode,e.nodeType===8?xb(e.parentNode,r):e.nodeType===1&&xb(e,r),Ch(e)):xb(Zr,r.stateNode));break;case 4:n=Zr,s=di,Zr=r.stateNode.containerInfo,di=!0,ao(e,t,r),Zr=n,di=s;break;case 0:case 11:case 14:case 15:if(!un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&O_(r,t,a),s=s.next}while(s!==n)}ao(e,t,r);break;case 1:if(!un&&(bu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sr(r,t,o)}ao(e,t,r);break;case 21:ao(e,t,r);break;case 22:r.mode&1?(un=(n=un)||r.memoizedState!==null,ao(e,t,r),un=n):ao(e,t,r);break;default:ao(e,t,r)}}function LP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new s7),t.forEach(function(n){var s=p7.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ii(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Zr=o.stateNode,di=!1;break e;case 3:Zr=o.stateNode.containerInfo,di=!0;break e;case 4:Zr=o.stateNode.containerInfo,di=!0;break e}o=o.return}if(Zr===null)throw Error(le(160));ZI(i,a,s),Zr=null,di=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){sr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QI(t,e),t=t.sibling}function QI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ii(t,e),Ri(e),n&4){try{nh(3,e,e.return),tx(3,e)}catch(v){sr(e,e.return,v)}try{nh(5,e,e.return)}catch(v){sr(e,e.return,v)}}break;case 1:ii(t,e),Ri(e),n&512&&r!==null&&bu(r,r.return);break;case 5:if(ii(t,e),Ri(e),n&512&&r!==null&&bu(r,r.return),e.flags&32){var s=e.stateNode;try{_h(s,"")}catch(v){sr(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&bR(s,i),s_(o,a);var u=s_(o,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?kR(s,f):d==="dangerouslySetInnerHTML"?jR(s,f):d==="children"?_h(s,f):qj(s,d,f,u)}switch(o){case"input":Jw(s,i);break;case"textarea":wR(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Eu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Eu(s,!!i.multiple,i.defaultValue,!0):Eu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Oh]=i}catch(v){sr(e,e.return,v)}}break;case 6:if(ii(t,e),Ri(e),n&4){if(e.stateNode===null)throw Error(le(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){sr(e,e.return,v)}}break;case 3:if(ii(t,e),Ri(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(v){sr(e,e.return,v)}break;case 4:ii(t,e),Ri(e);break;case 13:ii(t,e),Ri(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(CS=dr())),n&4&&LP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(un=(u=un)||d,ii(t,e),un=u):ii(t,e),Ri(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ae=e,d=e.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(h=Ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:nh(4,h,h.return);break;case 1:bu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){sr(n,r,v)}}break;case 5:bu(h,h.return);break;case 22:if(h.memoizedState!==null){FP(f);continue}}m!==null?(m.return=h,Ae=m):FP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=SR("display",a))}catch(v){sr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){sr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ii(t,e),Ri(e),n&4&&LP(e);break;case 21:break;default:ii(t,e),Ri(e)}}function Ri(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(XI(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_h(s,""),n.flags&=-33);var i=IP(e);M_(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=IP(e);D_(e,o,a);break;default:throw Error(le(161))}}catch(c){sr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a7(e,t,r){Ae=e,JI(e)}function JI(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var s=Ae,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Nm;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||un;o=Nm;var u=un;if(Nm=a,(un=c)&&!u)for(Ae=s;Ae!==null;)a=Ae,c=a.child,a.tag===22&&a.memoizedState!==null?BP(s):c!==null?(c.return=a,Ae=c):BP(s);for(;i!==null;)Ae=i,JI(i),i=i.sibling;Ae=s,Nm=o,un=u}$P(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ae=i):$P(e)}}function $P(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:un||tx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!un)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:li(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_P(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_P(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ch(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}un||t.flags&512&&T_(t)}catch(h){sr(t,t.return,h)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function FP(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function BP(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{tx(4,t)}catch(c){sr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){sr(t,s,c)}}var i=t.return;try{T_(t)}catch(c){sr(t,i,c)}break;case 5:var a=t.return;try{T_(t)}catch(c){sr(t,a,c)}}}catch(c){sr(t,t.return,c)}if(t===e){Ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}var o7=Math.ceil,vv=Ja.ReactCurrentDispatcher,SS=Ja.ReactCurrentOwner,zs=Ja.ReactCurrentBatchConfig,vt=0,Wr=null,_r=null,Jr=0,cs=0,wu=dl(0),Tr=0,Lh=null,mc=0,rx=0,kS=0,sh=null,Wn=null,CS=0,ad=1/0,ba=null,yv=!1,R_=null,Vo=null,Pm=!1,Mo=null,xv=0,ih=0,I_=null,Tg=-1,Dg=0;function Cn(){return vt&6?dr():Tg!==-1?Tg:Tg=dr()}function Ho(e){return e.mode&1?vt&2&&Jr!==0?Jr&-Jr:VH.transition!==null?(Dg===0&&(Dg=LR()),Dg):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:VR(e.type)),e):1}function bi(e,t,r,n){if(50<ih)throw ih=0,I_=null,Error(le(185));kp(e,r,n),(!(vt&2)||e!==Wr)&&(e===Wr&&(!(vt&2)&&(rx|=r),Tr===4&&jo(e,Jr)),Xn(e,n),r===1&&vt===0&&!(t.mode&1)&&(ad=dr()+500,Qy&&fl()))}function Xn(e,t){var r=e.callbackNode;V9(e,t);var n=rv(e,e===Wr?Jr:0);if(n===0)r!==null&&GN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&GN(r),t===1)e.tag===0?WH(zP.bind(null,e)):cI(zP.bind(null,e)),FH(function(){!(vt&6)&&fl()}),r=null;else{switch($R(n)){case 1:r=Qj;break;case 4:r=RR;break;case 16:r=tv;break;case 536870912:r=IR;break;default:r=tv}r=oL(r,eL.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function eL(e,t){if(Tg=-1,Dg=0,vt&6)throw Error(le(327));var r=e.callbackNode;if(Tu()&&e.callbackNode!==r)return null;var n=rv(e,e===Wr?Jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bv(e,n);else{t=n;var s=vt;vt|=2;var i=rL();(Wr!==e||Jr!==t)&&(ba=null,ad=dr()+500,rc(e,t));do try{u7();break}catch(o){tL(e,o)}while(!0);dS(),vv.current=i,vt=s,_r!==null?t=0:(Wr=null,Jr=0,t=Tr)}if(t!==0){if(t===2&&(s=c_(e),s!==0&&(n=s,t=L_(e,s))),t===1)throw r=Lh,rc(e,0),jo(e,n),Xn(e,dr()),r;if(t===6)jo(e,n);else{if(s=e.current.alternate,!(n&30)&&!l7(s)&&(t=bv(e,n),t===2&&(i=c_(e),i!==0&&(n=i,t=L_(e,i))),t===1))throw r=Lh,rc(e,0),jo(e,n),Xn(e,dr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:Tl(e,Wn,ba);break;case 3:if(jo(e,n),(n&130023424)===n&&(t=CS+500-dr(),10<t)){if(rv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Cn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=v_(Tl.bind(null,e,Wn,ba),t);break}Tl(e,Wn,ba);break;case 4:if(jo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-xi(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=dr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o7(n/1960))-n,10<n){e.timeoutHandle=v_(Tl.bind(null,e,Wn,ba),n);break}Tl(e,Wn,ba);break;case 5:Tl(e,Wn,ba);break;default:throw Error(le(329))}}}return Xn(e,dr()),e.callbackNode===r?eL.bind(null,e):null}function L_(e,t){var r=sh;return e.current.memoizedState.isDehydrated&&(rc(e,t).flags|=256),e=bv(e,t),e!==2&&(t=Wn,Wn=r,t!==null&&$_(t)),e}function $_(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function l7(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!_i(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jo(e,t){for(t&=~kS,t&=~rx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xi(t),n=1<<r;e[r]=-1,t&=~n}}function zP(e){if(vt&6)throw Error(le(327));Tu();var t=rv(e,0);if(!(t&1))return Xn(e,dr()),null;var r=bv(e,t);if(e.tag!==0&&r===2){var n=c_(e);n!==0&&(t=n,r=L_(e,n))}if(r===1)throw r=Lh,rc(e,0),jo(e,t),Xn(e,dr()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tl(e,Wn,ba),Xn(e,dr()),null}function ES(e,t){var r=vt;vt|=1;try{return e(t)}finally{vt=r,vt===0&&(ad=dr()+500,Qy&&fl())}}function gc(e){Mo!==null&&Mo.tag===0&&!(vt&6)&&Tu();var t=vt;vt|=1;var r=zs.transition,n=Mt;try{if(zs.transition=null,Mt=1,e)return e()}finally{Mt=n,zs.transition=r,vt=t,!(vt&6)&&fl()}}function NS(){cs=wu.current,Yt(wu)}function rc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$H(r)),_r!==null)for(r=_r.return;r!==null;){var n=r;switch(lS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ov();break;case 3:sd(),Yt(Yn),Yt(gn),vS();break;case 5:gS(n);break;case 4:sd();break;case 13:Yt(Jt);break;case 19:Yt(Jt);break;case 10:fS(n.type._context);break;case 22:case 23:NS()}r=r.return}if(Wr=e,_r=e=Ko(e.current,null),Jr=cs=t,Tr=0,Lh=null,kS=rx=mc=0,Wn=sh=null,Wl!==null){for(t=0;t<Wl.length;t++)if(r=Wl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Wl=null}return e}function tL(e,t){do{var r=_r;try{if(dS(),Pg.current=gv,mv){for(var n=er.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mv=!1}if(pc=0,zr=Ar=er=null,rh=!1,Mh=0,SS.current=null,r===null||r.return===null){Tr=1,Lh=t,_r=null;break}e:{var i=e,a=r.return,o=r,c=t;if(t=Jr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=NP(a);if(m!==null){m.flags&=-257,PP(m,a,o,i,t),m.mode&1&&EP(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){EP(i,u,t),PS();break e}c=Error(le(426))}}else if(Xt&&o.mode&1){var w=NP(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),PP(w,a,o,i,t),cS(id(c,o));break e}}i=c=id(c,o),Tr!==4&&(Tr=2),sh===null?sh=[i]:sh.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=$I(i,c,t);wP(i,b);break e;case 1:o=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Vo===null||!Vo.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=FI(i,o,t);wP(i,_);break e}}i=i.return}while(i!==null)}sL(r)}catch(j){t=j,_r===r&&r!==null&&(_r=r=r.return);continue}break}while(!0)}function rL(){var e=vv.current;return vv.current=gv,e===null?gv:e}function PS(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Wr===null||!(mc&268435455)&&!(rx&268435455)||jo(Wr,Jr)}function bv(e,t){var r=vt;vt|=2;var n=rL();(Wr!==e||Jr!==t)&&(ba=null,rc(e,t));do try{c7();break}catch(s){tL(e,s)}while(!0);if(dS(),vt=r,vv.current=n,_r!==null)throw Error(le(261));return Wr=null,Jr=0,Tr}function c7(){for(;_r!==null;)nL(_r)}function u7(){for(;_r!==null&&!R9();)nL(_r)}function nL(e){var t=aL(e.alternate,e,cs);e.memoizedProps=e.pendingProps,t===null?sL(e):_r=t,SS.current=null}function sL(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=n7(r,t),r!==null){r.flags&=32767,_r=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tr=6,_r=null;return}}else if(r=r7(r,t,cs),r!==null){_r=r;return}if(t=t.sibling,t!==null){_r=t;return}_r=t=e}while(t!==null);Tr===0&&(Tr=5)}function Tl(e,t,r){var n=Mt,s=zs.transition;try{zs.transition=null,Mt=1,d7(e,t,r,n)}finally{zs.transition=s,Mt=n}return null}function d7(e,t,r,n){do Tu();while(Mo!==null);if(vt&6)throw Error(le(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(H9(e,i),e===Wr&&(_r=Wr=null,Jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pm||(Pm=!0,oL(tv,function(){return Tu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zs.transition,zs.transition=null;var a=Mt;Mt=1;var o=vt;vt|=4,SS.current=null,i7(e,r),QI(r,e),OH(m_),nv=!!p_,m_=p_=null,e.current=r,a7(r),I9(),vt=o,Mt=a,zs.transition=i}else e.current=r;if(Pm&&(Pm=!1,Mo=e,xv=s),i=e.pendingLanes,i===0&&(Vo=null),F9(r.stateNode),Xn(e,dr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yv)throw yv=!1,e=R_,R_=null,e;return xv&1&&e.tag!==0&&Tu(),i=e.pendingLanes,i&1?e===I_?ih++:(ih=0,I_=e):ih=0,fl(),null}function Tu(){if(Mo!==null){var e=$R(xv),t=zs.transition,r=Mt;try{if(zs.transition=null,Mt=16>e?16:e,Mo===null)var n=!1;else{if(e=Mo,Mo=null,xv=0,vt&6)throw Error(le(331));var s=vt;for(vt|=4,Ae=e.current;Ae!==null;){var i=Ae,a=i.child;if(Ae.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:nh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var h=d.sibling,m=d.return;if(GI(d),d===u){Ae=null;break}if(h!==null){h.return=m,Ae=h;break}Ae=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Ae=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ae=a;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ae=b;break e}Ae=i.return}}var y=e.current;for(Ae=y;Ae!==null;){a=Ae;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Ae=x;else e:for(a=y;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tx(9,o)}}catch(j){sr(o,o.return,j)}if(o===a){Ae=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ae=_;break e}Ae=o.return}}if(vt=s,fl(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(qy,e)}catch{}n=!0}return n}finally{Mt=r,zs.transition=t}}return!1}function UP(e,t,r){t=id(r,t),t=$I(e,t,1),e=Wo(e,t,1),t=Cn(),e!==null&&(kp(e,1,t),Xn(e,t))}function sr(e,t,r){if(e.tag===3)UP(e,e,r);else for(;t!==null;){if(t.tag===3){UP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vo===null||!Vo.has(n))){e=id(r,e),e=FI(t,e,1),t=Wo(t,e,1),e=Cn(),t!==null&&(kp(t,1,e),Xn(t,e));break}}t=t.return}}function f7(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Cn(),e.pingedLanes|=e.suspendedLanes&r,Wr===e&&(Jr&r)===r&&(Tr===4||Tr===3&&(Jr&130023424)===Jr&&500>dr()-CS?rc(e,0):kS|=r),Xn(e,t)}function iL(e,t){t===0&&(e.mode&1?(t=xm,xm<<=1,!(xm&130023424)&&(xm=4194304)):t=1);var r=Cn();e=Ua(e,t),e!==null&&(kp(e,t,r),Xn(e,r))}function h7(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iL(e,r)}function p7(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),iL(e,r)}var aL;aL=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Kn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Kn=!1,t7(e,t,r);Kn=!!(e.flags&131072)}else Kn=!1,Xt&&t.flags&1048576&&uI(t,uv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Og(e,t),e=t.pendingProps;var s=td(t,gn.current);Ou(t,r),s=xS(null,t,n,e,s,r);var i=bS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gn(n)?(i=!0,lv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pS(t),s.updater=ex,t.stateNode=s,s._reactInternals=t,S_(t,n,e,r),t=E_(null,t,n,!0,i,r)):(t.tag=0,Xt&&i&&oS(t),wn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Og(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=g7(n),e=li(n,e),s){case 0:t=C_(null,t,n,e,r);break e;case 1:t=TP(null,t,n,e,r);break e;case 11:t=AP(null,t,n,e,r);break e;case 14:t=OP(null,t,n,li(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:li(n,s),C_(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:li(n,s),TP(e,t,n,s,r);case 3:e:{if(WI(t),e===null)throw Error(le(387));n=t.pendingProps,i=t.memoizedState,s=i.element,gI(e,t),hv(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=id(Error(le(423)),t),t=DP(e,t,n,r,s);break e}else if(n!==s){s=id(Error(le(424)),t),t=DP(e,t,n,r,s);break e}else for(ms=Uo(t.stateNode.containerInfo.firstChild),vs=t,Xt=!0,pi=null,r=pI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rd(),n===s){t=Wa(e,t,r);break e}wn(e,t,n,r)}t=t.child}return t;case 5:return vI(t),e===null&&w_(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,g_(n,s)?a=null:i!==null&&g_(n,i)&&(t.flags|=32),UI(e,t),wn(e,t,a,r),t.child;case 6:return e===null&&w_(t),null;case 13:return VI(e,t,r);case 4:return mS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nd(t,null,n,r):wn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:li(n,s),AP(e,t,n,s,r);case 7:return wn(e,t,t.pendingProps,r),t.child;case 8:return wn(e,t,t.pendingProps.children,r),t.child;case 12:return wn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,zt(dv,n._currentValue),n._currentValue=a,i!==null)if(_i(i.value,a)){if(i.children===s.children&&!Yn.current){t=Wa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ra(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),__(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(le(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),__(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}wn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ou(t,r),s=Ks(s),n=n(s),t.flags|=1,wn(e,t,n,r),t.child;case 14:return n=t.type,s=li(n,t.pendingProps),s=li(n.type,s),OP(e,t,n,s,r);case 15:return BI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:li(n,s),Og(e,t),t.tag=1,Gn(n)?(e=!0,lv(t)):e=!1,Ou(t,r),LI(t,n,s),S_(t,n,s,r),E_(null,t,n,!0,e,r);case 19:return HI(e,t,r);case 22:return zI(e,t,r)}throw Error(le(156,t.tag))};function oL(e,t){return MR(e,t)}function m7(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ls(e,t,r,n){return new m7(e,t,r,n)}function AS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function g7(e){if(typeof e=="function")return AS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gj)return 11;if(e===Xj)return 14}return 2}function Ko(e,t){var r=e.alternate;return r===null?(r=Ls(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mg(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")AS(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case du:return nc(r.children,s,i,t);case Yj:a=8,s|=8;break;case Yw:return e=Ls(12,r,t,s|2),e.elementType=Yw,e.lanes=i,e;case Gw:return e=Ls(13,r,t,s),e.elementType=Gw,e.lanes=i,e;case Xw:return e=Ls(19,r,t,s),e.elementType=Xw,e.lanes=i,e;case vR:return nx(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mR:a=10;break e;case gR:a=9;break e;case Gj:a=11;break e;case Xj:a=14;break e;case yo:a=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Ls(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function nc(e,t,r,n){return e=Ls(7,e,n,t),e.lanes=r,e}function nx(e,t,r,n){return e=Ls(22,e,n,t),e.elementType=vR,e.lanes=r,e.stateNode={isHidden:!1},e}function Eb(e,t,r){return e=Ls(6,e,null,t),e.lanes=r,e}function Nb(e,t,r){return t=Ls(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v7(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lb(0),this.expirationTimes=lb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function OS(e,t,r,n,s,i,a,o,c){return e=new v7(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ls(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pS(i),e}function y7(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lL(e){if(!e)return Jo;e=e._reactInternals;e:{if(Dc(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(Gn(r))return lI(e,r,t)}return t}function cL(e,t,r,n,s,i,a,o,c){return e=OS(r,n,!0,e,s,i,a,o,c),e.context=lL(null),r=e.current,n=Cn(),s=Ho(r),i=Ra(n,s),i.callback=t??null,Wo(r,i,s),e.current.lanes=s,kp(e,s,n),Xn(e,n),e}function sx(e,t,r,n){var s=t.current,i=Cn(),a=Ho(s);return r=lL(r),t.context===null?t.context=r:t.pendingContext=r,t=Ra(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wo(s,t,a),e!==null&&(bi(e,s,a,i),Ng(e,s,a)),a}function wv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function WP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function TS(e,t){WP(e,t),(e=e.alternate)&&WP(e,t)}function x7(){return null}var uL=typeof reportError=="function"?reportError:function(e){console.error(e)};function DS(e){this._internalRoot=e}ix.prototype.render=DS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));sx(e,t,null,null)};ix.prototype.unmount=DS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gc(function(){sx(null,e,null,null)}),t[za]=null}};function ix(e){this._internalRoot=e}ix.prototype.unstable_scheduleHydration=function(e){if(e){var t=zR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_o.length&&t!==0&&t<_o[r].priority;r++);_o.splice(r,0,e),r===0&&WR(e)}};function MS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ax(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function VP(){}function b7(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=wv(a);i.call(u)}}var a=cL(t,n,e,0,null,!1,!1,"",VP);return e._reactRootContainer=a,e[za]=a.current,Ph(e.nodeType===8?e.parentNode:e),gc(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=wv(c);o.call(u)}}var c=OS(e,0,!1,null,null,!1,!1,"",VP);return e._reactRootContainer=c,e[za]=c.current,Ph(e.nodeType===8?e.parentNode:e),gc(function(){sx(t,c,r,n)}),c}function ox(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=wv(a);o.call(c)}}sx(t,a,e,s)}else a=b7(r,t,e,s,n);return wv(a)}FR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rf(t.pendingLanes);r!==0&&(Jj(t,r|1),Xn(t,dr()),!(vt&6)&&(ad=dr()+500,fl()))}break;case 13:gc(function(){var n=Ua(e,1);if(n!==null){var s=Cn();bi(n,e,1,s)}}),TS(e,1)}};eS=function(e){if(e.tag===13){var t=Ua(e,134217728);if(t!==null){var r=Cn();bi(t,e,134217728,r)}TS(e,134217728)}};BR=function(e){if(e.tag===13){var t=Ho(e),r=Ua(e,t);if(r!==null){var n=Cn();bi(r,e,t,n)}TS(e,t)}};zR=function(){return Mt};UR=function(e,t){var r=Mt;try{return Mt=e,t()}finally{Mt=r}};a_=function(e,t,r){switch(t){case"input":if(Jw(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Zy(n);if(!s)throw Error(le(90));xR(n),Jw(n,s)}}}break;case"textarea":wR(e,r);break;case"select":t=r.value,t!=null&&Eu(e,!!r.multiple,t,!1)}};NR=ES;PR=gc;var w7={usingClientEntryPoint:!1,Events:[Ep,mu,Zy,CR,ER,ES]},df={findFiberByHostInstance:Ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_7={bundleType:df.bundleType,version:df.version,rendererPackageName:df.rendererPackageName,rendererConfig:df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ja.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=TR(e),e===null?null:e.stateNode},findFiberByHostInstance:df.findFiberByHostInstance||x7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Am.isDisabled&&Am.supportsFiber)try{qy=Am.inject(_7),Gi=Am}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w7;ks.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MS(t))throw Error(le(200));return y7(e,t,null,r)};ks.createRoot=function(e,t){if(!MS(e))throw Error(le(299));var r=!1,n="",s=uL;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=OS(e,1,!1,null,null,r,!1,n,s),e[za]=t.current,Ph(e.nodeType===8?e.parentNode:e),new DS(t)};ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=TR(t),e=e===null?null:e.stateNode,e};ks.flushSync=function(e){return gc(e)};ks.hydrate=function(e,t,r){if(!ax(t))throw Error(le(200));return ox(null,e,t,!0,r)};ks.hydrateRoot=function(e,t,r){if(!MS(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=uL;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=cL(t,null,e,1,r??null,s,!1,i,a),e[za]=t.current,Ph(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ix(t)};ks.render=function(e,t,r){if(!ax(t))throw Error(le(200));return ox(null,e,t,!1,r)};ks.unmountComponentAtNode=function(e){if(!ax(e))throw Error(le(40));return e._reactRootContainer?(gc(function(){ox(null,null,e,!1,function(){e._reactRootContainer=null,e[za]=null})}),!0):!1};ks.unstable_batchedUpdates=ES;ks.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ax(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return ox(e,t,r,!1,n)};ks.version="18.3.1-next-f1338f8080-20240426";function dL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dL)}catch(e){console.error(e)}}dL(),dR.exports=ks;var hl=dR.exports;const fL=Ai(hl);var hL,HP=hl;hL=HP.createRoot,HP.hydrateRoot;const j7=1,S7=1e6;let Pb=0;function k7(){return Pb=(Pb+1)%Number.MAX_SAFE_INTEGER,Pb.toString()}const Ab=new Map,KP=e=>{if(Ab.has(e))return;const t=setTimeout(()=>{Ab.delete(e),ah({type:"REMOVE_TOAST",toastId:e})},S7);Ab.set(e,t)},C7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,j7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?KP(r):e.toasts.forEach(n=>{KP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Rg=[];let Ig={toasts:[]};function ah(e){Ig=C7(Ig,e),Rg.forEach(t=>{t(Ig)})}function E7({...e}){const t=k7(),r=s=>ah({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>ah({type:"DISMISS_TOAST",toastId:t});return ah({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Cr(){const[e,t]=g.useState(Ig);return g.useEffect(()=>(Rg.push(t),()=>{const r=Rg.indexOf(t);r>-1&&Rg.splice(r,1)}),[e]),{...e,toast:E7,dismiss:r=>ah({type:"DISMISS_TOAST",toastId:r})}}function pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function N7(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function lx(...e){return t=>e.forEach(r=>N7(r,t))}function ct(...e){return g.useCallback(lx(...e),e)}function P7(e,t=[]){let r=[];function n(i,a){const o=g.createContext(a),c=r.length;r=[...r,a];function u(f){const{scope:h,children:m,...p}=f,v=(h==null?void 0:h[e][c])||o,w=g.useMemo(()=>p,Object.values(p));return l.jsx(v.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||o,p=g.useContext(m);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(a=>g.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,A7(s,...t)]}function A7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Va=g.forwardRef((e,t)=>{const{children:r,...n}=e,s=g.Children.toArray(r),i=s.find(O7);if(i){const a=i.props.children,o=s.map(c=>c===i?g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null:c);return l.jsx(F_,{...n,ref:t,children:g.isValidElement(a)?g.cloneElement(a,void 0,o):null})}return l.jsx(F_,{...n,ref:t,children:r})});Va.displayName="Slot";var F_=g.forwardRef((e,t)=>{const{children:r,...n}=e;if(g.isValidElement(r)){const s=D7(r);return g.cloneElement(r,{...T7(n,r.props),ref:t?lx(t,s):s})}return g.Children.count(r)>1?g.Children.only(null):null});F_.displayName="SlotClone";var RS=({children:e})=>l.jsx(l.Fragment,{children:e});function O7(e){return g.isValidElement(e)&&e.type===RS}function T7(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...o)=>{i(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function D7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function cx(e){const t=e+"CollectionProvider",[r,n]=P7(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:p,children:v}=m,w=te.useRef(null),b=te.useRef(new Map).current;return l.jsx(s,{scope:p,itemMap:b,collectionRef:w,children:v})};a.displayName=t;const o=e+"CollectionSlot",c=te.forwardRef((m,p)=>{const{scope:v,children:w}=m,b=i(o,v),y=ct(p,b.collectionRef);return l.jsx(Va,{ref:y,children:w})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=te.forwardRef((m,p)=>{const{scope:v,children:w,...b}=m,y=te.useRef(null),x=ct(p,y),_=i(u,v);return te.useEffect(()=>(_.itemMap.set(y,{ref:y,...b}),()=>void _.itemMap.delete(y))),l.jsx(Va,{[d]:"",ref:x,children:w})});f.displayName=u;function h(m){const p=i(e+"CollectionConsumer",m);return te.useCallback(()=>{const w=p.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(p.itemMap.values()).sort((_,j)=>b.indexOf(_.ref.current)-b.indexOf(j.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,n]}function M7(e,t){const r=g.createContext(t),n=i=>{const{children:a,...o}=i,c=g.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(i){const a=g.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Oi(e,t=[]){let r=[];function n(i,a){const o=g.createContext(a),c=r.length;r=[...r,a];const u=f=>{var b;const{scope:h,children:m,...p}=f,v=((b=h==null?void 0:h[e])==null?void 0:b[c])||o,w=g.useMemo(()=>p,Object.values(p));return l.jsx(v.Provider,{value:w,children:m})};u.displayName=i+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||o,p=g.useContext(m);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(a=>g.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,R7(s,...t)]}function R7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var I7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=I7.reduce((e,t)=>{const r=g.forwardRef((n,s)=>{const{asChild:i,...a}=n,o=i?Va:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function IS(e,t){e&&hl.flushSync(()=>e.dispatchEvent(t))}function vn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function L7(e,t=globalThis==null?void 0:globalThis.document){const r=vn(e);g.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $7="DismissableLayer",B_="dismissableLayer.update",F7="dismissableLayer.pointerDownOutside",B7="dismissableLayer.focusOutside",qP,pL=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mc=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=e,u=g.useContext(pL),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),p=ct(t,S=>f(S)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(w),y=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=b,j=U7(S=>{const E=S.target,N=[...u.branches].some(O=>O.contains(E));!_||N||(s==null||s(S),a==null||a(S),S.defaultPrevented||o==null||o())},h),k=W7(S=>{const E=S.target;[...u.branches].some(O=>O.contains(E))||(i==null||i(S),a==null||a(S),S.defaultPrevented||o==null||o())},h);return L7(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&o&&(S.preventDefault(),o()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),YP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qP)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),YP())},[d,u]),g.useEffect(()=>{const S=()=>m({});return document.addEventListener(B_,S),()=>document.removeEventListener(B_,S)},[]),l.jsx(Be.div,{...c,ref:p,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,j.onPointerDownCapture)})});Mc.displayName=$7;var z7="DismissableLayerBranch",mL=g.forwardRef((e,t)=>{const r=g.useContext(pL),n=g.useRef(null),s=ct(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(Be.div,{...e,ref:s})});mL.displayName=z7;function U7(e,t=globalThis==null?void 0:globalThis.document){const r=vn(e),n=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){gL(F7,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function W7(e,t=globalThis==null?void 0:globalThis.document){const r=vn(e),n=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!n.current&&gL(B7,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function YP(){const e=new CustomEvent(B_);document.dispatchEvent(e)}function gL(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?IS(s,i):s.dispatchEvent(i)}var V7=Mc,H7=mL,yn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},K7="Portal",Dd=g.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[s,i]=g.useState(!1);yn(()=>i(!0),[]);const a=r||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?fL.createPortal(l.jsx(Be.div,{...n,ref:t}),a):null});Dd.displayName=K7;function q7(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var ts=e=>{const{present:t,children:r}=e,n=Y7(t),s=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=ct(n.ref,G7(s));return typeof r=="function"||n.isPresent?g.cloneElement(s,{ref:i}):null};ts.displayName="Presence";function Y7(e){const[t,r]=g.useState(),n=g.useRef({}),s=g.useRef(e),i=g.useRef("none"),a=e?"mounted":"unmounted",[o,c]=q7(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Om(n.current);i.current=o==="mounted"?u:"none"},[o]),yn(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Om(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),yn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=Om(n.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(i.current=Om(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:g.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Om(e){return(e==null?void 0:e.animationName)||"none"}function G7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ji({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=X7({defaultProp:t,onChange:r}),i=e!==void 0,a=i?e:n,o=vn(r),c=g.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else s(u)},[i,e,s,o]);return[a,c]}function X7({defaultProp:e,onChange:t}){const r=g.useState(e),[n]=r,s=g.useRef(n),i=vn(t);return g.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var Z7="VisuallyHidden",Pp=g.forwardRef((e,t)=>l.jsx(Be.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Pp.displayName=Z7;var Q7=Pp,LS="ToastProvider",[$S,J7,eK]=cx("Toast"),[vL,HCe]=Oi("Toast",[eK]),[tK,ux]=vL(LS),yL=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[o,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${LS}\`. Expected non-empty \`string\`.`),l.jsx($S.Provider,{scope:t,children:l.jsx(tK,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};yL.displayName=LS;var xL="ToastViewport",rK=["F8"],z_="toast.viewportPause",U_="toast.viewportResume",bL=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=rK,label:s="Notifications ({hotkey})",...i}=e,a=ux(xL,r),o=J7(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=ct(t,f,a.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=a.toastCount>0;g.useEffect(()=>{const w=b=>{var x;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),g.useEffect(()=>{const w=c.current,b=f.current;if(p&&w&&b){const y=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(z_);b.dispatchEvent(k),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(U_);b.dispatchEvent(k),a.isClosePausedRef.current=!1}},_=k=>{!w.contains(k.relatedTarget)&&x()},j=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",y),w.addEventListener("focusout",_),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",_),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[p,a.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:w})=>{const y=o().map(x=>{const _=x.ref.current,j=[_,...mK(_)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?y.reverse():y).flat()},[o]);return g.useEffect(()=>{const w=f.current;if(w){const b=y=>{var j,k,S;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const E=document.activeElement,N=y.shiftKey;if(y.target===w&&N){(j=u.current)==null||j.focus();return}const A=v({tabbingDirection:N?"backwards":"forwards"}),L=A.findIndex(I=>I===E);Ob(A.slice(L+1))?y.preventDefault():N?(k=u.current)==null||k.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[o,v]),l.jsxs(H7,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&l.jsx(W_,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Ob(w)}}),l.jsx($S.Slot,{scope:r,children:l.jsx(Be.ol,{tabIndex:-1,...i,ref:h})}),p&&l.jsx(W_,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Ob(w)}})]})});bL.displayName=xL;var wL="ToastFocusProxy",W_=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=ux(wL,r);return l.jsx(Pp,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(o))&&n()}})});W_.displayName=wL;var dx="Toast",nK="toast.swipeStart",sK="toast.swipeMove",iK="toast.swipeCancel",aK="toast.swipeEnd",_L=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...a}=e,[o=!0,c]=ji({prop:n,defaultProp:s,onChange:i});return l.jsx(ts,{present:r||o,children:l.jsx(cK,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:vn(e.onPause),onResume:vn(e.onResume),onSwipeStart:pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});_L.displayName=dx;var[oK,lK]=vL(dx,{onClose(){}}),cK=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...p}=e,v=ux(dx,r),[w,b]=g.useState(null),y=ct(t,I=>b(I)),x=g.useRef(null),_=g.useRef(null),j=s||v.duration,k=g.useRef(0),S=g.useRef(j),E=g.useRef(0),{onToastAdd:N,onToastRemove:O}=v,P=vn(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=v.viewport)==null||B.focus()),a()}),A=g.useCallback(I=>{!I||I===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(P,I))},[P]);g.useEffect(()=>{const I=v.viewport;if(I){const B=()=>{A(S.current),u==null||u()},z=()=>{const T=new Date().getTime()-k.current;S.current=S.current-T,window.clearTimeout(E.current),c==null||c()};return I.addEventListener(z_,z),I.addEventListener(U_,B),()=>{I.removeEventListener(z_,z),I.removeEventListener(U_,B)}}},[v.viewport,j,c,u,A]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&A(j)},[i,j,v.isClosePausedRef,A]),g.useEffect(()=>(N(),()=>O()),[N,O]);const L=g.useMemo(()=>w?PL(w):null,[w]);return v.viewport?l.jsxs(l.Fragment,{children:[L&&l.jsx(uK,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),l.jsx(oK,{scope:r,onClose:P,children:hl.createPortal(l.jsx($S.ItemSlot,{scope:r,children:l.jsx(V7,{asChild:!0,onEscapeKeyDown:pe(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||P(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,I=>{I.key==="Escape"&&(o==null||o(I.nativeEvent),I.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:pe(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:pe(e.onPointerMove,I=>{if(!x.current)return;const B=I.clientX-x.current.x,z=I.clientY-x.current.y,T=!!_.current,C=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=C?D(0,B):0,W=C?0:D(0,z),V=I.pointerType==="touch"?10:2,ue={x:U,y:W},me={originalEvent:I,delta:ue};T?(_.current=ue,Tm(sK,f,me,{discrete:!1})):GP(ue,v.swipeDirection,V)?(_.current=ue,Tm(nK,d,me,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(B)>V||Math.abs(z)>V)&&(x.current=null)}),onPointerUp:pe(e.onPointerUp,I=>{const B=_.current,z=I.target;if(z.hasPointerCapture(I.pointerId)&&z.releasePointerCapture(I.pointerId),_.current=null,x.current=null,B){const T=I.currentTarget,C={originalEvent:I,delta:B};GP(B,v.swipeDirection,v.swipeThreshold)?Tm(aK,m,C,{discrete:!0}):Tm(iK,h,C,{discrete:!0}),T.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),uK=e=>{const{__scopeToast:t,children:r,...n}=e,s=ux(dx,t),[i,a]=g.useState(!1),[o,c]=g.useState(!1);return hK(()=>a(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Dd,{asChild:!0,children:l.jsx(Pp,{...n,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},dK="ToastTitle",jL=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Be.div,{...n,ref:t})});jL.displayName=dK;var fK="ToastDescription",SL=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Be.div,{...n,ref:t})});SL.displayName=fK;var kL="ToastAction",CL=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(NL,{altText:r,asChild:!0,children:l.jsx(FS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kL}\`. Expected non-empty \`string\`.`),null)});CL.displayName=kL;var EL="ToastClose",FS=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=lK(EL,r);return l.jsx(NL,{asChild:!0,children:l.jsx(Be.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,s.onClose)})})});FS.displayName=EL;var NL=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function PL(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pK(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...PL(n))}}),t}function Tm(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?IS(s,i):s.dispatchEvent(i)}var GP=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function hK(e=()=>{}){const t=vn(e);yn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function pK(e){return e.nodeType===e.ELEMENT_NODE}function mK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ob(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var gK=yL,AL=bL,OL=_L,TL=jL,DL=SL,ML=CL,RL=FS;function IL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=IL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=IL(e))&&(n&&(n+=" "),n+=t);return n}const XP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ZP=yt,Ap=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ZP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=XP(d)||XP(f);return s[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[v,w]=p;return Array.isArray(w)?w.includes({...i,...o}[v]):{...i,...o}[v]===w})?[...u,f,h]:u},[]);return ZP(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LL=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},c)=>g.createElement("svg",{ref:c,...yK,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:LL("lucide",s),...o},[...a.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const r=g.forwardRef(({className:n,...s},i)=>g.createElement(xK,{ref:i,iconNode:t,className:LL(`lucide-${vK(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=Ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=Ue("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=Ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=Ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=Ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=Ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=Ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Ue("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=Ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=Ue("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=Ue("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=Ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=Ue("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=Ue("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=Ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Ue("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=Ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=Ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=Ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Ue("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=Ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=Ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=Ue("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=Ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),VS="-",BK=e=>{const t=UK(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(VS);return o[0]===""&&o.length!==1&&o.shift(),WL(o,t)||zK(a)},getConflictingClassGroupIds:(a,o)=>{const c=r[a]||[];return o&&n[a]?[...c,...n[a]]:c}}},WL=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?WL(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(VS);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},tA=/^\[(.+)\]$/,zK=e=>{if(tA.test(e)){const t=tA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},UK=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return VK(Object.entries(e.classGroups),r).forEach(([i,a])=>{K_(a,n,i,t)}),n},K_=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:rA(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(WK(s)){K_(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{K_(a,rA(t,i),r,n)})})},rA=(e,t)=>{let r=e;return t.split(VS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},WK=e=>e.isThemeGetter,VK=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,HK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},VL="!",KK=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const c=[];let u=0,d=0,f;for(let w=0;w<o.length;w++){let b=o[w];if(u===0){if(b===s&&(n||o.slice(w,w+i)===t)){c.push(o.slice(d,w)),d=w+i;continue}if(b==="/"){f=w;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?o:o.substring(d),m=h.startsWith(VL),p=m?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:a}):a},qK=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},YK=e=>({cache:HK(e.cacheSize),parseClassName:KK(e),...BK(e)}),GK=/\s+/,XK=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(GK);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let p=!!m,v=n(p?h.substring(0,m):h);if(!v){if(!p){o=u+(o.length>0?" "+o:o);continue}if(v=n(h),!v){o=u+(o.length>0?" "+o:o);continue}p=!1}const w=qK(d).join(":"),b=f?w+VL:w,y=b+v;if(i.includes(y))continue;i.push(y);const x=s(v,p);for(let _=0;_<x.length;++_){const j=x[_];i.push(b+j)}o=u+(o.length>0?" "+o:o)}return o};function ZK(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=HL(t))&&(n&&(n+=" "),n+=r);return n}const HL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=HL(e[n]))&&(r&&(r+=" "),r+=t);return r};function QK(e,...t){let r,n,s,i=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return r=YK(u),n=r.cache.get,s=r.cache.set,i=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=XK(c,r);return s(c,d),d}return function(){return i(ZK.apply(null,arguments))}}const Wt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},KL=/^\[(?:([a-z-]+):)?(.+)\]$/i,JK=/^\d+\/\d+$/,eq=new Set(["px","full","screen"]),tq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,da=e=>Mu(e)||eq.has(e)||JK.test(e),oo=e=>Md(e,"length",hq),Mu=e=>!!e&&!Number.isNaN(Number(e)),Tb=e=>Md(e,"number",Mu),ff=e=>!!e&&Number.isInteger(Number(e)),aq=e=>e.endsWith("%")&&Mu(e.slice(0,-1)),nt=e=>KL.test(e),lo=e=>tq.test(e),oq=new Set(["length","size","percentage"]),lq=e=>Md(e,oq,qL),cq=e=>Md(e,"position",qL),uq=new Set(["image","url"]),dq=e=>Md(e,uq,mq),fq=e=>Md(e,"",pq),hf=()=>!0,Md=(e,t,r)=>{const n=KL.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},hq=e=>rq.test(e)&&!nq.test(e),qL=()=>!1,pq=e=>sq.test(e),mq=e=>iq.test(e),gq=()=>{const e=Wt("colors"),t=Wt("spacing"),r=Wt("blur"),n=Wt("brightness"),s=Wt("borderColor"),i=Wt("borderRadius"),a=Wt("borderSpacing"),o=Wt("borderWidth"),c=Wt("contrast"),u=Wt("grayscale"),d=Wt("hueRotate"),f=Wt("invert"),h=Wt("gap"),m=Wt("gradientColorStops"),p=Wt("gradientColorStopPositions"),v=Wt("inset"),w=Wt("margin"),b=Wt("opacity"),y=Wt("padding"),x=Wt("saturate"),_=Wt("scale"),j=Wt("sepia"),k=Wt("skew"),S=Wt("space"),E=Wt("translate"),N=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",nt,t],A=()=>[nt,t],L=()=>["",da,oo],I=()=>["auto",Mu,nt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",nt],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Mu,nt];return{cacheSize:500,separator:":",theme:{colors:[hf],spacing:[da,oo],blur:["none","",lo,nt],brightness:W(),borderColor:[e],borderRadius:["none","","full",lo,nt],borderSpacing:A(),borderWidth:L(),contrast:W(),grayscale:D(),hueRotate:W(),invert:D(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[aq,oo],inset:P(),margin:P(),opacity:W(),padding:A(),saturate:W(),scale:W(),sepia:D(),skew:W(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[lo]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),nt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ff,nt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",ff,nt]}],"grid-cols":[{"grid-cols":[hf]}],"col-start-end":[{col:["auto",{span:["full",ff,nt]},nt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[hf]}],"row-start-end":[{row:["auto",{span:[ff,nt]},nt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,t]}],"min-w":[{"min-w":[nt,t,"min","max","fit"]}],"max-w":[{"max-w":[nt,t,"none","full","min","max","fit","prose",{screen:[lo]},lo]}],h:[{h:[nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",lo,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tb]}],"font-family":[{font:[hf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Mu,Tb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",da,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",da,oo]}],"underline-offset":[{"underline-offset":["auto",da,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),cq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dq]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[da,nt]}],"outline-w":[{outline:[da,oo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[da,oo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lo,fq]}],"shadow-color":[{shadow:[hf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lo,nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ff,nt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[da,oo,Tb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vq=QK(gq);function ye(...e){return vq(yt(e))}const yq=gK,YL=g.forwardRef(({className:e,...t},r)=>l.jsx(AL,{ref:r,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));YL.displayName=AL.displayName;const xq=Ap("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GL=g.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(OL,{ref:n,className:ye(xq({variant:t}),e),...r}));GL.displayName=OL.displayName;const bq=g.forwardRef(({className:e,...t},r)=>l.jsx(ML,{ref:r,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));bq.displayName=ML.displayName;const XL=g.forwardRef(({className:e,...t},r)=>l.jsx(RL,{ref:r,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ta,{className:"h-4 w-4"})}));XL.displayName=RL.displayName;const ZL=g.forwardRef(({className:e,...t},r)=>l.jsx(TL,{ref:r,className:ye("text-sm font-semibold",e),...t}));ZL.displayName=TL.displayName;const QL=g.forwardRef(({className:e,...t},r)=>l.jsx(DL,{ref:r,className:ye("text-sm opacity-90",e),...t}));QL.displayName=DL.displayName;function wq(){const{toasts:e}=Cr();return l.jsxs(yq,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return l.jsxs(GL,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(ZL,{children:r}),n&&l.jsx(QL,{children:n})]}),s,l.jsx(XL,{})]},t)}),l.jsx(YL,{})]})}var nA=["light","dark"],_q="(prefers-color-scheme: dark)",jq=g.createContext(void 0),Sq={setTheme:e=>{},themes:[]},kq=()=>{var e;return(e=g.useContext(jq))!=null?e:Sq};g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:a,attrs:o,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?nA.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,v=!1,w=!0)=>{let b=a?a[p]:p,y=v?p+"|| ''":`'${b}'`,x="";return s&&w&&!v&&nA.includes(p)&&(x+=`d.style.colorScheme = '${p}';`),r==="class"?v||b?x+=`c.add(${y})`:x+="null":b&&(x+=`d[s](n,${y})`),x},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${_q}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Cq=e=>{switch(e){case"success":return Pq;case"info":return Oq;case"warning":return Aq;case"error":return Tq;default:return null}},Eq=Array(12).fill(0),Nq=({visible:e})=>te.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},te.createElement("div",{className:"sonner-spinner"},Eq.map((t,r)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Pq=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Aq=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Oq=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Tq=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dq=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},q_=1,Mq=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:q_++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:r}),{...o,...e,id:s,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async i=>{if(Iq(i)&&!i.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,o=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:a,description:o})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(i):t.success,o=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:a,description:o})}}).catch(async i=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(i):t.error,o=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:a,description:o})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||q_++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ls=new Mq,Rq=(e,t)=>{let r=(t==null?void 0:t.id)||q_++;return ls.addToast({title:e,...t,id:r}),r},Iq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Lq=Rq,$q=()=>ls.toasts,Yc=Object.assign(Lq,{success:ls.success,info:ls.info,warning:ls.warning,error:ls.error,custom:ls.custom,message:ls.message,promise:ls.promise,dismiss:ls.dismiss,loading:ls.loading},{getHistory:$q});function Fq(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Fq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mm(e){return e.label!==void 0}var Bq=3,zq="32px",Uq=4e3,Wq=356,Vq=14,Hq=20,Kq=200;function qq(...e){return e.filter(Boolean).join(" ")}var Yq=e=>{var t,r,n,s,i,a,o,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:p,setHeights:v,visibleToasts:w,heights:b,index:y,toasts:x,expanded:_,removeToast:j,defaultRichColors:k,closeButton:S,style:E,cancelButtonStyle:N,actionButtonStyle:O,className:P="",descriptionClassName:A="",duration:L,position:I,gap:B,loadingIcon:z,expandByDefault:T,classNames:C,icons:D,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:W,cn:V}=e,[ue,me]=te.useState(!1),[Ee,xe]=te.useState(!1),[fe,We]=te.useState(!1),[Q,he]=te.useState(!1),[be,Y]=te.useState(0),[Qe,Le]=te.useState(0),Je=te.useRef(null),it=te.useRef(null),Z=y===0,M=y+1<=w,$=h.type,F=h.dismissible!==!1,ie=h.className||"",se=h.descriptionClassName||"",ne=te.useMemo(()=>b.findIndex(Ve=>Ve.toastId===h.id)||0,[b,h.id]),Me=te.useMemo(()=>{var Ve;return(Ve=h.closeButton)!=null?Ve:S},[h.closeButton,S]),ze=te.useMemo(()=>h.duration||L||Uq,[h.duration,L]),Rt=te.useRef(0),ft=te.useRef(0),tn=te.useRef(0),Rr=te.useRef(null),[Dn,ca]=I.split("-"),rs=te.useMemo(()=>b.reduce((Ve,de,jt)=>jt>=ne?Ve:Ve+de.height,0),[b,ne]),Mn=Dq(),ua=h.invert||f,ri=$==="loading";ft.current=te.useMemo(()=>ne*B+rs,[ne,rs]),te.useEffect(()=>{me(!0)},[]),te.useLayoutEffect(()=>{if(!ue)return;let Ve=it.current,de=Ve.style.height;Ve.style.height="auto";let jt=Ve.getBoundingClientRect().height;Ve.style.height=de,Le(jt),v(H=>H.find(ee=>ee.toastId===h.id)?H.map(ee=>ee.toastId===h.id?{...ee,height:jt}:ee):[{toastId:h.id,height:jt,position:h.position},...H])},[ue,h.title,h.description,v,h.id]);let Es=te.useCallback(()=>{xe(!0),Y(ft.current),v(Ve=>Ve.filter(de=>de.toastId!==h.id)),setTimeout(()=>{j(h)},Kq)},[h,j,v,ft]);te.useEffect(()=>{if(h.promise&&$==="loading"||h.duration===1/0||h.type==="loading")return;let Ve,de=ze;return _||p||W&&Mn?(()=>{if(tn.current<Rt.current){let jt=new Date().getTime()-Rt.current;de=de-jt}tn.current=new Date().getTime()})():de!==1/0&&(Rt.current=new Date().getTime(),Ve=setTimeout(()=>{var jt;(jt=h.onAutoClose)==null||jt.call(h,h),Es()},de)),()=>clearTimeout(Ve)},[_,p,T,h,ze,Es,h.promise,$,W,Mn]),te.useEffect(()=>{let Ve=it.current;if(Ve){let de=Ve.getBoundingClientRect().height;return Le(de),v(jt=>[{toastId:h.id,height:de,position:h.position},...jt]),()=>v(jt=>jt.filter(H=>H.toastId!==h.id))}},[v,h.id]),te.useEffect(()=>{h.delete&&Es()},[Es,h.delete]);function Kc(){return D!=null&&D.loading?te.createElement("div",{className:"sonner-loader","data-visible":$==="loading"},D.loading):z?te.createElement("div",{className:"sonner-loader","data-visible":$==="loading"},z):te.createElement(Nq,{visible:$==="loading"})}return te.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:it,className:V(P,ie,C==null?void 0:C.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[$],(r=h==null?void 0:h.classNames)==null?void 0:r[$]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:k,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":ue,"data-promise":!!h.promise,"data-removed":Ee,"data-visible":M,"data-y-position":Dn,"data-x-position":ca,"data-index":y,"data-front":Z,"data-swiping":fe,"data-dismissible":F,"data-type":$,"data-invert":ua,"data-swipe-out":Q,"data-expanded":!!(_||T&&ue),style:{"--index":y,"--toasts-before":y,"--z-index":x.length-y,"--offset":`${Ee?be:ft.current}px`,"--initial-height":T?"auto":`${Qe}px`,...E,...h.style},onPointerDown:Ve=>{ri||!F||(Je.current=new Date,Y(ft.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(We(!0),Rr.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,de,jt,H;if(Q||!F)return;Rr.current=null;let ee=Number(((Ve=it.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ge=new Date().getTime()-((de=Je.current)==null?void 0:de.getTime()),Xe=Math.abs(ee)/ge;if(Math.abs(ee)>=Hq||Xe>.11){Y(ft.current),(jt=h.onDismiss)==null||jt.call(h,h),Es(),he(!0);return}(H=it.current)==null||H.style.setProperty("--swipe-amount","0px"),We(!1)},onPointerMove:Ve=>{var de;if(!Rr.current||!F)return;let jt=Ve.clientY-Rr.current.y,H=Ve.clientX-Rr.current.x,ee=(Dn==="top"?Math.min:Math.max)(0,jt),ge=Ve.pointerType==="touch"?10:2;Math.abs(ee)>ge?(de=it.current)==null||de.style.setProperty("--swipe-amount",`${jt}px`):Math.abs(H)>ge&&(Rr.current=null)}},Me&&!h.jsx?te.createElement("button",{"aria-label":U,"data-disabled":ri,"data-close-button":!0,onClick:ri||!F?()=>{}:()=>{var Ve;Es(),(Ve=h.onDismiss)==null||Ve.call(h,h)},className:V(C==null?void 0:C.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||te.isValidElement(h.title)?h.jsx||h.title:te.createElement(te.Fragment,null,$||h.icon||h.promise?te.createElement("div",{"data-icon":"",className:V(C==null?void 0:C.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Kc():null,h.type!=="loading"?h.icon||(D==null?void 0:D[$])||Cq($):null):null,te.createElement("div",{"data-content":"",className:V(C==null?void 0:C.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},te.createElement("div",{"data-title":"",className:V(C==null?void 0:C.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?te.createElement("div",{"data-description":"",className:V(A,se,C==null?void 0:C.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),te.isValidElement(h.cancel)?h.cancel:h.cancel&&Mm(h.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:Ve=>{var de,jt;Mm(h.cancel)&&F&&((jt=(de=h.cancel).onClick)==null||jt.call(de,Ve),Es())},className:V(C==null?void 0:C.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,te.isValidElement(h.action)?h.action:h.action&&Mm(h.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:Ve=>{var de,jt;Mm(h.action)&&(Ve.defaultPrevented||((jt=(de=h.action).onClick)==null||jt.call(de,Ve),Es()))},className:V(C==null?void 0:C.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function sA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Gq=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:o,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=Bq,toastOptions:m,dir:p=sA(),gap:v=Vq,loadingIcon:w,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:x,cn:_=qq}=e,[j,k]=te.useState([]),S=te.useMemo(()=>Array.from(new Set([r].concat(j.filter(W=>W.position).map(W=>W.position)))),[j,r]),[E,N]=te.useState([]),[O,P]=te.useState(!1),[A,L]=te.useState(!1),[I,B]=te.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=te.useRef(null),T=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=te.useRef(null),D=te.useRef(!1),U=te.useCallback(W=>{var V;(V=j.find(ue=>ue.id===W.id))!=null&&V.delete||ls.dismiss(W.id),k(ue=>ue.filter(({id:me})=>me!==W.id))},[j]);return te.useEffect(()=>ls.subscribe(W=>{if(W.dismiss){k(V=>V.map(ue=>ue.id===W.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{fL.flushSync(()=>{k(V=>{let ue=V.findIndex(me=>me.id===W.id);return ue!==-1?[...V.slice(0,ue),{...V[ue],...W},...V.slice(ue+1)]:[W,...V]})})})}),[]),te.useEffect(()=>{if(c!=="system"){B(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{B(W?"dark":"light")})},[c]),te.useEffect(()=>{j.length<=1&&P(!1)},[j]),te.useEffect(()=>{let W=V=>{var ue,me;n.every(Ee=>V[Ee]||V.code===Ee)&&(P(!0),(ue=z.current)==null||ue.focus()),V.code==="Escape"&&(document.activeElement===z.current||(me=z.current)!=null&&me.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[n]),te.useEffect(()=>{if(z.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,D.current=!1)}},[z.current]),j.length?te.createElement("section",{"aria-label":`${y} ${T}`,tabIndex:-1},S.map((W,V)=>{var ue;let[me,Ee]=W.split("-");return te.createElement("ol",{key:W,dir:p==="auto"?sA():p,tabIndex:-1,ref:z,className:a,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":me,"data-x-position":Ee,style:{"--front-toast-height":`${((ue=E[0])==null?void 0:ue.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||zq,"--width":`${Wq}px`,"--gap":`${v}px`,...f},onBlur:xe=>{D.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(D.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||D.current||(D.current=!0,C.current=xe.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{A||P(!1)},onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},j.filter(xe=>!xe.position&&V===0||xe.position===W).map((xe,fe)=>{var We,Q;return te.createElement(Yq,{key:xe.id,icons:b,index:fe,toast:xe,defaultRichColors:u,duration:(We=m==null?void 0:m.duration)!=null?We:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Q=m==null?void 0:m.closeButton)!=null?Q:i,interacting:A,position:W,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:U,toasts:j.filter(he=>he.position==xe.position),heights:E.filter(he=>he.position==xe.position),setHeights:N,expandByDefault:s,gap:v,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:x,cn:_})}))})):null};const Xq=({...e})=>{const{theme:t="system"}=kq();return l.jsx(Gq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Zq=cR.useId||(()=>{}),Qq=0;function Us(e){const[t,r]=g.useState(Zq());return yn(()=>{e||r(n=>n??String(Qq++))},[e]),e||(t?`radix-${t}`:"")}const Jq=["top","right","bottom","left"],el=Math.min,ds=Math.max,Sv=Math.round,Rm=Math.floor,tl=e=>({x:e,y:e}),eY={left:"right",right:"left",bottom:"top",top:"bottom"},tY={start:"end",end:"start"};function Y_(e,t,r){return ds(e,el(t,r))}function Ha(e,t){return typeof e=="function"?e(t):e}function Ka(e){return e.split("-")[0]}function Rd(e){return e.split("-")[1]}function HS(e){return e==="x"?"y":"x"}function KS(e){return e==="y"?"height":"width"}function rl(e){return["top","bottom"].includes(Ka(e))?"y":"x"}function qS(e){return HS(rl(e))}function rY(e,t,r){r===void 0&&(r=!1);const n=Rd(e),s=qS(e),i=KS(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=kv(a)),[a,kv(a)]}function nY(e){const t=kv(e);return[G_(e),t,G_(t)]}function G_(e){return e.replace(/start|end/g,t=>tY[t])}function sY(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:a;default:return[]}}function iY(e,t,r,n){const s=Rd(e);let i=sY(Ka(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(G_)))),i}function kv(e){return e.replace(/left|right|bottom|top/g,t=>eY[t])}function aY(e){return{top:0,right:0,bottom:0,left:0,...e}}function JL(e){return typeof e!="number"?aY(e):{top:e,right:e,bottom:e,left:e}}function Cv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function iA(e,t,r){let{reference:n,floating:s}=e;const i=rl(t),a=qS(t),o=KS(a),c=Ka(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[o]/2-s[o]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Rd(t)){case"start":m[a]-=h*(r&&u?-1:1);break;case"end":m[a]+=h*(r&&u?-1:1);break}return m}const oY=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=iA(u,n,c),h=n,m={},p=0;for(let v=0;v<o.length;v++){const{name:w,fn:b}=o[v],{x:y,y:x,data:_,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=x??f,m={...m,[w]:{...m[w],..._}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=iA(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Bh(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ha(t,e),p=JL(m),w=o[h?f==="floating"?"reference":"floating":f],b=Cv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),_=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},j=Cv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:x,strategy:c}):y);return{top:(b.top-j.top+p.top)/_.y,bottom:(j.bottom-b.bottom+p.bottom)/_.y,left:(b.left-j.left+p.left)/_.x,right:(j.right-b.right+p.right)/_.x}}const lY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Ha(e,t)||{};if(u==null)return{};const f=JL(d),h={x:r,y:n},m=qS(s),p=KS(m),v=await a.getDimensions(u),w=m==="y",b=w?"top":"left",y=w?"bottom":"right",x=w?"clientHeight":"clientWidth",_=i.reference[p]+i.reference[m]-h[m]-i.floating[p],j=h[m]-i.reference[m],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=k?k[x]:0;(!S||!await(a.isElement==null?void 0:a.isElement(k)))&&(S=o.floating[x]||i.floating[p]);const E=_/2-j/2,N=S/2-v[p]/2-1,O=el(f[b],N),P=el(f[y],N),A=O,L=S-v[p]-P,I=S/2-v[p]/2+E,B=Y_(A,I,L),z=!c.arrow&&Rd(s)!=null&&I!==B&&i.reference[p]/2-(I<A?O:P)-v[p]/2<0,T=z?I<A?I-A:I-L:0;return{[m]:h[m]+T,data:{[m]:B,centerOffset:I-B-T,...z&&{alignmentOffset:T}},reset:z}}}),cY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...w}=Ha(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Ka(s),y=rl(o),x=Ka(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(x||!v?[kv(o)]:nY(o)),k=p!=="none";!h&&k&&j.push(...iY(o,v,p,_));const S=[o,...j],E=await Bh(t,w),N=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&N.push(E[b]),f){const I=rY(s,a,_);N.push(E[I[0]],E[I[1]])}if(O=[...O,{placement:s,overflows:N}],!N.every(I=>I<=0)){var P,A;const I=(((P=i.flip)==null?void 0:P.index)||0)+1,B=S[I];if(B)return{data:{index:I,overflows:O},reset:{placement:B}};let z=(A=O.filter(T=>T.overflows[0]<=0).sort((T,C)=>T.overflows[1]-C.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(m){case"bestFit":{var L;const T=(L=O.filter(C=>{if(k){const D=rl(C.placement);return D===y||D==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(D=>D>0).reduce((D,U)=>D+U,0)]).sort((C,D)=>C[1]-D[1])[0])==null?void 0:L[0];T&&(z=T);break}case"initialPlacement":z=o;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function aA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oA(e){return Jq.some(t=>e[t]>=0)}const uY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ha(e,t);switch(n){case"referenceHidden":{const i=await Bh(t,{...s,elementContext:"reference"}),a=aA(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:oA(a)}}}case"escaped":{const i=await Bh(t,{...s,altBoundary:!0}),a=aA(i,r.floating);return{data:{escapedOffsets:a,escaped:oA(a)}}}default:return{}}}}};async function dY(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Ka(r),o=Rd(r),c=rl(r)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,f=Ha(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof p=="number"&&(m=o==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const fY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:o}=t,c=await dY(t,e);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},hY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:b,y}=w;return{x:b,y}}},...c}=Ha(e,t),u={x:r,y:n},d=await Bh(t,c),f=rl(Ka(s)),h=HS(f);let m=u[h],p=u[f];if(i){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=m+d[w],x=m-d[b];m=Y_(y,m,x)}if(a){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=p+d[w],x=p-d[b];p=Y_(y,p,x)}const v=o.fn({...t,[h]:m,[f]:p});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:i,[f]:a}}}}}},pY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Ha(e,t),d={x:r,y:n},f=rl(s),h=HS(f);let m=d[h],p=d[f];const v=Ha(o,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=h==="y"?"height":"width",_=i.reference[h]-i.floating[x]+w.mainAxis,j=i.reference[h]+i.reference[x]-w.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,y;const x=h==="y"?"width":"height",_=["top","left"].includes(Ka(s)),j=i.reference[f]-i.floating[x]+(_&&((b=a.offset)==null?void 0:b[f])||0)+(_?0:w.crossAxis),k=i.reference[f]+i.reference[x]+(_?0:((y=a.offset)==null?void 0:y[f])||0)-(_?w.crossAxis:0);p<j?p=j:p>k&&(p=k)}return{[h]:m,[f]:p}}}},mY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:o}=t,{apply:c=()=>{},...u}=Ha(e,t),d=await Bh(t,u),f=Ka(s),h=Rd(s),m=rl(s)==="y",{width:p,height:v}=i.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,w=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,x=p-d.left-d.right,_=el(v-d[w],y),j=el(p-d[b],x),k=!t.middlewareData.shift;let S=_,E=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),k&&!h){const O=ds(d.left,0),P=ds(d.right,0),A=ds(d.top,0),L=ds(d.bottom,0);m?E=p-2*(O!==0||P!==0?O+P:ds(d.left,d.right)):S=v-2*(A!==0||L!==0?A+L:ds(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:S});const N=await a.getDimensions(o.floating);return p!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function hx(){return typeof window<"u"}function Id(e){return e$(e)?(e.nodeName||"").toLowerCase():"#document"}function ys(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function la(e){var t;return(t=(e$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function e$(e){return hx()?e instanceof Node||e instanceof ys(e).Node:!1}function Ci(e){return hx()?e instanceof Element||e instanceof ys(e).Element:!1}function ra(e){return hx()?e instanceof HTMLElement||e instanceof ys(e).HTMLElement:!1}function lA(e){return!hx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ys(e).ShadowRoot}function Op(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ei(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function gY(e){return["table","td","th"].includes(Id(e))}function px(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function YS(e){const t=GS(),r=Ci(e)?Ei(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function vY(e){let t=nl(e);for(;ra(t)&&!od(t);){if(YS(t))return t;if(px(t))return null;t=nl(t)}return null}function GS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function od(e){return["html","body","#document"].includes(Id(e))}function Ei(e){return ys(e).getComputedStyle(e)}function mx(e){return Ci(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nl(e){if(Id(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lA(e)&&e.host||la(e);return lA(t)?t.host:t}function t$(e){const t=nl(e);return od(t)?e.ownerDocument?e.ownerDocument.body:e.body:ra(t)&&Op(t)?t:t$(t)}function zh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=t$(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=ys(s);if(i){const o=X_(a);return t.concat(a,a.visualViewport||[],Op(s)?s:[],o&&r?zh(o):[])}return t.concat(s,zh(s,[],r))}function X_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function r$(e){const t=Ei(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ra(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,o=Sv(r)!==i||Sv(n)!==a;return o&&(r=i,n=a),{width:r,height:n,$:o}}function XS(e){return Ci(e)?e:e.contextElement}function Ru(e){const t=XS(e);if(!ra(t))return tl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=r$(t);let a=(i?Sv(r.width):r.width)/n,o=(i?Sv(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const yY=tl(0);function n$(e){const t=ys(e);return!GS()||!t.visualViewport?yY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ys(e)?!1:t}function yc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=XS(e);let a=tl(1);t&&(n?Ci(n)&&(a=Ru(n)):a=Ru(e));const o=xY(i,r,n)?n$(i):tl(0);let c=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const h=ys(i),m=n&&Ci(n)?ys(n):n;let p=h,v=X_(p);for(;v&&n&&m!==p;){const w=Ru(v),b=v.getBoundingClientRect(),y=Ei(v),x=b.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,_=b.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=x,u+=_,p=ys(v),v=X_(p)}}return Cv({width:d,height:f,x:c,y:u})}function bY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=la(n),o=t?px(t.floating):!1;if(n===a||o&&i)return r;let c={scrollLeft:0,scrollTop:0},u=tl(1);const d=tl(0),f=ra(n);if((f||!f&&!i)&&((Id(n)!=="body"||Op(a))&&(c=mx(n)),ra(n))){const h=yc(n);u=Ru(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function wY(e){return Array.from(e.getClientRects())}function Z_(e,t){const r=mx(e).scrollLeft;return t?t.left+r:yc(la(e)).left+r}function _Y(e){const t=la(e),r=mx(e),n=e.ownerDocument.body,s=ds(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ds(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Z_(e);const o=-r.scrollTop;return Ei(n).direction==="rtl"&&(a+=ds(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:o}}function jY(e,t){const r=ys(e),n=la(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const u=GS();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:o,y:c}}function SY(e,t){const r=yc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=ra(e)?Ru(e):tl(1),a=e.clientWidth*i.x,o=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:a,height:o,x:c,y:u}}function cA(e,t,r){let n;if(t==="viewport")n=jY(e,r);else if(t==="document")n=_Y(la(e));else if(Ci(t))n=SY(t,r);else{const s=n$(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Cv(n)}function s$(e,t){const r=nl(e);return r===t||!Ci(r)||od(r)?!1:Ei(r).position==="fixed"||s$(r,t)}function kY(e,t){const r=t.get(e);if(r)return r;let n=zh(e,[],!1).filter(o=>Ci(o)&&Id(o)!=="body"),s=null;const i=Ei(e).position==="fixed";let a=i?nl(e):e;for(;Ci(a)&&!od(a);){const o=Ei(a),c=YS(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Op(a)&&!c&&s$(e,a))?n=n.filter(d=>d!==a):s=o,a=nl(a)}return t.set(e,n),n}function CY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?px(t)?[]:kY(t,this._c):[].concat(r),n],o=a[0],c=a.reduce((u,d)=>{const f=cA(t,d,s);return u.top=ds(f.top,u.top),u.right=el(f.right,u.right),u.bottom=el(f.bottom,u.bottom),u.left=ds(f.left,u.left),u},cA(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function EY(e){const{width:t,height:r}=r$(e);return{width:t,height:r}}function NY(e,t,r){const n=ra(t),s=la(t),i=r==="fixed",a=yc(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=tl(0);if(n||!n&&!i)if((Id(t)!=="body"||Op(s))&&(o=mx(t)),n){const m=yc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=Z_(s));let u=0,d=0;if(s&&!n&&!i){const m=s.getBoundingClientRect();d=m.top+o.scrollTop,u=m.left+o.scrollLeft-Z_(s,m)}const f=a.left+o.scrollLeft-c.x-u,h=a.top+o.scrollTop-c.y-d;return{x:f,y:h,width:a.width,height:a.height}}function Db(e){return Ei(e).position==="static"}function uA(e,t){if(!ra(e)||Ei(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return la(e)===r&&(r=r.ownerDocument.body),r}function i$(e,t){const r=ys(e);if(px(e))return r;if(!ra(e)){let s=nl(e);for(;s&&!od(s);){if(Ci(s)&&!Db(s))return s;s=nl(s)}return r}let n=uA(e,t);for(;n&&gY(n)&&Db(n);)n=uA(n,t);return n&&od(n)&&Db(n)&&!YS(n)?r:n||vY(e)||r}const PY=async function(e){const t=this.getOffsetParent||i$,r=this.getDimensions,n=await r(e.floating);return{reference:NY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function AY(e){return Ei(e).direction==="rtl"}const OY={convertOffsetParentRelativeRectToViewportRelativeRect:bY,getDocumentElement:la,getClippingRect:CY,getOffsetParent:i$,getElementRects:PY,getClientRects:wY,getDimensions:EY,getScale:Ru,isElement:Ci,isRTL:AY};function TY(e,t){let r=null,n;const s=la(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(o||t(),!f||!h)return;const m=Rm(d),p=Rm(s.clientWidth-(u+f)),v=Rm(s.clientHeight-(d+h)),w=Rm(u),y={rootMargin:-m+"px "+-p+"px "+-v+"px "+-w+"px",threshold:ds(0,el(1,c))||1};let x=!0;function _(j){const k=j[0].intersectionRatio;if(k!==c){if(!x)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}x=!1}try{r=new IntersectionObserver(_,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(e)}return a(!0),i}function DY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=XS(e),d=s||i?[...u?zh(u):[],...zh(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&o?TY(u,r):null;let h=-1,m=null;a&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let p,v=c?yc(e):null;c&&w();function w(){const b=yc(e);v&&(b.x!==v.x||b.y!==v.y||b.width!==v.width||b.height!==v.height)&&r(),v=b,p=requestAnimationFrame(w)}return r(),()=>{var b;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const MY=fY,RY=hY,IY=cY,LY=mY,$Y=uY,dA=lY,FY=pY,BY=(e,t,r)=>{const n=new Map,s={platform:OY,...r},i={...s.platform,_c:n};return oY(e,t,{...s,platform:i})};var $g=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ev(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ev(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ev(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function a$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fA(e,t){const r=a$(e);return Math.round(t*r)/r}function Mb(e){const t=g.useRef(e);return $g(()=>{t.current=e}),t}function zY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(n);Ev(h,n)||m(n);const[p,v]=g.useState(null),[w,b]=g.useState(null),y=g.useCallback(C=>{C!==k.current&&(k.current=C,v(C))},[]),x=g.useCallback(C=>{C!==S.current&&(S.current=C,b(C))},[]),_=i||p,j=a||w,k=g.useRef(null),S=g.useRef(null),E=g.useRef(d),N=c!=null,O=Mb(c),P=Mb(s),A=Mb(u),L=g.useCallback(()=>{if(!k.current||!S.current)return;const C={placement:t,strategy:r,middleware:h};P.current&&(C.platform=P.current),BY(k.current,S.current,C).then(D=>{const U={...D,isPositioned:A.current!==!1};I.current&&!Ev(E.current,U)&&(E.current=U,hl.flushSync(()=>{f(U)}))})},[h,t,r,P,A]);$g(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const I=g.useRef(!1);$g(()=>(I.current=!0,()=>{I.current=!1}),[]),$g(()=>{if(_&&(k.current=_),j&&(S.current=j),_&&j){if(O.current)return O.current(_,j,L);L()}},[_,j,L,O,N]);const B=g.useMemo(()=>({reference:k,floating:S,setReference:y,setFloating:x}),[y,x]),z=g.useMemo(()=>({reference:_,floating:j}),[_,j]),T=g.useMemo(()=>{const C={position:r,left:0,top:0};if(!z.floating)return C;const D=fA(z.floating,d.x),U=fA(z.floating,d.y);return o?{...C,transform:"translate("+D+"px, "+U+"px)",...a$(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:U}},[r,o,z.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:L,refs:B,elements:z,floatingStyles:T}),[d,L,B,z,T])}const UY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dA({element:n.current,padding:s}).fn(r):{}:n?dA({element:n,padding:s}).fn(r):{}}}},WY=(e,t)=>({...MY(e),options:[e,t]}),VY=(e,t)=>({...RY(e),options:[e,t]}),HY=(e,t)=>({...FY(e),options:[e,t]}),KY=(e,t)=>({...IY(e),options:[e,t]}),qY=(e,t)=>({...LY(e),options:[e,t]}),YY=(e,t)=>({...$Y(e),options:[e,t]}),GY=(e,t)=>({...UY(e),options:[e,t]});var XY="Arrow",o$=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return l.jsx(Be.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});o$.displayName=XY;var ZY=o$;function QY(e,t=[]){let r=[];function n(i,a){const o=g.createContext(a),c=r.length;r=[...r,a];function u(f){const{scope:h,children:m,...p}=f,v=(h==null?void 0:h[e][c])||o,w=g.useMemo(()=>p,Object.values(p));return l.jsx(v.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||o,p=g.useContext(m);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(a=>g.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,JY(s,...t)]}function JY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function ZS(e){const[t,r]=g.useState(void 0);return yn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;r({width:a,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var QS="Popper",[l$,pl]=QY(QS),[eG,c$]=l$(QS),u$=e=>{const{__scopePopper:t,children:r}=e,[n,s]=g.useState(null);return l.jsx(eG,{scope:t,anchor:n,onAnchorChange:s,children:r})};u$.displayName=QS;var d$="PopperAnchor",f$=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=c$(d$,r),a=g.useRef(null),o=ct(t,a);return g.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:l.jsx(Be.div,{...s,ref:o})});f$.displayName=d$;var JS="PopperContent",[tG,rG]=l$(JS),h$=g.forwardRef((e,t)=>{var fe,We,Q,he,be,Y;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...v}=e,w=c$(JS,r),[b,y]=g.useState(null),x=ct(t,Qe=>y(Qe)),[_,j]=g.useState(null),k=ZS(_),S=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,N=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],A=P.length>0,L={padding:O,boundary:P.filter(sG),altBoundary:A},{refs:I,floatingStyles:B,placement:z,isPositioned:T,middlewareData:C}=zY({strategy:"fixed",placement:N,whileElementsMounted:(...Qe)=>DY(...Qe,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[WY({mainAxis:s+E,alignmentAxis:a}),c&&VY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?HY():void 0,...L}),c&&KY({...L}),qY({...L,apply:({elements:Qe,rects:Le,availableWidth:Je,availableHeight:it})=>{const{width:Z,height:M}=Le.reference,$=Qe.floating.style;$.setProperty("--radix-popper-available-width",`${Je}px`),$.setProperty("--radix-popper-available-height",`${it}px`),$.setProperty("--radix-popper-anchor-width",`${Z}px`),$.setProperty("--radix-popper-anchor-height",`${M}px`)}}),_&&GY({element:_,padding:o}),iG({arrowWidth:S,arrowHeight:E}),h&&YY({strategy:"referenceHidden",...L})]}),[D,U]=g$(z),W=vn(p);yn(()=>{T&&(W==null||W())},[T,W]);const V=(fe=C.arrow)==null?void 0:fe.x,ue=(We=C.arrow)==null?void 0:We.y,me=((Q=C.arrow)==null?void 0:Q.centerOffset)!==0,[Ee,xe]=g.useState();return yn(()=>{b&&xe(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:T?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(he=C.transformOrigin)==null?void 0:he.x,(be=C.transformOrigin)==null?void 0:be.y].join(" "),...((Y=C.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(tG,{scope:r,placedSide:D,onArrowChange:j,arrowX:V,arrowY:ue,shouldHideArrow:me,children:l.jsx(Be.div,{"data-side":D,"data-align":U,...v,ref:x,style:{...v.style,animation:T?void 0:"none"}})})})});h$.displayName=JS;var p$="PopperArrow",nG={top:"bottom",right:"left",bottom:"top",left:"right"},m$=g.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=rG(p$,n),a=nG[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(ZY,{...s,ref:r,style:{...s.style,display:"block"}})})});m$.displayName=p$;function sG(e){return e!==null}var iG=e=>({name:"transformOrigin",options:e,fn(t){var w,b,y;const{placement:r,rects:n,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=g$(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+o/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let p="",v="";return u==="bottom"?(p=a?f:`${h}px`,v=`${-c}px`):u==="top"?(p=a?f:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,v=a?f:`${m}px`):u==="left"&&(p=`${n.floating.width+c}px`,v=a?f:`${m}px`),{data:{x:p,y:v}}}});function g$(e){const[t,r="center"]=e.split("-");return[t,r]}var gx=u$,Tp=f$,vx=h$,yx=m$,[xx,KCe]=Oi("Tooltip",[pl]),bx=pl(),v$="TooltipProvider",aG=700,Q_="tooltip.open",[oG,ek]=xx(v$),y$=e=>{const{__scopeTooltip:t,delayDuration:r=aG,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[a,o]=g.useState(!0),c=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(oG,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:g.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};y$.displayName=v$;var wx="Tooltip",[lG,_x]=xx(wx),x$=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:o}=e,c=ek(wx,e.__scopeTooltip),u=bx(t),[d,f]=g.useState(null),h=Us(),m=g.useRef(0),p=a??c.disableHoverableContent,v=o??c.delayDuration,w=g.useRef(!1),[b=!1,y]=ji({prop:n,defaultProp:s,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(Q_))):c.onClose(),i==null||i(S)}}),x=g.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),_=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,y(!0)},[y]),j=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),k=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,y(!0),m.current=0},v)},[v,y]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(gx,{...u,children:l.jsx(lG,{scope:t,contentId:h,open:b,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayed?k():_()},[c.isOpenDelayed,k,_]),onTriggerLeave:g.useCallback(()=>{p?j():(window.clearTimeout(m.current),m.current=0)},[j,p]),onOpen:_,onClose:j,disableHoverableContent:p,children:r})})};x$.displayName=wx;var J_="TooltipTrigger",b$=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=_x(J_,r),i=ek(J_,r),a=bx(r),o=g.useRef(null),c=ct(t,o,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Tp,{asChild:!0,...a,children:l.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:pe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(e.onBlur,s.onClose),onClick:pe(e.onClick,s.onClose)})})});b$.displayName=J_;var cG="TooltipPortal",[qCe,uG]=xx(cG,{forceMount:void 0}),ld="TooltipContent",w$=g.forwardRef((e,t)=>{const r=uG(ld,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,a=_x(ld,e.__scopeTooltip);return l.jsx(ts,{present:n||a.open,children:a.disableHoverableContent?l.jsx(_$,{side:s,...i,ref:t}):l.jsx(dG,{side:s,...i,ref:t})})}),dG=g.forwardRef((e,t)=>{const r=_x(ld,e.__scopeTooltip),n=ek(ld,e.__scopeTooltip),s=g.useRef(null),i=ct(t,s),[a,o]=g.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=g.useCallback(()=>{o(null),f(!1)},[f]),m=g.useCallback((p,v)=>{const w=p.currentTarget,b={x:p.clientX,y:p.clientY},y=mG(b,w.getBoundingClientRect()),x=gG(b,y),_=vG(v.getBoundingClientRect()),j=xG([...x,..._]);o(j),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const p=w=>m(w,d),v=w=>m(w,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),g.useEffect(()=>{if(a){const p=v=>{const w=v.target,b={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),x=!yG(b,a);y?h():x&&(h(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,a,u,h]),l.jsx(_$,{...e,ref:i})}),[fG,hG]=xx(wx,{isInside:!1}),_$=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...o}=e,c=_x(ld,r),u=bx(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(Q_,d),()=>document.removeEventListener(Q_,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(vx,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(RS,{children:n}),l.jsx(fG,{scope:r,isInside:!0,children:l.jsx(Q7,{id:c.contentId,role:"tooltip",children:s||n})})]})})});w$.displayName=ld;var j$="TooltipArrow",pG=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=bx(r);return hG(j$,r).isInside?null:l.jsx(yx,{...s,...n,ref:t})});pG.displayName=j$;function mG(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gG(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function vG(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function yG(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function xG(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bG(t)}function bG(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],a=r[r.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wG=y$,_G=x$,jG=b$,S$=w$;const k$=wG,hA=_G,pA=jG,e1=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(S$,{ref:n,sideOffset:t,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));e1.displayName=S$.displayName;var jx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sx=typeof window>"u"||"Deno"in globalThis;function ci(){}function SG(e,t){return typeof e=="function"?e(t):e}function kG(e){return typeof e=="number"&&e>=0&&e!==1/0}function CG(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mA(e,t){return typeof e=="function"?e(t):e}function EG(e,t){return typeof e=="function"?e(t):e}function gA(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==tk(a,t.options))return!1}else if(!Wh(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function vA(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Uh(t.options.mutationKey)!==Uh(i))return!1}else if(!Wh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function tk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Uh)(e)}function Uh(e){return JSON.stringify(e,(t,r)=>t1(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Wh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Wh(e[r],t[r])):!1}function C$(e,t){if(e===t)return e;const r=yA(e)&&yA(t);if(r||t1(e)&&t1(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{};let c=0;for(let u=0;u<a;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=C$(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:o}return t}function yA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function t1(e){if(!xA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!xA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function xA(e){return Object.prototype.toString.call(e)==="[object Object]"}function NG(e){return new Promise(t=>{setTimeout(t,e)})}function PG(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?C$(e,t):t}function AG(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function OG(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var rk=Symbol();function E$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ql,No,Hu,HM,TG=(HM=class extends jx{constructor(){super();Ct(this,Ql);Ct(this,No);Ct(this,Hu);st(this,Hu,t=>{if(!Sx&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){re(this,No)||this.setEventListener(re(this,Hu))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,No))==null||t.call(this),st(this,No,void 0))}setEventListener(t){var r;st(this,Hu,t),(r=re(this,No))==null||r.call(this),st(this,No,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){re(this,Ql)!==t&&(st(this,Ql,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof re(this,Ql)=="boolean"?re(this,Ql):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ql=new WeakMap,No=new WeakMap,Hu=new WeakMap,HM),N$=new TG,Ku,Po,qu,KM,DG=(KM=class extends jx{constructor(){super();Ct(this,Ku,!0);Ct(this,Po);Ct(this,qu);st(this,qu,t=>{if(!Sx&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){re(this,Po)||this.setEventListener(re(this,qu))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Po))==null||t.call(this),st(this,Po,void 0))}setEventListener(t){var r;st(this,qu,t),(r=re(this,Po))==null||r.call(this),st(this,Po,t(this.setOnline.bind(this)))}setOnline(t){re(this,Ku)!==t&&(st(this,Ku,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return re(this,Ku)}},Ku=new WeakMap,Po=new WeakMap,qu=new WeakMap,KM),Nv=new DG;function MG(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function RG(e){return Math.min(1e3*2**e,3e4)}function P$(e){return(e??"online")==="online"?Nv.isOnline():!0}var A$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Rb(e){return e instanceof A$}function O$(e){let t=!1,r=0,n=!1,s;const i=MG(),a=v=>{var w;n||(h(new A$(v)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>N$.isFocused()&&(e.networkMode==="always"||Nv.isOnline())&&e.canRun(),d=()=>P$(e.networkMode)&&e.canRun(),f=v=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,v),s==null||s(),i.resolve(v))},h=v=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var w;s=b=>{(n||u())&&v(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),p=()=>{if(n)return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var k;if(n)return;const y=e.retry??(Sx?0:3),x=e.retryDelay??RG,_=typeof x=="function"?x(r,b):x,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!j){h(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),NG(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):p()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),i)}}function IG(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Sn=IG(),Jl,qM,T$=(qM=class{constructor(){Ct(this,Jl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kG(this.gcTime)&&st(this,Jl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sx?1/0:5*60*1e3))}clearGcTimeout(){re(this,Jl)&&(clearTimeout(re(this,Jl)),st(this,Jl,void 0))}},Jl=new WeakMap,qM),Yu,Gu,Ts,on,_p,ec,ui,ma,YM,LG=(YM=class extends T${constructor(t){super();Ct(this,ui);Ct(this,Yu);Ct(this,Gu);Ct(this,Ts);Ct(this,on);Ct(this,_p);Ct(this,ec);st(this,ec,!1),st(this,_p,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,Ts,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,Yu,FG(this.options)),this.state=t.state??re(this,Yu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,on))==null?void 0:t.promise}setOptions(t){this.options={...re(this,_p),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,Ts).remove(this)}setData(t,r){const n=PG(this.state.data,t,this.options);return rn(this,ui,ma).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){rn(this,ui,ma).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=re(this,on))==null?void 0:n.promise;return(s=re(this,on))==null||s.cancel(t),r?r.then(ci).catch(ci):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Yu))}isActive(){return this.observers.some(t=>EG(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!CG(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,on))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,on))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,Ts).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(re(this,on)&&(re(this,ec)?re(this,on).cancel({revert:!0}):re(this,on).cancelRetry()),this.scheduleGc()),re(this,Ts).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rn(this,ui,ma).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(re(this,on))return re(this,on).continueRetry(),re(this,on).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(st(this,ec,!0),n.signal)})},i=()=>{const f=E$(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),st(this,ec,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),st(this,Gu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&rn(this,ui,ma).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,m,p,v;Rb(f)&&f.silent||rn(this,ui,ma).call(this,{type:"error",error:f}),Rb(f)||((m=(h=re(this,Ts).config).onError)==null||m.call(h,f,this),(v=(p=re(this,Ts).config).onSettled)==null||v.call(p,this.state.data,f,this)),this.scheduleGc()};return st(this,on,O$({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,p,v;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){o(w);return}(m=(h=re(this,Ts).config).onSuccess)==null||m.call(h,f,this),(v=(p=re(this,Ts).config).onSettled)==null||v.call(p,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{rn(this,ui,ma).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{rn(this,ui,ma).call(this,{type:"pause"})},onContinue:()=>{rn(this,ui,ma).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),re(this,on).start()}},Yu=new WeakMap,Gu=new WeakMap,Ts=new WeakMap,on=new WeakMap,_p=new WeakMap,ec=new WeakMap,ui=new WeakSet,ma=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$G(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Rb(s)&&s.revert&&re(this,Gu)?{...re(this,Gu),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Sn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),re(this,Ts).notify({query:this,type:"updated",action:t})})},YM);function $G(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FG(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Bi,GM,BG=(GM=class extends jx{constructor(t={}){super();Ct(this,Bi);this.config=t,st(this,Bi,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??tk(s,r);let a=this.get(i);return a||(a=new LG({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){re(this,Bi).has(t.queryHash)||(re(this,Bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=re(this,Bi).get(t.queryHash);r&&(t.destroy(),r===t&&re(this,Bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,Bi).get(t)}getAll(){return[...re(this,Bi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gA(t,n)):r}notify(t){Sn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bi=new WeakMap,GM),zi,bn,tc,Ui,mo,XM,zG=(XM=class extends T${constructor(t){super();Ct(this,Ui);Ct(this,zi);Ct(this,bn);Ct(this,tc);this.mutationId=t.mutationId,st(this,bn,t.mutationCache),st(this,zi,[]),this.state=t.state||UG(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,zi).includes(t)||(re(this,zi).push(t),this.clearGcTimeout(),re(this,bn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,zi,re(this,zi).filter(r=>r!==t)),this.scheduleGc(),re(this,bn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,zi).length||(this.state.status==="pending"?this.scheduleGc():re(this,bn).remove(this))}continue(){var t;return((t=re(this,tc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,o,c,u,d,f,h,m,p,v,w,b,y,x,_,j,k,S;st(this,tc,O$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,N)=>{rn(this,Ui,mo).call(this,{type:"failed",failureCount:E,error:N})},onPause:()=>{rn(this,Ui,mo).call(this,{type:"pause"})},onContinue:()=>{rn(this,Ui,mo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,bn).canRun(this)}));const r=this.state.status==="pending",n=!re(this,tc).canStart();try{if(!r){rn(this,Ui,mo).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=re(this,bn).config).onMutate)==null?void 0:i.call(s,t,this));const N=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));N!==this.state.context&&rn(this,Ui,mo).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const E=await re(this,tc).start();return await((u=(c=re(this,bn).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((m=(h=re(this,bn).config).onSettled)==null?void 0:m.call(h,E,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,E,null,t,this.state.context)),rn(this,Ui,mo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(w=re(this,bn).config).onError)==null?void 0:b.call(w,E,t,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,E,t,this.state.context)),await((j=(_=re(this,bn).config).onSettled)==null?void 0:j.call(_,void 0,E,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,E,t,this.state.context)),E}finally{rn(this,Ui,mo).call(this,{type:"error",error:E})}}finally{re(this,bn).runNext(this)}}},zi=new WeakMap,bn=new WeakMap,tc=new WeakMap,Ui=new WeakSet,mo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Sn.batch(()=>{re(this,zi).forEach(n=>{n.onMutationUpdate(t)}),re(this,bn).notify({mutation:this,type:"updated",action:t})})},XM);function UG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var os,jp,ZM,WG=(ZM=class extends jx{constructor(t={}){super();Ct(this,os);Ct(this,jp);this.config=t,st(this,os,new Map),st(this,jp,Date.now())}build(t,r,n){const s=new zG({mutationCache:this,mutationId:++hm(this,jp)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Im(t),n=re(this,os).get(r)??[];n.push(t),re(this,os).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Im(t);if(re(this,os).has(r)){const s=(n=re(this,os).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?re(this,os).delete(r):re(this,os).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=re(this,os).get(Im(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=re(this,os).get(Im(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...re(this,os).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>vA(r,n))}findAll(t={}){return this.getAll().filter(r=>vA(t,r))}notify(t){Sn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Sn.batch(()=>Promise.all(t.map(r=>r.continue().catch(ci))))}},os=new WeakMap,jp=new WeakMap,ZM);function Im(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function bA(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((p=t.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=E$(t.options,t.fetchOptions),y=async(x,_,j)=>{if(v)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const k={queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};w(k);const S=await b(k),{maxPages:E}=t.options,N=j?OG:AG;return{pages:N(x.pages,S,E),pageParams:N(x.pageParams,_,E)}};if(s&&i.length){const x=s==="backward",_=x?VG:wA,j={pages:i,pageParams:a},k=_(n,j);o=await y(j,k,x)}else{const x=e??i.length;do{const _=c===0?a[0]??n.initialPageParam:wA(n,o);if(c>0&&_==null)break;o=await y(o,_),c++}while(c<x)}return o};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function wA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function VG(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rr,Ao,Oo,Xu,Zu,To,Qu,Ju,QM,HG=(QM=class{constructor(e={}){Ct(this,rr);Ct(this,Ao);Ct(this,Oo);Ct(this,Xu);Ct(this,Zu);Ct(this,To);Ct(this,Qu);Ct(this,Ju);st(this,rr,e.queryCache||new BG),st(this,Ao,e.mutationCache||new WG),st(this,Oo,e.defaultOptions||{}),st(this,Xu,new Map),st(this,Zu,new Map),st(this,To,0)}mount(){hm(this,To)._++,re(this,To)===1&&(st(this,Qu,N$.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,rr).onFocus())})),st(this,Ju,Nv.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,rr).onOnline())})))}unmount(){var e,t;hm(this,To)._--,re(this,To)===0&&((e=re(this,Qu))==null||e.call(this),st(this,Qu,void 0),(t=re(this,Ju))==null||t.call(this),st(this,Ju,void 0))}isFetching(e){return re(this,rr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,Ao).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,rr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=re(this,rr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(mA(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return re(this,rr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=re(this,rr).get(n.queryHash),i=s==null?void 0:s.state.data,a=SG(t,i);if(a!==void 0)return re(this,rr).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Sn.batch(()=>re(this,rr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,rr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=re(this,rr);Sn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=re(this,rr),n={type:"active",...e};return Sn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Sn.batch(()=>re(this,rr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ci).catch(ci)}invalidateQueries(e={},t={}){return Sn.batch(()=>{if(re(this,rr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Sn.batch(()=>re(this,rr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ci)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ci)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=re(this,rr).build(this,t);return r.isStaleByTime(mA(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ci).catch(ci)}fetchInfiniteQuery(e){return e.behavior=bA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ci).catch(ci)}ensureInfiniteQueryData(e){return e.behavior=bA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nv.isOnline()?re(this,Ao).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,rr)}getMutationCache(){return re(this,Ao)}getDefaultOptions(){return re(this,Oo)}setDefaultOptions(e){st(this,Oo,e)}setQueryDefaults(e,t){re(this,Xu).set(Uh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,Xu).values()];let r={};return t.forEach(n=>{Wh(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){re(this,Zu).set(Uh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,Zu).values()];let r={};return t.forEach(n=>{Wh(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,Oo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===rk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,Oo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,rr).clear(),re(this,Ao).clear()}},rr=new WeakMap,Ao=new WeakMap,Oo=new WeakMap,Xu=new WeakMap,Zu=new WeakMap,To=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,QM),KG=g.createContext(void 0),qG=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(KG.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vh.apply(this,arguments)}var Ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ro||(Ro={}));const _A="popstate";function YG(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return r1("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:M$(s)}return XG(t,r,null,e)}function Sr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GG(){return Math.random().toString(36).substr(2,8)}function jA(e,t){return{usr:e.state,key:e.key,idx:t}}function r1(e,t,r,n){return r===void 0&&(r=null),Vh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ld(t):t,{state:r,key:t&&t.key||n||GG()})}function M$(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ld(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function XG(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ro.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Vh({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Ro.Pop;let w=d(),b=w==null?null:w-u;u=w,c&&c({action:o,location:v.location,delta:b})}function h(w,b){o=Ro.Push;let y=r1(v.location,w,b);u=d()+1;let x=jA(y,u),_=v.createHref(y);try{a.pushState(x,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:o,location:v.location,delta:1})}function m(w,b){o=Ro.Replace;let y=r1(v.location,w,b);u=d();let x=jA(y,u),_=v.createHref(y);a.replaceState(x,"",_),i&&c&&c({action:o,location:v.location,delta:0})}function p(w){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:M$(w);return y=y.replace(/ $/,"%20"),Sr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let v={get action(){return o},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(_A,f),c=w,()=>{s.removeEventListener(_A,f),c=null}},createHref(w){return t(s,w)},createURL:p,encodeLocation(w){let b=p(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(w){return a.go(w)}};return v}var SA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(SA||(SA={}));function ZG(e,t,r){return r===void 0&&(r="/"),QG(e,t,r,!1)}function QG(e,t,r,n){let s=typeof t=="string"?Ld(t):t,i=L$(s.pathname||"/",r);if(i==null)return null;let a=R$(e);JG(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=uX(i);o=lX(a[c],u,n)}return o}function R$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Sr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=sc([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Sr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),R$(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:aX(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of I$(i.path))s(i,a,c)}),t}function I$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=I$(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function JG(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oX(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eX=/^:[\w-]+$/,tX=3,rX=2,nX=1,sX=10,iX=-2,kA=e=>e==="*";function aX(e,t){let r=e.split("/"),n=r.length;return r.some(kA)&&(n+=iX),t&&(n+=rX),r.filter(s=>!kA(s)).reduce((s,i)=>s+(eX.test(i)?tX:i===""?nX:sX),n)}function oX(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function lX(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=CA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=CA({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:sc([i,f.pathname]),pathnameBase:pX(sc([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=sc([i,f.pathnameBase]))}return a}function CA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cX(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=o[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function cX(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),D$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function uX(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return D$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function L$(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dX(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ld(e):e;return{pathname:r?r.startsWith("/")?r:fX(r,t):t,search:mX(n),hash:gX(s)}}function fX(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ib(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hX(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $$(e,t){let r=hX(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function F$(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ld(e):(s=Vh({},e),Sr(!s.pathname||!s.pathname.includes("?"),Ib("?","pathname","search",s)),Sr(!s.pathname||!s.pathname.includes("#"),Ib("#","pathname","hash",s)),Sr(!s.search||!s.search.includes("#"),Ib("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=dX(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const sc=e=>e.join("/").replace(/\/\/+/g,"/"),pX=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mX=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gX=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const B$=["post","put","patch","delete"];new Set(B$);const yX=["get",...B$];new Set(yX);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}const nk=g.createContext(null),xX=g.createContext(null),Dp=g.createContext(null),kx=g.createContext(null),Rc=g.createContext({outlet:null,matches:[],isDataRoute:!1}),z$=g.createContext(null);function Mp(){return g.useContext(kx)!=null}function $d(){return Mp()||Sr(!1),g.useContext(kx).location}function U$(e){g.useContext(Dp).static||g.useLayoutEffect(e)}function Rp(){let{isDataRoute:e}=g.useContext(Rc);return e?TX():bX()}function bX(){Mp()||Sr(!1);let e=g.useContext(nk),{basename:t,future:r,navigator:n}=g.useContext(Dp),{matches:s}=g.useContext(Rc),{pathname:i}=$d(),a=JSON.stringify($$(s,r.v7_relativeSplatPath)),o=g.useRef(!1);return U$(()=>{o.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=F$(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:sc([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}function wX(e,t){return _X(e,t)}function _X(e,t,r,n){Mp()||Sr(!1);let{navigator:s}=g.useContext(Dp),{matches:i}=g.useContext(Rc),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=$d(),d;if(t){var f;let w=typeof t=="string"?Ld(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Sr(!1),d=w}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=ZG(e,{pathname:m}),v=EX(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:sc([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:sc([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&v?g.createElement(kx.Provider,{value:{location:Hh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ro.Pop}},v):v}function jX(){let e=OX(),t=vX(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,null)}const SX=g.createElement(jX,null);class kX extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Rc.Provider,{value:this.props.routeContext},g.createElement(z$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CX(e){let{routeContext:t,match:r,children:n}=e,s=g.useContext(nk);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Rc.Provider,{value:t},n)}function EX(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Sr(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,p=!1,v=null,w=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||SX,c&&(u<0&&h===0?(p=!0,w=null):u===h&&(p=!0,w=f.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,h+1)),y=()=>{let x;return m?x=v:p?x=w:f.route.Component?x=g.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,g.createElement(CX,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(kX,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var W$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W$||{}),Pv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pv||{});function NX(e){let t=g.useContext(nk);return t||Sr(!1),t}function PX(e){let t=g.useContext(xX);return t||Sr(!1),t}function AX(e){let t=g.useContext(Rc);return t||Sr(!1),t}function V$(e){let t=AX(),r=t.matches[t.matches.length-1];return r.route.id||Sr(!1),r.route.id}function OX(){var e;let t=g.useContext(z$),r=PX(Pv.UseRouteError),n=V$(Pv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function TX(){let{router:e}=NX(W$.UseNavigateStable),t=V$(Pv.UseNavigateStable),r=g.useRef(!1);return U$(()=>{r.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hh({fromRouteId:t},i)))},[e,t])}function DX(e){let{to:t,replace:r,state:n,relative:s}=e;Mp()||Sr(!1);let{future:i,static:a}=g.useContext(Dp),{matches:o}=g.useContext(Rc),{pathname:c}=$d(),u=Rp(),d=F$(t,$$(o,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Gr(e){Sr(!1)}function MX(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ro.Pop,navigator:i,static:a=!1,future:o}=e;Mp()&&Sr(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:a,future:Hh({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof n=="string"&&(n=Ld(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,v=g.useMemo(()=>{let w=L$(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:m,key:p},navigationType:s}},[c,d,f,h,m,p,s]);return v==null?null:g.createElement(Dp.Provider,{value:u},g.createElement(kx.Provider,{children:r,value:v}))}function RX(e){let{children:t,location:r}=e;return wX(n1(t),r)}new Promise(()=>{});function n1(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,s)=>{if(!g.isValidElement(n))return;let i=[...t,s];if(n.type===g.Fragment){r.push.apply(r,n1(n.props.children,i));return}n.type!==Gr&&Sr(!1),!n.props.index||!n.props.children||Sr(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=n1(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const IX="6";try{window.__reactRouterVersion=IX}catch{}const LX="startTransition",EA=cR[LX];function $X(e){let{basename:t,children:r,future:n,window:s}=e,i=g.useRef();i.current==null&&(i.current=YG({window:s,v5Compat:!0}));let a=i.current,[o,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&EA?EA(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>a.listen(d),[a,d]),g.createElement(MX,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var NA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(NA||(NA={}));var PA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(PA||(PA={}));const FX="modulepreload",BX=function(e){return"/"+e},AA={},Ip=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=BX(c),c in AA)return;AA[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":FX,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},zX=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ip(async()=>{const{default:n}=await Promise.resolve().then(()=>Fd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class sk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class UX extends sk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class OA extends sk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class TA extends sk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var s1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(s1||(s1={}));var WX=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class VX{constructor(t,{headers:r={},customFetch:n,region:s=s1.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=zX(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return WX(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(v=>{throw new UX(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new OA(f);if(!f.ok)throw new TA(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof TA||s instanceof OA?s.context:void 0}}})}}var Vn={},ik={},Cx={},Lp={},Ex={},Nx={},HX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cd=HX();const KX=cd.fetch,H$=cd.fetch.bind(cd),K$=cd.Headers,qX=cd.Request,YX=cd.Response,Fd=Object.freeze(Object.defineProperty({__proto__:null,Headers:K$,Request:qX,Response:YX,default:H$,fetch:KX},Symbol.toStringTag,{value:"Module"})),GX=ZV(Fd);var Px={};Object.defineProperty(Px,"__esModule",{value:!0});let XX=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Px.default=XX;var q$=Hs&&Hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nx,"__esModule",{value:!0});const ZX=q$(GX),QX=q$(Px);let JX=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ZX.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&v===""?(h=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new QX.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Nx.default=JX;var eZ=Hs&&Hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ex,"__esModule",{value:!0});const tZ=eZ(Nx);let rZ=class extends tZ.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ex.default=rZ;var nZ=Hs&&Hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lp,"__esModule",{value:!0});const sZ=nZ(Ex);let iZ=class extends sZ.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Lp.default=iZ;var aZ=Hs&&Hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cx,"__esModule",{value:!0});const pf=aZ(Lp);let oZ=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new pf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new pf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new pf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new pf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new pf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Cx.default=oZ;var Ax={},Ox={};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.version=void 0;Ox.version="0.0.0-automated";Object.defineProperty(Ax,"__esModule",{value:!0});Ax.DEFAULT_HEADERS=void 0;const lZ=Ox;Ax.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${lZ.version}`};var Y$=Hs&&Hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ik,"__esModule",{value:!0});const cZ=Y$(Cx),uZ=Y$(Lp),dZ=Ax;let fZ=class G${constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},dZ.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new cZ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new G$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new uZ.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ik.default=fZ;var Bd=Hs&&Hs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const X$=Bd(ik);Vn.PostgrestClient=X$.default;const Z$=Bd(Cx);Vn.PostgrestQueryBuilder=Z$.default;const Q$=Bd(Lp);Vn.PostgrestFilterBuilder=Q$.default;const J$=Bd(Ex);Vn.PostgrestTransformBuilder=J$.default;const e4=Bd(Nx);Vn.PostgrestBuilder=e4.default;const t4=Bd(Px);Vn.PostgrestError=t4.default;var hZ=Vn.default={PostgrestClient:X$.default,PostgrestQueryBuilder:Z$.default,PostgrestFilterBuilder:Q$.default,PostgrestTransformBuilder:J$.default,PostgrestBuilder:e4.default,PostgrestError:t4.default};const{PostgrestClient:pZ,PostgrestQueryBuilder:JCe,PostgrestFilterBuilder:eEe,PostgrestTransformBuilder:tEe,PostgrestBuilder:rEe,PostgrestError:nEe}=hZ;function mZ(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const gZ=mZ(),vZ="2.11.15",yZ=`realtime-js/${vZ}`,xZ="1.0.0",r4=1e4,bZ=1e3;var oh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oh||(oh={}));var an;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(an||(an={}));var fi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fi||(fi={}));var i1;(function(e){e.websocket="websocket"})(i1||(i1={}));var Bl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bl||(Bl={}));class wZ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class n4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ft||(Ft={}));const DA=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=_Z(a,e,t,s),i),{})},_Z=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?s4(i,a):a1(a)},s4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return CZ(t,r)}switch(e){case Ft.bool:return jZ(t);case Ft.float4:case Ft.float8:case Ft.int2:case Ft.int4:case Ft.int8:case Ft.numeric:case Ft.oid:return SZ(t);case Ft.json:case Ft.jsonb:return kZ(t);case Ft.timestamp:return EZ(t);case Ft.abstime:case Ft.date:case Ft.daterange:case Ft.int4range:case Ft.int8range:case Ft.money:case Ft.reltime:case Ft.text:case Ft.time:case Ft.timestamptz:case Ft.timetz:case Ft.tsrange:case Ft.tstzrange:return a1(t);default:return a1(t)}},a1=e=>e,jZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},SZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},CZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>s4(t,o))}return e},EZ=e=>typeof e=="string"?e.replace(" ","T"):e,i4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Lb{constructor(t,r,n={},s=r4){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var MA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(MA||(MA={}));class lh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lh.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=lh.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lh.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),v=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(o[u]=p),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var RA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(RA||(RA={}));var IA;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(IA||(IA={}));var wa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wa||(wa={}));class ak{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lb(this,fi.join,this.params,this.timeout),this.rejoinTimer=new n4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=an.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fi.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new lh(this),this.broadcastEndpointURL=i4(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==an.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(wa.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(wa.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(wa.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let v=0;v<m;v++){const w=h[v],{filter:{event:b,schema:y,table:x,filter:_}}=w,j=d&&d[v];if(j&&j.event===b&&j.schema===y&&j.table===x&&j.filter===_)p.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=an.errored,t==null||t(wa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(wa.SUBSCRIBED);return}}).receive("error",d=>{this.state=an.errored,t==null||t(wa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=an.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Lb(this,fi.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Lb(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=fi;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,v,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,v,w,b,y,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:v,table:w,commit_timestamp:b,type:y,errors:x}=p;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:b,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ak.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fi.close,{},t)}_onError(t){this._on(fi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=DA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=DA(t.columns,t.old_record)),r}}const LA=()=>{},NZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PZ{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=r4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=LA,this.ref=0,this.logger=LA,this.conn=null,this.sendBuffer=[],this.serializer=new wZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ip(async()=>{const{default:c}=await Promise.resolve().then(()=>Fd);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${i1.websocket}`,this.httpEndpoint=i4(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new n4(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=gZ),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xZ}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oh.connecting:return Bl.Connecting;case oh.open:return Bl.Open;case oh.closing:return Bl.Closing;default:return Bl.Closed}}isConnected(){return this.connectionState()===Bl.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ak(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:yZ};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(fi.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(bZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(fi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([NZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ok extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AZ extends ok{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class o1 extends ok{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var OZ=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const a4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ip(async()=>{const{default:n}=await Promise.resolve().then(()=>Fd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},TZ=()=>OZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ip(()=>Promise.resolve().then(()=>Fd),void 0)).Response:Response}),l1=e=>{if(Array.isArray(e))return e.map(r=>l1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=l1(n)}),t};var Ic=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const $b=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DZ=(e,t,r)=>Ic(void 0,void 0,void 0,function*(){const n=yield TZ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new AZ($b(s),e.status||500))}).catch(s=>{t(new o1($b(s),s))}):t(new o1($b(e),e))}),MZ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function $p(e,t,r,n,s,i){return Ic(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,MZ(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>DZ(c,o,n))})})}function Av(e,t,r,n){return Ic(this,void 0,void 0,function*(){return $p(e,"GET",t,r,n)})}function bo(e,t,r,n,s){return Ic(this,void 0,void 0,function*(){return $p(e,"POST",t,n,s,r)})}function RZ(e,t,r,n,s){return Ic(this,void 0,void 0,function*(){return $p(e,"PUT",t,n,s,r)})}function IZ(e,t,r,n){return Ic(this,void 0,void 0,function*(){return $p(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function o4(e,t,r,n,s){return Ic(this,void 0,void 0,function*(){return $p(e,"DELETE",t,n,s,r)})}var In=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const LZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$A={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $Z{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=a4(s)}uploadOrUpdate(t,r,n,s){return In(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},$A),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Lr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return In(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:$A.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Lr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return In(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield bo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new ok("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}update(t,r,n){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return In(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}copy(t,r,n){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield bo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return In(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield bo(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return In(this,void 0,void 0,function*(){try{const s=yield bo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}download(t,r){return In(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Av(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Lr(o))return{data:null,error:o};throw o}})}info(t){return In(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Av(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:l1(n),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}exists(t){return In(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield IZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Lr(n)&&n instanceof o1){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return In(this,void 0,void 0,function*(){try{return{data:yield o4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}list(t,r,n){return In(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LZ),r),{prefix:t||""});return{data:yield bo(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Lr(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const FZ="2.7.1",BZ={"X-Client-Info":`storage-js/${FZ}`};var Gc=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class zZ{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},BZ),r),this.fetch=a4(n)}listBuckets(){return Gc(this,void 0,void 0,function*(){try{return{data:yield Av(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Lr(t))return{data:null,error:t};throw t}})}getBucket(t){return Gc(this,void 0,void 0,function*(){try{return{data:yield Av(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Gc(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Gc(this,void 0,void 0,function*(){try{return{data:yield RZ(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Lr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Gc(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Gc(this,void 0,void 0,function*(){try{return{data:yield o4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Lr(r))return{data:null,error:r};throw r}})}}class UZ extends zZ{constructor(t,r={},n){super(t,r,n)}from(t){return new $Z(this.url,this.headers,t,this.fetch)}}const WZ="2.50.3";let $f="";typeof Deno<"u"?$f="deno":typeof document<"u"?$f="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$f="react-native":$f="node";const VZ={"X-Client-Info":`supabase-js-${$f}/${WZ}`},HZ={headers:VZ},KZ={schema:"public"},qZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YZ={};var GZ=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const XZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=H$:t=fetch,(...r)=>t(...r)},ZZ=()=>typeof Headers>"u"?K$:Headers,QZ=(e,t,r)=>{const n=XZ(r),s=ZZ();return(i,a)=>GZ(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var JZ=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function eQ(e){return e.endsWith("/")?e:e+"/"}function tQ(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>JZ(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const l4="2.70.0",lu=30*1e3,c1=3,Fb=c1*lu,rQ="http://localhost:9999",nQ="supabase.auth.token",sQ={"X-Client-Info":`gotrue-js/${l4}`},u1="X-Supabase-Api-Version",c4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aQ=6e5;class lk extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class oQ extends lk{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function lQ(e){return tt(e)&&e.name==="AuthApiError"}class u4 extends lk{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ml extends lk{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class go extends ml{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cQ(e){return tt(e)&&e.name==="AuthSessionMissingError"}class Lm extends ml{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $m extends ml{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fm extends ml{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uQ(e){return tt(e)&&e.name==="AuthImplicitGrantRedirectError"}class FA extends ml{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class d1 extends ml{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bb(e){return tt(e)&&e.name==="AuthRetryableFetchError"}class BA extends ml{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ch extends ml{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ov="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zA=` 	
\r=`.split(""),dQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zA.length;t+=1)e[zA[t].charCodeAt(0)]=-2;for(let t=0;t<Ov.length;t+=1)e[Ov[t].charCodeAt(0)]=t;return e})();function UA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ov[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ov[n]),t.queuedBits-=6}}function d4(e,t,r){const n=dQ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function WA(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{pQ(a,n,r)};for(let a=0;a<e.length;a+=1)d4(e.charCodeAt(a),s,i);return t.join("")}function fQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hQ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}fQ(n,t)}}function pQ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function mQ(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)d4(e.charCodeAt(s),r,n);return new Uint8Array(t)}function gQ(e){const t=[];return hQ(e,r=>t.push(r)),new Uint8Array(t)}function vQ(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>UA(s,r,n)),UA(null,r,n),t.join("")}function yQ(e){return Math.round(Date.now()/1e3)+e}function xQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ai=()=>typeof window<"u"&&typeof document<"u",Cl={tested:!1,writable:!1},uh=()=>{if(!ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cl.tested)return Cl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cl.tested=!0,Cl.writable=!0}catch{Cl.tested=!0,Cl.writable=!1}return Cl.writable};function bQ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const f4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ip(async()=>{const{default:n}=await Promise.resolve().then(()=>Fd);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},wQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",h4=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bm=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zm=async(e,t)=>{await e.removeItem(t)};class Tx{constructor(){this.promise=new Tx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Tx.promiseConstructor=Promise;function zb(e){const t=e.split(".");if(t.length!==3)throw new ch("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!iQ.test(t[n]))throw new ch("JWT not in base64url format");return{header:JSON.parse(WA(t[0])),payload:JSON.parse(WA(t[1])),signature:mQ(t[2]),raw:{header:t[0],payload:t[1]}}}async function _Q(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jQ(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function SQ(e){return("0"+e.toString(16)).substr(-2)}function kQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,SQ).join("")}async function CQ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function EQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await CQ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xc(e,t,r=!1){const n=kQ();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await h4(e,`${t}-code-verifier`,s);const i=await EQ(n);return[i,n===i?"plain":"s256"]}const NQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PQ(e){const t=e.headers.get(u1);if(!t||!t.match(NQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function OQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zc(e){if(!TQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var DQ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Dl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MQ=[502,503,504];async function VA(e){var t;if(!wQ(e))throw new d1(Dl(e),0);if(MQ.includes(e.status))throw new d1(Dl(e),e.status);let r;try{r=await e.json()}catch(i){throw new u4(Dl(i),i)}let n;const s=PQ(e);if(s&&s.getTime()>=c4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new BA(Dl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new go}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new BA(Dl(r),e.status,r.weak_password.reasons);throw new oQ(Dl(r),e.status||500,n)}const RQ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function lt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[u1]||(i[u1]=c4["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await IQ(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function IQ(e,t,r,n,s,i){const a=RQ(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new d1(Dl(c),0)}if(o.ok||await VA(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await VA(c)}}function ga(e){var t;let r=null;BQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yQ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function HA(e){const t=ga(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function So(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LQ(e){return{data:e,error:null}}function $Q(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=DQ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function FQ(e){return e}function BQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ub=["global","local","others"];var zQ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class UQ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=f4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ub[0]){if(Ub.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ub.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:So})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=zQ(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$Q,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:So})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:FQ});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(tt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Zc(t);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:So})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zc(t);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:So})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zc(t);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:So})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zc(t.userId);try{const{data:r,error:n}=await lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zc(t.userId),Zc(t.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}}const WQ={getItem:e=>uh()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{uh()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{uh()&&globalThis.localStorage.removeItem(e)}};function KA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function VQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qc={debug:!!(globalThis&&uh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class p4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HQ extends p4{}async function KQ(e,t,r){Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}VQ();const qQ={url:rQ,storageKey:nQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qA(e,t,r){return await r()}class Kh{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kh.nextInstanceID,Kh.nextInstanceID+=1,this.instanceID>0&&ai()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qQ),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new UQ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=f4(s.fetch),this.lock=s.lock||qA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ai()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=KQ:this.lock=qA,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:uh()?this.storage=WQ:(this.memoryStorage={},this.storage=KA(this.memoryStorage)):(this.memoryStorage={},this.storage=KA(this.memoryStorage)),ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${l4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=bQ(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ai()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uQ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return tt(r)?{error:r}:{error:new u4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ga}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Xc(this.storage,this.storageKey)),i=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:ga})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ga})}else throw new $m("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:HA})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:HA})}else throw new $m("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,c,u,d,f,h,m;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:w,wallet:b,statement:y,options:x}=t;let _;if(ai())if(typeof b=="object")_=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:w,error:b}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:vQ(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ga});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Lm}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(tt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Bm(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ga});if(await zm(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Lm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(tt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ga}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Lm}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Xc(this.storage,this.storageKey));const{error:f}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $m("You must provide either an email or phone number.")}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ga});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(tt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Xc(this.storage,this.storageKey)),await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:LQ})}catch(i){if(tt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new go;const{error:s}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new $m("You must provide either an email or phone number and a type")}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Fb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:So}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new go}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:So})})}catch(r){if(tt(r))return cQ(r)&&(await this._removeSession(),await zm(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new go;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Xc(this.storage,this.storageKey));const{data:u,error:d}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:So});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new go;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=zb(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(tt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new go;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ai())throw new Fm("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fm(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new FA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new FA("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!a||!u)throw new Fm("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=lu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(tt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bm(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(lQ(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await zm(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=xQ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Xc(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(tt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ai()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(tt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jQ(async s=>(s>0&&await _Q(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ga})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Bb(i)&&Date.now()+a-n<lu})}catch(n){if(this._debug(r,"error",n),tt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ai()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bm(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Fb;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Fb}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Bb(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new go;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Tx;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new go;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),tt(i)){const a={session:null,error:i};return Bb(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await h4(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await zm(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ai()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/lu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lu}ms, refresh threshold is ${c1} ticks`),s<=c1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof p4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ai()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Xc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=zb(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+aQ>Date.now()))return n;const{data:s,error:i}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ch("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new ch("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=zb(n);if(AQ(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const u=OQ(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,gQ(`${o}.${c}`)))throw new ch("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}}Kh.nextInstanceID=0;const YQ=Kh;class GQ extends YQ{constructor(t){super(t)}}var XQ=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class ZQ{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=eQ(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:KZ,realtime:YZ,auth:Object.assign(Object.assign({},qZ),{storageKey:u}),global:HZ},f=tQ(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=QZ(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new pZ(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new VX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new UZ(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return XQ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new PZ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QQ=(e,t,r)=>new ZQ(e,t,r),JQ="http://localhost:8000",eJ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE",oe=QQ(JQ,eJ,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:typeof window<"u"?localStorage:void 0}}),m4=g.createContext(void 0),eo=()=>{const e=g.useContext(m4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},tJ=({children:e})=>{const[t,r]=g.useState(null),[n,s]=g.useState(null),[i,a]=g.useState(null),[o,c]=g.useState(null),[u,d]=g.useState(!0),[f,h]=g.useState(null),[m,p]=g.useState(!1),{toast:v}=Cr(),w=g.useRef(!1),b=g.useRef(null),y=g.useRef(!0),x=async A=>{try{console.log("Fetching profile for user:",A);const L=oe.from("profiles").select("*").eq("id",A).single(),I=new Promise((U,W)=>{setTimeout(()=>W(new Error("Profile fetch timeout")),1e4)}),{data:B,error:z}=await Promise.race([L,I]);if(z)return console.error("Error fetching profile:",z),h("Failed to load user profile"),!1;if(!y.current)return!1;console.log("Profile data:",B),a(B);const T=oe.from("user_roles").select("role").eq("user_id",A).single(),{data:C,error:D}=await Promise.race([T,new Promise((U,W)=>setTimeout(()=>W(new Error("Role fetch timeout")),1e4))]);return D?(console.error("Error fetching role:",D),y.current&&c("viewer"),!0):(y.current&&(console.log("Role data:",C),c(C.role)),!0)}catch(L){return console.error("Error in fetchUserProfile:",L),y.current&&h("Failed to load user data"),!1}},_=async A=>{let I=0,B=null;for(;I<3;)try{const z=5e3+I*5e3,{data:T,error:C}=await Promise.race([oe.from("profiles").select("status").eq("id",A.id).single(),new Promise((D,U)=>setTimeout(()=>U(new Error("Status check timeout")),z))]);if(C)throw C;if(!(T!=null&&T.status))throw new Error("Inactive or missing status");return!0}catch(z){B=z,I++,I<3&&console.warn(`Status check failed (attempt ${I}):`,z)}return y.current&&(await oe.auth.signOut(),v({title:"Account Pending Approval or Status Check Failed",description:(B==null?void 0:B.message)||"Your account is pending admin approval or could not be verified. Please contact your administrator.",variant:"destructive"})),!1},j=async(A,L)=>{if(w.current){console.log("Auth state change ignored - already initializing");return}if(m){console.log("Auth state change ignored - signing up");return}console.log("Auth state change:",A,L);try{if(L!=null&&L.user){if(!await _(L.user)||!y.current){y.current&&(s(null),r(null),a(null),c(null),h("Account verification failed"));return}y.current&&(s(L),r(L.user),h(null)),!await x(L.user.id)&&y.current&&h("Failed to load user profile")}else y.current&&(s(null),r(null),a(null),c(null),h(null))}catch(I){console.error("Error in auth state change handler:",I),y.current&&h("Authentication error occurred")}finally{y.current&&d(!1)}};g.useEffect(()=>{let A=null;const L=async()=>{if(!w.current){w.current=!0;try{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{y.current&&u&&(console.error("Auth initialization timeout"),h("Authentication timeout - please refresh the page"),d(!1))},15e3),console.log("Initializing auth...");const{data:{session:B},error:z}=await Promise.race([oe.auth.getSession(),new Promise((T,C)=>setTimeout(()=>C(new Error("Session fetch timeout")),1e4))]);if(z){console.error("Error getting initial session:",z),y.current&&(h("Failed to restore session"),d(!1));return}if(console.log("Initial session:",B),B!=null&&B.user&&y.current){if(!await _(B.user)||!y.current){y.current&&(s(null),r(null),a(null),c(null),d(!1));return}y.current&&(s(B),r(B.user),h(null)),!await x(B.user.id)&&y.current&&h("Failed to load user profile")}else y.current&&(s(null),r(null),a(null),c(null));y.current&&d(!1),b.current&&(clearTimeout(b.current),b.current=null)}catch(B){console.error("Auth initialization error:",B),y.current&&(h("Failed to initialize authentication"),d(!1))}finally{w.current=!1}}},I=()=>{const{data:{subscription:B}}=oe.auth.onAuthStateChange(j);A=B};return L().then(()=>{y.current&&I()}),()=>{y.current=!1,A&&A.unsubscribe(),b.current&&clearTimeout(b.current)}},[]);const P={user:t,session:n,profile:i,userRole:o,loading:u,error:f,isSigningUp:m,signIn:async(A,L)=>{try{console.log("Attempting sign in with:",A),h(null);const{error:I,data:B}=await oe.auth.signInWithPassword({email:A,password:L});if(console.log("Sign in response:",{error:I,data:B}),I)return console.error("Sign in error:",I),v({title:"Sign In Failed",description:I.message,variant:"destructive"}),{error:I};if(B.user){const{data:z,error:T}=await oe.from("profiles").select("status").eq("id",B.user.id).single();if(T)return console.error("Error fetching user status:",T),await oe.auth.signOut(),{error:new Error("Unable to verify your account status. Please try again later.")};if(z.status===!1)return await oe.auth.signOut(),{error:new Error("Your account is pending admin approval. Please contact your administrator.")}}return{error:null}}catch(I){return console.error("Sign in error:",I),await oe.auth.signOut(),{error:I instanceof Error?I:new Error("An unexpected error occurred during sign in")}}},signUp:async(A,L,I,B)=>{try{h(null),p(!0);const{data:{session:z},error:T}=await oe.auth.getSession(),D=await fetch("http://localhost:8000/functions/v1/admin-create-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({email:A,password:L,fullName:B||I,role:"viewer",status:!1})}),U=await D.json();if(!D.ok)throw new Error(U.error||"Failed to create account");return{error:null,success:!0}}catch(z){return console.error("Sign up error:",z),{error:z instanceof Error?z:new Error("An unexpected error occurred during sign up"),success:!1}}finally{p(!1)}},signOut:async()=>{try{await oe.auth.signOut(),v({title:"Signed Out",description:"You have been successfully signed out."})}catch(A){console.error("Sign out error:",A)}},updatePassword:async(A,L)=>{try{h(null);const{data:{session:I},error:B}=await oe.auth.getSession();if(B||!I)return{error:new Error("No active session. Please log in again.")};if(L.length<6)return{error:new Error("New password must be at least 6 characters long")};const T=await fetch("http://localhost:8000/functions/v1/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I.access_token}`,apikey:""},body:JSON.stringify({currentPassword:A,newPassword:L})}),C=await T.json();if(!T.ok)throw new Error(C.error||"Failed to update password");try{const{data:D,error:U}=await oe.auth.signInWithPassword({email:(t==null?void 0:t.email)||"",password:L});U?(console.warn("Password updated but session refresh failed:",U),v({title:"Success",description:"Password updated successfully. Please sign in again if needed."})):(D.session&&(s(D.session),r(D.user)),v({title:"Success",description:"Your password has been updated successfully."}))}catch(D){console.warn("Session refresh after password change failed:",D),v({title:"Success",description:"Password updated successfully. Please sign in again if needed."})}return{error:null}}catch(I){return console.error("Error updating password:",I),{error:I instanceof Error?I:new Error("Failed to update password")}}},hasRole:A=>{if(!o)return!1;const L={super_admin:3,engineer:2,viewer:1};return L[o]>=L[A]}};return l.jsx(m4.Provider,{value:P,children:e})},Um={status:["Active","Ready","Inactive","Maintenance","Decommissioned","Retired"],deviceTypes:["Server","Storage","Network"],allocationTypes:["IAAS","PAAS","SAAS","Load Balancer","Database"],environmentTypes:["Production","Testing","Pre-Production","Development"],racks:Array.from({length:31},(e,t)=>`RACK-${String(t+1).padStart(2,"0")}`),units:Array.from({length:42},(e,t)=>`U${t+1}`),brands:["Dell","HPE","Cisco","Juniper","NetApp","Huawei","Inspur","Kaytus","ZTE","Meta Brain"],models:["PowerEdge R740","PowerEdge R750","PowerEdge R750xd","PowerVault ME4","ProLiant DL380","ProLiant DL360","Apollo 4510","ASA 5525-X","Nexus 93180YC-EX","MX204","AFF A400","Other"],osTypes:["Ubuntu 22.04 LTS","Ubuntu 20.04 LTS","RHEL 8","CentOS 7","Oracle Linux 8","Windows Server 2022","Windows Server 2019","Storage OS 2.1","Cisco ASA 9.16","NX-OS 9.3","JunOS 21.2","ONTAP 9.10","Other"],sites:["DC-East","DC-West","DC-North","DC-South","DC-Central","DC1","DC2","DC3","DC4","DC5"],buildings:["Building-A","Building-B","Building-C","Building-D","Building-E","Other"],floors:["1","2","3","4","5","B1","B2","Ground","Mezzanine"],rooms:["MDF","101","102","103","104","105","106","107","108","109","110","201","202","203","204","205","206","207","208","209","210","301","302","303","304","305","306","307","308","309","310","401","402","403","404","405","406","407","408","409","410","Server Room A","Server Room B","Network Room","Storage Room","Other"]},g4=g.createContext(void 0),rJ=({children:e})=>{const[t,r]=g.useState(Um),[n,s]=g.useState(!0),[i,a]=g.useState(null),[o,c]=g.useState([]),u={status:"server_status",device_type:"device_type",allocation:"allocation_type",environment:"environment_type",brand:"brand_type",model:"model_type",operating_system:"os_type",dc_site:"site_type",dc_building:"building_type",dc_floor:"floor_type",dc_room:"room_type",rack:"rack_type",unit:"unit_type"},d=y=>{const x=Object.keys(u).find(j=>y.toLowerCase().includes(j));return x?u[x]:o.find(j=>j.key===y&&j.property_type==="enum")?y:null},f=g.useCallback(async y=>{try{const x="http://localhost:8000/functions/v1/get-enums";console.log("Fetching enums from:",x);const _=await fetch(x,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`,apikey:""}});if(!_.ok){const S=await _.text();throw console.error("Error response:",{status:_.status,statusText:_.statusText,errorText:S}),new Error(`HTTP error! status: ${_.status}`)}const j=await _.json();if(!j)throw new Error("No data returned from get-enums");return console.log("Fetched enums:",j),{status:j.status||[],deviceTypes:j.deviceTypes||[],allocationTypes:j.allocationTypes||[],environmentTypes:j.environmentTypes||[],brands:j.brands||[],models:j.models||[],osTypes:j.osTypes||[],sites:j.sites||[],buildings:j.buildings||[],floors:j.floors||[],rooms:j.rooms||[],racks:j.racks||[],units:j.units||[],...Object.keys(j).reduce((S,E)=>(["status","deviceTypes","allocationTypes","environmentTypes","brands","models","osTypes","sites","buildings","floors","rooms","racks","units"].includes(E)||(S[E]=j[E]||[]),S),{})}}catch(x){throw console.error("Error in fetchEnums:",x),x}},[]),h=g.useCallback(async()=>{try{s(!0);const{data:{session:y}}=await oe.auth.getSession();if(!y)throw new Error("Not authenticated");const x=await f(y.access_token);return r(x),a(null),window.dispatchEvent(new CustomEvent("enumsUpdated",{detail:x})),x}catch(y){console.error("Error refreshing enums:",y);const x=y instanceof Error?y:new Error("Failed to refresh enums");return a(x),r(Um),Um}finally{s(!1)}},[f]),m=g.useCallback(async(y,x)=>{try{let _=d(y);_||(console.log("EnumContext: No enum type found for column, refreshing property definitions:",y),await v(),_=d(y)),_||(console.log("EnumContext: Still no enum type found, using column name as enum type:",y),_=y);const{data:{session:j},error:k}=await oe.auth.getSession();if(k||!j)throw console.error("Session error:",k),new Error("Not authenticated or session error");console.log("Adding enum value:",{enumType:_,value:x});const S={type:_,value:x.trim(),action:"add"};console.log("Request body:",S);const E="http://localhost:8000/functions/v1/enum-manager";console.log("Making request to:",E);const N=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.access_token}`,apikey:""},body:JSON.stringify(S)});console.log("Response status:",N.status);const O=await N.text();let P;try{if(O&&(O.trim().startsWith("{")||O.trim().startsWith("[")))P=JSON.parse(O);else if(N.ok)console.log("Non-JSON response but request was successful. Response:",O),P={success:!0,message:"Operation completed successfully"};else throw new Error(O||"Unknown error occurred");console.log("Response data:",P)}catch(A){if(console.error("Error parsing response:",A),N.ok)console.log("Assuming success despite parse error"),P={success:!0,message:"Operation completed"};else throw new Error(`Server error: ${N.status} ${N.statusText}`)}if(!N.ok)throw console.error("Error response:",{status:N.status,statusText:N.statusText,responseText:O}),new Error((P==null?void 0:P.message)||`Failed to add enum value: ${N.statusText}`);console.log("Successfully added enum value:",{columnName:y,value:x});try{await h(),Yc.success(`Added ${x} to ${y}`)}catch(A){console.error("Error refreshing enums:",A),Yc.success(`Added ${x} to ${y} (refresh to see changes)`)}return!0}catch(_){console.error("Error in addEnumValue:",{error:_,message:_ instanceof Error?_.message:"Unknown error",stack:_ instanceof Error?_.stack:void 0});const j=_ instanceof Error?_.message:"Unknown error";throw Yc.error(`Failed to add enum value: ${j}`),_}},[d,h]),p=g.useCallback(async(y,x)=>{try{let _=d(y);_||(console.log("EnumContext: No enum type found for column, refreshing property definitions:",y),await v(),_=d(y)),_||(console.log("EnumContext: Still no enum type found, using column name as enum type:",y),_=y);const{data:{session:j},error:k}=await oe.auth.getSession();if(k||!j)throw console.error("Session error:",k),new Error("Not authenticated or session error");console.log("Removing enum value:",{enumType:_,value:x});const S={type:_,value:x.trim(),action:"remove"};console.log("Request body:",S);const E="http://localhost:8000/functions/v1/enum-manager";console.log("Making request to:",E);const N=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.access_token}`,apikey:""},body:JSON.stringify(S)});console.log("Response status:",N.status);const O=await N.text();let P;try{if(O&&(O.trim().startsWith("{")||O.trim().startsWith("[")))P=JSON.parse(O);else if(N.ok)console.log("Non-JSON response but request was successful. Response:",O),P={success:!0,message:"Operation completed successfully"};else throw new Error(O||"Unknown error occurred");console.log("Response data:",P)}catch(A){if(console.error("Error parsing response:",A),N.ok)console.log("Assuming success despite parse error"),P={success:!0,message:"Operation completed"};else throw new Error(`Server error: ${N.status} ${N.statusText}`)}if(!N.ok)throw console.error("Error response:",{status:N.status,statusText:N.statusText,responseText:O}),new Error((P==null?void 0:P.message)||`Failed to remove enum value: ${N.statusText}`);console.log("Successfully removed enum value:",{columnName:y,value:x});try{await h(),Yc.success(`Removed ${x} from ${y}`)}catch(A){console.error("Error refreshing enums:",A),Yc.success(`Removed ${x} from ${y} (refresh to see changes)`)}return!0}catch(_){console.error("Error in removeEnumValue:",{error:_,message:_ instanceof Error?_.message:"Unknown error",stack:_ instanceof Error?_.stack:void 0});const j=_ instanceof Error?_.message:"Unknown error";throw Yc.error(`Failed to remove enum value: ${j}`),_}},[d,h]),v=g.useCallback(async()=>{try{const{data:y,error:x}=await oe.from("property_definitions").select("key, property_type").eq("property_type","enum").eq("active",!0);if(x){console.error("Error fetching property definitions:",x);return}c(y||[])}catch(y){console.error("Error fetching property definitions:",y)}},[]),w=async()=>{try{await v(),await h()}catch(y){console.error("Error initializing enums:",y)}};g.useEffect(()=>{(async()=>{try{s(!0),console.log("Fetching initial server enums from get-enums endpoint...");const{data:{session:x}}=await oe.auth.getSession();if(!x)throw new Error("Not authenticated");const _=await f(x.access_token);r(_),a(null)}catch(x){console.error("Error fetching initial server enums:",x);const _=x instanceof Error?x:new Error("Failed to fetch server enums");a(_),r(Um)}finally{s(!1)}})(),w()},[f,v]),g.useEffect(()=>{const y=()=>{v()},x=_=>{console.log("EnumContext: Schema updated, refreshing property definitions",_.detail),v()};return window.addEventListener("enumsUpdated",y),window.addEventListener("schemaUpdated",x),()=>{window.removeEventListener("enumsUpdated",y),window.removeEventListener("schemaUpdated",x)}},[v]);const b={enums:t,loading:n,error:i,refreshEnums:h,addEnumValue:m,removeEnumValue:p};return l.jsx(g4.Provider,{value:b,children:e})},ck=()=>{const e=g.useContext(g4);if(e===void 0)throw new Error("useEnumContext must be used within an EnumContextProvider");return e};function nJ(e,t=[]){let r=[];function n(i,a){const o=g.createContext(a),c=r.length;r=[...r,a];function u(f){const{scope:h,children:m,...p}=f,v=(h==null?void 0:h[e][c])||o,w=g.useMemo(()=>p,Object.values(p));return l.jsx(v.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||o,p=g.useContext(m);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(a=>g.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,sJ(s,...t)]}function sJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var iJ=g.createContext(void 0);function Dx(e){const t=g.useContext(iJ);return e||t||"ltr"}var Wb="rovingFocusGroup.onEntryFocus",aJ={bubbles:!1,cancelable:!0},Mx="RovingFocusGroup",[f1,v4,oJ]=cx(Mx),[lJ,Rx]=nJ(Mx,[oJ]),[cJ,uJ]=lJ(Mx),y4=g.forwardRef((e,t)=>l.jsx(f1.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(f1.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(dJ,{...e,ref:t})})}));y4.displayName=Mx;var dJ=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),m=ct(t,h),p=Dx(i),[v=null,w]=ji({prop:a,defaultProp:o,onChange:c}),[b,y]=g.useState(!1),x=vn(u),_=v4(r),j=g.useRef(!1),[k,S]=g.useState(0);return g.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Wb,x),()=>E.removeEventListener(Wb,x)},[x]),l.jsx(cJ,{scope:r,orientation:n,dir:p,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(E=>w(E),[w]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:g.useCallback(()=>S(E=>E-1),[]),children:l.jsx(Be.div,{tabIndex:b||k===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{j.current=!0}),onFocus:pe(e.onFocus,E=>{const N=!j.current;if(E.target===E.currentTarget&&N&&!b){const O=new CustomEvent(Wb,aJ);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const P=_().filter(z=>z.focusable),A=P.find(z=>z.active),L=P.find(z=>z.id===v),B=[A,L,...P].filter(Boolean).map(z=>z.ref.current);w4(B,d)}}j.current=!1}),onBlur:pe(e.onBlur,()=>y(!1))})})}),x4="RovingFocusGroupItem",b4=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...a}=e,o=Us(),c=i||o,u=uJ(x4,r),d=u.currentTabStopId===c,f=v4(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),l.jsx(f1.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(Be.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:pe(e.onMouseDown,p=>{n?u.onItemFocus(c):p.preventDefault()}),onFocus:pe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=pJ(p,u.orientation,u.dir);if(v!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=f().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const y=b.indexOf(p.currentTarget);b=u.loop?mJ(b,y+1):b.slice(y+1)}setTimeout(()=>w4(b))}})})})});b4.displayName=x4;var fJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pJ(e,t,r){const n=hJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return fJ[n]}function w4(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function mJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var _4=y4,j4=b4,uk="Tabs",[gJ,sEe]=Oi(uk,[Rx]),S4=Rx(),[vJ,dk]=gJ(uk),k4=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=Dx(o),[f,h]=ji({prop:n,onChange:s,defaultProp:i});return l.jsx(vJ,{scope:r,baseId:Us(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(Be.div,{dir:d,"data-orientation":a,...u,ref:t})})});k4.displayName=uk;var C4="TabsList",E4=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=dk(C4,r),a=S4(r);return l.jsx(_4,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:l.jsx(Be.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});E4.displayName=C4;var N4="TabsTrigger",P4=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=dk(N4,r),o=S4(r),c=T4(a.baseId,n),u=D4(a.baseId,n),d=n===a.value;return l.jsx(j4,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:pe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:pe(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(n)})})})});P4.displayName=N4;var A4="TabsContent",O4=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,o=dk(A4,r),c=T4(o.baseId,n),u=D4(o.baseId,n),d=n===o.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(ts,{present:s||d,children:({present:h})=>l.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});O4.displayName=A4;function T4(e,t){return`${e}-trigger-${t}`}function D4(e,t){return`${e}-content-${t}`}var yJ=k4,M4=E4,R4=P4,I4=O4;const Fp=yJ,zd=g.forwardRef(({className:e,...t},r)=>l.jsx(M4,{ref:r,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zd.displayName=M4.displayName;const $r=g.forwardRef(({className:e,...t},r)=>l.jsx(R4,{ref:r,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));$r.displayName=R4.displayName;const Fr=g.forwardRef(({className:e,...t},r)=>l.jsx(I4,{ref:r,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fr.displayName=I4.displayName;const qh=Ap("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?Va:"button";return l.jsx(a,{className:ye(qh({variant:t,size:r,className:e})),ref:i,...s})});G.displayName="Button";const xJ=Ap("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fe({className:e,variant:t,children:r,...n}){return l.jsx("div",{className:ye(xJ({variant:t}),e),...n,children:r})}function bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Jn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function _n(e,t){const r=bt(e);return isNaN(t)?Jn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ni(e,t){const r=bt(e);if(isNaN(t))return Jn(e,NaN);if(!t)return r;const n=r.getDate(),s=Jn(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const fk=6048e5,bJ=864e5,L4=6e4,$4=36e5;let wJ={};function Bp(){return wJ}function na(e,t){var o,c,u,d;const r=Bp(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=bt(e),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function xc(e){return na(e,{weekStartsOn:1})}function F4(e){const t=bt(e),r=t.getFullYear(),n=Jn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=xc(n),i=Jn(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=xc(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function ud(e){const t=bt(e);return t.setHours(0,0,0,0),t}function Tv(e){const t=bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ki(e,t){const r=ud(e),n=ud(t),s=+r-Tv(r),i=+n-Tv(n);return Math.round((s-i)/bJ)}function _J(e){const t=F4(e),r=Jn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xc(r)}function h1(e,t){const r=t*7;return _n(e,r)}function jJ(e,t){return Ni(e,t*12)}function SJ(e){let t;return e.forEach(function(r){const n=bt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function kJ(e){let t;return e.forEach(r=>{const n=bt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function B4(e){return Jn(e,Date.now())}function hn(e,t){const r=ud(e),n=ud(t);return+r==+n}function hk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function CJ(e){if(!hk(e)&&typeof e!="number")return!1;const t=bt(e);return!isNaN(Number(t))}function Yh(e,t){const r=bt(e),n=bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function EJ(e,t,r){const n=na(e,r),s=na(t,r),i=+n-Tv(n),a=+s-Tv(s);return Math.round((i-a)/fk)}function pk(e){const t=bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Zn(e){const t=bt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function z4(e){const t=bt(e),r=Jn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function mk(e,t){var o,c,u,d;const r=Bp(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=bt(e),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function U4(e){return mk(e,{weekStartsOn:1})}const NJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PJ=(e,t,r)=>{let n;const s=NJ[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const AJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DJ={date:Vb({formats:AJ,defaultWidth:"full"}),time:Vb({formats:OJ,defaultWidth:"full"}),dateTime:Vb({formats:TJ,defaultWidth:"full"})},MJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RJ=(e,t,r,n)=>MJ[e];function mf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const IJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$J={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UJ=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},WJ={ordinalNumber:UJ,era:mf({values:IJ,defaultWidth:"wide"}),quarter:mf({values:LJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:mf({values:$J,defaultWidth:"wide"}),day:mf({values:FJ,defaultWidth:"wide"}),dayPeriod:mf({values:BJ,defaultWidth:"wide",formattingValues:zJ,defaultFormattingWidth:"wide"})};function gf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?HJ(o,f=>f.test(a)):VJ(o,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function VJ(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function HJ(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function KJ(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const qJ=/^(\d+)(th|st|nd|rd)?/i,YJ=/\d+/i,GJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XJ={any:[/^b/i,/^(a|c)/i]},ZJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QJ={any:[/1/i,/2/i,/3/i,/4/i]},JJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ree={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},see={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iee={ordinalNumber:KJ({matchPattern:qJ,parsePattern:YJ,valueCallback:e=>parseInt(e,10)}),era:gf({matchPatterns:GJ,defaultMatchWidth:"wide",parsePatterns:XJ,defaultParseWidth:"any"}),quarter:gf({matchPatterns:ZJ,defaultMatchWidth:"wide",parsePatterns:QJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:gf({matchPatterns:JJ,defaultMatchWidth:"wide",parsePatterns:eee,defaultParseWidth:"any"}),day:gf({matchPatterns:tee,defaultMatchWidth:"wide",parsePatterns:ree,defaultParseWidth:"any"}),dayPeriod:gf({matchPatterns:nee,defaultMatchWidth:"any",parsePatterns:see,defaultParseWidth:"any"})},W4={code:"en-US",formatDistance:PJ,formatLong:DJ,formatRelative:RJ,localize:WJ,match:iee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aee(e){const t=bt(e);return Ki(t,z4(t))+1}function V4(e){const t=bt(e),r=+xc(t)-+_J(t);return Math.round(r/fk)+1}function H4(e,t){var d,f,h,m;const r=bt(e),n=r.getFullYear(),s=Bp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=Jn(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=na(a,t),c=Jn(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=na(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function oee(e,t){var o,c,u,d;const r=Bp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=H4(e,t),i=Jn(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),na(i,t)}function K4(e,t){const r=bt(e),n=+na(r,t)-+oee(r,t);return Math.round(n/fk)+1}function Ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const co={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ot(r+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ot(s,t.length)}},Jc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return co.y(e,t)},Y:function(e,t,r,n){const s=H4(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Ot(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ot(i,t.length)},R:function(e,t){const r=F4(e);return Ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return co.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=K4(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ot(s,t.length)},I:function(e,t,r){const n=V4(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):co.d(e,t)},D:function(e,t,r){const n=aee(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ot(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ot(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ot(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Jc.noon:n===0?s=Jc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Jc.evening:n>=12?s=Jc.afternoon:n>=4?s=Jc.morning:s=Jc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return co.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):co.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):co.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):co.s(e,t)},S:function(e,t){return co.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return XA(n);case"XXXX":case"XX":return Ml(n);case"XXXXX":case"XXX":default:return Ml(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return XA(n);case"xxxx":case"xx":return Ml(n);case"xxxxx":case"xxx":default:return Ml(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GA(n,":");case"OOOO":default:return"GMT"+Ml(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GA(n,":");case"zzzz":default:return"GMT"+Ml(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ot(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ot(n,t.length)}};function GA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Ot(i,2)}function XA(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):Ml(e,t)}function Ml(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ot(Math.trunc(n/60),2),i=Ot(n%60,2);return r+s+t+i}const ZA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},q4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lee=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return ZA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ZA(n,t)).replace("{{time}}",q4(s,t))},cee={p:q4,P:lee},uee=/^D+$/,dee=/^Y+$/,fee=["D","DD","YY","YYYY"];function hee(e){return uee.test(e)}function pee(e){return dee.test(e)}function mee(e,t,r){const n=gee(e,t,r);if(console.warn(n),fee.includes(e))throw new RangeError(n)}function gee(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xee=/^'([^]*?)'?$/,bee=/''/g,wee=/[a-zA-Z]/;function Qn(e,t,r){var d,f,h,m,p,v,w,b;const n=Bp(),s=(r==null?void 0:r.locale)??n.locale??W4,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((v=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((b=(w=n.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??0,o=bt(e);if(!CJ(o))throw new RangeError("Invalid time value");let c=t.match(yee).map(y=>{const x=y[0];if(x==="p"||x==="P"){const _=cee[x];return _(y,s.formatLong)}return y}).join("").match(vee).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:_ee(y)};if(YA[x])return{isToken:!0,value:y};if(x.match(wee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&pee(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&hee(x))&&mee(x,t,String(e));const _=YA[x[0]];return _(o,x,s.localize,u)}).join("")}function _ee(e){const t=e.match(xee);return t?t[1].replace(bee,"'"):e}function jee(e){const t=bt(e),r=t.getFullYear(),n=t.getMonth(),s=Jn(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function See(e){return Math.trunc(+bt(e)/1e3)}function kee(e){const t=bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Cee(e,t){return EJ(kee(e),Zn(e),t)+1}function p1(e,t){const r=bt(e),n=bt(t);return r.getTime()>n.getTime()}function Y4(e,t){const r=bt(e),n=bt(t);return+r<+n}function gk(e,t){const r=bt(e),n=bt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Eee(e,t){const r=bt(e),n=bt(t);return r.getFullYear()===n.getFullYear()}function Nee(e){return hn(e,B4(e))}function Fg(e,t){return _n(e,-t)}function Pee(e){return hn(e,Fg(B4(e),1))}function Aee(e,t){const n=Mee(e);let s;if(n.date){const c=Ree(n.date,2);s=Iee(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(n.time&&(a=Lee(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=$ee(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(i+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+a+o)}const Wm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Oee=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Tee=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dee=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Mee(e){const t={},r=e.split(Wm.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Wm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Wm.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Wm.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Ree(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Iee(e,t){if(t===null)return new Date(NaN);const r=e.match(Oee);if(!r)return new Date(NaN);const n=!!r[4],s=vf(r[1]),i=vf(r[2])-1,a=vf(r[3]),o=vf(r[4]),c=vf(r[5])-1;if(n)return Wee(t,o,c)?Fee(t,o,c):new Date(NaN);{const u=new Date(0);return!zee(t,i,a)||!Uee(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,a)),u)}}function vf(e){return e?parseInt(e):1}function Lee(e){const t=e.match(Tee);if(!t)return NaN;const r=Hb(t[1]),n=Hb(t[2]),s=Hb(t[3]);return Vee(r,n,s)?r*$4+n*L4+s*1e3:NaN}function Hb(e){return e&&parseFloat(e.replace(",","."))||0}function $ee(e){if(e==="Z")return 0;const t=e.match(Dee);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Hee(n,s)?r*(n*$4+s*L4):NaN}function Fee(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const Bee=[31,null,31,30,31,30,31,31,30,31,30,31];function G4(e){return e%400===0||e%4===0&&e%100!==0}function zee(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Bee[t]||(G4(e)?29:28))}function Uee(e,t){return t>=1&&t<=(G4(e)?366:365)}function Wee(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Vee(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Hee(e,t){return t>=0&&t<=59}function Kb(e,t){const r=bt(e),n=r.getFullYear(),s=r.getDate(),i=Jn(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const a=jee(i);return r.setMonth(t,Math.min(s,a)),r}function QA(e,t){const r=bt(e);return isNaN(+r)?Jn(e,NaN):(r.setFullYear(t),r)}var zp=e=>e.type==="checkbox",Hl=e=>e instanceof Date,jn=e=>e==null;const X4=e=>typeof e=="object";var vr=e=>!jn(e)&&!Array.isArray(e)&&X4(e)&&!Hl(e),Z4=e=>vr(e)&&e.target?zp(e.target)?e.target.checked:e.target.value:e,Kee=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Q4=(e,t)=>e.has(Kee(t)),qee=e=>{const t=e.constructor&&e.constructor.prototype;return vr(t)&&t.hasOwnProperty("isPrototypeOf")},vk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bn(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(vk&&(e instanceof Blob||e instanceof FileList))&&(r||vr(e)))if(t=r?[]:{},!r&&!qee(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Bn(e[n]));else return e;return t}var Ix=e=>Array.isArray(e)?e.filter(Boolean):[],ir=e=>e===void 0,ve=(e,t,r)=>{if(!t||!vr(e))return r;const n=Ix(t.split(/[,[\].]+?/)).reduce((s,i)=>jn(s)?s:s[i],e);return ir(n)||n===e?ir(e[t])?r:e[t]:n},Ds=e=>typeof e=="boolean",yk=e=>/^\w*$/.test(e),J4=e=>Ix(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(e,t,r)=>{let n=-1;const s=yk(t)?[t]:J4(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let c=r;if(n!==a){const u=e[o];c=vr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__")return;e[o]=c,e=e[o]}return e};const Dv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yee=te.createContext(null),Lx=()=>te.useContext(Yee);var eF=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==gi.all&&(t._proxyFormState[a]=!n||gi.all),r&&(r[a]=!0),e[a]}});return s},zn=e=>vr(e)&&!Object.keys(e).length,tF=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return zn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||gi.all))},dh=e=>Array.isArray(e)?e:[e],rF=(e,t,r)=>!e||!t||e===t||dh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function xk(e){const t=te.useRef(e);t.current=e,te.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Gee(e){const t=Lx(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[a,o]=te.useState(r._formState),c=te.useRef(!0),u=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=te.useRef(s);return d.current=s,xk({disabled:n,next:f=>c.current&&rF(d.current,f.name,i)&&tF(f,u.current,r._updateFormState)&&o({...r._formState,...f}),subject:r._subjects.state}),te.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),eF(a,r,u.current,!1)}var qi=e=>typeof e=="string",nF=(e,t,r,n,s)=>qi(e)?(n&&t.watch.add(e),ve(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ve(r,i))):(n&&(t.watchAll=!0),r);function Bg(e){const t=Lx(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:a}=e||{},o=te.useRef(n);o.current=n,xk({disabled:i,subject:r._subjects.values,next:d=>{rF(o.current,d.name,a)&&u(Bn(nF(o.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=te.useState(r._getWatch(n,s));return te.useEffect(()=>r._removeUnmounted()),c}function Xee(e){const t=Lx(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,a=Q4(s._names.array,r),o=Bg({control:s,name:r,defaultValue:ve(s._formValues,r,ve(s._defaultValues,r,e.defaultValue)),exact:!0}),c=Gee({control:s,name:r,exact:!0}),u=te.useRef(s.register(r,{...e.rules,value:o,...Ds(e.disabled)?{disabled:e.disabled}:{}}));return te.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(h,m)=>{const p=ve(s._fields,h);p&&p._f&&(p._f.mount=m)};if(f(r,!0),d){const h=Bn(ve(s._options.defaultValues,r));Et(s._defaultValues,r,h),ir(ve(s._formValues,r))&&Et(s._formValues,r,h)}return()=>{(a?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,a,i]),te.useEffect(()=>{ve(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:ve(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:o,...Ds(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:te.useCallback(d=>u.current.onChange({target:{value:Z4(d),name:r},type:Dv.CHANGE}),[r]),onBlur:te.useCallback(()=>u.current.onBlur({target:{value:ve(s._formValues,r),name:r},type:Dv.BLUR}),[r,s]),ref:te.useCallback(d=>{const f=ve(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ve(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ve(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ve(c.validatingFields,r)},error:{enumerable:!0,get:()=>ve(c.errors,r)}})}}const nr=e=>e.render(Xee(e));var sF=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},JA=e=>({isOnSubmit:!e||e===gi.onSubmit,isOnBlur:e===gi.onBlur,isOnChange:e===gi.onChange,isOnAll:e===gi.all,isOnTouch:e===gi.onTouched}),eO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const fh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=ve(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(fh(o,t))break}else if(vr(o)&&fh(o,t))break}}};var Zee=(e,t,r)=>{const n=dh(ve(e,r));return Et(n,"root",t[r]),Et(e,r,n),e},bk=e=>e.type==="file",Pa=e=>typeof e=="function",Mv=e=>{if(!vk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zg=e=>qi(e),wk=e=>e.type==="radio",Rv=e=>e instanceof RegExp;const tO={value:!1,isValid:!1},rO={value:!0,isValid:!0};var iF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ir(e[0].attributes.value)?ir(e[0].value)||e[0].value===""?rO:{value:e[0].value,isValid:!0}:rO:tO}return tO};const nO={isValid:!1,value:null};var aF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,nO):nO;function sO(e,t,r="validate"){if(zg(e)||Array.isArray(e)&&e.every(zg)||Ds(e)&&!e)return{type:r,message:zg(e)?e:"",ref:t}}var eu=e=>vr(e)&&!Rv(e)?e:{value:e,message:""},iO=async(e,t,r,n,s)=>{const{ref:i,refs:a,required:o,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:m,name:p,valueAsNumber:v,mount:w,disabled:b}=e._f,y=ve(t,p);if(!w||b)return{};const x=a?a[0]:i,_=A=>{n&&x.reportValidity&&(x.setCustomValidity(Ds(A)?"":A||""),x.reportValidity())},j={},k=wk(i),S=zp(i),E=k||S,N=(v||bk(i))&&ir(i.value)&&ir(y)||Mv(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,O=sF.bind(null,p,r,j),P=(A,L,I,B=fa.maxLength,z=fa.minLength)=>{const T=A?L:I;j[p]={type:A?B:z,message:T,ref:i,...O(A?B:z,T)}};if(s?!Array.isArray(y)||!y.length:o&&(!E&&(N||jn(y))||Ds(y)&&!y||S&&!iF(a).isValid||k&&!aF(a).isValid)){const{value:A,message:L}=zg(o)?{value:!!o,message:o}:eu(o);if(A&&(j[p]={type:fa.required,message:L,ref:x,...O(fa.required,L)},!r))return _(L),j}if(!N&&(!jn(d)||!jn(f))){let A,L;const I=eu(f),B=eu(d);if(!jn(y)&&!isNaN(y)){const z=i.valueAsNumber||y&&+y;jn(I.value)||(A=z>I.value),jn(B.value)||(L=z<B.value)}else{const z=i.valueAsDate||new Date(y),T=U=>new Date(new Date().toDateString()+" "+U),C=i.type=="time",D=i.type=="week";qi(I.value)&&y&&(A=C?T(y)>T(I.value):D?y>I.value:z>new Date(I.value)),qi(B.value)&&y&&(L=C?T(y)<T(B.value):D?y<B.value:z<new Date(B.value))}if((A||L)&&(P(!!A,I.message,B.message,fa.max,fa.min),!r))return _(j[p].message),j}if((c||u)&&!N&&(qi(y)||s&&Array.isArray(y))){const A=eu(c),L=eu(u),I=!jn(A.value)&&y.length>+A.value,B=!jn(L.value)&&y.length<+L.value;if((I||B)&&(P(I,A.message,L.message),!r))return _(j[p].message),j}if(h&&!N&&qi(y)){const{value:A,message:L}=eu(h);if(Rv(A)&&!y.match(A)&&(j[p]={type:fa.pattern,message:L,ref:i,...O(fa.pattern,L)},!r))return _(L),j}if(m){if(Pa(m)){const A=await m(y,t),L=sO(A,x);if(L&&(j[p]={...L,...O(fa.validate,L.message)},!r))return _(L.message),j}else if(vr(m)){let A={};for(const L in m){if(!zn(A)&&!r)break;const I=sO(await m[L](y,t),x,L);I&&(A={...I,...O(L,I.message)},_(I.message),r&&(j[p]=A))}if(!zn(A)&&(j[p]={ref:x,...A},!r))return j}}return _(!0),j};function Qee(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ir(e)?n++:e[t[n++]];return e}function Jee(e){for(const t in e)if(e.hasOwnProperty(t)&&!ir(e[t]))return!1;return!0}function Pr(e,t){const r=Array.isArray(t)?t:yk(t)?[t]:J4(t),n=r.length===1?e:Qee(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(vr(n)&&zn(n)||Array.isArray(n)&&Jee(n))&&Pr(e,r.slice(0,-1)),e}var qb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},m1=e=>jn(e)||!X4(e);function ko(e,t){if(m1(e)||m1(t))return e===t;if(Hl(e)&&Hl(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=t[s];if(Hl(i)&&Hl(a)||vr(i)&&vr(a)||Array.isArray(i)&&Array.isArray(a)?!ko(i,a):i!==a)return!1}}return!0}var oF=e=>e.type==="select-multiple",ete=e=>wk(e)||zp(e),Yb=e=>Mv(e)&&e.isConnected,lF=e=>{for(const t in e)if(Pa(e[t]))return!0;return!1};function Iv(e,t={}){const r=Array.isArray(e);if(vr(e)||r)for(const n in e)Array.isArray(e[n])||vr(e[n])&&!lF(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Iv(e[n],t[n])):jn(e[n])||(t[n]=!0);return t}function cF(e,t,r){const n=Array.isArray(e);if(vr(e)||n)for(const s in e)Array.isArray(e[s])||vr(e[s])&&!lF(e[s])?ir(t)||m1(r[s])?r[s]=Array.isArray(e[s])?Iv(e[s],[]):{...Iv(e[s])}:cF(e[s],jn(t)?{}:t[s],r[s]):r[s]=!ko(e[s],t[s]);return r}var yf=(e,t)=>cF(e,t,Iv(t)),uF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ir(e)?e:t?e===""?NaN:e&&+e:r&&qi(e)?new Date(e):n?n(e):e;function Gb(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return bk(t)?t.files:wk(t)?aF(e.refs).value:oF(t)?[...t.selectedOptions].map(({value:r})=>r):zp(t)?iF(e.refs).value:uF(ir(t.value)?e.ref.value:t.value,e)}var tte=(e,t,r,n)=>{const s={};for(const i of e){const a=ve(t,i);a&&Et(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},xf=e=>ir(e)?e:Rv(e)?e.source:vr(e)?Rv(e.value)?e.value.source:e.value:e;const aO="AsyncFunction";var rte=e=>(!e||!e.validate)&&!!(Pa(e.validate)&&e.validate.constructor.name===aO||vr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===aO)),nte=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function oO(e,t,r){const n=ve(e,r);if(n||yk(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=ve(t,i),o=ve(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:r}}var ste=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,ite=(e,t)=>!Ix(ve(e,t)).length&&Pr(e,t);const ate={mode:gi.onSubmit,reValidateMode:gi.onChange,shouldFocusError:!0};function ote(e={}){let t={...ate,...e},r={submitCount:0,isDirty:!1,isLoading:Pa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=vr(t.defaultValues)||vr(t.values)?Bn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Bn(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:qb(),array:qb(),state:qb()},h=JA(t.mode),m=JA(t.reValidateMode),p=t.criteriaMode===gi.all,v=M=>$=>{clearTimeout(u),u=setTimeout(M,$)},w=async M=>{if(!e.disabled&&(d.isValid||M)){const $=t.resolver?zn((await E()).errors):await O(n,!0);$!==r.isValid&&f.state.next({isValid:$})}},b=(M,$)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((M||Array.from(o.mount)).forEach(F=>{F&&($?Et(r.validatingFields,F,$):Pr(r.validatingFields,F))}),f.state.next({validatingFields:r.validatingFields,isValidating:!zn(r.validatingFields)}))},y=(M,$=[],F,ie,se=!0,ne=!0)=>{if(ie&&F&&!e.disabled){if(a.action=!0,ne&&Array.isArray(ve(n,M))){const Me=F(ve(n,M),ie.argA,ie.argB);se&&Et(n,M,Me)}if(ne&&Array.isArray(ve(r.errors,M))){const Me=F(ve(r.errors,M),ie.argA,ie.argB);se&&Et(r.errors,M,Me),ite(r.errors,M)}if(d.touchedFields&&ne&&Array.isArray(ve(r.touchedFields,M))){const Me=F(ve(r.touchedFields,M),ie.argA,ie.argB);se&&Et(r.touchedFields,M,Me)}d.dirtyFields&&(r.dirtyFields=yf(s,i)),f.state.next({name:M,isDirty:A(M,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Et(i,M,$)},x=(M,$)=>{Et(r.errors,M,$),f.state.next({errors:r.errors})},_=M=>{r.errors=M,f.state.next({errors:r.errors,isValid:!1})},j=(M,$,F,ie)=>{const se=ve(n,M);if(se){const ne=ve(i,M,ir(F)?ve(s,M):F);ir(ne)||ie&&ie.defaultChecked||$?Et(i,M,$?ne:Gb(se._f)):B(M,ne),a.mount&&w()}},k=(M,$,F,ie,se)=>{let ne=!1,Me=!1;const ze={name:M};if(!e.disabled){const Rt=!!(ve(n,M)&&ve(n,M)._f&&ve(n,M)._f.disabled);if(!F||ie){d.isDirty&&(Me=r.isDirty,r.isDirty=ze.isDirty=A(),ne=Me!==ze.isDirty);const ft=Rt||ko(ve(s,M),$);Me=!!(!Rt&&ve(r.dirtyFields,M)),ft||Rt?Pr(r.dirtyFields,M):Et(r.dirtyFields,M,!0),ze.dirtyFields=r.dirtyFields,ne=ne||d.dirtyFields&&Me!==!ft}if(F){const ft=ve(r.touchedFields,M);ft||(Et(r.touchedFields,M,F),ze.touchedFields=r.touchedFields,ne=ne||d.touchedFields&&ft!==F)}ne&&se&&f.state.next(ze)}return ne?ze:{}},S=(M,$,F,ie)=>{const se=ve(r.errors,M),ne=d.isValid&&Ds($)&&r.isValid!==$;if(e.delayError&&F?(c=v(()=>x(M,F)),c(e.delayError)):(clearTimeout(u),c=null,F?Et(r.errors,M,F):Pr(r.errors,M)),(F?!ko(se,F):se)||!zn(ie)||ne){const Me={...ie,...ne&&Ds($)?{isValid:$}:{},errors:r.errors,name:M};r={...r,...Me},f.state.next(Me)}},E=async M=>{b(M,!0);const $=await t.resolver(i,t.context,tte(M||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(M),$},N=async M=>{const{errors:$}=await E(M);if(M)for(const F of M){const ie=ve($,F);ie?Et(r.errors,F,ie):Pr(r.errors,F)}else r.errors=$;return $},O=async(M,$,F={valid:!0})=>{for(const ie in M){const se=M[ie];if(se){const{_f:ne,...Me}=se;if(ne){const ze=o.array.has(ne.name),Rt=se._f&&rte(se._f);Rt&&d.validatingFields&&b([ie],!0);const ft=await iO(se,i,p,t.shouldUseNativeValidation&&!$,ze);if(Rt&&d.validatingFields&&b([ie]),ft[ne.name]&&(F.valid=!1,$))break;!$&&(ve(ft,ne.name)?ze?Zee(r.errors,ft,ne.name):Et(r.errors,ne.name,ft[ne.name]):Pr(r.errors,ne.name))}!zn(Me)&&await O(Me,$,F)}}return F.valid},P=()=>{for(const M of o.unMount){const $=ve(n,M);$&&($._f.refs?$._f.refs.every(F=>!Yb(F)):!Yb($._f.ref))&&xe(M)}o.unMount=new Set},A=(M,$)=>!e.disabled&&(M&&$&&Et(i,M,$),!ko(W(),s)),L=(M,$,F)=>nF(M,o,{...a.mount?i:ir($)?s:qi(M)?{[M]:$}:$},F,$),I=M=>Ix(ve(a.mount?i:s,M,e.shouldUnregister?ve(s,M,[]):[])),B=(M,$,F={})=>{const ie=ve(n,M);let se=$;if(ie){const ne=ie._f;ne&&(!ne.disabled&&Et(i,M,uF($,ne)),se=Mv(ne.ref)&&jn($)?"":$,oF(ne.ref)?[...ne.ref.options].forEach(Me=>Me.selected=se.includes(Me.value)):ne.refs?zp(ne.ref)?ne.refs.length>1?ne.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(se)?!!se.find(ze=>ze===Me.value):se===Me.value)):ne.refs[0]&&(ne.refs[0].checked=!!se):ne.refs.forEach(Me=>Me.checked=Me.value===se):bk(ne.ref)?ne.ref.value="":(ne.ref.value=se,ne.ref.type||f.values.next({name:M,values:{...i}})))}(F.shouldDirty||F.shouldTouch)&&k(M,se,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&U(M)},z=(M,$,F)=>{for(const ie in $){const se=$[ie],ne=`${M}.${ie}`,Me=ve(n,ne);(o.array.has(M)||vr(se)||Me&&!Me._f)&&!Hl(se)?z(ne,se,F):B(ne,se,F)}},T=(M,$,F={})=>{const ie=ve(n,M),se=o.array.has(M),ne=Bn($);Et(i,M,ne),se?(f.array.next({name:M,values:{...i}}),(d.isDirty||d.dirtyFields)&&F.shouldDirty&&f.state.next({name:M,dirtyFields:yf(s,i),isDirty:A(M,ne)})):ie&&!ie._f&&!jn(ne)?z(M,ne,F):B(M,ne,F),eO(M,o)&&f.state.next({...r}),f.values.next({name:a.mount?M:void 0,values:{...i}})},C=async M=>{a.mount=!0;const $=M.target;let F=$.name,ie=!0;const se=ve(n,F),ne=()=>$.type?Gb(se._f):Z4(M),Me=ze=>{ie=Number.isNaN(ze)||Hl(ze)&&isNaN(ze.getTime())||ko(ze,ve(i,F,ze))};if(se){let ze,Rt;const ft=ne(),tn=M.type===Dv.BLUR||M.type===Dv.FOCUS_OUT,Rr=!nte(se._f)&&!t.resolver&&!ve(r.errors,F)&&!se._f.deps||ste(tn,ve(r.touchedFields,F),r.isSubmitted,m,h),Dn=eO(F,o,tn);Et(i,F,ft),tn?(se._f.onBlur&&se._f.onBlur(M),c&&c(0)):se._f.onChange&&se._f.onChange(M);const ca=k(F,ft,tn,!1),rs=!zn(ca)||Dn;if(!tn&&f.values.next({name:F,type:M.type,values:{...i}}),Rr)return d.isValid&&(e.mode==="onBlur"?tn&&w():w()),rs&&f.state.next({name:F,...Dn?{}:ca});if(!tn&&Dn&&f.state.next({...r}),t.resolver){const{errors:Mn}=await E([F]);if(Me(ft),ie){const ua=oO(r.errors,n,F),ri=oO(Mn,n,ua.name||F);ze=ri.error,F=ri.name,Rt=zn(Mn)}}else b([F],!0),ze=(await iO(se,i,p,t.shouldUseNativeValidation))[F],b([F]),Me(ft),ie&&(ze?Rt=!1:d.isValid&&(Rt=await O(n,!0)));ie&&(se._f.deps&&U(se._f.deps),S(F,Rt,ze,ca))}},D=(M,$)=>{if(ve(r.errors,$)&&M.focus)return M.focus(),1},U=async(M,$={})=>{let F,ie;const se=dh(M);if(t.resolver){const ne=await N(ir(M)?M:se);F=zn(ne),ie=M?!se.some(Me=>ve(ne,Me)):F}else M?(ie=(await Promise.all(se.map(async ne=>{const Me=ve(n,ne);return await O(Me&&Me._f?{[ne]:Me}:Me)}))).every(Boolean),!(!ie&&!r.isValid)&&w()):ie=F=await O(n);return f.state.next({...!qi(M)||d.isValid&&F!==r.isValid?{}:{name:M},...t.resolver||!M?{isValid:F}:{},errors:r.errors}),$.shouldFocus&&!ie&&fh(n,D,M?se:o.mount),ie},W=M=>{const $={...a.mount?i:s};return ir(M)?$:qi(M)?ve($,M):M.map(F=>ve($,F))},V=(M,$)=>({invalid:!!ve(($||r).errors,M),isDirty:!!ve(($||r).dirtyFields,M),error:ve(($||r).errors,M),isValidating:!!ve(r.validatingFields,M),isTouched:!!ve(($||r).touchedFields,M)}),ue=M=>{M&&dh(M).forEach($=>Pr(r.errors,$)),f.state.next({errors:M?r.errors:{}})},me=(M,$,F)=>{const ie=(ve(n,M,{_f:{}})._f||{}).ref,se=ve(r.errors,M)||{},{ref:ne,message:Me,type:ze,...Rt}=se;Et(r.errors,M,{...Rt,...$,ref:ie}),f.state.next({name:M,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&ie&&ie.focus&&ie.focus()},Ee=(M,$)=>Pa(M)?f.values.subscribe({next:F=>M(L(void 0,$),F)}):L(M,$,!0),xe=(M,$={})=>{for(const F of M?dh(M):o.mount)o.mount.delete(F),o.array.delete(F),$.keepValue||(Pr(n,F),Pr(i,F)),!$.keepError&&Pr(r.errors,F),!$.keepDirty&&Pr(r.dirtyFields,F),!$.keepTouched&&Pr(r.touchedFields,F),!$.keepIsValidating&&Pr(r.validatingFields,F),!t.shouldUnregister&&!$.keepDefaultValue&&Pr(s,F);f.values.next({values:{...i}}),f.state.next({...r,...$.keepDirty?{isDirty:A()}:{}}),!$.keepIsValid&&w()},fe=({disabled:M,name:$,field:F,fields:ie,value:se})=>{if(Ds(M)&&a.mount||M){const ne=M?void 0:ir(se)?Gb(F?F._f:ve(ie,$)._f):se;Et(i,$,ne),k($,ne,!1,!1,!0)}},We=(M,$={})=>{let F=ve(n,M);const ie=Ds($.disabled)||Ds(e.disabled);return Et(n,M,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:M}},name:M,mount:!0,...$}}),o.mount.add(M),F?fe({field:F,disabled:Ds($.disabled)?$.disabled:e.disabled,name:M,value:$.value}):j(M,!0,$.value),{...ie?{disabled:$.disabled||e.disabled}:{},...t.progressive?{required:!!$.required,min:xf($.min),max:xf($.max),minLength:xf($.minLength),maxLength:xf($.maxLength),pattern:xf($.pattern)}:{},name:M,onChange:C,onBlur:C,ref:se=>{if(se){We(M,$),F=ve(n,M);const ne=ir(se.value)&&se.querySelectorAll&&se.querySelectorAll("input,select,textarea")[0]||se,Me=ete(ne),ze=F._f.refs||[];if(Me?ze.find(Rt=>Rt===ne):ne===F._f.ref)return;Et(n,M,{_f:{...F._f,...Me?{refs:[...ze.filter(Yb),ne,...Array.isArray(ve(s,M))?[{}]:[]],ref:{type:ne.type,name:M}}:{ref:ne}}}),j(M,!1,void 0,ne)}else F=ve(n,M,{}),F._f&&(F._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(Q4(o.array,M)&&a.action)&&o.unMount.add(M)}}},Q=()=>t.shouldFocusError&&fh(n,D,o.mount),he=M=>{Ds(M)&&(f.state.next({disabled:M}),fh(n,($,F)=>{const ie=ve(n,F);ie&&($.disabled=ie._f.disabled||M,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(se=>{se.disabled=ie._f.disabled||M}))},0,!1))},be=(M,$)=>async F=>{let ie;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let se=Bn(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ne,values:Me}=await E();r.errors=ne,se=Me}else await O(n);if(Pr(r.errors,"root"),zn(r.errors)){f.state.next({errors:{}});try{await M(se,F)}catch(ne){ie=ne}}else $&&await $({...r.errors},F),Q(),setTimeout(Q);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(r.errors)&&!ie,submitCount:r.submitCount+1,errors:r.errors}),ie)throw ie},Y=(M,$={})=>{ve(n,M)&&(ir($.defaultValue)?T(M,Bn(ve(s,M))):(T(M,$.defaultValue),Et(s,M,Bn($.defaultValue))),$.keepTouched||Pr(r.touchedFields,M),$.keepDirty||(Pr(r.dirtyFields,M),r.isDirty=$.defaultValue?A(M,Bn(ve(s,M))):A()),$.keepError||(Pr(r.errors,M),d.isValid&&w()),f.state.next({...r}))},Qe=(M,$={})=>{const F=M?Bn(M):s,ie=Bn(F),se=zn(M),ne=se?s:ie;if($.keepDefaultValues||(s=F),!$.keepValues){if($.keepDirtyValues){const Me=new Set([...o.mount,...Object.keys(yf(s,i))]);for(const ze of Array.from(Me))ve(r.dirtyFields,ze)?Et(ne,ze,ve(i,ze)):T(ze,ve(ne,ze))}else{if(vk&&ir(M))for(const Me of o.mount){const ze=ve(n,Me);if(ze&&ze._f){const Rt=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(Mv(Rt)){const ft=Rt.closest("form");if(ft){ft.reset();break}}}}n={}}i=e.shouldUnregister?$.keepDefaultValues?Bn(s):{}:Bn(ne),f.array.next({values:{...ne}}),f.values.next({values:{...ne}})}o={mount:$.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:se?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!ko(M,s)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:se?{}:$.keepDirtyValues?$.keepDefaultValues&&i?yf(s,i):r.dirtyFields:$.keepDefaultValues&&M?yf(s,M):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Le=(M,$)=>Qe(Pa(M)?M(i):M,$);return{control:{register:We,unregister:xe,getFieldState:V,handleSubmit:be,setError:me,_executeSchema:E,_getWatch:L,_getDirty:A,_updateValid:w,_removeUnmounted:P,_updateFieldArray:y,_updateDisabledField:fe,_getFieldArray:I,_reset:Qe,_resetDefaultValues:()=>Pa(t.defaultValues)&&t.defaultValues().then(M=>{Le(M,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:M=>{r={...r,...M}},_disableForm:he,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(M){a=M},get _defaultValues(){return s},get _names(){return o},set _names(M){o=M},get _formState(){return r},set _formState(M){r=M},get _options(){return t},set _options(M){t={...t,...M}}},trigger:U,register:We,handleSubmit:be,watch:Ee,setValue:T,getValues:W,reset:Le,resetField:Y,clearErrors:ue,unregister:xe,setError:me,setFocus:(M,$={})=>{const F=ve(n,M),ie=F&&F._f;if(ie){const se=ie.refs?ie.refs[0]:ie.ref;se.focus&&(se.focus(),$.shouldSelect&&se.select())}},getFieldState:V}}function lO(e={}){const t=te.useRef(),r=te.useRef(),[n,s]=te.useState({isDirty:!1,isValidating:!1,isLoading:Pa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Pa(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ote(e),formState:n});const i=t.current.control;return i._options=e,xk({subject:i._subjects.state,next:a=>{tF(a,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),te.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),te.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),te.useEffect(()=>{e.values&&!ko(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[e.values,i]),te.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),te.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),te.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),te.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=eF(n,i),t.current}const cO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ve(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},dF=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?cO(n.ref,r,e):n.refs&&n.refs.forEach(s=>cO(s,r,e))}},lte=(e,t)=>{t.shouldUseNativeValidation&&dF(e,t);const r={};for(const n in e){const s=ve(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(cte(t.names||Object.keys(e),n)){const a=Object.assign({},ve(r,n));Et(a,"root",i),Et(r,n,a)}else Et(r,n,i)}return r},cte=(e,t)=>e.some(r=>r.startsWith(t+"."));var ute=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=sF(a,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},uO=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&dF({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:lte(ute(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},gt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(gt||(gt={}));var dO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(dO||(dO={}));const Ne=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zl=e=>{switch(typeof e){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return isNaN(e)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(e)?Ne.array:e===null?Ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ne.promise:typeof Map<"u"&&e instanceof Map?Ne.map:typeof Set<"u"&&e instanceof Set?Ne.set:typeof Date<"u"&&e instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},ce=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ws extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Ws))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ws.create=e=>new Ws(e);const Gh=(e,t)=>{let r;switch(e.code){case ce.invalid_type:e.received===Ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,gt.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${gt.joinValues(e.keys,", ")}`;break;case ce.invalid_union:r="Invalid input";break;case ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gt.joinValues(e.options)}`;break;case ce.invalid_enum_value:r=`Invalid enum value. Expected ${gt.joinValues(e.options)}, received '${e.received}'`;break;case ce.invalid_arguments:r="Invalid function arguments";break;case ce.invalid_return_type:r="Invalid function return type";break;case ce.invalid_date:r="Invalid date";break;case ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:gt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ce.custom:r="Invalid input";break;case ce.invalid_intersection_types:r="Intersection results could not be merged";break;case ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,gt.assertNever(e)}return{message:r}};let dte=Gh;function g1(){return dte}const v1=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}};function Se(e,t){const r=g1(),n=v1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Gh?void 0:Gh].filter(s=>!!s)});e.common.issues.push(n)}class Nn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Nn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),Ff=e=>({status:"dirty",value:e}),es=e=>({status:"valid",value:e}),fO=e=>e.status==="aborted",hO=e=>e.status==="dirty",Lv=e=>e.status==="valid",$v=e=>typeof Promise<"u"&&e instanceof Promise;function Fv(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function fF(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));var Bf,zf;class sa{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pO=(e,t)=>{if(Lv(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ws(e.common.issues);return this._error=r,this._error}}};function rt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{var c,u;const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:s}}class ut{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return zl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Nn,ctx:{common:t.parent.common,data:t.data,parsedType:zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if($v(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zl(t)},i=this._parseSync({data:t,path:s.path,parent:s});return pO(s,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zl(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await($v(s)?s:Promise.resolve(s));return pO(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=t(s),o=()=>i.addIssue({code:ce.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Ya({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return $a.create(this,this._def)}nullable(){return wc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zi.create(this,this._def)}promise(){return Zh.create(this,this._def)}or(t){return Uv.create([this,t],this._def)}and(t){return Wv.create(this,t,this._def)}transform(t){return new Ya({...rt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Yv({...rt(this._def),innerType:this,defaultValue:r,typeName:Ge.ZodDefault})}brand(){return new gF({typeName:Ge.ZodBranded,type:this,...rt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Gv({...rt(this._def),innerType:this,catchValue:r,typeName:Ge.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return $x.create(this,t)}readonly(){return Xv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fte=/^c[^\s-]{8,}$/i,hte=/^[0-9a-z]+$/,pte=/^[0-9A-HJKMNP-TV-Z]{26}$/,mte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gte=/^[a-z0-9_-]{21}$/i,vte=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yte=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xte="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xb;const bte=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wte=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_te=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jte=new RegExp(`^${hF}$`);function pF(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Ste(e){return new RegExp(`^${pF(e)}$`)}function kte(e){let t=`${hF}T${pF(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Cte(e,t){return!!((t==="v4"||!t)&&bte.test(e)||(t==="v6"||!t)&&wte.test(e))}class Aa extends ut{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ne.string){const i=this._getOrReturnCtx(t);return Se(i,{code:ce.invalid_type,expected:Ne.string,received:i.parsedType}),Ze}const n=new Nn;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,o=t.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(t,s),a?Se(s,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Se(s,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")yte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"email",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Xb||(Xb=new RegExp(xte,"u")),Xb.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"emoji",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")mte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"uuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")gte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"nanoid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")fte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")hte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid2",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")pte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ulid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Se(s,{validation:"url",code:ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"regex",code:ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?kte(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?jte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Ste(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?vte.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"duration",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Cte(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ip",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?_te.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"base64",code:ce.invalid_string,message:i.message}),n.dirty()):gt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ce.invalid_string,...$e.errToObj(n)})}_addCheck(t){return new Aa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Aa.create=e=>{var t;return new Aa({checks:[],typeName:Ge.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...rt(e)})};function Ete(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class dd extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ne.number){const i=this._getOrReturnCtx(t);return Se(i,{code:ce.invalid_type,expected:Ne.number,received:i.parsedType}),Ze}let n;const s=new Nn;for(const i of this._def.checks)i.kind==="int"?gt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ete(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.not_finite,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,s){return new dd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(s)}]})}_addCheck(t){return new dd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&gt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}dd.create=e=>new dd({checks:[],typeName:Ge.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class fd extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Ne.bigint){const i=this._getOrReturnCtx(t);return Se(i,{code:ce.invalid_type,expected:Ne.bigint,received:i.parsedType}),Ze}let n;const s=new Nn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):gt.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,s){return new fd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(s)}]})}_addCheck(t){return new fd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fd.create=e=>{var t;return new fd({checks:[],typeName:Ge.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...rt(e)})};class y1 extends ut{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ne.boolean){const n=this._getOrReturnCtx(t);return Se(n,{code:ce.invalid_type,expected:Ne.boolean,received:n.parsedType}),Ze}return es(t.data)}}y1.create=e=>new y1({typeName:Ge.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class Xh extends ut{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ne.date){const i=this._getOrReturnCtx(t);return Se(i,{code:ce.invalid_type,expected:Ne.date,received:i.parsedType}),Ze}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Se(i,{code:ce.invalid_date}),Ze}const n=new Nn;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):gt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Xh.create=e=>new Xh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ge.ZodDate,...rt(e)});class x1 extends ut{_parse(t){if(this._getType(t)!==Ne.symbol){const n=this._getOrReturnCtx(t);return Se(n,{code:ce.invalid_type,expected:Ne.symbol,received:n.parsedType}),Ze}return es(t.data)}}x1.create=e=>new x1({typeName:Ge.ZodSymbol,...rt(e)});class Bv extends ut{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ce.invalid_type,expected:Ne.undefined,received:n.parsedType}),Ze}return es(t.data)}}Bv.create=e=>new Bv({typeName:Ge.ZodUndefined,...rt(e)});class zv extends ut{_parse(t){if(this._getType(t)!==Ne.null){const n=this._getOrReturnCtx(t);return Se(n,{code:ce.invalid_type,expected:Ne.null,received:n.parsedType}),Ze}return es(t.data)}}zv.create=e=>new zv({typeName:Ge.ZodNull,...rt(e)});class b1 extends ut{constructor(){super(...arguments),this._any=!0}_parse(t){return es(t.data)}}b1.create=e=>new b1({typeName:Ge.ZodAny,...rt(e)});class Iu extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(t){return es(t.data)}}Iu.create=e=>new Iu({typeName:Ge.ZodUnknown,...rt(e)});class sl extends ut{_parse(t){const r=this._getOrReturnCtx(t);return Se(r,{code:ce.invalid_type,expected:Ne.never,received:r.parsedType}),Ze}}sl.create=e=>new sl({typeName:Ge.ZodNever,...rt(e)});class w1 extends ut{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ce.invalid_type,expected:Ne.void,received:n.parsedType}),Ze}return es(t.data)}}w1.create=e=>new w1({typeName:Ge.ZodVoid,...rt(e)});class Zi extends ut{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Ne.array)return Se(r,{code:ce.invalid_type,expected:Ne.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(Se(r,{code:a?ce.too_big:ce.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Se(r,{code:ce.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Se(r,{code:ce.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new sa(r,a,r.path,o)))).then(a=>Nn.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new sa(r,a,r.path,o)));return Nn.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Zi({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new Zi({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new Zi({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}Zi.create=(e,t)=>new Zi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...rt(t)});function cu(e){if(e instanceof Qt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=$a.create(cu(n))}return new Qt({...e._def,shape:()=>t})}else return e instanceof Zi?new Zi({...e._def,type:cu(e.element)}):e instanceof $a?$a.create(cu(e.unwrap())):e instanceof wc?wc.create(cu(e.unwrap())):e instanceof qa?qa.create(e.items.map(t=>cu(t))):e}class Qt extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=gt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Ne.object){const u=this._getOrReturnCtx(t);return Se(u,{code:ce.invalid_type,expected:Ne.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof sl&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||o.push(u);const c=[];for(const u of a){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new sa(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof sl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&(Se(s,{code:ce.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new sa(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Nn.mergeObjectSync(n,u)):Nn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new Qt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=$e.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ge.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qt({...this._def,catchall:t})}pick(t){const r={};return gt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Qt({...this._def,shape:()=>r})}omit(t){const r={};return gt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Qt({...this._def,shape:()=>r})}deepPartial(){return cu(this)}partial(t){const r={};return gt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Qt({...this._def,shape:()=>r})}required(t){const r={};return gt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof $a;)i=i._def.innerType;r[n]=i}}),new Qt({...this._def,shape:()=>r})}keyof(){return mF(gt.objectKeys(this.shape))}}Qt.create=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strip",catchall:sl.create(),typeName:Ge.ZodObject,...rt(t)});Qt.strictCreate=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strict",catchall:sl.create(),typeName:Ge.ZodObject,...rt(t)});Qt.lazycreate=(e,t)=>new Qt({shape:e,unknownKeys:"strip",catchall:sl.create(),typeName:Ge.ZodObject,...rt(t)});class Uv extends ut{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new Ws(o.ctx.common.issues));return Se(r,{code:ce.invalid_union,unionErrors:a}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new Ws(c));return Se(r,{code:ce.invalid_union,unionErrors:o}),Ze}}get options(){return this._def.options}}Uv.create=(e,t)=>new Uv({options:e,typeName:Ge.ZodUnion,...rt(t)});const va=e=>e instanceof Hv?va(e.schema):e instanceof Ya?va(e.innerType()):e instanceof Kv?[e.value]:e instanceof bc?e.options:e instanceof qv?gt.objectValues(e.enum):e instanceof Yv?va(e._def.innerType):e instanceof Bv?[void 0]:e instanceof zv?[null]:e instanceof $a?[void 0,...va(e.unwrap())]:e instanceof wc?[null,...va(e.unwrap())]:e instanceof gF||e instanceof Xv?va(e.unwrap()):e instanceof Gv?va(e._def.innerType):[];class _k extends ut{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.object)return Se(r,{code:ce.invalid_type,expected:Ne.object,received:r.parsedType}),Ze;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Se(r,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const a=va(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,i)}}return new _k({typeName:Ge.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...rt(n)})}}function _1(e,t){const r=zl(e),n=zl(t);if(e===t)return{valid:!0,data:e};if(r===Ne.object&&n===Ne.object){const s=gt.objectKeys(t),i=gt.objectKeys(e).filter(o=>s.indexOf(o)!==-1),a={...e,...t};for(const o of i){const c=_1(e[o],t[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===Ne.array&&n===Ne.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],o=t[i],c=_1(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ne.date&&n===Ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wv extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,a)=>{if(fO(i)||fO(a))return Ze;const o=_1(i.value,a.value);return o.valid?((hO(i)||hO(a))&&r.dirty(),{status:r.value,value:o.data}):(Se(n,{code:ce.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wv.create=(e,t,r)=>new Wv({left:e,right:t,typeName:Ge.ZodIntersection,...rt(r)});class qa extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.array)return Se(n,{code:ce.invalid_type,expected:Ne.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Se(n,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new sa(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Nn.mergeArray(r,a)):Nn.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new qa({...this._def,rest:t})}}qa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qa({items:e,typeName:Ge.ZodTuple,rest:null,...rt(t)})};class Vv extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.object)return Se(n,{code:ce.invalid_type,expected:Ne.object,received:n.parsedType}),Ze;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new sa(n,o,n.path,o)),value:a._parse(new sa(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Nn.mergeObjectAsync(r,s):Nn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ut?new Vv({keyType:t,valueType:r,typeName:Ge.ZodRecord,...rt(n)}):new Vv({keyType:Aa.create(),valueType:t,typeName:Ge.ZodRecord,...rt(r)})}}class j1 extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.map)return Se(n,{code:ce.invalid_type,expected:Ne.map,received:n.parsedType}),Ze;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],u)=>({key:s._parse(new sa(n,o,n.path,[u,"key"])),value:i._parse(new sa(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}j1.create=(e,t,r)=>new j1({valueType:t,keyType:e,typeName:Ge.ZodMap,...rt(r)});class hd extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.set)return Se(n,{code:ce.invalid_type,expected:Ne.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Se(n,{code:ce.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Se(n,{code:ce.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new sa(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(t,r){return new hd({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new hd({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}hd.create=(e,t)=>new hd({valueType:e,minSize:null,maxSize:null,typeName:Ge.ZodSet,...rt(t)});class hh extends ut{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.function)return Se(r,{code:ce.invalid_type,expected:Ne.function,received:r.parsedType}),Ze;function n(o,c){return v1({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,g1(),Gh].filter(u=>!!u),issueData:{code:ce.invalid_arguments,argumentsError:c}})}function s(o,c){return v1({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,g1(),Gh].filter(u=>!!u),issueData:{code:ce.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Zh){const o=this;return es(async function(...c){const u=new Ws([]),d=await o._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const o=this;return es(function(...c){const u=o._def.args.safeParse(c,i);if(!u.success)throw new Ws([n(c,u.error)]);const d=Reflect.apply(a,this,u.data),f=o._def.returns.safeParse(d,i);if(!f.success)throw new Ws([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new hh({...this._def,args:qa.create(t).rest(Iu.create())})}returns(t){return new hh({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new hh({args:t||qa.create([]).rest(Iu.create()),returns:r||Iu.create(),typeName:Ge.ZodFunction,...rt(n)})}}class Hv extends ut{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Hv.create=(e,t)=>new Hv({getter:e,typeName:Ge.ZodLazy,...rt(t)});class Kv extends ut{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Se(r,{received:r.data,code:ce.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}Kv.create=(e,t)=>new Kv({value:e,typeName:Ge.ZodLiteral,...rt(t)});function mF(e,t){return new bc({values:e,typeName:Ge.ZodEnum,...rt(t)})}class bc extends ut{constructor(){super(...arguments),Bf.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{expected:gt.joinValues(n),received:r.parsedType,code:ce.invalid_type}),Ze}if(Fv(this,Bf)||fF(this,Bf,new Set(this._def.values)),!Fv(this,Bf).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{received:r.data,code:ce.invalid_enum_value,options:n}),Ze}return es(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return bc.create(t,{...this._def,...r})}exclude(t,r=this._def){return bc.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Bf=new WeakMap;bc.create=mF;class qv extends ut{constructor(){super(...arguments),zf.set(this,void 0)}_parse(t){const r=gt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const s=gt.objectValues(r);return Se(n,{expected:gt.joinValues(s),received:n.parsedType,code:ce.invalid_type}),Ze}if(Fv(this,zf)||fF(this,zf,new Set(gt.getValidEnumValues(this._def.values))),!Fv(this,zf).has(t.data)){const s=gt.objectValues(r);return Se(n,{received:n.data,code:ce.invalid_enum_value,options:s}),Ze}return es(t.data)}get enum(){return this._def.values}}zf=new WeakMap;qv.create=(e,t)=>new qv({values:e,typeName:Ge.ZodNativeEnum,...rt(t)});class Zh extends ut{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.promise&&r.common.async===!1)return Se(r,{code:ce.invalid_type,expected:Ne.promise,received:r.parsedType}),Ze;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return es(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zh.create=(e,t)=>new Zh({type:e,typeName:Ge.ZodPromise,...rt(t)});class Ya extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{Se(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?Ff(c.value):c});{if(r.value==="aborted")return Ze;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Ze:o.status==="dirty"||r.value==="dirty"?Ff(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ze:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ze:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Lv(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Lv(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);gt.assertNever(s)}}Ya.create=(e,t,r)=>new Ya({schema:e,typeName:Ge.ZodEffects,effect:t,...rt(r)});Ya.createWithPreprocess=(e,t,r)=>new Ya({schema:t,effect:{type:"preprocess",transform:e},typeName:Ge.ZodEffects,...rt(r)});class $a extends ut{_parse(t){return this._getType(t)===Ne.undefined?es(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$a.create=(e,t)=>new $a({innerType:e,typeName:Ge.ZodOptional,...rt(t)});class wc extends ut{_parse(t){return this._getType(t)===Ne.null?es(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wc.create=(e,t)=>new wc({innerType:e,typeName:Ge.ZodNullable,...rt(t)});class Yv extends ut{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Yv.create=(e,t)=>new Yv({innerType:e,typeName:Ge.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...rt(t)});class Gv extends ut{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $v(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ws(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ws(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Gv.create=(e,t)=>new Gv({innerType:e,typeName:Ge.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...rt(t)});class S1 extends ut{_parse(t){if(this._getType(t)!==Ne.nan){const n=this._getOrReturnCtx(t);return Se(n,{code:ce.invalid_type,expected:Ne.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}S1.create=e=>new S1({typeName:Ge.ZodNaN,...rt(e)});class gF extends ut{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class $x extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),Ff(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new $x({in:t,out:r,typeName:Ge.ZodPipeline})}}class Xv extends ut{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Lv(s)&&(s.value=Object.freeze(s.value)),s);return $v(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Xv.create=(e,t)=>new Xv({innerType:e,typeName:Ge.ZodReadonly,...rt(t)});Qt.lazycreate;var Ge;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const At=Aa.create,vF=dd.create;S1.create;fd.create;const Nte=y1.create;Xh.create;x1.create;Bv.create;zv.create;b1.create;Iu.create;sl.create;w1.create;const mO=Zi.create,Zv=Qt.create;Qt.strictCreate;Uv.create;_k.create;Wv.create;qa.create;Vv.create;j1.create;hd.create;hh.create;Hv.create;Kv.create;const gO=bc.create;qv.create;Zh.create;Ya.create;$a.create;wc.create;Ya.createWithPreprocess;$x.create;const De=g.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));De.displayName="Card";const Ke=g.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));Ke.displayName="CardHeader";const qe=g.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const Gt=g.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:ye("text-sm text-muted-foreground",e),...t}));Gt.displayName="CardDescription";const Re=g.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ye("p-6 pt-0",e),...t}));Re.displayName="CardContent";const Pte=g.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ye("flex items-center p-6 pt-0",e),...t}));Pte.displayName="CardFooter";const He=g.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));He.displayName="Input";var Ate="Label",yF=g.forwardRef((e,t)=>l.jsx(Be.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yF.displayName=Ate;var xF=yF;const Ote=Ap("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),J=g.forwardRef(({className:e,...t},r)=>l.jsx(xF,{ref:r,className:ye(Ote(),e),...t}));J.displayName=xF.displayName;function vO(e,[t,r]){return Math.min(r,Math.max(t,e))}var Zb=0;function Fx(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yO()),document.body.insertAdjacentElement("beforeend",e[1]??yO()),Zb++,()=>{Zb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Zb--}},[])}function yO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qb="focusScope.autoFocusOnMount",Jb="focusScope.autoFocusOnUnmount",xO={bubbles:!1,cancelable:!0},Tte="FocusScope",Up=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[o,c]=g.useState(null),u=vn(s),d=vn(i),f=g.useRef(null),h=ct(t,v=>c(v)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let v=function(x){if(m.paused||!o)return;const _=x.target;o.contains(_)?f.current=_:vo(f.current,{select:!0})},w=function(x){if(m.paused||!o)return;const _=x.relatedTarget;_!==null&&(o.contains(_)||vo(f.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&vo(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const y=new MutationObserver(b);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),y.disconnect()}}},[n,o,m.paused]),g.useEffect(()=>{if(o){wO.add(m);const v=document.activeElement;if(!o.contains(v)){const b=new CustomEvent(Qb,xO);o.addEventListener(Qb,u),o.dispatchEvent(b),b.defaultPrevented||(Dte($te(bF(o)),{select:!0}),document.activeElement===v&&vo(o))}return()=>{o.removeEventListener(Qb,u),setTimeout(()=>{const b=new CustomEvent(Jb,xO);o.addEventListener(Jb,d),o.dispatchEvent(b),b.defaultPrevented||vo(v??document.body,{select:!0}),o.removeEventListener(Jb,d),wO.remove(m)},0)}}},[o,u,d,m]);const p=g.useCallback(v=>{if(!r&&!n||m.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(w&&b){const y=v.currentTarget,[x,_]=Mte(y);x&&_?!v.shiftKey&&b===_?(v.preventDefault(),r&&vo(x,{select:!0})):v.shiftKey&&b===x&&(v.preventDefault(),r&&vo(_,{select:!0})):b===y&&v.preventDefault()}},[r,n,m.paused]);return l.jsx(Be.div,{tabIndex:-1,...a,ref:h,onKeyDown:p})});Up.displayName=Tte;function Dte(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(vo(n,{select:t}),document.activeElement!==r)return}function Mte(e){const t=bF(e),r=bO(t,e),n=bO(t.reverse(),e);return[r,n]}function bF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bO(e,t){for(const r of e)if(!Rte(r,{upTo:t}))return r}function Rte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ite(e){return e instanceof HTMLInputElement&&"select"in e}function vo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ite(e)&&t&&e.select()}}var wO=Lte();function Lte(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_O(e,t),e.unshift(t)},remove(t){var r;e=_O(e,t),(r=e[0])==null||r.resume()}}}function _O(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function $te(e){return e.filter(t=>t.tagName!=="A")}function jk(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Fte=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tu=new WeakMap,Vm=new WeakMap,Hm={},ew=0,wF=function(e){return e&&(e.host||wF(e.parentNode))},Bte=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zte=function(e,t,r,n){var s=Bte(t,Array.isArray(e)?e:[e]);Hm[r]||(Hm[r]=new WeakMap);var i=Hm[r],a=[],o=new Set,c=new Set(s),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",v=(tu.get(h)||0)+1,w=(i.get(h)||0)+1;tu.set(h,v),i.set(h,w),a.push(h),v===1&&p&&Vm.set(h,!0),w===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),o.clear(),ew++,function(){a.forEach(function(f){var h=tu.get(f)-1,m=i.get(f)-1;tu.set(f,h),i.set(f,m),h||(Vm.has(f)||f.removeAttribute(n),Vm.delete(f)),m||f.removeAttribute(r)}),ew--,ew||(tu=new WeakMap,tu=new WeakMap,Vm=new WeakMap,Hm={})}},Bx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Fte(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),zte(n,s,r,"aria-hidden")):function(){return null}},Vi=function(){return Vi=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Vi.apply(this,arguments)};function _F(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Ute(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ug="right-scroll-bar-position",Wg="width-before-scroll-bar",Wte="with-scroll-bars-hidden",Vte="--removed-body-scroll-bar-size";function tw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Hte(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var Kte=typeof window<"u"?g.useLayoutEffect:g.useEffect,jO=new WeakMap;function qte(e,t){var r=Hte(null,function(n){return e.forEach(function(s){return tw(s,n)})});return Kte(function(){var n=jO.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(o){i.has(o)||tw(o,null)}),i.forEach(function(o){s.has(o)||tw(o,a)})}jO.set(r,e)},[e]),r}function Yte(e){return e}function Gte(e,t){t===void 0&&(t=Yte);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(i),a=r}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function Xte(e){e===void 0&&(e={});var t=Gte(null);return t.options=Vi({async:!0,ssr:!1},e),t}var jF=function(e){var t=e.sideCar,r=_F(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Vi({},r))};jF.isSideCarExport=!0;function Zte(e,t){return e.useMedium(t),jF}var SF=Xte(),rw=function(){},zx=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:rw,onWheelCapture:rw,onTouchMoveCapture:rw}),s=n[0],i=n[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,p=e.inert,v=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,y=e.gapMode,x=_F(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=qte([r,t]),k=Vi(Vi({},x),s);return g.createElement(g.Fragment,null,d&&g.createElement(_,{sideCar:SF,removeScrollBar:u,shards:f,noIsolation:m,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:y}),a?g.cloneElement(g.Children.only(o),Vi(Vi({},k),{ref:j})):g.createElement(b,Vi({},k,{className:c,ref:j}),o))});zx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zx.classNames={fullWidth:Wg,zeroRight:Ug};var Qte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qte();return t&&e.setAttribute("nonce",t),e}function ere(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rre=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Jte())&&(ere(t,r),tre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nre=function(){var e=rre();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kF=function(){var e=nre(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},sre={left:0,top:0,right:0,gap:0},nw=function(e){return parseInt(e||"",10)||0},ire=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[nw(r),nw(n),nw(s)]},are=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sre;var t=ire(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ore=kF(),Lu="data-scroll-locked",lre=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Wte,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Lu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ug,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Wg,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Ug," .").concat(Ug,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wg," .").concat(Wg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lu,`] {
    `).concat(Vte,": ").concat(o,`px;
  }
`)},SO=function(){var e=parseInt(document.body.getAttribute(Lu)||"0",10);return isFinite(e)?e:0},cre=function(){g.useEffect(function(){return document.body.setAttribute(Lu,(SO()+1).toString()),function(){var e=SO()-1;e<=0?document.body.removeAttribute(Lu):document.body.setAttribute(Lu,e.toString())}},[])},ure=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;cre();var i=g.useMemo(function(){return are(s)},[s]);return g.createElement(ore,{styles:lre(i,!t,s,r?"":"!important")})},k1=!1;if(typeof window<"u")try{var Km=Object.defineProperty({},"passive",{get:function(){return k1=!0,!0}});window.addEventListener("test",Km,Km),window.removeEventListener("test",Km,Km)}catch{k1=!1}var ru=k1?{passive:!1}:!1,dre=function(e){return e.tagName==="TEXTAREA"},CF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dre(e)&&r[t]==="visible")},fre=function(e){return CF(e,"overflowY")},hre=function(e){return CF(e,"overflowX")},kO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=EF(e,n);if(s){var i=NF(e,n),a=i[1],o=i[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pre=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mre=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},EF=function(e,t){return e==="v"?fre(t):hre(t)},NF=function(e,t){return e==="v"?pre(t):mre(t)},gre=function(e,t){return e==="h"&&t==="rtl"?-1:1},vre=function(e,t,r,n,s){var i=gre(e,window.getComputedStyle(t).direction),a=i*n,o=r.target,c=t.contains(o),u=!1,d=a>0,f=0,h=0;do{var m=NF(e,o),p=m[0],v=m[1],w=m[2],b=v-w-i*p;(p||b)&&EF(e,o)&&(f+=b,h+=p),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},qm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CO=function(e){return[e.deltaX,e.deltaY]},EO=function(e){return e&&"current"in e?e.current:e},yre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bre=0,nu=[];function wre(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),s=g.useState(bre++)[0],i=g.useState(kF)[0],a=g.useRef(e);g.useEffect(function(){a.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Ute([e.lockRef.current],(e.shards||[]).map(EO),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=g.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=qm(v),y=r.current,x="deltaX"in v?v.deltaX:y[0]-b[0],_="deltaY"in v?v.deltaY:y[1]-b[1],j,k=v.target,S=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in v&&S==="h"&&k.type==="range")return!1;var E=kO(S,k);if(!E)return!0;if(E?j=S:(j=S==="v"?"h":"v",E=kO(S,k)),!E)return!1;if(!n.current&&"changedTouches"in v&&(x||_)&&(n.current=j),!j)return!0;var N=n.current||j;return vre(N,w,v,N==="h"?x:_,!0)},[]),c=g.useCallback(function(v){var w=v;if(!(!nu.length||nu[nu.length-1]!==i)){var b="deltaY"in w?CO(w):qm(w),y=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&yre(j.delta,b)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var x=(a.current.shards||[]).map(EO).filter(Boolean).filter(function(j){return j.contains(w.target)}),_=x.length>0?o(w,x[0]):!a.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=g.useCallback(function(v,w,b,y){var x={name:v,delta:w,target:b,should:y,shadowParent:_re(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=g.useCallback(function(v){r.current=qm(v),n.current=void 0},[]),f=g.useCallback(function(v){u(v.type,CO(v),v.target,o(v,e.lockRef.current))},[]),h=g.useCallback(function(v){u(v.type,qm(v),v.target,o(v,e.lockRef.current))},[]);g.useEffect(function(){return nu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ru),document.addEventListener("touchmove",c,ru),document.addEventListener("touchstart",d,ru),function(){nu=nu.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,ru),document.removeEventListener("touchmove",c,ru),document.removeEventListener("touchstart",d,ru)}},[]);var m=e.removeScrollBar,p=e.inert;return g.createElement(g.Fragment,null,p?g.createElement(i,{styles:xre(s)}):null,m?g.createElement(ure,{gapMode:e.gapMode}):null)}function _re(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jre=Zte(SF,wre);var Wp=g.forwardRef(function(e,t){return g.createElement(zx,Vi({},e,{ref:t,sideCar:jre}))});Wp.classNames=zx.classNames;var Sre=[" ","Enter","ArrowUp","ArrowDown"],kre=[" ","Enter"],Vp="Select",[Ux,Wx,Cre]=cx(Vp),[Ud,iEe]=Oi(Vp,[Cre,pl]),Vx=pl(),[Ere,gl]=Ud(Vp),[Nre,Pre]=Ud(Vp),PF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=e,v=Vx(t),[w,b]=g.useState(null),[y,x]=g.useState(null),[_,j]=g.useState(!1),k=Dx(u),[S=!1,E]=ji({prop:n,defaultProp:s,onChange:i}),[N,O]=ji({prop:a,defaultProp:o,onChange:c}),P=g.useRef(null),A=w?p||!!w.closest("form"):!0,[L,I]=g.useState(new Set),B=Array.from(L).map(z=>z.props.value).join(";");return l.jsx(gx,{...v,children:l.jsxs(Ere,{required:m,scope:t,trigger:w,onTriggerChange:b,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Us(),value:N,onValueChange:O,open:S,onOpenChange:E,dir:k,triggerPointerDownPosRef:P,disabled:h,children:[l.jsx(Ux.Provider,{scope:t,children:l.jsx(Nre,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(z=>{I(T=>new Set(T).add(z))},[]),onNativeOptionRemove:g.useCallback(z=>{I(T=>{const C=new Set(T);return C.delete(z),C})},[]),children:r})}),A?l.jsxs(e5,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:z=>O(z.target.value),disabled:h,form:p,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(L)]},B):null]})})};PF.displayName=Vp;var AF="SelectTrigger",OF=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Vx(r),a=gl(AF,r),o=a.disabled||n,c=ct(t,a.onTriggerChange),u=Wx(r),d=g.useRef("touch"),[f,h,m]=t5(v=>{const w=u().filter(x=>!x.disabled),b=w.find(x=>x.value===a.value),y=r5(w,v,b);y!==void 0&&a.onValueChange(y.value)}),p=v=>{o||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Tp,{asChild:!0,...i,children:l.jsx(Be.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":JF(a.value)?"":void 0,...s,ref:c,onClick:pe(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&p(v)}),onPointerDown:pe(s.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(p(v),v.preventDefault())}),onKeyDown:pe(s.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&Sre.includes(v.key)&&(p(),v.preventDefault())})})})});OF.displayName=AF;var TF="SelectValue",DF=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...o}=e,c=gl(TF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ct(t,c.onValueNodeChange);return yn(()=>{u(d)},[u,d]),l.jsx(Be.span,{...o,ref:f,style:{pointerEvents:"none"},children:JF(c.value)?l.jsx(l.Fragment,{children:a}):i})});DF.displayName=TF;var Are="SelectIcon",MF=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(Be.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});MF.displayName=Are;var Ore="SelectPortal",RF=e=>l.jsx(Dd,{asChild:!0,...e});RF.displayName=Ore;var _c="SelectContent",IF=g.forwardRef((e,t)=>{const r=gl(_c,e.__scopeSelect),[n,s]=g.useState();if(yn(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?hl.createPortal(l.jsx(LF,{scope:e.__scopeSelect,children:l.jsx(Ux.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx($F,{...e,ref:t})});IF.displayName=_c;var oi=10,[LF,vl]=Ud(_c),Tre="SelectContentImpl",$F=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:v,avoidCollisions:w,...b}=e,y=gl(_c,r),[x,_]=g.useState(null),[j,k]=g.useState(null),S=ct(t,fe=>_(fe)),[E,N]=g.useState(null),[O,P]=g.useState(null),A=Wx(r),[L,I]=g.useState(!1),B=g.useRef(!1);g.useEffect(()=>{if(x)return Bx(x)},[x]),Fx();const z=g.useCallback(fe=>{const[We,...Q]=A().map(Y=>Y.ref.current),[he]=Q.slice(-1),be=document.activeElement;for(const Y of fe)if(Y===be||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===We&&j&&(j.scrollTop=0),Y===he&&j&&(j.scrollTop=j.scrollHeight),Y==null||Y.focus(),document.activeElement!==be))return},[A,j]),T=g.useCallback(()=>z([E,x]),[z,E,x]);g.useEffect(()=>{L&&T()},[L,T]);const{onOpenChange:C,triggerPointerDownPosRef:D}=y;g.useEffect(()=>{if(x){let fe={x:0,y:0};const We=he=>{var be,Y;fe={x:Math.abs(Math.round(he.pageX)-(((be=D.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(he.pageY)-(((Y=D.current)==null?void 0:Y.y)??0))}},Q=he=>{fe.x<=10&&fe.y<=10?he.preventDefault():x.contains(he.target)||C(!1),document.removeEventListener("pointermove",We),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",We),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Q,{capture:!0})}}},[x,C,D]),g.useEffect(()=>{const fe=()=>C(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[C]);const[U,W]=t5(fe=>{const We=A().filter(be=>!be.disabled),Q=We.find(be=>be.ref.current===document.activeElement),he=r5(We,fe,Q);he&&setTimeout(()=>he.ref.current.focus())}),V=g.useCallback((fe,We,Q)=>{const he=!B.current&&!Q;(y.value!==void 0&&y.value===We||he)&&(N(fe),he&&(B.current=!0))},[y.value]),ue=g.useCallback(()=>x==null?void 0:x.focus(),[x]),me=g.useCallback((fe,We,Q)=>{const he=!B.current&&!Q;(y.value!==void 0&&y.value===We||he)&&P(fe)},[y.value]),Ee=n==="popper"?C1:FF,xe=Ee===C1?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:v,avoidCollisions:w}:{};return l.jsx(LF,{scope:r,content:x,viewport:j,onViewportChange:k,itemRefCallback:V,selectedItem:E,onItemLeave:ue,itemTextRefCallback:me,focusSelectedItem:T,selectedItemText:O,position:n,isPositioned:L,searchRef:U,children:l.jsx(Wp,{as:Va,allowPinchZoom:!0,children:l.jsx(Up,{asChild:!0,trapped:y.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:pe(s,fe=>{var We;(We=y.trigger)==null||We.focus({preventScroll:!0}),fe.preventDefault()}),children:l.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(Ee,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:fe=>fe.preventDefault(),...b,...xe,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:pe(b.onKeyDown,fe=>{const We=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!We&&fe.key.length===1&&W(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let he=A().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const be=fe.target,Y=he.indexOf(be);he=he.slice(Y+1)}setTimeout(()=>z(he)),fe.preventDefault()}})})})})})})});$F.displayName=Tre;var Dre="SelectItemAlignedPosition",FF=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=gl(_c,r),a=vl(_c,r),[o,c]=g.useState(null),[u,d]=g.useState(null),f=ct(t,S=>d(S)),h=Wx(r),m=g.useRef(!1),p=g.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:b,focusSelectedItem:y}=a,x=g.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&v&&w&&b){const S=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(i.dir!=="rtl"){const be=O.left-E.left,Y=N.left-be,Qe=S.left-Y,Le=S.width+Qe,Je=Math.max(Le,E.width),it=window.innerWidth-oi,Z=vO(Y,[oi,Math.max(oi,it-Je)]);o.style.minWidth=Le+"px",o.style.left=Z+"px"}else{const be=E.right-O.right,Y=window.innerWidth-N.right-be,Qe=window.innerWidth-S.right-Y,Le=S.width+Qe,Je=Math.max(Le,E.width),it=window.innerWidth-oi,Z=vO(Y,[oi,Math.max(oi,it-Je)]);o.style.minWidth=Le+"px",o.style.right=Z+"px"}const P=h(),A=window.innerHeight-oi*2,L=v.scrollHeight,I=window.getComputedStyle(u),B=parseInt(I.borderTopWidth,10),z=parseInt(I.paddingTop,10),T=parseInt(I.borderBottomWidth,10),C=parseInt(I.paddingBottom,10),D=B+z+L+C+T,U=Math.min(w.offsetHeight*5,D),W=window.getComputedStyle(v),V=parseInt(W.paddingTop,10),ue=parseInt(W.paddingBottom,10),me=S.top+S.height/2-oi,Ee=A-me,xe=w.offsetHeight/2,fe=w.offsetTop+xe,We=B+z+fe,Q=D-We;if(We<=me){const be=P.length>0&&w===P[P.length-1].ref.current;o.style.bottom="0px";const Y=u.clientHeight-v.offsetTop-v.offsetHeight,Qe=Math.max(Ee,xe+(be?ue:0)+Y+T),Le=We+Qe;o.style.height=Le+"px"}else{const be=P.length>0&&w===P[0].ref.current;o.style.top="0px";const Qe=Math.max(me,B+v.offsetTop+(be?V:0)+xe)+Q;o.style.height=Qe+"px",v.scrollTop=We-me+v.offsetTop}o.style.margin=`${oi}px 0`,o.style.minHeight=U+"px",o.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,o,u,v,w,b,i.dir,n]);yn(()=>x(),[x]);const[_,j]=g.useState();yn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const k=g.useCallback(S=>{S&&p.current===!0&&(x(),y==null||y(),p.current=!1)},[x,y]);return l.jsx(Rre,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(Be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});FF.displayName=Dre;var Mre="SelectPopperPosition",C1=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=oi,...i}=e,a=Vx(r);return l.jsx(vx,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});C1.displayName=Mre;var[Rre,Sk]=Ud(_c,{}),E1="SelectViewport",BF=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=vl(E1,r),a=Sk(E1,r),o=ct(t,i.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Ux.Slot,{scope:r,children:l.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-oi*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(v,w);if(b<p){const y=b+m,x=Math.min(p,y),_=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});BF.displayName=E1;var zF="SelectGroup",[Ire,Lre]=Ud(zF),$re=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Us();return l.jsx(Ire,{scope:r,id:s,children:l.jsx(Be.div,{role:"group","aria-labelledby":s,...n,ref:t})})});$re.displayName=zF;var UF="SelectLabel",WF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Lre(UF,r);return l.jsx(Be.div,{id:s.id,...n,ref:t})});WF.displayName=UF;var Qv="SelectItem",[Fre,VF]=Ud(Qv),HF=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,o=gl(Qv,r),c=vl(Qv,r),u=o.value===n,[d,f]=g.useState(i??""),[h,m]=g.useState(!1),p=ct(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,s)}),v=Us(),w=g.useRef("touch"),b=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Fre,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:g.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(Ux.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(Be.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:p,onFocus:pe(a.onFocus,()=>m(!0)),onBlur:pe(a.onBlur,()=>m(!1)),onClick:pe(a.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:pe(a.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:pe(a.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:pe(a.onPointerMove,y=>{var x;w.current=y.pointerType,s?(x=c.onItemLeave)==null||x.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(a.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:pe(a.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(kre.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});HF.displayName=Qv;var Uf="SelectItemText",KF=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=gl(Uf,r),o=vl(Uf,r),c=VF(Uf,r),u=Pre(Uf,r),[d,f]=g.useState(null),h=ct(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return yn(()=>(v(p),()=>w(p)),[v,w,p]),l.jsxs(l.Fragment,{children:[l.jsx(Be.span,{id:c.textId,...i,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?hl.createPortal(i.children,a.valueNode):null]})});KF.displayName=Uf;var qF="SelectItemIndicator",YF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return VF(qF,r).isSelected?l.jsx(Be.span,{"aria-hidden":!0,...n,ref:t}):null});YF.displayName=qF;var N1="SelectScrollUpButton",GF=g.forwardRef((e,t)=>{const r=vl(N1,e.__scopeSelect),n=Sk(N1,e.__scopeSelect),[s,i]=g.useState(!1),a=ct(t,n.onScrollButtonChange);return yn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(ZF,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});GF.displayName=N1;var P1="SelectScrollDownButton",XF=g.forwardRef((e,t)=>{const r=vl(P1,e.__scopeSelect),n=Sk(P1,e.__scopeSelect),[s,i]=g.useState(!1),a=ct(t,n.onScrollButtonChange);return yn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(ZF,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});XF.displayName=P1;var ZF=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=vl("SelectScrollButton",r),a=g.useRef(null),o=Wx(r),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),yn(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Be.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:pe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{c()})})}),Bre="SelectSeparator",QF=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(Be.div,{"aria-hidden":!0,...n,ref:t})});QF.displayName=Bre;var A1="SelectArrow",zre=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vx(r),i=gl(A1,r),a=vl(A1,r);return i.open&&a.position==="popper"?l.jsx(yx,{...s,...n,ref:t}):null});zre.displayName=A1;function JF(e){return e===""||e===void 0}var e5=g.forwardRef((e,t)=>{const{value:r,...n}=e,s=g.useRef(null),i=ct(t,s),a=jk(r);return g.useEffect(()=>{const o=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&d){const f=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(f)}},[a,r]),l.jsx(Pp,{asChild:!0,children:l.jsx("select",{...n,ref:i,defaultValue:r})})});e5.displayName="BubbleSelect";function t5(e){const t=vn(e),r=g.useRef(""),n=g.useRef(0),s=g.useCallback(a=>{const o=r.current+a;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function r5(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=Ure(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Ure(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Wre=PF,n5=OF,Vre=DF,Hre=MF,Kre=RF,s5=IF,qre=BF,i5=WF,a5=HF,Yre=KF,Gre=YF,o5=GF,l5=XF,c5=QF;const ke=Wre,Ce=Vre,_e=g.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(n5,{ref:n,className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(Hre,{asChild:!0,children:l.jsx($L,{className:"h-4 w-4 opacity-50"})})]}));_e.displayName=n5.displayName;const u5=g.forwardRef(({className:e,...t},r)=>l.jsx(o5,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(SK,{className:"h-4 w-4"})}));u5.displayName=o5.displayName;const d5=g.forwardRef(({className:e,...t},r)=>l.jsx(l5,{ref:r,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx($L,{className:"h-4 w-4"})}));d5.displayName=l5.displayName;const je=g.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(Kre,{children:l.jsxs(s5,{ref:s,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(u5,{}),l.jsx(qre,{className:ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(d5,{})]})}));je.displayName=s5.displayName;const Xre=g.forwardRef(({className:e,...t},r)=>l.jsx(i5,{ref:r,className:ye("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Xre.displayName=i5.displayName;const q=g.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(a5,{ref:n,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Gre,{children:l.jsx($h,{className:"h-4 w-4"})})}),l.jsx(Yre,{children:t})]}));q.displayName=a5.displayName;const Zre=g.forwardRef(({className:e,...t},r)=>l.jsx(c5,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));Zre.displayName=c5.displayName;const pd=g.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:ye("w-full caption-bottom text-sm",e),...t})}));pd.displayName="Table";const md=g.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:ye("[&_tr]:border-b",e),...t}));md.displayName="TableHeader";const gd=g.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:ye("[&_tr:last-child]:border-0",e),...t}));gd.displayName="TableBody";const Qre=g.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Qre.displayName="TableFooter";const gs=g.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));gs.displayName="TableRow";const wt=g.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));wt.displayName="TableHead";const et=g.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));et.displayName="TableCell";const Jre=g.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:ye("mt-4 text-sm text-muted-foreground",e),...t}));Jre.displayName="TableCaption";var kk="Dialog",[f5,h5]=Oi(kk),[ene,Ti]=f5(kk),p5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,o=g.useRef(null),c=g.useRef(null),[u=!1,d]=ji({prop:n,defaultProp:s,onChange:i});return l.jsx(ene,{scope:t,triggerRef:o,contentRef:c,contentId:Us(),titleId:Us(),descriptionId:Us(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};p5.displayName=kk;var m5="DialogTrigger",g5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ti(m5,r),i=ct(t,s.triggerRef);return l.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nk(s.open),...n,ref:i,onClick:pe(e.onClick,s.onOpenToggle)})});g5.displayName=m5;var Ck="DialogPortal",[tne,v5]=f5(Ck,{forceMount:void 0}),y5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Ti(Ck,t);return l.jsx(tne,{scope:t,forceMount:r,children:g.Children.map(n,a=>l.jsx(ts,{present:r||i.open,children:l.jsx(Dd,{asChild:!0,container:s,children:a})}))})};y5.displayName=Ck;var Jv="DialogOverlay",x5=g.forwardRef((e,t)=>{const r=v5(Jv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ti(Jv,e.__scopeDialog);return i.modal?l.jsx(ts,{present:n||i.open,children:l.jsx(rne,{...s,ref:t})}):null});x5.displayName=Jv;var rne=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ti(Jv,r);return l.jsx(Wp,{as:Va,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Be.div,{"data-state":Nk(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),jc="DialogContent",b5=g.forwardRef((e,t)=>{const r=v5(jc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ti(jc,e.__scopeDialog);return l.jsx(ts,{present:n||i.open,children:i.modal?l.jsx(nne,{...s,ref:t}):l.jsx(sne,{...s,ref:t})})});b5.displayName=jc;var nne=g.forwardRef((e,t)=>{const r=Ti(jc,e.__scopeDialog),n=g.useRef(null),s=ct(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return Bx(i)},[]),l.jsx(w5,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&i.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,i=>i.preventDefault())})}),sne=g.forwardRef((e,t)=>{const r=Ti(jc,e.__scopeDialog),n=g.useRef(!1),s=g.useRef(!1);return l.jsx(w5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),w5=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,o=Ti(jc,r),c=g.useRef(null),u=ct(t,c);return Fx(),l.jsxs(l.Fragment,{children:[l.jsx(Up,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Mc,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Nk(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(ane,{titleId:o.titleId}),l.jsx(lne,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Ek="DialogTitle",_5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ti(Ek,r);return l.jsx(Be.h2,{id:s.titleId,...n,ref:t})});_5.displayName=Ek;var j5="DialogDescription",S5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ti(j5,r);return l.jsx(Be.p,{id:s.descriptionId,...n,ref:t})});S5.displayName=j5;var k5="DialogClose",C5=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ti(k5,r);return l.jsx(Be.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>s.onOpenChange(!1))})});C5.displayName=k5;function Nk(e){return e?"open":"closed"}var E5="DialogTitleWarning",[ine,N5]=M7(E5,{contentName:jc,titleName:Ek,docsSlug:"dialog"}),ane=({titleId:e})=>{const t=N5(E5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},one="DialogDescriptionWarning",lne=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${N5(one).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},P5=p5,A5=g5,O5=y5,Pk=x5,Ak=b5,Ok=_5,Tk=S5,Dk=C5;const wr=P5,Qh=A5,cne=O5,T5=g.forwardRef(({className:e,...t},r)=>l.jsx(Pk,{ref:r,className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));T5.displayName=Pk.displayName;const fr=g.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(cne,{children:[l.jsx(T5,{}),l.jsxs(Ak,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(Dk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ta,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fr.displayName=Ak.displayName;const hr=({className:e,...t})=>l.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hr.displayName="DialogHeader";const il=({className:e,...t})=>l.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});il.displayName="DialogFooter";const pr=g.forwardRef(({className:e,...t},r)=>l.jsx(Ok,{ref:r,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));pr.displayName=Ok.displayName;const mr=g.forwardRef(({className:e,...t},r)=>l.jsx(Tk,{ref:r,className:ye("text-sm text-muted-foreground",e),...t}));mr.displayName=Tk.displayName;var D5="AlertDialog",[une,aEe]=Oi(D5,[h5]),to=h5(),M5=e=>{const{__scopeAlertDialog:t,...r}=e,n=to(t);return l.jsx(P5,{...n,...r,modal:!0})};M5.displayName=D5;var dne="AlertDialogTrigger",fne=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return l.jsx(A5,{...s,...n,ref:t})});fne.displayName=dne;var hne="AlertDialogPortal",R5=e=>{const{__scopeAlertDialog:t,...r}=e,n=to(t);return l.jsx(O5,{...n,...r})};R5.displayName=hne;var pne="AlertDialogOverlay",I5=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return l.jsx(Pk,{...s,...n,ref:t})});I5.displayName=pne;var $u="AlertDialogContent",[mne,gne]=une($u),L5=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=to(r),a=g.useRef(null),o=ct(t,a),c=g.useRef(null);return l.jsx(ine,{contentName:$u,titleName:$5,docsSlug:"alert-dialog",children:l.jsx(mne,{scope:r,cancelRef:c,children:l.jsxs(Ak,{role:"alertdialog",...i,...s,ref:o,onOpenAutoFocus:pe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(RS,{children:n}),l.jsx(yne,{contentRef:a})]})})})});L5.displayName=$u;var $5="AlertDialogTitle",F5=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return l.jsx(Ok,{...s,...n,ref:t})});F5.displayName=$5;var B5="AlertDialogDescription",z5=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return l.jsx(Tk,{...s,...n,ref:t})});z5.displayName=B5;var vne="AlertDialogAction",U5=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=to(r);return l.jsx(Dk,{...s,...n,ref:t})});U5.displayName=vne;var W5="AlertDialogCancel",V5=g.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=gne(W5,r),i=to(r),a=ct(t,s);return l.jsx(Dk,{...i,...n,ref:a})});V5.displayName=W5;var yne=({contentRef:e})=>{const t=`\`${$u}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$u}\` by passing a \`${B5}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$u}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},xne=M5,bne=R5,H5=I5,K5=L5,q5=U5,Y5=V5,G5=F5,X5=z5;const wne=xne,_ne=bne,Z5=g.forwardRef(({className:e,...t},r)=>l.jsx(H5,{className:ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Z5.displayName=H5.displayName;const Q5=g.forwardRef(({className:e,...t},r)=>l.jsxs(_ne,{children:[l.jsx(Z5,{}),l.jsx(K5,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Q5.displayName=K5.displayName;const J5=({className:e,...t})=>l.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});J5.displayName="AlertDialogHeader";const e3=({className:e,...t})=>l.jsx("div",{className:ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e3.displayName="AlertDialogFooter";const t3=g.forwardRef(({className:e,...t},r)=>l.jsx(G5,{ref:r,className:ye("text-lg font-semibold",e),...t}));t3.displayName=G5.displayName;const r3=g.forwardRef(({className:e,...t},r)=>l.jsx(X5,{ref:r,className:ye("text-sm text-muted-foreground",e),...t}));r3.displayName=X5.displayName;const n3=g.forwardRef(({className:e,...t},r)=>l.jsx(q5,{ref:r,className:ye(qh(),e),...t}));n3.displayName=q5.displayName;const s3=g.forwardRef(({className:e,...t},r)=>l.jsx(Y5,{ref:r,className:ye(qh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));s3.displayName=Y5.displayName;const Mk=g.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Mk.displayName="Textarea";var jne="Separator",NO="horizontal",Sne=["horizontal","vertical"],i3=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=NO,...s}=e,i=kne(n)?n:NO,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(Be.div,{"data-orientation":i,...o,...s,ref:t})});i3.displayName=jne;function kne(e){return Sne.includes(e)}var a3=i3;const Hi=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(a3,{ref:s,decorative:r,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Hi.displayName=a3.displayName;const Lc=()=>{const{enums:e,loading:t,error:r,refreshEnums:n,addEnumValue:s}=ck();return{enums:e,loading:t,error:r,addEnumValue:s,refreshEnums:n}};var Rk="Popover",[o3,oEe]=Oi(Rk,[pl]),Hp=pl(),[Cne,yl]=o3(Rk),l3=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,o=Hp(t),c=g.useRef(null),[u,d]=g.useState(!1),[f=!1,h]=ji({prop:n,defaultProp:s,onChange:i});return l.jsx(gx,{...o,children:l.jsx(Cne,{scope:t,contentId:Us(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:a,children:r})})};l3.displayName=Rk;var c3="PopoverAnchor",Ene=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=yl(c3,r),i=Hp(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=s;return g.useEffect(()=>(a(),()=>o()),[a,o]),l.jsx(Tp,{...i,...n,ref:t})});Ene.displayName=c3;var u3="PopoverTrigger",d3=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=yl(u3,r),i=Hp(r),a=ct(t,s.triggerRef),o=l.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":g3(s.open),...n,ref:a,onClick:pe(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:l.jsx(Tp,{asChild:!0,...i,children:o})});d3.displayName=u3;var Ik="PopoverPortal",[Nne,Pne]=o3(Ik,{forceMount:void 0}),f3=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,i=yl(Ik,t);return l.jsx(Nne,{scope:t,forceMount:r,children:l.jsx(ts,{present:r||i.open,children:l.jsx(Dd,{asChild:!0,container:s,children:n})})})};f3.displayName=Ik;var vd="PopoverContent",h3=g.forwardRef((e,t)=>{const r=Pne(vd,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,i=yl(vd,e.__scopePopover);return l.jsx(ts,{present:n||i.open,children:i.modal?l.jsx(Ane,{...s,ref:t}):l.jsx(One,{...s,ref:t})})});h3.displayName=vd;var Ane=g.forwardRef((e,t)=>{const r=yl(vd,e.__scopePopover),n=g.useRef(null),s=ct(t,n),i=g.useRef(!1);return g.useEffect(()=>{const a=n.current;if(a)return Bx(a)},[]),l.jsx(Wp,{as:Va,allowPinchZoom:!0,children:l.jsx(p3,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),i.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),One=g.forwardRef((e,t)=>{const r=yl(vd,e.__scopePopover),n=g.useRef(!1),s=g.useRef(!1);return l.jsx(p3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),p3=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=yl(vd,r),m=Hp(r);return Fx(),l.jsx(Up,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(vx,{"data-state":g3(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),m3="PopoverClose",Tne=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=yl(m3,r);return l.jsx(Be.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>s.onOpenChange(!1))})});Tne.displayName=m3;var Dne="PopoverArrow",Mne=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Hp(r);return l.jsx(yx,{...s,...n,ref:t})});Mne.displayName=Dne;function g3(e){return e?"open":"closed"}var Rne=l3,Ine=d3,Lne=f3,v3=h3;const Lk=Rne,$k=Ine,Hx=g.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(Lne,{children:l.jsx(v3,{ref:s,align:t,sideOffset:r,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Hx.displayName=v3.displayName;var Ye=function(){return Ye=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ye.apply(this,arguments)};function $ne(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function y3(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Kp(e){return e.mode==="multiple"}function qp(e){return e.mode==="range"}function Kx(e){return e.mode==="single"}var Fne={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bne(e,t){return Qn(e,"LLLL y",t)}function zne(e,t){return Qn(e,"d",t)}function Une(e,t){return Qn(e,"LLLL",t)}function Wne(e){return"".concat(e)}function Vne(e,t){return Qn(e,"cccccc",t)}function Hne(e,t){return Qn(e,"yyyy",t)}var Kne=Object.freeze({__proto__:null,formatCaption:Bne,formatDay:zne,formatMonthCaption:Une,formatWeekNumber:Wne,formatWeekdayName:Vne,formatYearCaption:Hne}),qne=function(e,t,r){return Qn(e,"do MMMM (EEEE)",r)},Yne=function(){return"Month: "},Gne=function(){return"Go to next month"},Xne=function(){return"Go to previous month"},Zne=function(e,t){return Qn(e,"cccc",t)},Qne=function(e){return"Week n. ".concat(e)},Jne=function(){return"Year: "},ese=Object.freeze({__proto__:null,labelDay:qne,labelMonthDropdown:Yne,labelNext:Gne,labelPrevious:Xne,labelWeekNumber:Qne,labelWeekday:Zne,labelYearDropdown:Jne});function tse(){var e="buttons",t=Fne,r=W4,n={},s={},i=1,a={},o=new Date;return{captionLayout:e,classNames:t,formatters:Kne,labels:ese,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:a,today:o,mode:"default"}}function rse(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,a=e.toDate;return n?i=Zn(n):t&&(i=new Date(t,0,1)),s?a=pk(s):r&&(a=new Date(r,11,31)),{fromDate:i?ud(i):void 0,toDate:a?ud(a):void 0}}var x3=g.createContext(void 0);function nse(e){var t,r=e.initialProps,n=tse(),s=rse(r),i=s.fromDate,a=s.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!i||!a)&&(o="buttons");var c;(Kx(r)||Kp(r)||qp(r))&&(c=r.onSelect);var u=Ye(Ye(Ye({},n),r),{captionLayout:o,classNames:Ye(Ye({},n.classNames),r.classNames),components:Ye({},r.components),formatters:Ye(Ye({},n.formatters),r.formatters),fromDate:i,labels:Ye(Ye({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ye(Ye({},n.modifiers),r.modifiers),modifiersClassNames:Ye(Ye({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ye(Ye({},n.styles),r.styles),toDate:a});return l.jsx(x3.Provider,{value:u,children:e.children})}function Ut(){var e=g.useContext(x3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function b3(e){var t=Ut(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function sse(e){return l.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function w3(e){var t,r,n=e.onChange,s=e.value,i=e.children,a=e.caption,o=e.className,c=e.style,u=Ut(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:sse;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function ise(e){var t,r=Ut(),n=r.fromDate,s=r.toDate,i=r.styles,a=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var f=[];if(Eee(n,s))for(var h=Zn(n),m=n.getMonth();m<=s.getMonth();m++)f.push(Kb(h,m));else for(var h=Zn(new Date),m=0;m<=11;m++)f.push(Kb(h,m));var p=function(w){var b=Number(w.target.value),y=Kb(Zn(e.displayMonth),b);e.onChange(y)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:w3;return l.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:a}),children:f.map(function(w){return l.jsx("option",{value:w.getMonth(),children:o(w,{locale:a})},w.getMonth())})})}function ase(e){var t,r=e.displayMonth,n=Ut(),s=n.fromDate,i=n.toDate,a=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var m=s.getFullYear(),p=i.getFullYear(),v=m;v<=p;v++)h.push(QA(z4(new Date),v));var w=function(y){var x=QA(Zn(r),Number(y.target.value));e.onChange(x)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:w3;return l.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:o.dropdown_year,onChange:w,value:r.getFullYear(),caption:d(r,{locale:a}),children:h.map(function(y){return l.jsx("option",{value:y.getFullYear(),children:d(y,{locale:a})},y.getFullYear())})})}function ose(e,t){var r=g.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function lse(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,a=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(i&&Yh(i,s)<0){var u=-1*(c-1);s=Ni(i,u)}return a&&Yh(s,a)<0&&(s=a),Zn(s)}function cse(){var e=Ut(),t=lse(e),r=ose(t,e.month),n=r[0],s=r[1],i=function(a){var o;if(!e.disableNavigation){var c=Zn(a);s(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,i]}function use(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Zn(e),i=Zn(Ni(s,n)),a=Yh(i,s),o=[],c=0;c<a;c++){var u=Ni(s,c);o.push(u)}return r&&(o=o.reverse()),o}function dse(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,o=Zn(e);if(!r)return Ni(o,a);var c=Yh(r,e);if(!(c<i))return Ni(o,a)}}function fse(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,a=n?i:1,o=Zn(e);if(!r)return Ni(o,-a);var c=Yh(o,r);if(!(c<=0))return Ni(o,-a)}}var _3=g.createContext(void 0);function hse(e){var t=Ut(),r=cse(),n=r[0],s=r[1],i=use(n,t),a=dse(n,t),o=fse(n,t),c=function(f){return i.some(function(h){return gk(f,h)})},u=function(f,h){c(f)||(h&&Y4(f,h)?s(Ni(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:c};return l.jsx(_3.Provider,{value:d,children:e.children})}function Yp(){var e=g.useContext(_3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function PO(e){var t,r=Ut(),n=r.classNames,s=r.styles,i=r.components,a=Yp().goToMonth,o=function(d){a(Ni(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:b3,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(ise,{onChange:o,displayMonth:e.displayMonth}),l.jsx(ase,{onChange:o,displayMonth:e.displayMonth})]})}function pse(e){return l.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function mse(e){return l.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ey=g.forwardRef(function(e,t){var r=Ut(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var a=i.join(" "),o=Ye(Ye({},s.button_reset),s.button);return e.style&&Object.assign(o,e.style),l.jsx("button",Ye({},e,{ref:t,type:"button",className:a,style:o}))});function gse(e){var t,r,n=Ut(),s=n.dir,i=n.locale,a=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[a.nav_button,a.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:i}),v=[a.nav_button,a.nav_button_next].join(" "),w=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:mse,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:pse;return l.jsxs("div",{className:a.nav,style:o.nav,children:[!e.hidePrevious&&l.jsx(ey,{name:"previous-month","aria-label":h,className:m,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(w,{className:a.nav_icon,style:o.nav_icon}):l.jsx(b,{className:a.nav_icon,style:o.nav_icon})}),!e.hideNext&&l.jsx(ey,{name:"next-month","aria-label":p,className:v,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(b,{className:a.nav_icon,style:o.nav_icon}):l.jsx(w,{className:a.nav_icon,style:o.nav_icon})})]})}function AO(e){var t=Ut().numberOfMonths,r=Yp(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,a=r.displayMonths,o=a.findIndex(function(p){return gk(e.displayMonth,p)}),c=o===0,u=o===a.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){s&&i(s)};return l.jsx(gse,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:m})}function vse(e){var t,r=Ut(),n=r.classNames,s=r.disableNavigation,i=r.styles,a=r.captionLayout,o=r.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:b3,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=l.jsx(PO,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(PO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(AO,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(AO,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:i.caption,children:u})}function yse(e){var t=Ut(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?l.jsx("tfoot",{className:s,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function xse(e,t,r){for(var n=r?xc(new Date):na(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var a=_n(n,i);s.push(a)}return s}function bse(){var e=Ut(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,a=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=xse(s,i,a);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:o(d,{locale:s})},f)})]})}function wse(){var e,t=Ut(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:bse;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(i,{})})}function _se(e){var t=Ut(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var Fk=g.createContext(void 0);function jse(e){if(!Kp(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Fk.Provider,{value:t,children:e.children})}return l.jsx(Sse,{initialProps:e.initialProps,children:e.children})}function Sse(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,a=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var p=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var w=n?y3([],n):[];if(d.selected){var b=w.findIndex(function(y){return hn(u,y)});w.splice(b,1)}else w.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,w,u,d,f)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return hn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:a,modifiers:o};return l.jsx(Fk.Provider,{value:c,children:r})}function Bk(){var e=g.useContext(Fk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function kse(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?hn(s,e)&&hn(n,e)?void 0:hn(s,e)?{from:s,to:void 0}:hn(n,e)?void 0:p1(n,e)?{from:e,to:s}:{from:n,to:e}:s?p1(e,s)?{from:s,to:e}:{from:e,to:s}:n?Y4(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var zk=g.createContext(void 0);function Cse(e){if(!qp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(zk.Provider,{value:t,children:e.children})}return l.jsx(Ese,{initialProps:e.initialProps,children:e.children})}function Ese(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,a=s.to,o=t.min,c=t.max,u=function(m,p,v){var w,b;(w=t.onDayClick)===null||w===void 0||w.call(t,m,p,v);var y=kse(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,y,m,p,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],hn(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),o&&(i&&!a&&d.disabled.push({after:Fg(i,o-1),before:_n(i,o-1)}),i&&a&&d.disabled.push({after:i,before:_n(i,o-1)}),!i&&a&&d.disabled.push({after:Fg(a,o-1),before:_n(a,o-1)})),c){if(i&&!a&&(d.disabled.push({before:_n(i,-c+1)}),d.disabled.push({after:_n(i,c-1)})),i&&a){var f=Ki(a,i)+1,h=c-f;d.disabled.push({before:Fg(i,h)}),d.disabled.push({after:_n(a,h)})}!i&&a&&(d.disabled.push({before:_n(a,-c+1)}),d.disabled.push({after:_n(a,c-1)}))}return l.jsx(zk.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function Uk(){var e=g.useContext(zk);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Vg(e){return Array.isArray(e)?y3([],e):e!==void 0?[e]:[]}function Nse(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Vg(s)}),t}var Pi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Pi||(Pi={}));var Pse=Pi.Selected,ha=Pi.Disabled,Ase=Pi.Hidden,Ose=Pi.Today,sw=Pi.RangeEnd,iw=Pi.RangeMiddle,aw=Pi.RangeStart,Tse=Pi.Outside;function Dse(e,t,r){var n,s=(n={},n[Pse]=Vg(e.selected),n[ha]=Vg(e.disabled),n[Ase]=Vg(e.hidden),n[Ose]=[e.today],n[sw]=[],n[iw]=[],n[aw]=[],n[Tse]=[],n);return e.fromDate&&s[ha].push({before:e.fromDate}),e.toDate&&s[ha].push({after:e.toDate}),Kp(e)?s[ha]=s[ha].concat(t.modifiers[ha]):qp(e)&&(s[ha]=s[ha].concat(r.modifiers[ha]),s[aw]=r.modifiers[aw],s[iw]=r.modifiers[iw],s[sw]=r.modifiers[sw]),s}var j3=g.createContext(void 0);function Mse(e){var t=Ut(),r=Bk(),n=Uk(),s=Dse(t,r,n),i=Nse(t.modifiers),a=Ye(Ye({},s),i);return l.jsx(j3.Provider,{value:a,children:e.children})}function S3(){var e=g.useContext(j3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Rse(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Ise(e){return!!(e&&typeof e=="object"&&"from"in e)}function Lse(e){return!!(e&&typeof e=="object"&&"after"in e)}function $se(e){return!!(e&&typeof e=="object"&&"before"in e)}function Fse(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Bse(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=Ki(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var a=Ki(e,n)>=0&&Ki(s,e)>=0;return a}return s?hn(s,e):n?hn(n,e):!1}function zse(e){return hk(e)}function Use(e){return Array.isArray(e)&&e.every(hk)}function Wse(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(zse(r))return hn(e,r);if(Use(r))return r.includes(e);if(Ise(r))return Bse(e,r);if(Fse(r))return r.dayOfWeek.includes(e.getDay());if(Rse(r)){var n=Ki(r.before,e),s=Ki(r.after,e),i=n>0,a=s<0,o=p1(r.before,r.after);return o?a&&i:i||a}return Lse(r)?Ki(e,r.after)>0:$se(r)?Ki(r.before,e)>0:typeof r=="function"?r(e):!1})}function Wk(e,t,r){var n=Object.keys(t).reduce(function(i,a){var o=t[a];return Wse(e,o)&&i.push(a),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!gk(e,r)&&(s.outside=!0),s}function Vse(e,t){for(var r=Zn(e[0]),n=pk(e[e.length-1]),s,i,a=r;a<=n;){var o=Wk(a,t),c=!o.disabled&&!o.hidden;if(!c){a=_n(a,1);continue}if(o.selected)return a;o.today&&!i&&(i=a),s||(s=a),a=_n(a,1)}return i||s}var Hse=365;function k3(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,a=t.retry,o=a===void 0?{count:0,lastFocused:e}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:_n,week:h1,month:Ni,year:jJ,startOfWeek:function(w){return s.ISOWeek?xc(w):na(w,{locale:f,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?U4(w):mk(w,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=SJ([u,m]):n==="after"&&d&&(m=kJ([d,m]));var p=!0;if(i){var v=Wk(m,i);p=!v.disabled&&!v.hidden}return p?m:o.count>Hse?o.lastFocused:k3(m,{moveBy:r,direction:n,context:s,modifiers:i,retry:Ye(Ye({},o),{count:o.count+1})})}var C3=g.createContext(void 0);function Kse(e){var t=Yp(),r=S3(),n=g.useState(),s=n[0],i=n[1],a=g.useState(),o=a[0],c=a[1],u=Vse(t.displayMonths,r),d=s??(o&&t.isDateDisplayed(o))?o:u,f=function(){c(s),i(void 0)},h=function(w){i(w)},m=Ut(),p=function(w,b){if(s){var y=k3(s,{moveBy:w,direction:b,context:m,modifiers:r});hn(s,y)||(t.goToDate(y,s),h(y))}},v={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return l.jsx(C3.Provider,{value:v,children:e.children})}function Vk(){var e=g.useContext(C3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function qse(e,t){var r=S3(),n=Wk(e,r,t);return n}var Hk=g.createContext(void 0);function Yse(e){if(!Kx(e.initialProps)){var t={selected:void 0};return l.jsx(Hk.Provider,{value:t,children:e.children})}return l.jsx(Gse,{initialProps:e.initialProps,children:e.children})}function Gse(e){var t=e.initialProps,r=e.children,n=function(i,a,o){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,a,o),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,a,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,a,o)},s={selected:t.selected,onDayClick:n};return l.jsx(Hk.Provider,{value:s,children:r})}function E3(){var e=g.useContext(Hk);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Xse(e,t){var r=Ut(),n=E3(),s=Bk(),i=Uk(),a=Vk(),o=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,h=a.focus,m=a.focusMonthBefore,p=a.focusMonthAfter,v=a.focusYearBefore,w=a.focusYearAfter,b=a.focusStartOfWeek,y=a.focusEndOfWeek,x=function(T){var C,D,U,W;Kx(r)?(C=n.onDayClick)===null||C===void 0||C.call(n,e,t,T):Kp(r)?(D=s.onDayClick)===null||D===void 0||D.call(s,e,t,T):qp(r)?(U=i.onDayClick)===null||U===void 0||U.call(i,e,t,T):(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,T)},_=function(T){var C;h(e),(C=r.onDayFocus)===null||C===void 0||C.call(r,e,t,T)},j=function(T){var C;f(),(C=r.onDayBlur)===null||C===void 0||C.call(r,e,t,T)},k=function(T){var C;(C=r.onDayMouseEnter)===null||C===void 0||C.call(r,e,t,T)},S=function(T){var C;(C=r.onDayMouseLeave)===null||C===void 0||C.call(r,e,t,T)},E=function(T){var C;(C=r.onDayPointerEnter)===null||C===void 0||C.call(r,e,t,T)},N=function(T){var C;(C=r.onDayPointerLeave)===null||C===void 0||C.call(r,e,t,T)},O=function(T){var C;(C=r.onDayTouchCancel)===null||C===void 0||C.call(r,e,t,T)},P=function(T){var C;(C=r.onDayTouchEnd)===null||C===void 0||C.call(r,e,t,T)},A=function(T){var C;(C=r.onDayTouchMove)===null||C===void 0||C.call(r,e,t,T)},L=function(T){var C;(C=r.onDayTouchStart)===null||C===void 0||C.call(r,e,t,T)},I=function(T){var C;(C=r.onDayKeyUp)===null||C===void 0||C.call(r,e,t,T)},B=function(T){var C;switch(T.key){case"ArrowLeft":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":T.preventDefault(),T.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":T.preventDefault(),T.stopPropagation(),u();break;case"ArrowUp":T.preventDefault(),T.stopPropagation(),d();break;case"PageUp":T.preventDefault(),T.stopPropagation(),T.shiftKey?v():m();break;case"PageDown":T.preventDefault(),T.stopPropagation(),T.shiftKey?w():p();break;case"Home":T.preventDefault(),T.stopPropagation(),b();break;case"End":T.preventDefault(),T.stopPropagation(),y();break}(C=r.onDayKeyDown)===null||C===void 0||C.call(r,e,t,T)},z={onClick:x,onFocus:_,onBlur:j,onKeyDown:B,onKeyUp:I,onMouseEnter:k,onMouseLeave:S,onPointerEnter:E,onPointerLeave:N,onTouchCancel:O,onTouchEnd:P,onTouchMove:A,onTouchStart:L};return z}function Zse(){var e=Ut(),t=E3(),r=Bk(),n=Uk(),s=Kx(e)?t.selected:Kp(e)?r.selected:qp(e)?n.selected:void 0;return s}function Qse(e){return Object.values(Pi).includes(e)}function Jse(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Qse(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function eie(e,t){var r=Ye({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Ye(Ye({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function tie(e,t,r){var n,s,i,a=Ut(),o=Vk(),c=qse(e,t),u=Xse(e,c),d=Zse(),f=!!(a.onDayClick||a.mode!=="default");g.useEffect(function(){var k;c.outside||o.focusedDay&&f&&hn(o.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[o.focusedDay,e,r,f,c.outside]);var h=Jse(a,c).join(" "),m=eie(a,c),p=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:_se,w=l.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:w,role:"gridcell"},y=o.focusTarget&&hn(o.focusTarget,e)&&!c.outside,x=o.focusedDay&&hn(o.focusedDay,e),_=Ye(Ye(Ye({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=x||y?0:-1,n)),u),j={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return j}function rie(e){var t=g.useRef(null),r=tie(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(ey,Ye({name:"day",ref:t},r.buttonProps)):l.jsx("div",Ye({},r.divProps))}function nie(e){var t=e.number,r=e.dates,n=Ut(),s=n.onWeekNumberClick,i=n.styles,a=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:o});if(!s)return l.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:o}),h=function(m){s(t,r,m)};return l.jsx(ey,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:h,children:d})}function sie(e){var t,r,n=Ut(),s=n.styles,i=n.classNames,a=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:rie,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:nie,d;return a&&(d=l.jsx("td",{className:i.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(f){return l.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},See(f))})]})}function OO(e,t,r){for(var n=r!=null&&r.ISOWeek?U4(t):mk(t,r),s=r!=null&&r.ISOWeek?xc(e):na(e,r),i=Ki(n,s),a=[],o=0;o<=i;o++)a.push(_n(s,o));var c=a.reduce(function(u,d){var f=r!=null&&r.ISOWeek?V4(d):K4(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function iie(e,t){var r=OO(Zn(e),pk(e),t);if(t!=null&&t.useFixedWeeks){var n=Cee(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],a=h1(i,6-n),o=OO(h1(i,1),a,t);r.push.apply(r,o)}}return r}function aie(e){var t,r,n,s=Ut(),i=s.locale,a=s.classNames,o=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,m=s.ISOWeek,p=iie(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),v=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:wse,w=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:sie,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:yse;return l.jsxs("table",{id:e.id,className:a.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(v,{}),l.jsx("tbody",{className:a.tbody,style:o.tbody,children:p.map(function(y){return l.jsx(w,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),l.jsx(b,{displayMonth:e.displayMonth})]})}function oie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var lie=oie()?g.useLayoutEffect:g.useEffect,ow=!1,cie=0;function TO(){return"react-day-picker-".concat(++cie)}function uie(e){var t,r=e??(ow?TO():null),n=g.useState(r),s=n[0],i=n[1];return lie(function(){s===null&&i(TO())},[]),g.useEffect(function(){ow===!1&&(ow=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function die(e){var t,r,n=Ut(),s=n.dir,i=n.classNames,a=n.styles,o=n.components,c=Yp().displayMonths,u=uie(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=a.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,v=!m&&!p;s==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Ye(Ye({},h),a.caption_start)),p&&(f.push(i.caption_end),h=Ye(Ye({},h),a.caption_end)),v&&(f.push(i.caption_between),h=Ye(Ye({},h),a.caption_between));var w=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:vse;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(w,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(aie,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function fie(e){var t=Ut(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function hie(e){var t,r,n=e.initialProps,s=Ut(),i=Vk(),a=Yp(),o=g.useState(!1),c=o[0],u=o[1];g.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Ye(Ye({},s.styles.root),s.style),h=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,v){var w;return Ye(Ye({},p),(w={},w[v]=n[v],w))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:fie;return l.jsx("div",Ye({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:l.jsx(m,{children:a.displayMonths.map(function(p,v){return l.jsx(die,{displayIndex:v,displayMonth:p},v)})})}))}function pie(e){var t=e.children,r=$ne(e,["children"]);return l.jsx(nse,{initialProps:r,children:l.jsx(hse,{children:l.jsx(Yse,{initialProps:r,children:l.jsx(jse,{initialProps:r,children:l.jsx(Cse,{initialProps:r,children:l.jsx(Mse,{children:l.jsx(Kse,{children:t})})})})})})})}function mie(e){return l.jsx(pie,Ye({},e,{children:l.jsx(hie,{initialProps:e})}))}function Kk({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(mie,{showOutsideDays:r,className:ye("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ye(qh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ye(qh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(FL,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(zS,{className:"h-4 w-4"})},...n})}Kk.displayName="Calendar";const N3=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[s,i]=g.useState(!0),[a,o]=g.useState(null),{toast:c}=Cr(),u=async()=>{try{i(!0),o(null);const{data:d,error:f}=await oe.from("property_definitions").select("*").eq("active",!0).order("sort_order",{ascending:!0}).order("name",{ascending:!0});if(f)throw f;t(d||[]);try{const{data:h,error:m}=await oe.rpc("get_property_definitions_with_schema");if(m){console.warn("Enhanced property fetch failed, using basic properties:",m);const p=(d||[]).map(v=>({...v,column_exists:!1,column_type:"",is_nullable:"YES"}));n(p)}else n(h||[])}catch{console.warn("RPC function not available, using basic properties");const m=(d||[]).map(p=>({...p,column_exists:!1,column_type:"",is_nullable:"YES"}));n(m)}}catch(d){const f=d instanceof Error?d.message:"Failed to fetch property definitions";o(f),c({title:"Error",description:f,variant:"destructive"})}finally{i(!1)}};return g.useEffect(()=>{u()},[]),{properties:e,propertiesWithSchema:r,isLoading:s,error:a,refetch:u}},gie=()=>{const{properties:e,isLoading:t,error:r,refetch:n}=N3(),{enums:s,loading:i}=Lc(),a=u=>{const d=u.key;return s&&s[d]&&Array.isArray(s[d])?s[d].map(f=>({value:f,label:f})):u.options&&Array.isArray(u.options)?u.options.map(f=>({value:typeof f=="string"?f:f.value,label:typeof f=="string"?f:f.label||f.value})):u.options&&typeof u.options=="object"&&u.options.options?u.options.options.map(f=>({value:typeof f=="string"?f:f.value,label:typeof f=="string"?f:f.label||f.value})):[]};return{formSchema:g.useMemo(()=>{if(!e.length)return{fields:[],validationSchema:Zv({}),defaultValues:{}};const u=[],d={},f={};return e.forEach(h=>{const m={key:h.key,name:h.name,displayName:h.display_name,type:h.property_type==="enum"?"select":h.property_type,required:h.required,defaultValue:h.default_value,description:h.description||void 0,category:h.category||void 0,placeholder:`Enter ${h.display_name.toLowerCase()}`};(h.property_type==="select"||h.property_type==="multiselect"||h.property_type==="enum")&&(m.options=a(h)),u.push(m);let p;switch(h.property_type){case"number":p=vF({required_error:`${h.display_name} is required`,invalid_type_error:`${h.display_name} must be a number`}),h.required||(p=p.optional().nullable());break;case"boolean":p=Nte({required_error:`${h.display_name} is required`}),h.required||(p=p.optional().nullable());break;case"date":p=At({required_error:`${h.display_name} is required`}).datetime({message:`${h.display_name} must be a valid date`}),h.required||(p=p.optional().nullable());break;case"select":case"enum":if(m.options&&m.options.length>0){const v=m.options.map(w=>w.value);p=gO(v,{required_error:`${h.display_name} is required`,invalid_type_error:`${h.display_name} must be one of: ${v.join(", ")}`})}else p=At({required_error:`${h.display_name} is required`});h.required||(p=p.optional().nullable());break;case"multiselect":if(m.options&&m.options.length>0){const v=m.options.map(w=>w.value);p=mO(gO(v))}else p=mO(At());h.required||(p=p.optional().nullable());break;case"text":default:p=At({required_error:`${h.display_name} is required`}),h.required?p=p.min(1,`${h.display_name} is required`):p=p.optional().nullable();break}if(d[h.key]=p,h.default_value!==null)switch(h.property_type){case"number":f[h.key]=Number(h.default_value);break;case"boolean":f[h.key]=h.default_value==="true";break;case"multiselect":try{f[h.key]=JSON.parse(h.default_value)}catch{f[h.key]=[]}break;default:f[h.key]=h.default_value}else switch(h.property_type){case"number":f[h.key]=h.required?0:null;break;case"boolean":f[h.key]=h.required?!1:null;break;case"multiselect":f[h.key]=h.required?[]:null;break;default:f[h.key]=h.required?"":null}}),{fields:u.sort((h,m)=>{const p=h.category||"Additional",v=m.category||"Additional";return p!==v?p.localeCompare(v):h.displayName.localeCompare(m.displayName)}),validationSchema:Zv(d),defaultValues:f}},[e,s]),isLoading:t||i,error:r,refetch:n}};var qk="Switch",[vie,lEe]=Oi(qk),[yie,xie]=vie(qk),P3=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=g.useState(null),p=ct(t,x=>m(x)),v=g.useRef(!1),w=h?d||!!h.closest("form"):!0,[b=!1,y]=ji({prop:s,defaultProp:i,onChange:u});return l.jsxs(yie,{scope:r,checked:b,disabled:o,children:[l.jsx(Be.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":T3(b),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:p,onClick:pe(e.onClick,x=>{y(_=>!_),w&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),w&&l.jsx(bie,{control:h,bubbles:!v.current,name:n,value:c,checked:b,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});P3.displayName=qk;var A3="SwitchThumb",O3=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=xie(A3,r);return l.jsx(Be.span,{"data-state":T3(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});O3.displayName=A3;var bie=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,i=g.useRef(null),a=jk(r),o=ZS(t);return g.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[a,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T3(e){return e?"checked":"unchecked"}var D3=P3,wie=O3;const Yk=g.forwardRef(({className:e,...t},r)=>l.jsx(D3,{className:ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(wie,{className:ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yk.displayName=D3.displayName;const _ie=({field:e,control:t,error:r,className:n=""})=>{const{setValue:s}=Lx();g.useEffect(()=>()=>{},[t,e.key]),g.useEffect(()=>{const a=`form_field_${e.key}`,o=localStorage.getItem(a);if(o&&o!=="undefined")try{s(e.key,JSON.parse(o))}catch{}},[s,e.key]);const i=()=>{switch(e.type){case"text":return l.jsx(nr,{name:e.key,control:t,render:({field:a})=>l.jsx(He,{...a,value:a.value||"",placeholder:e.placeholder,className:ye(r&&"border-red-500")})});case"number":return l.jsx(nr,{name:e.key,control:t,render:({field:a})=>l.jsx(He,{...a,type:"number",value:a.value||"",placeholder:e.placeholder,className:ye(r&&"border-red-500"),onChange:o=>{const c=o.target.value;a.onChange(c===""?null:Number(c))}})});case"boolean":return l.jsx(nr,{name:e.key,control:t,render:({field:a})=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Yk,{checked:a.value||!1,onCheckedChange:a.onChange,className:ye(r&&"border-red-500")}),l.jsx(J,{htmlFor:e.key,className:"text-sm font-medium",children:a.value?"Yes":"No"})]})});case"date":return l.jsx(nr,{name:e.key,control:t,render:({field:a})=>l.jsxs(Lk,{children:[l.jsx($k,{asChild:!0,children:l.jsxs(G,{variant:"outline",className:ye("w-full justify-start text-left font-normal",!a.value&&"text-muted-foreground",r&&"border-red-500"),children:[l.jsx(BS,{className:"mr-2 h-4 w-4"}),a.value?Qn(new Date(a.value),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Hx,{className:"w-auto p-0",children:l.jsx(Kk,{mode:"single",selected:a.value?new Date(a.value):void 0,onSelect:o=>{a.onChange(o?o.toISOString():null)},initialFocus:!0})})]})});case"select":return l.jsx(nr,{name:e.key,control:t,render:({field:a})=>{var o;return l.jsxs(ke,{value:a.value||"",onValueChange:a.onChange,children:[l.jsx(_e,{className:ye(r&&"border-red-500"),children:l.jsx(Ce,{placeholder:e.placeholder})}),l.jsxs(je,{children:[!e.required&&l.jsx(q,{value:"",children:l.jsx("span",{className:"text-muted-foreground",children:"None"})}),(o=e.options)==null?void 0:o.map(c=>l.jsx(q,{value:c.value,children:c.label},c.value))]})]})}});case"multiselect":return l.jsx(nr,{name:e.key,control:t,render:({field:a})=>{var c;const o=a.value||[];return l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"border rounded-md p-3 min-h-[40px] max-h-32 overflow-y-auto",children:o.length>0?l.jsx("div",{className:"flex flex-wrap gap-1",children:o.map(u=>{var f;const d=(f=e.options)==null?void 0:f.find(h=>h.value===u);return l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800",children:[(d==null?void 0:d.label)||u,l.jsx("button",{type:"button",className:"ml-1 text-blue-600 hover:text-blue-800",onClick:()=>{const h=o.filter(m=>m!==u);a.onChange(h)},children:""})]},u)})}):l.jsx("span",{className:"text-muted-foreground text-sm",children:"No items selected"})}),l.jsxs(ke,{value:"",onValueChange:u=>{u&&!o.includes(u)&&a.onChange([...o,u])},children:[l.jsx(_e,{className:ye(r&&"border-red-500"),children:l.jsx(Ce,{placeholder:"Add item..."})}),l.jsx(je,{children:(c=e.options)==null?void 0:c.map(u=>l.jsx(q,{value:u.value,disabled:o.includes(u.value),children:u.label},u.value))})]})]})}});default:return l.jsx(nr,{name:e.key,control:t,render:({field:a})=>l.jsx(Mk,{...a,value:a.value||"",placeholder:e.placeholder,className:ye(r&&"border-red-500"),rows:3})})}};return l.jsxs("div",{className:ye("space-y-2",n),children:[l.jsxs(J,{htmlFor:e.key,className:"text-sm font-medium",children:[e.displayName,e.required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.description&&l.jsx("p",{className:"text-xs text-muted-foreground",children:e.description}),i(),r&&l.jsx("p",{className:"text-xs text-red-500",children:r.message})]})},jie=({fields:e,control:t,setValue:r,errors:n,className:s="",showCategories:i=!0,columnsPerRow:a=2})=>{if(g.useEffect(()=>{const f=setInterval(()=>{const h={};e.forEach(m=>{h[m.key]=t.getValues()[m.key]}),localStorage.setItem("form_dynamicFormRenderer",JSON.stringify(h))},5e3);return()=>clearInterval(f)},[e,t]),g.useEffect(()=>{const f=localStorage.getItem("form_dynamicFormRenderer");if(f&&f!=="undefined")try{const h=JSON.parse(f);Object.entries(h).forEach(([m,p])=>{r(m,p)})}catch(h){console.warn("Failed to restore form data:",h)}},[r]),!e.length)return l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No dynamic properties configured"});const o=i?e.reduce((f,h)=>{const m=h.category||"Additional";return f[m]||(f[m]=[]),f[m].push(h),f},{}):{"All Fields":e},c=()=>{switch(a){case 1:return"grid-cols-1";case 2:return"grid-cols-1 md:grid-cols-2";case 3:return"grid-cols-1 md:grid-cols-2 lg:grid-cols-3";default:return"grid-cols-1 md:grid-cols-2"}},u=f=>l.jsx("div",{className:`grid gap-4 ${c()}`,children:f.map(h=>l.jsx(_ie,{field:h,control:t,error:n[h.key]},h.key))}),d=(f,h,m)=>i?l.jsxs("div",{children:[m>0&&l.jsx(Hi,{className:"my-6"}),l.jsxs(De,{children:[l.jsx(Ke,{className:"pb-3",children:l.jsxs(qe,{className:"text-lg font-medium",children:[f,l.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",h.length," field",h.length!==1?"s":"",")"]})]})}),l.jsx(Re,{children:u(h)})]})]},f):u(h);return l.jsx("div",{className:s,children:Object.entries(o).sort(([f],[h])=>f==="Additional"?-1:h==="Additional"?1:f.localeCompare(h)).map(([f,h],m)=>d(f,h,m))})},Sie=(e,t)=>{const r={...e};return t.forEach(n=>{const s=r[n.key];if(s!=null)switch(n.property_type){case"date":if(typeof s=="string")try{r[n.key]=new Date(s).toISOString()}catch{r[n.key]=null}break;case"multiselect":Array.isArray(s)?r[n.key]=s:r[n.key]=[];break;case"number":typeof s=="string"&&s!==""?r[n.key]=Number(s):s===""&&(r[n.key]=null);break;case"boolean":r[n.key]=!!s;break;default:typeof s=="string"&&s===""&&!n.required&&(r[n.key]=null)}}),r},M3=()=>{const{user:e}=eo(),{toast:t}=Cr(),[r,n]=g.useState({}),[s,i]=g.useState(!0),[a,o]=g.useState(null),c=g.useCallback(async()=>{if(!(e!=null&&e.id)){i(!1);return}try{o(null);const{data:p,error:v}=await oe.rpc("get_user_filter_preferences",{p_user_id:e.id});if(v)throw v;if(p){const w=p.reduce((b,y)=>(b[y.filter_key]={filterKey:y.filter_key,isEnabled:y.is_enabled,preferenceType:y.preference_type,isGlobalDefault:y.is_global_default,globalDefaultEnabled:y.global_default_enabled},b),{});n(w)}}catch(p){const v=p instanceof Error?p.message:"Failed to fetch filter preferences";o(v),console.error("Error fetching filter preferences:",p)}finally{i(!1)}},[e==null?void 0:e.id]),u=g.useCallback(async(p,v,w="user")=>{if(!(e!=null&&e.id))return t({title:"Error",description:"Must be logged in to update filter preferences",variant:"destructive"}),!1;try{const{data:b,error:y}=await oe.rpc("update_user_filter_preference",{p_user_id:e.id,p_filter_key:p,p_is_enabled:v,p_preference_type:w});if(y)throw y;return n(x=>{var _,j;return{...x,[p]:{filterKey:p,isEnabled:v,preferenceType:w,isGlobalDefault:((_=x[p])==null?void 0:_.isGlobalDefault)||!1,globalDefaultEnabled:((j=x[p])==null?void 0:j.globalDefaultEnabled)||!1}}}),!0}catch(b){const y=b instanceof Error?b.message:"Failed to update filter preference";return o(y),t({title:"Error",description:y,variant:"destructive"}),!1}},[e==null?void 0:e.id,t]),d=g.useCallback(async p=>{if(!(e!=null&&e.id)||!p.length)return[];try{const{data:v,error:w}=await oe.rpc("auto_enable_filters_for_user",{p_user_id:e.id,p_detected_filters:p});if(w)throw w;const b=v||[],y=b.filter(x=>x.autoEnabled);return y.length>0&&t({title:"Filters Auto-Enabled",description:`${y.length} new filter(s) have been automatically enabled: ${y.map(x=>x.filterKey).join(", ")}`,duration:5e3}),await c(),b}catch(v){const w=v instanceof Error?v.message:"Failed to process auto-detected filters";return o(w),console.error("Error processing auto-detected filters:",v),[]}},[e==null?void 0:e.id,t,c]),f=g.useCallback(p=>{var v;return((v=r[p])==null?void 0:v.isEnabled)||!1},[r]),h=g.useCallback(p=>{var v;return((v=r[p])==null?void 0:v.preferenceType)||"default"},[r]),m=g.useCallback(async()=>{await c()},[c]);return g.useEffect(()=>{c()},[c]),g.useEffect(()=>{const p=()=>{c()};return window.addEventListener("filterPreferencesUpdated",p),()=>{window.removeEventListener("filterPreferencesUpdated",p)}},[c]),{preferences:r,isLoading:s,error:a,updatePreference:u,processAutoDetectedFilters:d,refreshPreferences:m,isFilterEnabled:f,getPreferenceType:h}},DO=e=>{if(!["enum","select"].includes(e.property_type))return!1;const t=e.options;if(!t||!Array.isArray(t))return!1;const r=t.length;return!(r===0||r>50||["_id","_uuid","_timestamp","note","comment","description","spec"].some(s=>e.key.toLowerCase().includes(s)))},R3=()=>{const{properties:e}=N3(),{enums:t}=Lc(),{preferences:r,isLoading:n,isFilterEnabled:s,getPreferenceType:i,processAutoDetectedFilters:a}=M3(),{coreFilters:o,dynamicFilters:c,allAvailableFilters:u}=g.useMemo(()=>{const f=[{key:"device_type",displayName:"Device Type",options:(t==null?void 0:t.deviceTypes)||[],isCore:!0,enumKey:"deviceTypes"},{key:"environment",displayName:"Environment",options:(t==null?void 0:t.environmentTypes)||[],isCore:!0,enumKey:"environmentTypes"},{key:"brand",displayName:"Brand",options:(t==null?void 0:t.brands)||[],isCore:!0,enumKey:"brands"},{key:"model",displayName:"Model",options:(t==null?void 0:t.models)||[],isCore:!0,enumKey:"models"},{key:"allocation",displayName:"Allocation",options:(t==null?void 0:t.allocationTypes)||[],isCore:!0,enumKey:"allocationTypes"},{key:"operating_system",displayName:"Operating System",options:(t==null?void 0:t.osTypes)||[],isCore:!0,enumKey:"osTypes"},{key:"dc_site",displayName:"Site",options:(t==null?void 0:t.sites)||[],isCore:!0,enumKey:"sites"},{key:"dc_building",displayName:"Building",options:(t==null?void 0:t.buildings)||[],isCore:!0,enumKey:"buildings"},{key:"rack",displayName:"Rack",options:(t==null?void 0:t.racks)||[],isCore:!0,enumKey:"racks"},{key:"status",displayName:"Status",options:(t==null?void 0:t.status)||[],isCore:!0,enumKey:"status"}],h=new Set(f.map(v=>v.key)),m=e.filter(v=>!h.has(v.key)&&DO(v)).map(v=>{let w=[];if(v.property_type==="enum"){const b=v.key,y=t==null?void 0:t[b];Array.isArray(y)&&y.length>0?w=y:Array.isArray(v.options)&&v.options.length>0&&(w=v.options)}else Array.isArray(v.options)&&(w=v.options);return{key:v.key,displayName:v.display_name,options:w,isCore:!1,isAutoDetected:!0,category:v.category||"Additional",preferenceType:i(v.key)}}),p=m.filter(v=>s(v.key));return{coreFilters:f,dynamicFilters:p,allAvailableFilters:[...f,...m]}},[e,t,r,s,i]);return g.useEffect(()=>{if(e.length>0&&!n){const f=e.filter(h=>DO(h)).map(h=>h.key);f.length>0&&a(f)}},[e,n,a]),{enabledFilters:g.useMemo(()=>[...o,...c],[o,c]),coreFilters:o,dynamicFilters:c,allAvailableFilters:u,isLoading:n,refreshPreferences:()=>{window.dispatchEvent(new CustomEvent("filterPreferencesUpdated"))}}};var Gk="Checkbox",[kie,cEe]=Oi(Gk),[Cie,Eie]=kie(Gk),I3=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=g.useState(null),p=ct(t,_=>m(_)),v=g.useRef(!1),w=h?d||!!h.closest("form"):!0,[b=!1,y]=ji({prop:s,defaultProp:i,onChange:u}),x=g.useRef(b);return g.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const j=()=>y(x.current);return _.addEventListener("reset",j),()=>_.removeEventListener("reset",j)}},[h,y]),l.jsxs(Cie,{scope:r,state:b,disabled:o,children:[l.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":qo(b)?"mixed":b,"aria-required":a,"data-state":F3(b),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:p,onKeyDown:pe(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:pe(e.onClick,_=>{y(j=>qo(j)?!0:!j),w&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),w&&l.jsx(Nie,{control:h,bubbles:!v.current,name:n,value:c,checked:b,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:qo(i)?!1:i})]})});I3.displayName=Gk;var L3="CheckboxIndicator",$3=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=Eie(L3,r);return l.jsx(ts,{present:n||qo(i.state)||i.state===!0,children:l.jsx(Be.span,{"data-state":F3(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});$3.displayName=L3;var Nie=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,a=g.useRef(null),o=jk(r),c=ZS(t);g.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&m){const p=new Event("click",{bubbles:n});d.indeterminate=qo(r),m.call(d,qo(r)?!1:r),d.dispatchEvent(p)}},[o,r,n]);const u=g.useRef(qo(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qo(e){return e==="indeterminate"}function F3(e){return qo(e)?"indeterminate":e?"checked":"unchecked"}var B3=I3,Pie=$3;const Co=g.forwardRef(({className:e,...t},r)=>l.jsx(B3,{ref:r,className:ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(Pie,{className:ye("flex items-center justify-center text-current"),children:l.jsx($h,{className:"h-4 w-4"})})}));Co.displayName=B3.displayName;const Aie=({open:e,onOpenChange:t,onFiltersUpdated:r})=>{const{coreFilters:n,allAvailableFilters:s,isLoading:i}=R3(),{preferences:a,isLoading:o,updatePreference:c,isFilterEnabled:u,getPreferenceType:d}=M3(),{toast:f}=Cr(),[h,m]=g.useState(!1),p=i||o,v=async(_,j)=>{if(!n.some(k=>k.key===_)){m(!0);try{await c(_,j,"user")&&r&&r()}finally{m(!1)}}},w=()=>{f({title:"Filter Settings Saved",description:"Your filter preferences have been updated and will sync across all your devices.",duration:3e3}),t(!1),window.dispatchEvent(new CustomEvent("filterPreferencesUpdated"))},b=s.filter(_=>!_.isCore),y=_=>{switch(d(_)){case"auto":return"Auto-enabled";case"admin":return"Admin default";case"user":return"User choice";default:return"Available"}},x=_=>{switch(d(_)){case"auto":return l.jsx(Fe,{variant:"default",className:"text-xs",children:"Auto"});case"admin":return l.jsx(Fe,{variant:"secondary",className:"text-xs",children:"Admin"});case"user":return l.jsx(Fe,{variant:"outline",className:"text-xs",children:"User"});default:return null}};return l.jsx(wr,{open:e,onOpenChange:t,children:l.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(hr,{children:[l.jsxs(pr,{className:"flex items-center gap-2",children:[l.jsx(ki,{className:"h-5 w-5"}),"Manage Filter Columns"]}),l.jsx(mr,{children:"Choose which columns to show as filters. Your preferences will sync across all devices. Core filters are always enabled and cannot be disabled."})]}),p?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx(Si,{className:"h-6 w-6 animate-spin mr-2"}),l.jsx("span",{children:"Loading filter preferences..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground mb-3",children:"Core Filters (Always Enabled)"}),l.jsx("div",{className:"space-y-3",children:n.map(_=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Co,{checked:!0,disabled:!0}),l.jsxs("div",{children:[l.jsx(J,{className:"font-medium",children:_.displayName}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Column: ",_.key]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fe,{variant:"secondary",children:"Core"}),l.jsxs(Fe,{variant:"outline",children:[_.options.length," options"]})]})]},_.key))})]}),b.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(Hi,{}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-sm uppercase tracking-wide text-muted-foreground mb-3",children:"Available Column Filters"}),l.jsx("div",{className:"space-y-3",children:b.map(_=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded border hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Co,{checked:u(_.key),onCheckedChange:j=>v(_.key,!!j),disabled:h}),l.jsxs("div",{children:[l.jsx(J,{className:"font-medium cursor-pointer",children:_.displayName}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Column: ",_.key]}),_.category&&l.jsxs("p",{className:"text-xs text-blue-600",children:["Category: ",_.category]}),l.jsx("p",{className:"text-xs text-green-600",children:y(_.key)})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[x(_.key),_.isAutoDetected&&l.jsx(Fe,{variant:"default",className:"text-xs",children:"Auto-detected"}),l.jsxs(Fe,{variant:"outline",className:"text-xs",children:[_.options.length," options"]})]})]},_.key))})]})]}),b.length===0&&!p&&l.jsxs(l.Fragment,{children:[l.jsx(Hi,{}),l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(ki,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No additional filterable columns detected."}),l.jsx("p",{className:"text-xs mt-1",children:"Add enum-type columns in Server Properties to see them here."})]})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:"Changes are saved automatically and sync across devices"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(G,{variant:"outline",onClick:()=>t(!1),children:"Close"}),l.jsx(G,{onClick:w,children:"Done"})]})]})]})})},Oie=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(null);return{checkAvailability:g.useCallback(async(i,a,o,c)=>{t(!0),n(null);try{console.log(` Checking rack availability: ${i}, U${a}, ${o}U${c?` (excluding ${c})`:""}`);const{data:u,error:d}=await oe.functions.invoke("check-rack-availability",{body:{rack:i,position:a,unitHeight:o,excludeServerId:c}});if(d)throw console.error(" Supabase error:",d),d;if(u.error)throw console.error(" Function error:",u.error),new Error(u.error);return console.log(" Availability check result:",u),u}catch(u){const d=u instanceof Error?u.message:"Failed to check rack availability";return console.error(" Error checking rack availability:",d),n(d),{available:!1,conflictingServers:[],availableSpaces:[],suggestion:void 0}}finally{t(!1)}},[]),loading:e,error:r}},Tie=Ap("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Oa=g.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:ye(Tie({variant:t}),e),...r}));Oa.displayName="Alert";const z3=g.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:ye("mb-1 font-medium leading-none tracking-tight",e),...t}));z3.displayName="AlertTitle";const ic=g.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:ye("text-sm [&_p]:leading-relaxed",e),...t}));ic.displayName="AlertDescription";function Wd(e,t){g.useEffect(()=>{const r=setTimeout(()=>{localStorage.setItem(`form_${t}`,JSON.stringify(e))},5e3);return()=>clearTimeout(r)},[e,t])}function Vd(e,t){g.useEffect(()=>{const r=localStorage.getItem(`form_${e}`);if(r&&r!=="undefined")try{t(JSON.parse(r))}catch{}},[e,t])}function or(e,t,r){g.useEffect(()=>{const n=new URL(window.location.href);n.searchParams.set(e,JSON.stringify(t)),window.history.replaceState({},"",n.toString())},[e,t]),g.useEffect(()=>{const s=new URLSearchParams(window.location.search).get(e);s&&r(JSON.parse(s))},[e,r])}const Die=({rack:e,position:t,unitHeight:r,excludeServerId:n,onSuggestionApply:s,className:i=""})=>{const{checkAvailability:a,loading:o,error:c}=Oie(),[u,d]=g.useState(null),[f,h]=g.useState({}),[m,p]=g.useState({});if(Wd(f,"rackAvailability_search"),Vd("rackAvailability_search",h),or("rackAvailability_filters",m,p),g.useEffect(()=>{const _=setTimeout(async()=>{if(!e||!t||!r){d(null);return}try{const j=await a(e,t,r,n);d(j)}catch(j){console.error("Error checking availability:",j)}},300);return()=>clearTimeout(_)},[e,t,r,n,a]),!e||!t||!r)return null;if(o)return l.jsxs("div",{className:`flex items-center gap-2 p-3 bg-gray-50 rounded-lg ${i}`,children:[l.jsx(Si,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Checking rack availability..."})]});if(c)return l.jsxs(Oa,{variant:"destructive",className:i,children:[l.jsx(eA,{className:"h-4 w-4"}),l.jsxs(ic,{children:["Error checking rack availability: ",c]})]});if(!u)return null;const{available:v,conflictingServers:w,availableSpaces:b,suggestion:y}=u;return l.jsxs("div",{className:`space-y-1.5 ${i}`,children:[l.jsx(Oa,{variant:v?"default":"destructive",className:"py-1.5 px-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[v?l.jsx(BL,{className:"h-3.5 w-3.5 text-green-600"}):l.jsx(eA,{className:"h-3.5 w-3.5"}),l.jsx(ic,{className:"m-0",children:v?l.jsxs("span",{className:"text-green-700 text-sm font-medium",children:["U",t," available in ",e]}):l.jsxs("span",{className:"text-sm font-medium",children:["U",t," conflicts with ",w==null?void 0:w.map(x=>x.hostname).join(", ")]})})]})}),!v&&y&&l.jsx(Oa,{className:"py-1.5 px-3 bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(PK,{className:"h-3.5 w-3.5 text-blue-600"}),l.jsxs("span",{className:"text-sm text-blue-700 font-medium",children:["Suggested: U",y.position]})]}),s&&l.jsxs(G,{size:"sm",variant:"outline",onClick:()=>s(y.position),className:"text-xs h-6 px-2 border-blue-300 text-blue-700 hover:bg-blue-100",children:["Use U",y.position]})]})}),b&&b.length>0&&l.jsx(Oa,{className:"py-1.5 px-3 bg-gray-50 border-gray-200",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(H_,{className:"h-3.5 w-3.5 text-gray-600"}),l.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Available:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.filter(x=>x.size>=r).slice(0,4).map((x,_)=>l.jsxs(Fe,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 px-1.5 py-0.5 border-green-200",children:["U",x.startUnit,"-U",x.endUnit]},_)),b.filter(x=>x.size>=r).length>4&&l.jsxs(Fe,{variant:"secondary",className:"text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600",children:["+",b.filter(x=>x.size>=r).length-4]})]})]})})]})},Mie=({serverId:e})=>{const[t,r]=g.useState([]),[n,s]=g.useState(!0),[i,a]=g.useState(1),[o,c]=g.useState({});return or("positionHistory_page",i,a),or("positionHistory_filters",o,c),g.useEffect(()=>{(async()=>{s(!0);const{data:d,error:f}=await oe.from("server_position_history").select("id,changed_at,previous_rack,previous_unit,previous_room,previous_floor,previous_building,previous_site").eq("server_id",e).order("changed_at",{ascending:!1});!f&&d&&r(d),s(!1)})()},[e]),l.jsxs(De,{className:"mt-2",children:[l.jsx(Ke,{className:"pb-2",children:l.jsx("div",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Position History"})}),n?l.jsx("div",{className:"text-sm text-muted-foreground px-6 pb-2",children:"Loading position history..."}):t.length?l.jsx("div",{className:"space-y-2 px-6 pb-2",children:t.map(u=>{const d=[u.previous_site,u.previous_building,u.previous_floor,u.previous_room,u.previous_rack,u.previous_unit].filter(Boolean).join(" / "),f=new Date(u.changed_at).toLocaleDateString();return l.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 px-4 py-3 text-blue-800 text-sm flex items-center gap-2",children:[l.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),l.jsxs("span",{children:["Previous position: ",l.jsx("b",{children:d||"-"})," ",l.jsxs("span",{className:"ml-2",children:["Changed on ",l.jsx("b",{children:f})]})]})]},u.id)})}):l.jsx("div",{className:"text-sm text-muted-foreground px-6 pb-3",children:"No position history found."})]})},Xk=()=>{const[e,t]=g.useState({sites:[],buildings:[],floors:[],rooms:[],racks:[],allRacks:[]}),[r,n]=g.useState({}),[s,i]=g.useState(!1),[a,o]=g.useState(""),c=async()=>{try{console.log(" getDefaultRack: Fetching default rack...");const y=await fetch("http://localhost:8000/functions/v1/get-default-rack",{method:"GET",headers:{"Content-Type":"application/json",apikey:""}});if(!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const x=await y.json(),_=(x==null?void 0:x.defaultRack)||"RACK-01";return console.log(` getDefaultRack: Successfully fetched default rack: ${_}`),o(_),await d(_),_}catch(b){return console.error(" getDefaultRack: Error fetching default rack, using fallback:",b),o("RACK-01"),await u("RACK-01"),"RACK-01"}},u=async b=>{const y={"RACK-01":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"1",dc_room:"MDF"},"RACK-02":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"2",dc_room:"201"},"RACK-03":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"3",dc_room:"301"},"RACK-04":{dc_site:"DC-East",dc_building:"Building-A",dc_floor:"2",dc_room:"201"}},x=y[b]||y["RACK-01"],_={dc_site:x.dc_site||void 0,dc_building:x.dc_building||void 0,dc_floor:x.dc_floor||void 0,dc_room:x.dc_room||void 0};n(_),await m(_)},d=async b=>{try{const{data:y,error:x}=await oe.functions.invoke("get-rack-location",{body:{rackName:b}});if(x){console.error("Error fetching rack location:",x),await u(b);return}if(y!=null&&y.location){const _=y.location,j={dc_site:_.dc_site||void 0,dc_building:_.dc_building||void 0,dc_floor:_.dc_floor||void 0,dc_room:_.dc_room||void 0};n(j),await m(j)}else await u(b)}catch(y){console.error("Error in setDefaultRackLocation:",y),await u(b)}},f=async()=>{try{console.log(" getAllRacks: Fetching racks from get-enums...");const y=await fetch("http://localhost:8000/functions/v1/get-enums",{method:"GET",headers:{"Content-Type":"application/json",apikey:""}});if(!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const x=await y.json(),_=x==null?void 0:x.racks;return!_||!Array.isArray(_)?(console.warn(" getAllRacks: Invalid racks data format:",_),["RACK-01","RACK-02","RACK-03"]):(console.log(` getAllRacks: Successfully fetched ${_.length} racks`),_)}catch(b){return console.error(" getAllRacks: Error fetching racks, using fallback:",b),["RACK-01","RACK-02","RACK-03"]}},h=async(b,y={})=>{try{i(!0);let x=oe.from("servers").select("*").limit(1);const{data:_,error:j}=await x;if(j)return console.error("Test query error:",j),[];console.log("Available columns:",_!=null&&_[0]?Object.keys(_[0]):"No data");let k=oe.from("servers").select("dc_site, dc_floor, dc_room, rack");y.dc_site&&(k=k.eq("dc_site",y.dc_site)),y.dc_floor&&(k=k.eq("dc_floor",y.dc_floor)),y.dc_room&&(k=k.eq("dc_room",y.dc_room));const{data:S,error:E}=await k;if(E)return console.error("Error fetching hierarchy data:",E),[];let N=[];switch(b){case"sites":N=[...new Set(S==null?void 0:S.map(O=>O.dc_site).filter(Boolean))];break;case"buildings":N=["Building-A","Building-B","Building-C"];break;case"floors":N=[...new Set(S==null?void 0:S.map(O=>O.dc_floor).filter(Boolean))];break;case"rooms":N=[...new Set(S==null?void 0:S.map(O=>O.dc_room).filter(Boolean))];break;case"racks":N=[...new Set(S==null?void 0:S.map(O=>O.rack).filter(Boolean))];break}return N.sort()}catch(x){return console.error("Error in getHierarchyData:",x),[]}finally{i(!1)}},m=async b=>{const y=await h("sites",{}),x=await h("buildings",{dc_site:b.dc_site}),_=await h("floors",{dc_site:b.dc_site,dc_building:b.dc_building}),j=await h("rooms",{dc_site:b.dc_site,dc_building:b.dc_building,dc_floor:b.dc_floor}),k=await h("racks",{dc_site:b.dc_site,dc_building:b.dc_building,dc_floor:b.dc_floor,dc_room:b.dc_room}),S=await f();t({sites:y,buildings:x,floors:_,rooms:j,racks:k,allRacks:S})};g.useEffect(()=>{(async()=>{await m({}),await c()})()},[]);const p=async(b,y)=>{const x={...r};if(b==="rack"){x.rack=y,await v(y,x);return}switch(b){case"dc_site":x.dc_site=y,x.dc_building=void 0,x.dc_floor=void 0,x.dc_room=void 0,x.rack=void 0;break;case"dc_building":x.dc_building=y,x.dc_floor=void 0,x.dc_room=void 0,x.rack=void 0;break;case"dc_floor":x.dc_floor=y,x.dc_room=void 0,x.rack=void 0;break;case"dc_room":x.dc_room=y,x.rack=void 0;break}n(x),await m(x)},v=async(b,y)=>{try{const{data:x,error:_}=await oe.functions.invoke("get-rack-location",{body:{rackName:b}});if(_){console.error("Error fetching rack location:",_),n(y),await m(y);return}if(x!=null&&x.location){const j=x.location,k={dc_site:j.dc_site||void 0,dc_building:j.dc_building||void 0,dc_floor:j.dc_floor||void 0,dc_room:j.dc_room||void 0,rack:b};n(k),await m(k)}}catch(x){console.error("Error in setRackLocationFromName:",x),n(y),await m(y)}};return{hierarchyData:e,filters:r,loading:s,defaultRack:a,updateFilter:p,resetFilters:async()=>{n({}),await m({})},updateHierarchyData:m,getDefaultRack:c}},U3=()=>{const{user:e}=eo(),t=async n=>{const s={...n,user_id:e==null?void 0:e.id,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,metadata:{...n.metadata,viewport:{width:window.innerWidth,height:window.innerHeight},referrer:document.referrer,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}};try{await fetch("/activity-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(i){console.error("Activity log failed",i)}};return{logActivity:t,logDataOperation:(n,s,i,a)=>t({category:"data",action:n,resourceType:s,resourceId:i,details:a})}},lw=Zv({hostname:At().min(1,"Hostname is required"),serial_number:At().min(1,"Serial number is required"),brand:At().optional().nullable(),model:At().optional().nullable(),ip_address:At().optional(),ip_oob:At().optional(),operating_system:At().optional().nullable(),dc_site:At().min(1,"DC site is required"),dc_building:At().optional().nullable(),dc_floor:At().optional(),dc_room:At().optional(),rack:At().nullable(),unit:At().nullable(),unit_height:vF().min(1,"Height must be at least 1U").max(10,"Maximum height is 10U"),allocation:At().optional().nullable(),status:At().min(1,"Status is required"),device_type:At().min(1,"Device type is required"),warranty:At().optional(),notes:At().optional(),environment:At().optional().nullable()}),Rie=Zv({rack_name:At().min(1,"Rack name is required").max(50,"Rack name must be 50 characters or less").regex(/^[A-Za-z0-9\-_]+$/,"Rack name can only contain letters, numbers, hyphens, and underscores").transform(e=>e.trim()),dc_site:At().min(1,"Datacenter site is required"),dc_building:At().min(1,"Building is required"),dc_floor:At().min(1,"Floor is required"),dc_room:At().min(1,"Room is required"),description:At().max(40,"Description must be 40 characters or less").optional()}),Iie=()=>{var SN,kN,CN,EN,NN,PN,AN,ON,TN,DN,MN,RN;const[e,t]=g.useState([]),[r,n]=g.useState([]),[s,i]=g.useState(!0),[a,o]=g.useState(void 0),[c,u]=g.useState(null),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[p,v]=g.useState(!1),[w,b]=g.useState([]),[y,x]=g.useState(!1),[_,j]=g.useState(null),{logDataOperation:k}=U3(),{enums:S,addEnumValue:E,refreshEnums:N}=Lc(),{hasRole:O}=eo(),{toast:P}=Cr(),{formSchema:A,isLoading:L,error:I,refetch:B}=gie(),{hierarchyData:z,filters:T,updateFilter:C,loading:D}=Xk();g.useEffect(()=>{console.log("ServerInventory: Current enums:",S),console.log("ServerInventory: Status enums:",S==null?void 0:S.status),console.log("ServerInventory: Device types:",S==null?void 0:S.deviceTypes)},[S]);const U=O("engineer"),[W,V]=g.useState(1),[ue,me]=g.useState(10),[Ee,xe]=g.useState(""),[fe,We]=g.useState("all"),[Q,he]=g.useState("all"),[be,Y]=g.useState("all"),[Qe,Le]=g.useState("all"),[Je,it]=g.useState("all"),[Z,M]=g.useState("all"),[$,F]=g.useState("all"),[ie,se]=g.useState("all"),[ne,Me]=g.useState("all"),[ze,Rt]=g.useState("all"),[ft,tn]=g.useState({}),[Rr,Dn]=g.useState(!1),{enabledFilters:ca,refreshPreferences:rs}=R3(),Mn=Math.ceil(r.length/ue),ua=W*ue,ri=ua-ue,Es=r.slice(ri,ua),Kc=g.useCallback(()=>{if(!A.fields.length)return lw;const R=A.validationSchema;return R&&R instanceof Qt?Lie(lw,R):lw},[A]),Ve=g.useCallback(()=>{var K,ae,we,mt,ht,Er,Rn,Ir,si,ss,Mi;return{...{hostname:"",serial_number:"",brand:((K=S==null?void 0:S.brands)==null?void 0:K[0])||null,model:((ae=S==null?void 0:S.models)==null?void 0:ae[0])||null,ip_address:"",ip_oob:"",operating_system:((we=S==null?void 0:S.osTypes)==null?void 0:we[0])||null,dc_site:((mt=S==null?void 0:S.sites)==null?void 0:mt[0])||"",dc_building:((ht=S==null?void 0:S.buildings)==null?void 0:ht[0])||null,dc_floor:"",dc_room:"",rack:((Er=S==null?void 0:S.racks)==null?void 0:Er[0])||null,unit:((Rn=S==null?void 0:S.units)==null?void 0:Rn[0])||null,unit_height:1,allocation:((Ir=S==null?void 0:S.allocationTypes)==null?void 0:Ir[0])||null,status:((si=S==null?void 0:S.status)==null?void 0:si[0])||"Active",device_type:((ss=S==null?void 0:S.deviceTypes)==null?void 0:ss[0])||"Server",warranty:"",notes:"",environment:((Mi=S==null?void 0:S.environmentTypes)==null?void 0:Mi[0])||null},...A.defaultValues}},[S,A.defaultValues]),de=lO({resolver:uO(Kc()),defaultValues:Ve()}),jt=g.useCallback((R,K,ae,we=1,mt)=>{if(!R)return[];const ht=ae.filter(Ir=>Ir.rack===R&&Ir.id!==K),Er=new Set;ht.forEach(Ir=>{var Mi;const si=parseInt(((Mi=Ir.unit)==null?void 0:Mi.substring(1))||"0"),ss=Ir.unit_height||1;for(let tb=0;tb<ss;tb++)Er.add(`U${si+tb}`)});let Rn=((S==null?void 0:S.units)||[]).filter(Ir=>{const si=parseInt(Ir.substring(1));for(let ss=0;ss<we;ss++)if(Er.has(`U${si+ss}`))return!1;return!0});return mt&&!Rn.includes(mt)&&(Rn=[...Rn,mt]),Rn.sort((Ir,si)=>{const ss=parseInt(Ir.substring(1)),Mi=parseInt(si.substring(1));return ss-Mi}),Rn},[S==null?void 0:S.units]),H=Bg({control:de.control,name:"rack"}),ee=Bg({control:de.control,name:"unit"}),ge=Bg({control:de.control,name:"unit_height"}),{register:Xe,handleSubmit:kt,formState:{errors:ot},reset:ns}=lO({resolver:uO(Rie),defaultValues:{rack_name:"",dc_site:"DC-East",dc_building:"Building-A",dc_floor:"1",dc_room:"MDF",description:""}});g.useEffect(()=>{const R=de.getValues("rack"),K=de.getValues("unit_height"),ae=de.getValues("unit");console.log("Available units effect triggered:",{currentRack:R,currentUnit:ae,currentHeight:K,editingServer:c==null?void 0:c.id,editingServerUnit:c==null?void 0:c.unit,editingServerRack:c==null?void 0:c.rack});const we=(c==null?void 0:c.unit)||void 0,mt=jt(R,(c==null?void 0:c.id)||null,e,K,we);console.log("Calculated available units:",mt),b(mt),!c&&ae&&!mt.includes(ae)&&(console.log("Resetting unit because not editing and current unit not available"),de.setValue("unit",mt[0]||null))},[de,jt,c==null?void 0:c.id,c==null?void 0:c.unit,e]),g.useEffect(()=>{if(c&&c.unit&&c.rack&&(console.log("Ensuring editing server unit is available:",{serverUnit:c.unit,serverRack:c.rack,currentAvailableUnits:w}),!w.includes(c.unit))){const R=[...w,c.unit];R.sort((K,ae)=>{const we=parseInt(K.substring(1)),mt=parseInt(ae.substring(1));return we-mt}),console.log("Adding editing server unit to available units:",R),b(R)}},[c,w]);const ur=(R,K)=>{const ae=parseInt(R.substring(1)),we=ae+(K-1);return K>1?` (U${ae}-U${we})`:""},ni=g.useCallback(()=>{const R=Ve();de.reset(R),u(null),o(void 0)},[de,Ve]);g.useEffect(()=>{if(!L&&A.fields.length>=0&&!c){const R=Ve();de.reset(R)}},[A,L,Kc,Ve,de,c]),g.useEffect(()=>{if(S&&!L){const R=Ve();if(c){console.log("Populating form for editing server:",c);const K={...R,hostname:c.hostname||"",serial_number:c.serial_number||"",brand:c.brand||null,model:c.model||null,ip_address:c.ip_address||"",ip_oob:c.ip_oob||"",operating_system:c.operating_system||null,dc_site:c.dc_site||"",dc_building:c.dc_building||null,dc_floor:c.dc_floor||"",dc_room:c.dc_room||"",rack:c.rack||null,unit:c.unit||null,unit_height:c.unit_height||1,allocation:c.allocation??void 0,status:c.status||"Active",device_type:c.device_type||"Server",warranty:c.warranty||"",notes:c.notes||"",environment:c.environment??void 0};if(console.log("Server data for form reset:",{rack:K.rack,unit:K.unit,unit_height:K.unit_height}),A.fields.forEach(ae=>{c[ae.key]!==void 0&&(K[ae.key]=c[ae.key])}),de.reset(K),c.warranty)try{o(new Date(c.warranty))}catch{console.error("Invalid warranty date:",c.warranty),o(void 0)}else o(void 0)}else de.reset(R),o(void 0)}},[S,c,de,Ve,A,L]),g.useEffect(()=>{Yr()},[]),g.useEffect(()=>{const R=K=>{console.log("ServerInventory: Received enum update event",K.detail),B(),rs()};return window.addEventListener("enumsUpdated",R),()=>{window.removeEventListener("enumsUpdated",R)}},[B,rs]),g.useEffect(()=>{const R=K=>{console.log("ServerInventory: Received schema update event",K.detail),B()};return window.addEventListener("schemaUpdated",R),()=>{window.removeEventListener("schemaUpdated",R)}},[B]),g.useEffect(()=>{J0()},[e,Ee,fe,Q,be,Qe,Je,Z,$,ie,ne,ze,ft]),g.useEffect(()=>{const R=()=>{rs()};return window.addEventListener("filterPreferencesUpdated",R),()=>{window.removeEventListener("filterPreferencesUpdated",R)}},[rs]);const Yr=async()=>{try{i(!0);const{data:R,error:K}=await oe.from("servers").select("*").order("created_at",{ascending:!1});if(K)throw K;const ae=R.map(we=>({id:we.id,serial_number:we.serial_number||null,hostname:we.hostname,brand:we.brand,model:we.model,ip_address:we.ip_address,ip_oob:we.ip_oob,operating_system:we.operating_system,dc_site:we.dc_site,dc_building:we.dc_building,dc_floor:we.dc_floor,dc_room:we.dc_room,rack:we.rack,unit:we.unit,unit_height:we.unit_height,allocation:we.allocation,status:we.status,device_type:we.device_type,warranty:we.warranty,notes:we.notes,environment:we.environment,created_by:we.created_by,created_at:we.created_at,updated_at:we.updated_at,...Object.keys(we).reduce((mt,ht)=>(["id","serial_number","hostname","brand","model","ip_address","ip_oob","operating_system","dc_site","dc_building","dc_floor","dc_room","rack","unit","unit_height","allocation","status","device_type","warranty","notes","environment","created_by","created_at","updated_at"].includes(ht)||(mt[ht]=we[ht]),mt),{})}));t(ae),n(ae)}catch(R){console.error("Error fetching servers:",R),P({title:"Error",description:"Failed to fetch servers",variant:"destructive"})}finally{i(!1)}},J0=()=>{let R=e;Ee&&(R=R.filter(K=>{var ae,we,mt,ht,Er,Rn,Ir,si,ss,Mi;return K.hostname.toLowerCase().includes(Ee.toLowerCase())||((ae=K.dc_site)==null?void 0:ae.toLowerCase().includes(Ee.toLowerCase()))||((we=K.ip_address)==null?void 0:we.toLowerCase().includes(Ee.toLowerCase()))||((mt=K.brand)==null?void 0:mt.toLowerCase().includes(Ee.toLowerCase()))||((ht=K.model)==null?void 0:ht.toLowerCase().includes(Ee.toLowerCase()))||((Er=K.serial_number)==null?void 0:Er.toLowerCase().includes(Ee.toLowerCase()))||((Rn=K.operating_system)==null?void 0:Rn.toLowerCase().includes(Ee.toLowerCase()))||((Ir=K.dc_building)==null?void 0:Ir.toLowerCase().includes(Ee.toLowerCase()))||((si=K.dc_floor)==null?void 0:si.toLowerCase().includes(Ee.toLowerCase()))||((ss=K.dc_room)==null?void 0:ss.toLowerCase().includes(Ee.toLowerCase()))||(((Mi=K.allocation)==null?void 0:Mi.toLowerCase().includes(Ee.toLowerCase()))??!1)})),fe!=="all"&&(R=R.filter(K=>K.device_type===fe)),Q!=="all"&&(R=R.filter(K=>K.environment===Q)),be!=="all"&&(R=R.filter(K=>K.brand===be)),Qe!=="all"&&(R=R.filter(K=>K.model===Qe)),Je!=="all"&&(R=R.filter(K=>K.allocation===Je)),Z!=="all"&&(R=R.filter(K=>K.operating_system===Z)),$!=="all"&&(R=R.filter(K=>K.dc_site===$)),ie!=="all"&&(R=R.filter(K=>K.dc_building===ie)),ne!=="all"&&(R=R.filter(K=>K.rack===ne)),ze!=="all"&&(R=R.filter(K=>K.status===ze)),Object.entries(ft).forEach(([K,ae])=>{ae!=="all"&&ae!==""&&(R=R.filter(we=>we[K]===ae))}),n(R)},eb=()=>{xe(""),We("all"),he("all"),Y("all"),Le("all"),it("all"),M("all"),F("all"),se("all"),Me("all"),Rt("all"),tn({}),V(1)},BV=R=>{u(R),f(!0)},zV=async R=>{if(!O("engineer")){P({title:"Permission Denied",description:"You need engineer permissions to manage servers",variant:"destructive"});return}i(!0);try{const{data:{user:K}}=await oe.auth.getUser(),ae=A.fields.map(ht=>({id:ht.id??"",key:ht.key??"",name:ht.name??ht.display_name??"",display_name:ht.display_name??ht.name??"",property_type:ht.property_type??ht.type??"text",description:ht.description??null,category:ht.category??null,required:ht.required??!1,default_value:ht.default??null,options:ht.options??null,active:!0,sort_order:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})),we=Sie(R,ae),mt={hostname:we.hostname,serial_number:we.serial_number,brand:we.brand,model:we.model,ip_address:we.ip_address,ip_oob:we.ip_oob,operating_system:we.operating_system,dc_site:we.dc_site,dc_building:we.dc_building,dc_floor:we.dc_floor,dc_room:we.dc_room,rack:we.rack,unit:we.unit,unit_height:we.unit_height,allocation:we.allocation,status:we.status,device_type:we.device_type,warranty:we.warranty,notes:we.notes,environment:we.environment||null,created_by:(K==null?void 0:K.id)||null,...A.fields.reduce((ht,Er)=>(we[Er.key]!==void 0&&(ht[Er.key]=we[Er.key]),ht),{})};if(c){const Er=["rack","unit","dc_room","dc_floor","dc_building","dc_site"].some(Ir=>mt[Ir]!==c[Ir]),{error:Rn}=await oe.from("servers").update(mt).eq("id",c.id);if(Rn)throw Rn;k("update","server",c.id,{oldValues:c,newValues:mt}),Er&&await oe.functions.invoke("server-position-history",{method:"POST",body:{serverId:c.id,rack:mt.rack,unit:mt.unit,dc_room:mt.dc_room,dc_floor:mt.dc_floor,dc_building:mt.dc_building,dc_site:mt.dc_site,notes:mt.notes,changed_by:K==null?void 0:K.id}}),P({title:"Server updated",description:"The server has been updated successfully."})}else{const{data:ht,error:Er}=await oe.from("servers").insert([{...mt,created_at:new Date().toISOString()}]).select().single();if(Er)throw Er;ht&&k("create","server",ht.id,{newValues:mt}),P({title:"Server created",description:"The server has been created successfully."})}await Yr(),f(!1),ni()}catch(K){console.error("Error saving server:",K);const ae=K instanceof Error?K.message:"An error occurred while saving the server.";P({title:"Error",description:ae,variant:"destructive"})}finally{i(!1)}},UV=async R=>{if(!O("super_admin")){P({title:"Permission Denied",description:"You need super admin permissions to delete servers",variant:"destructive"});return}j(R),x(!0)},WV=async()=>{if(!_)return;const R=e.find(K=>K.id===_);try{const{error:K}=await oe.from("servers").delete().eq("id",_);if(K)throw K;R&&k("delete","server",R.id,{oldValues:R}),P({title:"Success",description:"Server deleted successfully"}),Yr()}catch(K){console.error("Error deleting server:",K),P({title:"Error",description:"Failed to delete server",variant:"destructive"})}finally{x(!1),j(null)}},VV=R=>{const K={Server:"default",Storage:"secondary",Network:"outline"};return l.jsx(Fe,{variant:K[R],children:R})},HV=R=>{if(!R)return null;const K={Production:"destructive","Pre-Production":"default",Testing:"secondary",Development:"outline"};return l.jsx(Fe,{variant:K[R],children:R})},KV=R=>R?l.jsx(Fe,{variant:"outline",children:R}):null,qV=async R=>{if(!O("engineer")){P({title:"Permission Denied",description:"You need engineer permissions to add racks",variant:"destructive"});return}v(!0);try{if(!await E("rack",R.rack_name.trim()))throw new Error("Failed to add rack to enum");const{data:{session:ae},error:we}=await oe.auth.getSession();if(we||!ae)throw new Error("Not authenticated");const ht=await fetch(`http://localhost:8000/functions/v1/main/api/racks/${R.rack_name.trim()}/description`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae.access_token}`,apikey:""},body:JSON.stringify({description:R.description||"",dc_site:R.dc_site,dc_building:R.dc_building,dc_floor:R.dc_floor,dc_room:R.dc_room,total_units:42})});if(ht.ok)P({title:"Rack added successfully",description:`Rack "${R.rack_name}" has been added to the system with metadata.`});else{const Er=await ht.text();console.error("Error creating rack metadata:",Er),P({title:"Rack added with warning",description:`Rack "${R.rack_name}" was added to the system, but metadata creation failed. Please contact support.`,variant:"default"})}m(!1),ns(),await N()}catch(K){console.error("Error adding rack:",K);const ae=K instanceof Error?K.message:"Unknown error occurred";P({title:"Error adding rack",description:`Failed to add rack: ${ae}`,variant:"destructive"})}finally{v(!1)}};return s||L?l.jsxs(De,{children:[l.jsxs(Ke,{children:[l.jsx(qe,{children:"Server Inventory"}),l.jsx(Gt,{children:"Loading server inventory..."})]}),l.jsx(Re,{children:l.jsxs("div",{className:"animate-pulse space-y-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),l.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})})]}):I?l.jsxs(De,{children:[l.jsxs(Ke,{children:[l.jsx(qe,{children:"Server Inventory"}),l.jsx(Gt,{children:"Error loading form schema"})]}),l.jsx(Re,{children:l.jsxs("div",{className:"text-red-500",children:[l.jsxs("p",{children:["Failed to load dynamic form schema: ",I]}),l.jsx(G,{onClick:B,className:"mt-2",children:"Retry"})]})})]}):l.jsxs(De,{children:[l.jsx(Ke,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(qe,{children:"Server Inventory"}),l.jsxs(Gt,{children:["Manage your data center server inventory with detailed properties",A.fields.length>0&&l.jsxs("span",{className:"block text-xs text-muted-foreground mt-1",children:["Dynamic properties: ",A.fields.length," field",A.fields.length!==1?"s":""," configured"]})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[U&&l.jsxs(wr,{open:h,onOpenChange:m,children:[l.jsx(Qh,{asChild:!0,children:l.jsxs(G,{onClick:()=>ns(),children:[l.jsx(Na,{className:"h-4 w-4 mr-2"}),"Add Rack"]})}),l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Add New Rack"}),l.jsx(mr,{children:"Enter the details for the new rack and its location."})]}),l.jsxs("form",{onSubmit:kt(qV),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"rack_name",children:"Rack Name *"}),l.jsx(He,{id:"rack_name",placeholder:"e.g., RACK-01",disabled:p,...Xe("rack_name"),className:ot.rack_name?"border-red-500":""}),ot.rack_name&&l.jsx("p",{className:"text-sm text-red-500",children:ot.rack_name.message})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_site",children:"Site *"}),l.jsx("select",{id:"dc_site",disabled:p,...Xe("dc_site"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_site?"border-red-500":"border-gray-300"}`,children:(SN=S.sites)==null?void 0:SN.map(R=>l.jsx("option",{value:R,children:R},R))}),ot.dc_site&&l.jsx("p",{className:"text-sm text-red-500",children:ot.dc_site.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_building",children:"Building *"}),l.jsx("select",{id:"dc_building",disabled:p,...Xe("dc_building"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_building?"border-red-500":"border-gray-300"}`,children:(kN=S.buildings)==null?void 0:kN.map(R=>l.jsx("option",{value:R,children:R},R))}),ot.dc_building&&l.jsx("p",{className:"text-sm text-red-500",children:ot.dc_building.message})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_floor",children:"Floor *"}),l.jsxs("select",{id:"dc_floor",disabled:p,...Xe("dc_floor"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_floor?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"})]}),ot.dc_floor&&l.jsx("p",{className:"text-sm text-red-500",children:ot.dc_floor.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_room",children:"Room *"}),l.jsxs("select",{id:"dc_room",disabled:p,...Xe("dc_room"),className:`w-full px-3 py-2 border rounded-md ${ot.dc_room?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"MDF",children:"MDF"}),l.jsx("option",{value:"IDF",children:"IDF"}),l.jsx("option",{value:"Comms",children:"Comms"})]}),ot.dc_room&&l.jsx("p",{className:"text-sm text-red-500",children:ot.dc_room.message})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"description",children:"Description (Optional)"}),l.jsx(He,{id:"description",placeholder:"Optional description (max 40 chars)",maxLength:40,disabled:p,...Xe("description"),className:ot.description?"border-red-500":""}),ot.description&&l.jsx("p",{className:"text-sm text-red-500",children:ot.description.message})]}),l.jsxs(il,{children:[l.jsx(G,{type:"button",variant:"outline",disabled:p,onClick:()=>{m(!1),ns()},children:"Cancel"}),l.jsx(G,{type:"submit",disabled:p,children:p?"Adding...":"OK"})]})]})]})]}),U&&l.jsxs(wr,{open:d,onOpenChange:f,children:[l.jsx(Qh,{asChild:!0,children:l.jsxs(G,{onClick:ni,children:[l.jsx(Na,{className:"h-4 w-4 mr-2"}),"Add Device"]})}),l.jsxs(fr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(hr,{children:[l.jsx(pr,{children:c?"Edit Device":"Add New Device"}),l.jsx(mr,{children:c?"Update device information":"Add a new device to the inventory"})]}),l.jsxs("form",{onSubmit:de.handleSubmit(zV),className:"space-y-6",children:[l.jsxs(De,{children:[l.jsx(Ke,{className:"pb-3",children:l.jsx(qe,{className:"text-lg font-medium",children:"Core Information"})}),l.jsxs(Re,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"hostname",children:"Hostname *"}),l.jsx(He,{id:"hostname",placeholder:"server-001",...de.register("hostname"),className:de.formState.errors.hostname?"border-red-500":""}),de.formState.errors.hostname&&l.jsx("p",{className:"text-sm text-red-500",children:de.formState.errors.hostname.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"serial_number",children:"Serial Number *"}),l.jsx(He,{id:"serial_number",placeholder:"SN123456789",...de.register("serial_number"),className:de.formState.errors.serial_number?"border-red-500":""}),de.formState.errors.serial_number&&l.jsx("p",{className:"text-sm text-red-500",children:de.formState.errors.serial_number.message})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"brand",children:"Brand"}),l.jsx(nr,{name:"brand",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:R.value||"",onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select brand"})}),l.jsx(je,{children:(K=S==null?void 0:S.brands)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"model",children:"Model"}),l.jsx(nr,{name:"model",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:R.value||"",onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select model"})}),l.jsx(je,{children:(K=S==null?void 0:S.models)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"ip_address",children:"IP Address"}),l.jsx(He,{id:"ip_address",placeholder:"192.168.1.100",...de.register("ip_address"),className:de.formState.errors.ip_address?"border-red-500":""}),de.formState.errors.ip_address&&l.jsx("p",{className:"text-sm text-red-500",children:de.formState.errors.ip_address.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"ip_oob",children:"OOB/IPMI IP"}),l.jsx(He,{id:"ip_oob",placeholder:"192.168.1.100",...de.register("ip_oob"),className:de.formState.errors.ip_oob?"border-red-500":""}),de.formState.errors.ip_oob&&l.jsx("p",{className:"text-sm text-red-500",children:de.formState.errors.ip_oob.message})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"operating_system",children:"Operating System"}),l.jsx(nr,{name:"operating_system",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:R.value||"",onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select OS"})}),l.jsx(je,{children:(K=S==null?void 0:S.osTypes)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"device_type",children:"Device Type *"}),l.jsx(nr,{name:"device_type",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:R.value,onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select device type"})}),l.jsx(je,{children:(K=S==null?void 0:S.deviceTypes)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_site",children:"DC Site *"}),l.jsx(nr,{name:"dc_site",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:T.dc_site,onValueChange:ae=>{C("dc_site",ae),R.onChange(ae)},disabled:D,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select site"})}),l.jsx(je,{children:(K=z.sites)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_building",children:"DC Building"}),l.jsx(nr,{name:"dc_building",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:T.dc_building,onValueChange:ae=>{C("dc_building",ae),R.onChange(ae)},disabled:!T.dc_site||D,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select building"})}),l.jsx(je,{children:(K=z.buildings)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_floor",children:"DC Floor"}),l.jsx(nr,{name:"dc_floor",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:T.dc_floor,onValueChange:ae=>{C("dc_floor",ae),R.onChange(ae)},disabled:!T.dc_building||D,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select floor"})}),l.jsx(je,{children:(K=z.floors)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dc_room",children:"DC Room"}),l.jsx(nr,{name:"dc_room",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:T.dc_room,onValueChange:ae=>{C("dc_room",ae),R.onChange(ae)},disabled:!T.dc_floor||D,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select room"})}),l.jsx(je,{children:(K=z.rooms)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"rack",children:"Rack"}),l.jsx(nr,{name:"rack",control:de.control,render:({field:R})=>{var ae;console.log("Rack field render:",{fieldValue:R.value,availableRacks:S==null?void 0:S.racks,editingServerRack:c==null?void 0:c.rack,isEditingServerRackInList:(ae=S==null?void 0:S.racks)==null?void 0:ae.includes((c==null?void 0:c.rack)||"")});let K=(S==null?void 0:S.racks)||[];return c!=null&&c.rack&&!K.includes(c.rack)&&(K=[...K,c.rack].sort()),l.jsxs(ke,{value:R.value||"",onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select rack"})}),l.jsx(je,{children:K.map(we=>l.jsx(q,{value:we,children:we},we))})]})}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"unit",children:"Unit"}),l.jsx(nr,{name:"unit",control:de.control,render:({field:R})=>(console.log("Unit field render:",{fieldValue:R.value,availableUnits:w,editingServerUnit:c==null?void 0:c.unit,isEditingServerUnitInList:w.includes((c==null?void 0:c.unit)||""),rackValue:de.getValues("rack")}),l.jsxs(ke,{value:R.value||"",onValueChange:R.onChange,disabled:!de.getValues("rack"),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select unit"})}),l.jsx(je,{children:w.map(K=>l.jsxs(q,{value:K,children:[K,ur(K,de.getValues("unit_height")||1)]},K))})]}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"unit_height",children:"Height (U) *"}),l.jsx(nr,{name:"unit_height",control:de.control,render:({field:R})=>l.jsx(He,{type:"number",min:"1",max:"10",value:R.value||1,onChange:K=>R.onChange(parseInt(K.target.value)||1),className:de.formState.errors.unit_height?"border-red-500":""})}),de.formState.errors.unit_height&&l.jsx("p",{className:"text-sm text-red-500",children:de.formState.errors.unit_height.message})]})]}),H&&ee&&ge&&l.jsx("div",{className:"mt-4",children:l.jsx(Die,{rack:H,position:parseInt((ee==null?void 0:ee.replace("U",""))||"1"),unitHeight:ge||1,excludeServerId:c==null?void 0:c.id,onSuggestionApply:R=>{de.setValue("unit",`U${R}`)},className:"w-full"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"allocation",children:"Allocation"}),l.jsx(nr,{name:"allocation",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:R.value||"",onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select allocation"})}),l.jsx(je,{children:(K=S==null?void 0:S.allocationTypes)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"status",children:"Status *"}),l.jsx(nr,{name:"status",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:R.value,onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select status"})}),l.jsx(je,{children:(K=S==null?void 0:S.status)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"environment",children:"Environment"}),l.jsx(nr,{name:"environment",control:de.control,render:({field:R})=>{var K;return l.jsxs(ke,{value:R.value||"",onValueChange:R.onChange,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select environment"})}),l.jsx(je,{children:(K=S==null?void 0:S.environmentTypes)==null?void 0:K.map(ae=>l.jsx(q,{value:ae,children:ae},ae))})]})}})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"warranty",children:"Warranty"}),l.jsx(nr,{name:"warranty",control:de.control,render:({field:R})=>l.jsxs(Lk,{children:[l.jsx($k,{asChild:!0,children:l.jsxs(G,{variant:"outline",className:ye("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[l.jsx(BS,{className:"mr-2 h-4 w-4"}),a?Qn(a,"PPP"):l.jsx("span",{children:"Pick warranty date"})]})}),l.jsx(Hx,{className:"w-auto p-0",children:l.jsx(Kk,{mode:"single",selected:a,onSelect:K=>{o(K),R.onChange(K?Qn(K,"yyyy-MM-dd"):"")},initialFocus:!0})})]})})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(J,{htmlFor:"notes",children:"Notes"}),l.jsx(Mk,{id:"notes",placeholder:"Additional notes...",...de.register("notes"),className:"mt-2",rows:3}),(c==null?void 0:c.id)&&l.jsx(Mie,{serverId:c.id})]})]})]}),A.fields.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(Hi,{}),l.jsx(jie,{fields:A.fields,control:de.control,errors:de.formState.errors,showCategories:!0,columnsPerRow:2,setValue:de.setValue},`dynamic-form-${A.fields.map(R=>{var K;return R.key+":"+(((K=R.options)==null?void 0:K.length)||0)}).join("-")}`)]}),l.jsxs(il,{children:[l.jsx(G,{type:"button",variant:"outline",disabled:s,onClick:()=>{f(!1),ni()},children:"Cancel"}),l.jsx(G,{type:"submit",disabled:s,children:s?"Saving...":c?"Update Device":"Add Device"})]})]})]})]}),l.jsxs(G,{variant:"outline",onClick:eb,className:"flex items-center gap-2","aria-label":"Clear all filters and search",children:[l.jsx(WS,{className:"h-4 w-4"}),"Clear Filters"]}),l.jsxs(G,{variant:"outline",onClick:()=>Dn(!0),className:"flex items-center gap-2","aria-label":"Manage filter columns",children:[l.jsx(vc,{className:"h-4 w-4"}),"Manage Filters"]})]})]})}),l.jsx(Aie,{open:Rr,onOpenChange:Dn,onFiltersUpdated:()=>{window.location.reload()}}),l.jsxs(Re,{children:[l.jsx("div",{className:"mb-6 space-y-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(jv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx(He,{placeholder:"Search all fields...",value:Ee,onChange:R=>xe(R.target.value),className:"pl-10"})]})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[l.jsxs(ke,{value:fe,onValueChange:We,children:[l.jsxs(_e,{children:[l.jsx(vc,{className:"h-4 w-4 mr-2"}),l.jsx(Ce,{placeholder:"Device Type"})]}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Device Types"}),(CN=S==null?void 0:S.deviceTypes)==null?void 0:CN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:Q,onValueChange:he,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Environment"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Environments"}),(EN=S==null?void 0:S.environmentTypes)==null?void 0:EN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:be,onValueChange:Y,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Brand"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Brands"}),(NN=S==null?void 0:S.brands)==null?void 0:NN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:Qe,onValueChange:Le,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Model"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Models"}),(PN=S==null?void 0:S.models)==null?void 0:PN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:Je,onValueChange:it,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Allocation"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Allocations"}),(AN=S==null?void 0:S.allocationTypes)==null?void 0:AN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:Z,onValueChange:M,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Operating System"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All OS"}),(ON=S==null?void 0:S.osTypes)==null?void 0:ON.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:$,onValueChange:F,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Site"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Sites"}),(TN=S==null?void 0:S.sites)==null?void 0:TN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:ie,onValueChange:se,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Building"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Buildings"}),(DN=S==null?void 0:S.buildings)==null?void 0:DN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:ne,onValueChange:Me,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Rack"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Racks"}),(MN=S==null?void 0:S.racks)==null?void 0:MN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),l.jsxs(ke,{value:ze,onValueChange:Rt,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Status"})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Status"}),(RN=S==null?void 0:S.status)==null?void 0:RN.map(R=>l.jsx(q,{value:R,children:R},R))]})]}),ca.filter(R=>!R.isCore&&R.options.length>0).map(R=>l.jsxs(ke,{value:ft[R.key]||"all",onValueChange:K=>tn(ae=>({...ae,[R.key]:K})),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:R.displayName})}),l.jsxs(je,{children:[l.jsxs(q,{value:"all",children:["All ",R.displayName]}),R.options.map(K=>l.jsx(q,{value:K,children:K},K))]})]},R.key))]})]})}),l.jsx("div",{className:"rounded-md border",children:l.jsxs(pd,{children:[l.jsx(md,{children:l.jsxs(gs,{children:[l.jsx(wt,{children:"Hostname"}),l.jsx(wt,{children:"Serial Number"}),l.jsx(wt,{children:"Type"}),l.jsx(wt,{children:"Status"}),l.jsx(wt,{children:"Brand/Model"}),l.jsx(wt,{children:"Location"}),l.jsx(wt,{children:"IP Address"}),l.jsx(wt,{children:"Environment"}),l.jsx(wt,{children:"Allocation"}),l.jsx(wt,{children:"Warranty"}),l.jsx(wt,{className:"text-right",children:"Actions"})]})}),l.jsx(gd,{children:Es.map(R=>l.jsxs(gs,{children:[l.jsx(et,{className:"font-medium",children:R.hostname}),l.jsx(et,{children:R.serial_number||"-"}),l.jsx(et,{children:VV(R.device_type)}),l.jsx(et,{children:l.jsx(Fe,{variant:R.status==="Active"?"default":"secondary",children:R.status})}),l.jsx(et,{children:R.brand&&R.model?`${R.brand} ${R.model}`:R.brand||R.model||"-"}),l.jsx(et,{children:l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{children:R.dc_site}),R.rack&&R.unit&&l.jsxs("div",{className:"text-muted-foreground",children:[R.rack," ",R.unit]})]})}),l.jsx(et,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:R.ip_address||"-"}),R.ip_oob&&l.jsxs("span",{className:"text-xs text-muted-foreground",children:["OOB: ",R.ip_oob]})]})}),l.jsx(et,{children:HV(R.environment||void 0)}),l.jsx(et,{children:KV(R.allocation||void 0)}),l.jsx(et,{children:R.warranty?l.jsx("div",{className:"text-sm",children:Qn(new Date(R.warranty),"MMM dd, yyyy")}):"-"}),l.jsx(et,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[U&&l.jsx(G,{variant:"outline",size:"sm",onClick:()=>BV(R),children:l.jsx(Fh,{className:"h-4 w-4"})}),O("super_admin")&&l.jsx(G,{variant:"outline",size:"sm",onClick:()=>UV(R.id),children:l.jsx(fx,{className:"h-4 w-4"})})]})})]},R.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",ri+1," to ",Math.min(ua,r.length)," of ",r.length," entries"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Rows per page:"}),l.jsxs(ke,{value:ue.toString(),onValueChange:R=>{me(Number(R)),V(1)},children:[l.jsx(_e,{className:"h-8 w-[70px]",children:l.jsx(Ce,{placeholder:ue})}),l.jsx(je,{children:[10,25,50,100].map(R=>l.jsx(q,{value:R.toString(),children:R},R))})]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(G,{variant:"outline",size:"sm",onClick:()=>V(1),disabled:W===1,children:"First"}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>V(R=>Math.max(R-1,1)),disabled:W===1,children:"Previous"}),l.jsxs("div",{className:"text-sm px-2",children:["Page ",W," of ",Mn]}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>V(R=>Math.min(R+1,Mn)),disabled:W===Mn,children:"Next"}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>V(Mn),disabled:W===Mn,children:"Last"})]})]})]})]}),l.jsx(wne,{open:y,onOpenChange:x,children:l.jsxs(Q5,{children:[l.jsxs(J5,{children:[l.jsx(t3,{children:"Are you sure?"}),l.jsx(r3,{children:"This action cannot be undone. This will permanently delete the server and remove all of its data from our servers."})]}),l.jsxs(e3,{children:[l.jsx(s3,{onClick:()=>{x(!1),j(null)},children:"Cancel"}),l.jsx(n3,{onClick:WV,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};function Lie(e,t){return e.merge(t)}function $ie(e,t=[]){let r=[];function n(i,a){const o=g.createContext(a),c=r.length;r=[...r,a];function u(f){const{scope:h,children:m,...p}=f,v=(h==null?void 0:h[e][c])||o,w=g.useMemo(()=>p,Object.values(p));return l.jsx(v.Provider,{value:w,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||o,p=g.useContext(m);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=r.map(a=>g.createContext(a));return function(o){const c=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,Fie(s,...t)]}function Fie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...o,...f}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Zk="Progress",Qk=100,[Bie,uEe]=$ie(Zk),[zie,Uie]=Bie(Zk),W3=g.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Wie,...a}=e;(s||s===0)&&!MO(s)&&console.error(Vie(`${s}`,"Progress"));const o=MO(s)?s:Qk;n!==null&&!RO(n,o)&&console.error(Hie(`${n}`,"Progress"));const c=RO(n,o)?n:null,u=ty(c)?i(c,o):void 0;return l.jsx(zie,{scope:r,value:c,max:o,children:l.jsx(Be.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":ty(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":K3(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});W3.displayName=Zk;var V3="ProgressIndicator",H3=g.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Uie(V3,r);return l.jsx(Be.div,{"data-state":K3(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});H3.displayName=V3;function Wie(e,t){return`${Math.round(e/t*100)}%`}function K3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ty(e){return typeof e=="number"}function MO(e){return ty(e)&&!isNaN(e)&&e>0}function RO(e,t){return ty(e)&&!isNaN(e)&&e<=t&&e>=0}function Vie(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Qk}\`.`}function Hie(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Qk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var q3=W3,Kie=H3;const Y3=g.forwardRef(({className:e,value:t,...r},n)=>l.jsx(q3,{ref:n,className:ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(Kie,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Y3.displayName=q3.displayName;var qx={},G3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(G3);var Jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Jk);var eC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(eC);var Yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,a="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=r[i];o?u==="\\"&&i+1<s?(i++,a+=r[i]):u===o?o="":a+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,i++}return a&&n.push(a),n}e.toPath=t})(Yx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G3,r=Jk,n=eC,s=Yx;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function a(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(qx);var qie=qx.get;const al=Ai(qie);var X3={exports:{}},$t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=Symbol.for("react.transitional.element"),rC=Symbol.for("react.portal"),Gx=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),Qx=Symbol.for("react.consumer"),Jx=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),t0=Symbol.for("react.suspense"),r0=Symbol.for("react.suspense_list"),n0=Symbol.for("react.memo"),s0=Symbol.for("react.lazy"),Yie=Symbol.for("react.view_transition"),Gie=Symbol.for("react.client.reference");function Qs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tC:switch(e=e.type,e){case Gx:case Zx:case Xx:case t0:case r0:case Yie:return e;default:switch(e=e&&e.$$typeof,e){case Jx:case e0:case s0:case n0:return e;case Qx:return e;default:return t}}case rC:return t}}}$t.ContextConsumer=Qx;$t.ContextProvider=Jx;$t.Element=tC;$t.ForwardRef=e0;$t.Fragment=Gx;$t.Lazy=s0;$t.Memo=n0;$t.Portal=rC;$t.Profiler=Zx;$t.StrictMode=Xx;$t.Suspense=t0;$t.SuspenseList=r0;$t.isContextConsumer=function(e){return Qs(e)===Qx};$t.isContextProvider=function(e){return Qs(e)===Jx};$t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tC};$t.isForwardRef=function(e){return Qs(e)===e0};$t.isFragment=function(e){return Qs(e)===Gx};$t.isLazy=function(e){return Qs(e)===s0};$t.isMemo=function(e){return Qs(e)===n0};$t.isPortal=function(e){return Qs(e)===rC};$t.isProfiler=function(e){return Qs(e)===Zx};$t.isStrictMode=function(e){return Qs(e)===Xx};$t.isSuspense=function(e){return Qs(e)===t0};$t.isSuspenseList=function(e){return Qs(e)===r0};$t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gx||e===Zx||e===Xx||e===t0||e===r0||typeof e=="object"&&e!==null&&(e.$$typeof===s0||e.$$typeof===n0||e.$$typeof===Jx||e.$$typeof===Qx||e.$$typeof===e0||e.$$typeof===Gie||e.getModuleId!==void 0)};$t.typeOf=Qs;X3.exports=$t;var Xie=X3.exports,Ur=e=>e===0?0:e>0?1:-1,ws=e=>typeof e=="number"&&e!=+e,Kl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Te=e=>(typeof e=="number"||e instanceof Number)&&!ws(e),ia=e=>Te(e)||typeof e=="string",Zie=0,Sc=e=>{var t=++Zie;return"".concat(e||"").concat(t)},En=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&typeof t!="string")return n;var i;if(Kl(t)){if(r==null)return n;var a=t.indexOf("%");i=r*parseFloat(t.slice(0,a))/100}else i=+t;return ws(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},Z3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},fs=(e,t)=>Te(e)&&Te(t)?r=>e+r*(t-e):()=>t;function nC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):al(n,t))===r)}var Lt=e=>e===null||typeof e>"u",Gp=e=>Lt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Qie=["viewBox","children"],Jie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IO=["points","pathLength"],cw={svg:Qie,polygon:IO,polyline:IO},sC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iC=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{sC.includes(s)&&(n[s]=i=>r[s](r,i))}),n},eae=(e,t,r)=>n=>(e(t,r,n),null),i0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];sC.includes(s)&&typeof i=="function"&&(n||(n={}),n[s]=eae(i,t,r))}),n},LO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",$O=null,uw=null,Q3=e=>{if(e===$O&&Array.isArray(uw))return uw;var t=[];return g.Children.forEach(e,r=>{Lt(r)||(Xie.isFragment(r)?t=t.concat(Q3(r.props.children)):t.push(r))}),uw=t,$O=e,t};function Xp(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>LO(s)):n=[LO(t)],Q3(e).forEach(s=>{var i=al(s,"type.displayName")||al(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var J3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,tae=(e,t,r,n)=>{var s,i=(s=n&&(cw==null?void 0:cw[n]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||Jie.includes(t))||r&&sC.includes(t)},pt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var a;tae((a=n)===null||a===void 0?void 0:a[i],i,t,r)&&(s[i]=n[i])}),s},rae=["children","width","height","viewBox","className","style","title","desc"];function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(null,arguments)}function nae(e,t){if(e==null)return{};var r,n,s=sae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eB=g.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:a,style:o,title:c,desc:u}=e,d=nae(e,rae),f=i||{width:n,height:s,x:0,y:0},h=yt("recharts-surface",a);return g.createElement("svg",O1({},pt(d,!0,"svg"),{className:h,width:n,height:s,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),iae=["children","className"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(null,arguments)}function aae(e,t){if(e==null)return{};var r,n,s=oae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vr=g.forwardRef((e,t)=>{var{children:r,className:n}=e,s=aae(e,iae),i=yt("recharts-layer",n);return g.createElement("g",T1({className:i},pt(s,!0),{ref:t}),r)}),lae=g.createContext(null);function Bt(e){return function(){return e}}const tB=Math.cos,ry=Math.sin,Di=Math.sqrt,ny=Math.PI,a0=2*ny,D1=Math.PI,M1=2*D1,Rl=1e-6,cae=M1-Rl;function rB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rB;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class dae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rB:uae(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,a){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+a}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,c=n-t,u=s-r,d=a-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Rl)if(!(Math.abs(f*c-u*d)>Rl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,p=s-o,v=c*c+u*u,w=m*m+p*p,b=Math.sqrt(v),y=Math.sqrt(h),x=i*Math.tan((D1-Math.acos((v+h-w)/(2*b*y)))/2),_=x/y,j=x/b;Math.abs(_-1)>Rl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(s),c=n*Math.sin(s),u=t+o,d=r+c,f=1^a,h=a?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Rl||Math.abs(this._y1-d)>Rl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%M1+M1),h>cae?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Rl&&this._append`A${n},${n},0,${+(h>=D1)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function aC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dae(t)}function oC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nB(e){this._context=e}nB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function o0(e){return new nB(e)}function sB(e){return e[0]}function iB(e){return e[1]}function aB(e,t){var r=Bt(!0),n=null,s=o0,i=null,a=aC(o);e=typeof e=="function"?e:e===void 0?sB:Bt(e),t=typeof t=="function"?t:t===void 0?iB:Bt(t);function o(c){var u,d=(c=oC(c)).length,f,h=!1,m;for(n==null&&(i=s(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Bt(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Bt(!!c),o):r},o.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),o):s},o.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),o):n},o}function Ym(e,t,r){var n=null,s=Bt(!0),i=null,a=o0,o=null,c=aC(u);e=typeof e=="function"?e:e===void 0?sB:Bt(+e),t=typeof t=="function"?t:Bt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iB:Bt(+r);function u(f){var h,m,p,v=(f=oC(f)).length,w,b=!1,y,x=new Array(v),_=new Array(v);for(i==null&&(o=a(y=c())),h=0;h<=v;++h){if(!(h<v&&s(w=f[h],h,f))===b)if(b=!b)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(x[p],_[p]);o.lineEnd(),o.areaEnd()}b&&(x[h]=+e(w,h,f),_[h]=+t(w,h,f),o.point(n?+n(w,h,f):x[h],r?+r(w,h,f):_[h]))}if(y)return o=null,y+""||null}function d(){return aB().defined(s).curve(a).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Bt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Bt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Bt(!!f),u):s},u.curve=function(f){return arguments.length?(a=f,i!=null&&(o=a(i)),u):a},u.context=function(f){return arguments.length?(f==null?i=o=null:o=a(i=f),u):i},u}class oB{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fae(e){return new oB(e,!0)}function hae(e){return new oB(e,!1)}const lC={draw(e,t){const r=Di(t/ny);e.moveTo(r,0),e.arc(0,0,r,0,a0)}},pae={draw(e,t){const r=Di(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},lB=Di(1/3),mae=lB*2,gae={draw(e,t){const r=Di(t/mae),n=r*lB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},vae={draw(e,t){const r=Di(t),n=-r/2;e.rect(n,n,r,r)}},yae=.8908130915292852,cB=ry(ny/10)/ry(7*ny/10),xae=ry(a0/10)*cB,bae=-tB(a0/10)*cB,wae={draw(e,t){const r=Di(t*yae),n=xae*r,s=bae*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const a=a0*i/5,o=tB(a),c=ry(a);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*s,c*n+o*s)}e.closePath()}},dw=Di(3),_ae={draw(e,t){const r=-Di(t/(dw*3));e.moveTo(0,r*2),e.lineTo(-dw*r,-r),e.lineTo(dw*r,-r),e.closePath()}},Ns=-.5,Ps=Di(3)/2,R1=1/Di(12),jae=(R1/2+1)*3,Sae={draw(e,t){const r=Di(t/jae),n=r/2,s=r*R1,i=n,a=r*R1+r,o=-i,c=a;e.moveTo(n,s),e.lineTo(i,a),e.lineTo(o,c),e.lineTo(Ns*n-Ps*s,Ps*n+Ns*s),e.lineTo(Ns*i-Ps*a,Ps*i+Ns*a),e.lineTo(Ns*o-Ps*c,Ps*o+Ns*c),e.lineTo(Ns*n+Ps*s,Ns*s-Ps*n),e.lineTo(Ns*i+Ps*a,Ns*a-Ps*i),e.lineTo(Ns*o+Ps*c,Ns*c-Ps*o),e.closePath()}};function kae(e,t){let r=null,n=aC(s);e=typeof e=="function"?e:Bt(e||lC),t=typeof t=="function"?t:Bt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Bt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Bt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function sy(){}function iy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function uB(e){this._context=e}uB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:iy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cae(e){return new uB(e)}function dB(e){this._context=e}dB.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eae(e){return new dB(e)}function fB(e){this._context=e}fB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:iy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nae(e){return new fB(e)}function hB(e){this._context=e}hB.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Pae(e){return new hB(e)}function FO(e){return e<0?-1:1}function BO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),a=(r-e._y1)/(s||n<0&&-0),o=(i*s+a*n)/(n+s);return(FO(i)+FO(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(o))||0}function zO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,a=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,s+o*t,i-o,a-o*r,i,a)}function ay(e){this._context=e}ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fw(this,this._t0,zO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fw(this,zO(this,r=BO(this,e,t)),r);break;default:fw(this,this._t0,r=BO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pB(e){this._context=new mB(e)}(pB.prototype=Object.create(ay.prototype)).point=function(e,t){ay.prototype.point.call(this,t,e)};function mB(e){this._context=e}mB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function Aae(e){return new ay(e)}function Oae(e){return new pB(e)}function gB(e){this._context=e}gB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=UO(e),s=UO(t),i=0,a=1;a<r;++i,++a)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),a=new Array(r);for(s[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(s[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(a[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Tae(e){return new gB(e)}function l0(e,t){this._context=e,this._t=t}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Dae(e){return new l0(e,.5)}function Mae(e){return new l0(e,0)}function Rae(e){return new l0(e,1)}function yd(e,t){if((a=e.length)>1)for(var r=1,n,s,i=e[t[0]],a,o=i.length;r<a;++r)for(s=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function I1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Iae(e,t){return e[t]}function Lae(e){const t=[];return t.key=e,t}function $ae(){var e=Bt([]),t=I1,r=yd,n=Iae;function s(i){var a=Array.from(e.apply(this,arguments),Lae),o,c=a.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(a[o][u]=[0,+n(f,a[o].key,u,i)]).data=f;for(o=0,d=oC(t(a));o<c;++o)a[d[o]].index=o;return r(a,d),a}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Bt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Bt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?I1:typeof i=="function"?i:Bt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??yd,s):r},s}function Fae(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,a;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}yd(e,t)}}function Bae(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var a=0,o=0;a<s;++a)o+=e[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}yd(e,t)}}function zae(e,t){if(!(!((a=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,a;n<i;++n){for(var o=0,c=0,u=0;o<a;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var v=e[t[p]],w=v[n][1]||0,b=v[n-1][1]||0;m+=w-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,yd(e,t)}}var Uae=["type","size","sizeType"];function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(null,arguments)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Wae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wae(e,t,r){return(t=Vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vae(e){var t=Hae(e,"string");return typeof t=="symbol"?t:t+""}function Hae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kae(e,t){if(e==null)return{};var r,n,s=qae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vB={symbolCircle:lC,symbolCross:pae,symbolDiamond:gae,symbolSquare:vae,symbolStar:wae,symbolTriangle:_ae,symbolWye:Sae},Yae=Math.PI/180,Gae=e=>{var t="symbol".concat(Gp(e));return vB[t]||lC},Xae=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Yae;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zae=(e,t)=>{vB["symbol".concat(Gp(e))]=t},yB=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=Kae(e,Uae),i=VO(VO({},s),{},{type:t,size:r,sizeType:n}),a=()=>{var f=Gae(t),h=kae().type(f).size(Xae(r,n,t));return h()},{className:o,cx:c,cy:u}=i,d=pt(i,!0);return c===+c&&u===+u&&r===+r?g.createElement("path",L1({},d,{className:yt("recharts-symbols",o),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};yB.registerSymbol=Zae;var xB={},bB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const a=r[i],o=n(a);s.has(o)||s.set(o,a)}return Array.from(s.values())}e.uniqBy=t})(bB);var cC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(cC);var wB={},c0={},_B={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(_B);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_B;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(c0);var jB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(jB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0,r=jB;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(wB);var SB={},kB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx;function r(n){return function(s){return t.get(s,n)}}e.property=r})(kB);var CB={},hw={},pw={},uC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(uC);var dC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(dC);var u0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(u0);var HO;function Qae(){return HO||(HO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fC(),r=uC,n=dC,s=u0;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function p(v,w,b,y,x,_){const j=m(v,w,b,y,x,_);return j!==void 0?!!j:a(v,w,p,_)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function o(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const v=Object.keys(h);if(f==null)return v.length===0;if(v.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let w=0;w<v.length;w++){const b=v[w];if(!n.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!m(f[b],h[b],b,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,w]of h.entries()){const b=f.get(v);if(m(b,w,v,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let w=0;w<h.length;w++){const b=h[w];let y=!1;for(let x=0;x<f.length;x++){if(v.has(x))continue;const _=f[x];let j=!1;if(m(_,b,w,f,h,p)&&(j=!0),j){v.add(x),y=!0;break}}if(!y)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=d}(pw)),pw}var KO;function fC(){return KO||(KO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qae();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(hw)),hw}var EB={},hC={},pC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(pC);var d0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(d0);var f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",a="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",v="[object DataView]",w="[object Uint8Array]",b="[object Uint8ClampedArray]",y="[object Uint16Array]",x="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",E="[object BigInt64Array]",N="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=s,e.dataViewTag=v,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=N,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=S,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=y,e.uint32ArrayTag=x,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=b})(f0);var NB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(NB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pC,r=d0,n=f0,s=dC,i=NB;function a(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const v=p==null?void 0:p(d,f,h,m);if(v!=null)return v;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let b=0;b<d.length;b++)w[b]=o(d[b],b,h,m,p);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[b,y]of d)w.set(b,o(y,b,h,m,p));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const b of d)w.add(o(b,void 0,h,m,p));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let b=0;b<d.length;b++)w[b]=o(d[b],b,h,m,p);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,p),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,p),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,p),w}return d}function c(d,f,h=d,m,p){const v=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<v.length;w++){const b=v[w],y=Object.getOwnPropertyDescriptor(d,b);(y==null||y.writable)&&(d[b]=o(f[b],b,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=c})(hC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(EB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fC(),r=EB;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(CB);var PB={},AB={},OB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hC,r=f0;function n(s,i){return t.cloneDeepWith(s,(a,o,c,u)=>{const d=i==null?void 0:i(a,o,c,u);if(d!=null)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(OB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OB;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(AB);var TB={},mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(mC);var DB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(DB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk,r=mC,n=DB,s=Yx;function i(a,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?c=s.toPath(o):c=[o],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(TB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fC(),r=eC,n=AB,s=qx,i=TB;function a(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(PB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cC,r=kB,n=CB,s=PB;function i(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?s.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=i})(SB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bB,r=cC,n=wB,s=SB;function i(a,o=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),s.iteratee(o)):[]}e.uniqBy=i})(xB);var Jae=xB.uniqBy;const qO=Ai(Jae);function eoe(e,t,r){return t===!0?qO(e,r):typeof t=="function"?qO(e,t):e}var MB={exports:{}},RB={},IB={exports:{}},LB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=g;function toe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var roe=typeof Object.is=="function"?Object.is:toe,noe=xd.useState,soe=xd.useEffect,ioe=xd.useLayoutEffect,aoe=xd.useDebugValue;function ooe(e,t){var r=t(),n=noe({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return ioe(function(){s.value=r,s.getSnapshot=t,mw(s)&&i({inst:s})},[e,r,t]),soe(function(){return mw(s)&&i({inst:s}),e(function(){mw(s)&&i({inst:s})})},[e]),aoe(r),r}function mw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!roe(e,r)}catch{return!0}}function loe(e,t){return t()}var coe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?loe:ooe;LB.useSyncExternalStore=xd.useSyncExternalStore!==void 0?xd.useSyncExternalStore:coe;IB.exports=LB;var uoe=IB.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=g,doe=uoe;function foe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hoe=typeof Object.is=="function"?Object.is:foe,poe=doe.useSyncExternalStore,moe=h0.useRef,goe=h0.useEffect,voe=h0.useMemo,yoe=h0.useDebugValue;RB.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=moe(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=voe(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return f=p}return f=m}if(p=f,hoe(d,m))return p;var v=n(m);return s!==void 0&&s(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var o=poe(e,i[0],i[1]);return goe(function(){a.hasValue=!0,a.value=o},[o]),yoe(o),o};MB.exports=RB;var xoe=MB.exports,gC=g.createContext(null),boe=e=>e,cr=()=>{var e=g.useContext(gC);return e?e.store.dispatch:boe},Hg=()=>{},woe=()=>Hg,_oe=(e,t)=>e===t;function Ie(e){var t=g.useContext(gC);return xoe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:woe,t?t.store.getState:Hg,t?t.store.getState:Hg,t?e:Hg,_oe)}function joe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Soe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function koe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var YO=e=>Array.isArray(e)?e:[e];function Coe(e){const t=Array.isArray(e[0])?e[0]:e;return koe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Eoe(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var Noe=class{constructor(e){this.value=e}deref(){return this.value}},Poe=typeof WeakRef<"u"?WeakRef:Noe,Aoe=0,GO=1;function Gm(){return{s:Aoe,v:void 0,o:null,p:null}}function $B(e,t={}){let r=Gm();const{resultEqualityCheck:n}=t;let s,i=0;function a(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const w=v.get(p);w===void 0?(o=Gm(),v.set(p,o)):o=w}else{let v=o.p;v===null&&(o.p=v=new Map);const w=v.get(p);w===void 0?(o=Gm(),v.set(p,o)):o=w}}const u=o;let d;if(o.s===GO)d=o.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new Poe(d):d}return u.s=GO,u.v=d,d}return a.clearCache=()=>{r=Gm(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function Ooe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,a=0,o,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),joe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=$B,argsMemoizeOptions:p=[],devModeChecks:v={}}=d,w=YO(h),b=YO(p),y=Coe(s),x=f(function(){return i++,u.apply(null,arguments)},...w),_=m(function(){a++;const k=Eoe(y,arguments);return o=x.apply(null,k),o},...b);return Object.assign(_,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var X=Ooe($B),Toe=Object.assign((e,t=X)=>{Soe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((a,o,c)=>(a[r[c]]=o,a),{}))},{withTypes:()=>Toe}),FB={},BB={},zB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const a=t(n),o=t(s);if(a===o&&a===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?o-a:a-o}return 0};e.compareValues=r})(zB);var UB={},vC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(vC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vC,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,a){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||a!=null&&Object.hasOwn(a,i)}e.isKey=s})(UB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zB,r=UB,n=Yx;function s(i,a,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let v=m;for(let w=0;w<p.length&&v!=null;++w)v=v[p[w]];return v},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let v=0;v<f.length;v++){const w=t.compareValues(m.criteria[v],p.criteria[v],o[v]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=s})(BB);var WB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),a=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?a(d,c+1):s.push(d)}};return a(r,0),s}e.flatten=t})(WB);var yC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC,r=c0,n=uC,s=u0;function i(a,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?s.eq(c[o],a):!1}e.isIterateeCall=i})(yC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BB,r=WB,n=yC;function s(i,...a){const o=a.length;return o>1&&n.isIterateeCall(i,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(i,r.flatten(a),["asc"])}e.sortBy=s})(FB);var Doe=FB.sortBy;const p0=Ai(Doe);var VB=e=>e.legend.settings,Moe=e=>e.legend.size,Roe=e=>e.legend.payload;X([Roe,VB],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?p0(n,r):n});var Xm=1;function Ioe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),a={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(a.height-t.height)>Xm||Math.abs(a.left-t.left)>Xm||Math.abs(a.top-t.top)>Xm||Math.abs(a.width-t.width)>Xm)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Xr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Loe=typeof Symbol=="function"&&Symbol.observable||"@@observable",XO=Loe,gw=()=>Math.random().toString(36).substring(7).split("").join("."),$oe={INIT:`@@redux/INIT${gw()}`,REPLACE:`@@redux/REPLACE${gw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gw()}`},oy=$oe;function xC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HB(e,t,r){if(typeof e!="function")throw new Error(Xr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xr(1));return r(HB)(e,t)}let n=e,s=t,i=new Map,a=i,o=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((w,b)=>{a.set(b,w)}))}function d(){if(c)throw new Error(Xr(3));return s}function f(w){if(typeof w!="function")throw new Error(Xr(4));if(c)throw new Error(Xr(5));let b=!0;u();const y=o++;return a.set(y,w),function(){if(b){if(c)throw new Error(Xr(6));b=!1,u(),a.delete(y),i=null}}}function h(w){if(!xC(w))throw new Error(Xr(7));if(typeof w.type>"u")throw new Error(Xr(8));if(typeof w.type!="string")throw new Error(Xr(17));if(c)throw new Error(Xr(9));try{c=!0,s=n(s,w)}finally{c=!1}return(i=a).forEach(y=>{y()}),w}function m(w){if(typeof w!="function")throw new Error(Xr(10));n=w,h({type:oy.REPLACE})}function p(){const w=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Xr(11));function y(){const _=b;_.next&&_.next(d())}return y(),{unsubscribe:w(y)}},[XO](){return this}}}return h({type:oy.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[XO]:p}}function Foe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:oy.INIT})>"u")throw new Error(Xr(12));if(typeof r(void 0,{type:oy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xr(13))})}function KB(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let s;try{Foe(r)}catch(i){s=i}return function(a={},o){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(Xr(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function ly(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Boe(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Xr(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(a));return i=ly(...o)(s.dispatch),{...s,dispatch:i}}}function qB(e){return xC(e)&&"type"in e&&typeof e.type=="string"}var YB=Symbol.for("immer-nothing"),ZO=Symbol.for("immer-draftable"),_s=Symbol.for("immer-state");function vi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bd=Object.getPrototypeOf;function kc(e){return!!e&&!!e[_s]}function Ga(e){var t;return e?GB(e)||Array.isArray(e)||!!e[ZO]||!!((t=e.constructor)!=null&&t[ZO])||g0(e)||v0(e):!1}var zoe=Object.prototype.constructor.toString();function GB(e){if(!e||typeof e!="object")return!1;const t=bd(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===zoe}function cy(e,t){m0(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function m0(e){const t=e[_s];return t?t.type_:Array.isArray(e)?1:g0(e)?2:v0(e)?3:0}function $1(e,t){return m0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XB(e,t,r){const n=m0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Uoe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function g0(e){return e instanceof Map}function v0(e){return e instanceof Set}function Il(e){return e.copy_||e.base_}function F1(e,t){if(g0(e))return new Map(e);if(v0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=GB(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[_s];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const a=s[i],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(bd(e),n)}else{const n=bd(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function bC(e,t=!1){return y0(e)||kc(e)||!Ga(e)||(m0(e)>1&&(e.set=e.add=e.clear=e.delete=Woe),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>bC(n,!0))),e}function Woe(){vi(2)}function y0(e){return Object.isFrozen(e)}var Voe={};function Cc(e){const t=Voe[e];return t||vi(0,e),t}var Jh;function ZB(){return Jh}function Hoe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QO(e,t){t&&(Cc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function B1(e){z1(e),e.drafts_.forEach(Koe),e.drafts_=null}function z1(e){e===Jh&&(Jh=e.parent_)}function JO(e){return Jh=Hoe(Jh,e)}function Koe(e){const t=e[_s];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function e2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[_s].modified_&&(B1(t),vi(4)),Ga(e)&&(e=uy(t,e),t.parent_||dy(t,e)),t.patches_&&Cc("Patches").generateReplacementPatches_(r[_s].base_,e,t.patches_,t.inversePatches_)):e=uy(t,r,[]),B1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==YB?e:void 0}function uy(e,t,r){if(y0(t))return t;const n=t[_s];if(!n)return cy(t,(s,i)=>t2(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return dy(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,a=!1;n.type_===3&&(i=new Set(s),s.clear(),a=!0),cy(i,(o,c)=>t2(e,n,s,o,c,r,a)),dy(e,s,!1),r&&e.patches_&&Cc("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function t2(e,t,r,n,s,i,a){if(kc(s)){const o=i&&t&&t.type_!==3&&!$1(t.assigned_,n)?i.concat(n):void 0,c=uy(e,s,o);if(XB(r,n,c),kc(c))e.canAutoFreeze_=!1;else return}else a&&r.add(s);if(Ga(s)&&!y0(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;uy(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&dy(e,s)}}function dy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bC(t,r)}function qoe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ZB(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=wC;r&&(s=[n],i=ep);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return n.draft_=o,n.revoke_=a,o}var wC={get(e,t){if(t===_s)return e;const r=Il(e);if(!$1(r,t))return Yoe(e,r,t);const n=r[t];return e.finalized_||!Ga(n)?n:n===vw(e.base_,t)?(yw(e),e.copy_[t]=W1(n,e)):n},has(e,t){return t in Il(e)},ownKeys(e){return Reflect.ownKeys(Il(e))},set(e,t,r){const n=QB(Il(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=vw(Il(e),t),i=s==null?void 0:s[_s];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Uoe(r,s)&&(r!==void 0||$1(e.base_,t)))return!0;yw(e),U1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return vw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,yw(e),U1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Il(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){vi(11)},getPrototypeOf(e){return bd(e.base_)},setPrototypeOf(){vi(12)}},ep={};cy(wC,(e,t)=>{ep[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ep.deleteProperty=function(e,t){return ep.set.call(this,e,t,void 0)};ep.set=function(e,t,r){return wC.set.call(this,e[0],t,r,e[0])};function vw(e,t){const r=e[_s];return(r?Il(r):e)[t]}function Yoe(e,t,r){var s;const n=QB(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function QB(e,t){if(!(t in e))return;let r=bd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bd(r)}}function U1(e){e.modified_||(e.modified_=!0,e.parent_&&U1(e.parent_))}function yw(e){e.copy_||(e.copy_=F1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Goe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const a=this;return function(c=i,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&vi(6),n!==void 0&&typeof n!="function"&&vi(7);let s;if(Ga(t)){const i=JO(this),a=W1(t,void 0);let o=!0;try{s=r(a),o=!1}finally{o?B1(i):z1(i)}return QO(i,n),e2(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===YB&&(s=void 0),this.autoFreeze_&&bC(s,!0),n){const i=[],a=[];Cc("Patches").generateReplacementPatches_(t,s,i,a),n(i,a)}return s}else vi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,c=>t(c,...o));let n,s;return[this.produce(t,r,(a,o)=>{n=a,s=o}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ga(e)||vi(8),kc(e)&&(e=Yo(e));const t=JO(this),r=W1(e,void 0);return r[_s].isManual_=!0,z1(t),r}finishDraft(e,t){const r=e&&e[_s];(!r||!r.isManual_)&&vi(9);const{scope_:n}=r;return QO(n,t),e2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=Cc("Patches").applyPatches_;return kc(e)?n(e,t):this.produce(e,s=>n(s,t))}};function W1(e,t){const r=g0(e)?Cc("MapSet").proxyMap_(e,t):v0(e)?Cc("MapSet").proxySet_(e,t):qoe(e,t);return(t?t.scope_:ZB()).drafts_.push(r),r}function Yo(e){return kc(e)||vi(10,e),JB(e)}function JB(e){if(!Ga(e)||y0(e))return e;const t=e[_s];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=F1(e,t.scope_.immer_.useStrictShallowCopy_)}else r=F1(e,!0);return cy(r,(n,s)=>{XB(r,n,JB(s))}),t&&(t.finalized_=!1),r}var js=new Goe,e6=js.produce;js.produceWithPatches.bind(js);js.setAutoFreeze.bind(js);js.setUseStrictShallowCopy.bind(js);js.applyPatches.bind(js);js.createDraft.bind(js);js.finishDraft.bind(js);function t6(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var Xoe=t6(),Zoe=t6,Qoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ly:ly.apply(null,arguments)};function Ys(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(xs(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>qB(n)&&n.type===e,r}var r6=class Wf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wf.prototype)}static get[Symbol.species](){return Wf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wf(...t[0].concat(this)):new Wf(...t.concat(this))}};function r2(e){return Ga(e)?e6(e,()=>{}):e}function Zm(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Joe(e){return typeof e=="boolean"}var ele=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let a=new r6;return r&&(Joe(r)?a.push(Xoe):a.push(Zoe(r.extraArgument))),a},tle="RTK_autoBatch",n2=e=>t=>{setTimeout(t,e)},rle=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,a=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n2(10):e.type==="callback"?e.queueNotification:n2(e.timeout),u=()=>{a=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>s&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[tle]),i=!s,i&&(a||(a=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},nle=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new r6(e);return n&&s.push(rle(typeof n=="object"?n:void 0)),s};function sle(e){const t=ele(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(xC(r))c=KB(r);else throw new Error(xs(1));let u;typeof n=="function"?u=n(t):u=t();let d=ly;s&&(d=Qoe({trace:!1,...typeof s=="object"&&s}));const f=Boe(...u),h=nle(f);let m=typeof o=="function"?o(h):h();const p=d(...m);return HB(c,a,p)}function n6(e){const t={},r=[];let n;const s={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(xs(28));if(o in t)throw new Error(xs(29));return t[o]=a,s},addMatcher(i,a){return r.push({matcher:i,reducer:a}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function ile(e){return typeof e=="function"}function ale(e,t){let[r,n,s]=n6(t),i;if(ile(e))i=()=>r2(e());else{const o=r2(e);i=()=>o}function a(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(kc(d)){const m=f(d,c);return m===void 0?d:m}else{if(Ga(d))return e6(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return a.getInitialState=i,a}var ole="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lle=(e=21)=>{let t="",r=e;for(;r--;)t+=ole[Math.random()*64|0];return t},cle=Symbol.for("rtk-slice-createasyncthunk");function ule(e,t){return`${e}/${t}`}function dle({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[cle];return function(s){const{name:i,reducerPath:a=i}=s;if(!i)throw new Error(xs(11));typeof process<"u";const o=(typeof s.reducers=="function"?s.reducers(hle()):s.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(xs(12));if(k in u.sliceCaseReducersByType)throw new Error(xs(13));return u.sliceCaseReducersByType[k]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=o[_],k={reducerName:_,type:ule(i,_),createNotation:typeof s.reducers=="function"};mle(j)?vle(k,j,d,t):ple(k,j,d)});function f(){const[_={},j=[],k=void 0]=typeof s.extraReducers=="function"?n6(s.extraReducers):[s.extraReducers],S={..._,...u.sliceCaseReducersByType};return ale(s.initialState,E=>{for(let N in S)E.addCase(N,S[N]);for(let N of u.sliceMatchers)E.addMatcher(N.matcher,N.reducer);for(let N of j)E.addMatcher(N.matcher,N.reducer);k&&E.addDefaultCase(k)})}const h=_=>_,m=new Map,p=new WeakMap;let v;function w(_,j){return v||(v=f()),v(_,j)}function b(){return v||(v=f()),v.getInitialState()}function y(_,j=!1){function k(E){let N=E[_];return typeof N>"u"&&j&&(N=Zm(p,k,b)),N}function S(E=h){const N=Zm(m,j,()=>new WeakMap);return Zm(N,E,()=>{const O={};for(const[P,A]of Object.entries(s.selectors??{}))O[P]=fle(A,E,()=>Zm(p,E,b),j);return O})}return{reducerPath:_,getSelectors:S,get selectors(){return S(k)},selectSlice:k}}const x={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...y(a),injectInto(_,{reducerPath:j,...k}={}){const S=j??a;return _.inject({reducerPath:S,reducer:w},k),{...x,...y(S,!0)}}};return x}}function fle(e,t,r,n){function s(i,...a){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...a)}return s.unwrapped=e,s}var Js=dle();function hle(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ple({type:e,reducerName:t,createNotation:r},n,s){let i,a;if("reducer"in n){if(r&&!gle(n))throw new Error(xs(17));i=n.reducer,a=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Ys(e,a):Ys(e))}function mle(e){return e._reducerDefinitionType==="asyncThunk"}function gle(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vle({type:e,reducerName:t},r,n,s){if(!s)throw new Error(xs(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:c,settled:u,options:d}=r,f=s(e,i,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Qm,pending:o||Qm,rejected:c||Qm,settled:u||Qm})}function Qm(){}var yle="task",s6="listener",i6="completed",_C="cancelled",xle=`task-${_C}`,ble=`task-${i6}`,V1=`${s6}-${_C}`,wle=`${s6}-${i6}`,x0=class{constructor(e){Pe(this,"name","TaskAbortError");Pe(this,"message");this.code=e,this.message=`${yle} ${_C} (reason: ${e})`}},jC=(e,t)=>{if(typeof e!="function")throw new TypeError(xs(32))},fy=()=>{},a6=(e,t=fy)=>(e.catch(t),e),o6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ac=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},oc=e=>{if(e.aborted){const{reason:t}=e;throw new x0(t)}};function l6(e,t){let r=fy;return new Promise((n,s)=>{const i=()=>s(new x0(e.reason));if(e.aborted){i();return}r=o6(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=fy})}var _le=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof x0?"cancelled":"rejected",error:r}}finally{t==null||t()}},hy=e=>t=>a6(l6(e,t).then(r=>(oc(e),r))),c6=e=>{const t=hy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fu}=Object,s2={},b0="listenerMiddleware",jle=(e,t)=>{const r=n=>o6(e,()=>ac(n,e.reason));return(n,s)=>{jC(n);const i=new AbortController;r(i);const a=_le(async()=>{oc(e),oc(i.signal);const o=await n({pause:hy(i.signal),delay:c6(i.signal),signal:i.signal});return oc(i.signal),o},()=>ac(i,ble));return s!=null&&s.autoJoin&&t.push(a.catch(fy)),{result:hy(e)(a),cancel(){ac(i,xle)}}}},Sle=(e,t)=>{const r=async(n,s)=>{oc(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&o.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await l6(t,Promise.race(o));return oc(t),c}finally{i()}};return(n,s)=>a6(r(n,s))},u6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Ys(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(xs(21));return jC(i),{predicate:s,type:t,effect:i}},d6=Fu(e=>{const{type:t,predicate:r,effect:n}=u6(e);return{id:lle(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xs(22))}}},{withTypes:()=>d6}),i2=(e,t)=>{const{type:r,effect:n,predicate:s}=u6(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},H1=e=>{e.pending.forEach(t=>{ac(t,V1)})},kle=e=>()=>{e.forEach(H1),e.clear()},a2=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},f6=Fu(Ys(`${b0}/add`),{withTypes:()=>f6}),Cle=Ys(`${b0}/removeAll`),h6=Fu(Ys(`${b0}/remove`),{withTypes:()=>h6}),Ele=(...e)=>{console.error(`${b0}/error`,...e)},Zp=(e={})=>{const t=new Map,{extra:r,onError:n=Ele}=e;jC(n);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&H1(d)}),i=d=>{const f=i2(t,d)??d6(d);return s(f)};Fu(i,{withTypes:()=>i});const a=d=>{const f=i2(t,d);return f&&(f.unsubscribe(),d.cancelActive&&H1(f)),!!f};Fu(a,{withTypes:()=>a});const o=async(d,f,h,m)=>{const p=new AbortController,v=Sle(i,p.signal),w=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Fu({},h,{getOriginalState:m,condition:(b,y)=>v(b,y).then(Boolean),take:v,delay:c6(p.signal),pause:hy(p.signal),extra:r,signal:p.signal,fork:jle(p.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,y,x)=>{b!==p&&(ac(b,V1),x.delete(b))})},cancel:()=>{ac(p,V1),d.pending.delete(p)},throwIfCancelled:()=>{oc(p.signal)}})))}catch(b){b instanceof x0||a2(n,b,{raisedBy:"effect"})}finally{await Promise.all(w),ac(p,wle),d.pending.delete(p)}},c=kle(t);return{middleware:d=>f=>h=>{if(!qB(h))return f(h);if(f6.match(h))return i(h.payload);if(Cle.match(h)){c();return}if(h6.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===s2)throw new Error(xs(23));return m};let v;try{if(v=f(h),t.size>0){const w=d.getState(),b=Array.from(t.values());for(const y of b){let x=!1;try{x=y.predicate(h,w,m)}catch(_){x=!1,a2(n,_,{raisedBy:"predicate"})}x&&o(y,h,d,p)}}}finally{m=s2}return v},startListening:i,stopListening:a,clearListeners:c}};function xs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},p6=Js({name:"chartLayout",initialState:Nle,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Ple,setLayout:Ale,setChartSize:Ole,setScale:Tle}=p6.actions,Dle=p6.reducer;function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){Mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mle(e,t,r){return(t=Rle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rle(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var py=Math.PI/180,Lle=e=>e*180/Math.PI,jr=(e,t,r,n)=>({x:e+Math.cos(-py*n)*r,y:t+Math.sin(-py*n)*r}),m6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$le=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},Fle=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,a=$le({x:r,y:n},{x:s,y:i});if(a<=0)return{radius:a,angle:0};var o=(r-s)/a,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:a,angle:Lle(c),angleInRadian:c}},Ble=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},zle=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),a=Math.min(s,i);return e+a*360},Ule=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=Fle({x:r,y:n},t),{innerRadius:a,outerRadius:o}=t;if(s<a||s>o||s===0)return null;var{startAngle:c,endAngle:u}=Ble(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?l2(l2({},t),{},{radius:s,angle:zle(d,t)}):null};function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){Wle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wle(e,t,r){return(t=Vle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vle(e){var t=Hle(e,"string");return typeof t=="symbol"?t:t+""}function Hle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qt(e,t,r){return Lt(e)||Lt(t)?r:ia(t)?al(e,t,r):typeof t=="function"?t(e):r}var Kle=(e,t,r,n,s)=>{var i,a=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Ur(d-u)!==Ur(f-d)){var m=[];if(Ur(f-d)===Ur(s[1]-s[0])){h=f;var p=d+s[1]-s[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var v=f+s[1]-s[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var b=Math.min(u,f),y=Math.max(u,f);if(e>(b+d)/2&&e<=(y+d)/2){({index:a}=r[c]);break}}}else if(t){for(var x=0;x<o;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:a}=t[x]);break}}return a},qle=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&i!=="center"&&Te(e[i]))return Is(Is({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&a!=="middle"&&Te(e[a]))return Is(Is({},e),{},{[a]:e[a]+(s||0)})}return e},xl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",g6=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var s,i,a=e.map(o=>(o.coordinate===t&&(s=!0),o.coordinate===r&&(i=!0),o.coordinate));return s||a.push(t),i||a.push(r),a},v6=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:a,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var p=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,v=s==="category"&&a.bandwidth?a.bandwidth()/p:0;if(v=m==="angleAxis"&&i&&i.length>=2?Ur(i[0]-i[1])*2*v:v,f||h){var w=(f||h||[]).map((b,y)=>{var x=n?n.indexOf(b):b;return{coordinate:a(x)+v,value:b,offset:v,index:y}});return w.filter(b=>!ws(b.coordinate))}return c&&u?u.map((b,y)=>({coordinate:a(b)+v,value:b,index:y,offset:v})):a.ticks&&!r&&d!=null?a.ticks(d).map((b,y)=>({coordinate:a(b)+v,value:b,offset:v,index:y})):a.domain().map((b,y)=>({coordinate:a(b)+v,value:n?n[b]:b,index:y,offset:v}))},u2=1e-4,Yle=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-u2,i=Math.max(n[0],n[1])+u2,a=e(t[0]),o=e(t[r-1]);(a<s||a>i||o<s||o>i)&&e.domain([t[0],t[r-1]])}},Gle=(e,t)=>{if(!t||t.length!==2||!Te(t[0])||!Te(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(s[0]=r),(!Te(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},Xle=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,a=0;a<t;++a){var o=ws(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1])}},Zle=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var a=ws(e[i][r][1])?e[i][r][0]:e[i][r][1];a>=0?(e[i][r][0]=s,e[i][r][1]=s+a,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Qle={sign:Xle,expand:Fae,none:yd,silhouette:Bae,wiggle:zae,positive:Zle},Jle=(e,t,r)=>{var n=Qle[r],s=$ae().keys(t).value((i,a)=>+qt(i,a,0)).order(I1).offset(n);return s(e)};function y6(e){return e==null?void 0:String(e)}function d2(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(s[t.dataKey])){var o=nC(r,"value",s[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=qt(s,Lt(a)?t.dataKey:a);return Lt(c)?null:t.scale(c)}var f2=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var o=qt(i,t.dataKey,t.scale.domain()[a]);return Lt(o)?null:t.scale(o)-s/2+n},ece=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},tce=e=>{var t=e.flat(2).filter(Te);return[Math.min(...t),Math.max(...t)]},rce=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],nce=(e,t,r)=>{if(e!=null)return rce(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:a}=i,o=a.reduce((c,u)=>{var d=tce(u.slice(t,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},h2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=p0(t,d=>d.coordinate),i=1/0,a=1,o=s.length;a<o;a++){var c=s[a],u=s[a-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function m2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Is(Is({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Hd(e,t){if(e)return String(e);if(typeof t=="string")return t}function sce(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?Ule({x:e,y:t},n):null}var ice=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:a}=n;return Is(Is(Is({},n),jr(n.cx,n.cy,a,i)),{},{angle:i,radius:a})}var o=s.coordinate,{angle:c}=n;return Is(Is(Is({},n),jr(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},ace=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,bl=e=>e.layout.width,wl=e=>e.layout.height,oce=e=>e.layout.scale,x6=e=>e.layout.margin,SC=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),kC=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),b6="data-recharts-item-index",w6="data-recharts-item-data-key",w0=60;function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return(t=cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return typeof t=="symbol"?t:t+""}function uce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dce=e=>e.brush.height,Hr=X([bl,wl,x6,dce,SC,kC,VB,Moe],(e,t,r,n,s,i,a,o)=>{var c=i.reduce((p,v)=>{var{orientation:w}=v;if(!v.mirror&&!v.hide){var b=typeof v.width=="number"?v.width:w0;return uo(uo({},p),{},{[w]:p[w]+b})}return p},{left:r.left||0,right:r.right||0}),u=s.reduce((p,v)=>{var{orientation:w}=v;return!v.mirror&&!v.hide?uo(uo({},p),{},{[w]:al(p,"".concat(w))+v.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=uo(uo({},u),c),f=d.bottom;d.bottom+=n,d=qle(d,a,o);var h=e-d.left-d.right,m=t-d.top-d.bottom;return uo(uo({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),fce=X(Hr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),_6=X(bl,wl,(e,t)=>({x:0,y:0,width:e,height:t})),hce=g.createContext(null),On=()=>g.useContext(hce)!=null,_0=e=>e.brush,j0=X([_0,Hr,x6],(e,t,r)=>({height:e.height,x:Te(e.x)?e.x:t.left,y:Te(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Te(e.width)?e.width:t.width})),CC=()=>{var e,t=On(),r=Ie(fce),n=Ie(j0),s=(e=Ie(_0))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},pce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Qp=()=>{var e;return(e=Ie(Hr))!==null&&e!==void 0?e:pce},j6=()=>Ie(bl),S6=()=>Ie(wl),St=e=>e.layout.layoutType,S0=()=>Ie(St),mce={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k6=Js({name:"legend",initialState:mce,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Yo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:dEe,setLegendSettings:fEe,addLegendPayload:C6,removeLegendPayload:E6}=k6.actions,gce=k6.reducer;function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K1.apply(null,arguments)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vce(e,t,r){return(t=yce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yce(e){var t=xce(e,"string");return typeof t=="symbol"?t:t+""}function xce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bce(e){return Array.isArray(e)&&ia(e[0])&&ia(e[1])?e.join(" ~ "):e}var wce=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:a,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},k=(o?p0(i,o):i).map((S,E)=>{if(S.type==="none")return null;var N=S.formatter||a||bce,{value:O,name:P}=S,A=O,L=P;if(N){var I=N(O,P,S,E,i);if(Array.isArray(I))[A,L]=I;else if(I!=null)A=I;else return null}var B=xw({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:B},ia(L)?g.createElement("span",{className:"recharts-tooltip-item-name"},L):null,ia(L)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},A),g.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},p=xw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=xw({margin:0},s),w=!Lt(d),b=w?d:"",y=yt("recharts-default-tooltip",c),x=yt("recharts-tooltip-label",u);w&&f&&i!==void 0&&i!==null&&(b=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",K1({className:y,style:p},_),g.createElement("p",{className:x,style:v},g.isValidElement(b)?b:"".concat(b)),m())},bf="recharts-tooltip-wrapper",_ce={visibility:"hidden"};function jce(e){var{coordinate:t,translateX:r,translateY:n}=e;return yt(bf,{["".concat(bf,"-right")]:Te(r)&&t&&Te(t.x)&&r>=t.x,["".concat(bf,"-left")]:Te(r)&&t&&Te(t.x)&&r<t.x,["".concat(bf,"-bottom")]:Te(n)&&t&&Te(t.y)&&n>=t.y,["".concat(bf,"-top")]:Te(n)&&t&&Te(t.y)&&n<t.y})}function y2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&Te(i[n]))return i[n];var d=r[n]-o-(s>0?s:0),f=r[n]+s;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+o,w=h+u;return v>w?Math.max(d,h):Math.max(f,h)}function Sce(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function kce(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:a,useTranslate3d:o,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=y2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=y2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=Sce({translateX:d,translateY:f,useTranslate3d:o})):u=_ce,{cssProperties:u,cssClasses:jce({translateX:d,translateY:f,coordinate:r})}}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q1(e,t,r){return(t=Cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cce(e){var t=Ece(e,"string");return typeof t=="symbol"?t:t+""}function Ece(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nce extends g.PureComponent{constructor(){super(...arguments),q1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),q1(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:a,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:v,innerRef:w,hasPortalFromProps:b}=this.props,{cssClasses:y,cssProperties:x}=kce({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),_=b?{}:Jm(Jm({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Jm(Jm({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:j,ref:w},i)}}var Pce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$c={isSsr:Pce()},N6=()=>Ie(e=>e.rootProps.accessibilityLayer);function Ss(e){return Number.isFinite(e)}function wd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(null,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Ace(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ace(e,t,r){return(t=Oce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oce(e){var t=Tce(e,"string");return typeof t=="symbol"?t:t+""}function Tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _2={curveBasisClosed:Eae,curveBasisOpen:Nae,curveBasis:Cae,curveBumpX:fae,curveBumpY:hae,curveLinearClosed:Pae,curveLinear:o0,curveMonotoneX:Aae,curveMonotoneY:Oae,curveNatural:Tae,curveStep:Dae,curveStepAfter:Rae,curveStepBefore:Mae},eg=e=>Ss(e.x)&&Ss(e.y),wf=e=>e.x,_f=e=>e.y,Dce=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Gp(e));return(r==="curveMonotone"||r==="curveBump")&&t?_2["".concat(r).concat(t==="vertical"?"Y":"X")]:_2[r]||o0},Mce=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,a=Dce(t,s),o=i?r.filter(eg):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>eg(f)):n,d=o.map((f,h)=>w2(w2({},f),{},{base:u[h]}));return s==="vertical"?c=Ym().y(_f).x1(wf).x0(f=>f.base.x):c=Ym().x(wf).y1(_f).y0(f=>f.base.y),c.defined(eg).curve(a),c(d)}return s==="vertical"&&Te(n)?c=Ym().y(_f).x1(wf).x0(n):Te(n)?c=Ym().x(wf).y1(_f).y0(n):c=aB().x(wf).y(_f),c.defined(eg).curve(a),c(o)},EC=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Mce(e):n;return g.createElement("path",Y1({},pt(e,!1),iC(e),{className:yt("recharts-curve",t),d:i===null?void 0:i,ref:s}))},Rce=["x","y","top","left","width","height","className"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(null,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ice(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){Lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lce(e,t,r){return(t=$ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ce(e){var t=Fce(e,"string");return typeof t=="symbol"?t:t+""}function Fce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bce(e,t){if(e==null)return{};var r,n,s=zce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uce=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Wce=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:a=0,className:o}=e,c=Bce(e,Rce),u=Ice({x:t,y:r,top:n,left:s,width:i,height:a},c);return!Te(t)||!Te(r)||!Te(i)||!Te(a)||!Te(n)||!Te(s)?null:g.createElement("path",G1({},pt(u,!0),{className:yt("recharts-cross",o),d:Uce(t,r,i,a,n,s)}))};function Vce(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){Kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kce(e,t,r){return(t=qce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qce(e){var t=Yce(e,"string");return typeof t=="symbol"?t:t+""}function Yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ei(e,t){var r=Hce({},e),n=t,s=Object.keys(t),i=s.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return i}var P6={},A6={},O6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(O6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O6,r=pC,n=d0,s=f0,i=u0;function a(u,d,f){return o(u,d,void 0,void 0,void 0,void 0,f)}function o(u,d,f,h,m,p,v){const w=v(u,d,f,h,m,p);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,v)}return c(u,d,p,v)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),p=n.getTag(d);if(m===s.argumentsTag&&(m=s.objectTag),p===s.argumentsTag&&(p=s.objectTag),m!==p)return!1;switch(m){case s.stringTag:return u.toString()===d.toString();case s.numberTag:{const b=u.valueOf(),y=d.valueOf();return i.eq(b,y)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(u.valueOf(),d.valueOf());case s.regexpTag:return u.source===d.source&&u.flags===d.flags;case s.functionTag:return u===d}f=f??new Map;const v=f.get(u),w=f.get(d);if(v!=null&&w!=null)return v===d;f.set(u,d),f.set(d,u);try{switch(m){case s.mapTag:{if(u.size!==d.size)return!1;for(const[b,y]of u.entries())if(!d.has(b)||!o(y,d.get(b),b,u,d,f,h))return!1;return!0}case s.setTag:{if(u.size!==d.size)return!1;const b=Array.from(u.values()),y=Array.from(d.values());for(let x=0;x<b.length;x++){const _=b[x],j=y.findIndex(k=>o(_,k,void 0,u,d,f,h));if(j===-1)return!1;y.splice(j,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let b=0;b<u.length;b++)if(!o(u[b],d[b],b,u,d,f,h))return!1;return!0}case s.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.errorTag:return u.name===d.name&&u.message===d.message;case s.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const y=[...Object.keys(u),...r.getSymbols(u)],x=[...Object.keys(d),...r.getSymbols(d)];if(y.length!==x.length)return!1;for(let _=0;_<y.length;_++){const j=y[_],k=u[j];if(!Object.hasOwn(d,j))return!1;const S=d[j];if(!o(k,S,j,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(A6);var T6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(T6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6,r=T6;function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n})(P6);var Gce=P6.isEqual;const Xce=Ai(Gce);function Zce(e){var t={},r=()=>null,n=!1,s=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[c,...u]=o;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,s&&(s(),s=null),i(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}var my=1e-4,D6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],M6=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),k2=(e,t)=>r=>{var n=D6(e,t);return M6(n,r)},Qce=(e,t)=>r=>{var n=D6(e,t),s=[...n.map((i,a)=>i*a).slice(1),0];return M6(s,r)},C2=function(){for(var t,r,n,s,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([t,n,r,s]=a);var u=k2(t,r),d=k2(n,s),f=Qce(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var v=p>1?1:p,w=v,b=0;b<8;++b){var y=u(w)-v,x=f(w);if(Math.abs(y-v)<my||x<my)return d(w);w=h(w-y/x)}return d(w)};return m.isStepper=!1,m},Jce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(a,o,c)=>{var u=-(a-o)*r,d=c*n,f=c+(u-d)*s/1e3,h=c*s/1e3+a;return Math.abs(h-o)<my&&Math.abs(f)<my?[o,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},eue=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return C2(e);case"spring":return Jce();default:if(e.split("(")[0]==="cubic-bezier")return C2(e)}return typeof e=="function"?e:null};function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function N2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return(t=rue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sue=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),iue=(e,t,r)=>e.map(n=>"".concat(sue(n)," ").concat(t,"ms ").concat(r)).join(","),aue=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),rp=(e,t)=>Object.keys(t).reduce((r,n)=>N2(N2({},r),{},{[n]:e(n,t[n])}),{});function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){oue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oue(e,t,r){return(t=lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lue(e){var t=cue(e,"string");return typeof t=="symbol"?t:t+""}function cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy=(e,t,r)=>e+(t-e)*r,X1=e=>{var{from:t,to:r}=e;return t!==r},R6=(e,t,r)=>{var n=rp((s,i)=>{if(X1(i)){var[a,o]=e(i.from,i.to,i.velocity);return Qr(Qr({},i),{},{from:a,velocity:o})}return i},t);return r<1?rp((s,i)=>X1(i)?Qr(Qr({},i),{},{velocity:gy(i.velocity,n[s].velocity,r),from:gy(i.from,n[s].from,r)}):i,t):R6(e,n,r-1)};function uue(e,t,r,n,s,i){var a,o=n.reduce((h,m)=>Qr(Qr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>rp((h,m)=>m.from,o),u=()=>!Object.values(o).filter(X1).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/r.dt;o=R6(r,o,p),s(Qr(Qr(Qr({},e),t),c())),a=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function due(e,t,r,n,s,i,a){var o=null,c=s.reduce((f,h)=>Qr(Qr({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=rp((v,w)=>gy(...w,r(h)),c);if(i(Qr(Qr(Qr({},e),t),m)),h<1)o=a.setTimeout(d);else{var p=rp((v,w)=>gy(...w,r(1)),c);i(Qr(Qr(Qr({},e),t),p))}};return()=>(o=a.setTimeout(d),()=>{o()})}const fue=(e,t,r,n,s,i)=>{var a=aue(e,t);return r.isStepper===!0?uue(e,t,r,a,s,i):due(e,t,r,n,a,s,i)};class hue{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var pue=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Z1(){return Z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z1.apply(null,arguments)}function mue(e,t){if(e==null)return{};var r,n,s=gue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ql(e,t,r){return(t=vue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=yue(e,"string");return typeof t=="symbol"?t:t+""}function yue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xue(){return Zce(new hue)}class NC extends g.PureComponent{constructor(t,r){super(t,r),ql(this,"mounted",!1),ql(this,"manager",null),ql(this,"stopJSAnimation",null),ql(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:a,children:o,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(i){if(typeof o=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:a,from:o}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:s?{[s]:a}:a};this.state&&c&&(s&&c[s]!==a||!s&&c!==a)&&this.setState(u);return}if(!(Xce(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||i?o:t.to;if(this.state&&c){var h={style:s?{[s]:f}:f};(s&&c[s]!==f||!s&&c!==f)&&this.setState(h)}this.runAnimation(fo(fo({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:a,onAnimationEnd:o,onAnimationStart:c}=t,u=fue(r,n,eue(i),s,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,s,o])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:a,onAnimationStart:o,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=s?{[s]:i}:i,f=iue(Object.keys(d),n,a);this.manager.start([o,r,fo(fo({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:a,isActive:o,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,v=mue(t,pue),w=g.Children.count(r),b=this.state.style;if(typeof r=="function")return r(b);if(!o||w===0||s<=0)return r;var y=x=>{var{style:_={},className:j}=x.props,k=g.cloneElement(x,fo(fo({},v),{},{style:fo(fo({},_),b),className:j}));return k};return w===1?y(g.Children.only(r)):g.createElement("div",null,g.Children.map(r,x=>y(x)))}}ql(NC,"displayName","Animate");ql(NC,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var bue=g.createContext(null);function ol(e){var t,r,n=g.useContext(bue);return g.createElement(NC,Z1({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:xue()}))}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}var O2=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},wue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I6=e=>{var t=ei(e,wue),r=g.useRef(null),[n,s]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var{x:i,y:a,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:v}=t;if(i!==+i||a!==+a||o!==+o||c!==+c||o===0||c===0)return null;var w=yt("recharts-rectangle",d);return v?g.createElement(ol,{canBegin:n>0,from:{width:o,height:c,x:i,y:a},to:{width:o,height:c,x:i,y:a},duration:h,animationEasing:f,isActive:v},b=>{var{width:y,height:x,x:_,y:j}=b;return g.createElement(ol,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},g.createElement("path",vy({},pt(t,!0),{className:w,d:O2(_,j,y,x,u),ref:r})))}):g.createElement("path",vy({},pt(t,!0),{className:w,d:O2(i,a,o,c,u)}))};function L6(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,a=jr(t,r,n,s),o=jr(t,r,n,i);return{points:[a,o],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Q1(){return Q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q1.apply(null,arguments)}var _ue=(e,t)=>{var r=Ur(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},tg=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:a,cornerRadius:o,cornerIsExternal:c}=e,u=o*(a?1:-1)+n,d=Math.asin(o/u)/py,f=c?s:s+i*d,h=jr(t,r,u,f),m=jr(t,r,n,f),p=c?s-i*d:s,v=jr(t,r,u*Math.cos(d*py),p);return{center:h,circleTangency:m,lineTangency:v,theta:d}},$6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:a}=e,o=_ue(i,a),c=i+o,u=jr(t,r,s,i),d=jr(t,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=jr(t,r,n,i),m=jr(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},jue=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:a,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Ur(u-c),{circleTangency:f,lineTangency:h,theta:m}=tg({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:v,theta:w}=tg({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),b=o?Math.abs(c-u):Math.abs(c-u)-m-w;if(b<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):$6({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var y="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:_,theta:j}=tg({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:k,lineTangency:S,theta:E}=tg({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),N=o?Math.abs(c-u):Math.abs(c-u)-j-E;if(N<0&&i===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(d>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y},Sue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},F6=e=>{var t=ei(e,Sue),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<s||u===d)return null;var h=yt("recharts-sector",f),m=i-s,p=En(a,m,0,!0),v;return p>0&&Math.abs(u-d)<360?v=jue({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):v=$6({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Q1({},pt(t,!0),{className:h,d:v}))};function kue(e,t,r){var n,s,i,a;if(e==="horizontal")n=t.x,i=n,s=r.top,a=r.top+r.height;else if(e==="vertical")s=t.y,a=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=jr(o,c,u,f),m=jr(o,c,d,f);n=h.x,s=h.y,i=m.x,a=m.y}else return L6(t);return[{x:n,y:s},{x:i,y:a}]}var B6={},z6={},U6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vC;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(U6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U6;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(z6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yC,r=z6;function n(s,i,a){a&&typeof a!="number"&&t.isIterateeCall(s,i,a)&&(i=a=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),a=a===void 0?s<i?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((i-s)/(a||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=s,s+=a;return c}e.range=n})(B6);var Cue=B6.range;const W6=Ai(Cue);function Go(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Eue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PC(e){let t,r,n;e.length!==2?(t=Go,r=(o,c)=>Go(e(o),c),n=(o,c)=>e(o)-c):(t=e===Go||e===Eue?e:Nue,r=e,n=e);function s(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){const f=s(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:s,center:a,right:i}}function Nue(){return 0}function V6(e){return e===null?NaN:+e}function*Pue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Aue=PC(Go),Jp=Aue.right;PC(V6).center;class T2 extends Map{constructor(t,r=Due){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(D2(this,t))}has(t){return super.has(D2(this,t))}set(t,r){return super.set(Oue(this,t),r)}delete(t){return super.delete(Tue(this,t))}}function D2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Oue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Tue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Due(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Mue(e=Go){if(e===Go)return H6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function H6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Rue=Math.sqrt(50),Iue=Math.sqrt(10),Lue=Math.sqrt(2);function yy(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),a=i>=Rue?10:i>=Iue?5:i>=Lue?2:1;let o,c,u;return s<0?(u=Math.pow(10,-s)/a,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*a,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?yy(e,t,r*2):[o,c,u]}function J1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,a]=n?yy(t,e,r):yy(e,t,r);if(!(i>=s))return[];const o=i-s+1,c=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)c[u]=(i-u)/-a;else for(let u=0;u<o;++u)c[u]=(i-u)*a;else if(a<0)for(let u=0;u<o;++u)c[u]=(s+u)/-a;else for(let u=0;u<o;++u)c[u]=(s+u)*a;return c}function ej(e,t,r){return t=+t,e=+e,r=+r,yy(e,t,r)[2]}function tj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?ej(t,e,r):ej(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function M2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function R2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function K6(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?H6:Mue(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));K6(e,t,m,p,s)}const i=e[t];let a=r,o=n;for(jf(e,r,t),s(e[n],i)>0&&jf(e,r,n);a<o;){for(jf(e,a,o),++a,--o;s(e[a],i)<0;)++a;for(;s(e[o],i)>0;)--o}s(e[r],i)===0?jf(e,r,o):(++o,jf(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function jf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $ue(e,t,r){if(e=Float64Array.from(Pue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return R2(e);if(t>=1)return M2(e);var n,s=(n-1)*t,i=Math.floor(s),a=M2(K6(e,i).subarray(0,i+1)),o=R2(e.subarray(i+1));return a+(o-a)*(s-i)}}function Fue(e,t,r=V6){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),a=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return a+(o-a)*(s-i)}}function Bue(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function ti(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ro(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rj=Symbol("implicit");function AC(){var e=new T2,t=[],r=[],n=rj;function s(i){let a=e.get(i);if(a===void 0){if(n!==rj)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new T2;for(const a of i)e.has(a)||e.set(a,t.push(a)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return AC(t,r).unknown(n)},ti.apply(s,arguments),s}function OC(){var e=AC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,a,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,p=m?s:n,v=m?n:s;i=(v-p)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),p+=(v-p-i*(h-c))*d,a=i*(1-c),o&&(p=Math.round(p),a=Math.round(a));var w=Bue(h).map(function(b){return p+i*b});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return OC(t(),[n,s]).round(o).paddingInner(c).paddingOuter(u).align(d)},ti.apply(f(),arguments)}function q6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return q6(t())},e}function zue(){return q6(OC.apply(null,arguments).paddingInner(1))}function TC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Y6(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function em(){}var np=.7,xy=1/np,Bu="\\s*([+-]?\\d+)\\s*",sp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uue=/^#([0-9a-f]{3,8})$/,Wue=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),Vue=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),Hue=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${sp}\\)$`),Kue=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${sp}\\)$`),que=new RegExp(`^hsl\\(${sp},${Qi},${Qi}\\)$`),Yue=new RegExp(`^hsla\\(${sp},${Qi},${Qi},${sp}\\)$`),I2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TC(em,ip,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:L2,formatHex:L2,formatHex8:Gue,formatHsl:Xue,formatRgb:$2,toString:$2});function L2(){return this.rgb().formatHex()}function Gue(){return this.rgb().formatHex8()}function Xue(){return G6(this).formatHsl()}function $2(){return this.rgb().formatRgb()}function ip(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Uue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?F2(t):r===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Wue.exec(e))?new qn(t[1],t[2],t[3],1):(t=Vue.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hue.exec(e))?rg(t[1],t[2],t[3],t[4]):(t=Kue.exec(e))?rg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=que.exec(e))?U2(t[1],t[2]/100,t[3]/100,1):(t=Yue.exec(e))?U2(t[1],t[2]/100,t[3]/100,t[4]):I2.hasOwnProperty(e)?F2(I2[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function F2(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function rg(e,t,r,n){return n<=0&&(e=t=r=NaN),new qn(e,t,r,n)}function Zue(e){return e instanceof em||(e=ip(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function nj(e,t,r,n){return arguments.length===1?Zue(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}TC(qn,nj,Y6(em,{brighter(e){return e=e==null?xy:Math.pow(xy,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?np:Math.pow(np,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(lc(this.r),lc(this.g),lc(this.b),by(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:B2,formatHex:B2,formatHex8:Que,formatRgb:z2,toString:z2}));function B2(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}`}function Que(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}${Yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function z2(){const e=by(this.opacity);return`${e===1?"rgb(":"rgba("}${lc(this.r)}, ${lc(this.g)}, ${lc(this.b)}${e===1?")":`, ${e})`}`}function by(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yl(e){return e=lc(e),(e<16?"0":"")+e.toString(16)}function U2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yi(e,t,r,n)}function G6(e){if(e instanceof yi)return new yi(e.h,e.s,e.l,e.opacity);if(e instanceof em||(e=ip(e)),!e)return new yi;if(e instanceof yi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,o=i-s,c=(i+s)/2;return o?(t===i?a=(r-n)/o+(r<n)*6:r===i?a=(n-t)/o+2:a=(t-r)/o+4,o/=c<.5?i+s:2-i-s,a*=60):o=c>0&&c<1?0:a,new yi(a,o,c,e.opacity)}function Jue(e,t,r,n){return arguments.length===1?G6(e):new yi(e,t,r,n??1)}function yi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}TC(yi,Jue,Y6(em,{brighter(e){return e=e==null?xy:Math.pow(xy,e),new yi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?np:Math.pow(np,e),new yi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new qn(bw(e>=240?e-240:e+120,s,n),bw(e,s,n),bw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new yi(W2(this.h),ng(this.s),ng(this.l),by(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=by(this.opacity);return`${e===1?"hsl(":"hsla("}${W2(this.h)}, ${ng(this.s)*100}%, ${ng(this.l)*100}%${e===1?")":`, ${e})`}`}}));function W2(e){return e=(e||0)%360,e<0?e+360:e}function ng(e){return Math.max(0,Math.min(1,e||0))}function bw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const DC=e=>()=>e;function ede(e,t){return function(r){return e+r*t}}function tde(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rde(e){return(e=+e)==1?X6:function(t,r){return r-t?tde(t,r,e):DC(isNaN(t)?r:t)}}function X6(e,t){var r=t-e;return r?ede(e,r):DC(isNaN(e)?t:e)}const V2=function e(t){var r=rde(t);function n(s,i){var a=r((s=nj(s)).r,(i=nj(i)).r),o=r(s.g,i.g),c=r(s.b,i.b),u=X6(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=o(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function nde(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function sde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ide(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)s[a]=Kd(e[a],t[a]);for(;a<r;++a)i[a]=t[a];return function(o){for(a=0;a<n;++a)i[a]=s[a](o);return i}}function ade(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ode(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Kd(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var sj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ww=new RegExp(sj.source,"g");function lde(e){return function(){return e}}function cde(e){return function(t){return e(t)+""}}function ude(e,t){var r=sj.lastIndex=ww.lastIndex=0,n,s,i,a=-1,o=[],c=[];for(e=e+"",t=t+"";(n=sj.exec(e))&&(s=ww.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),o[a]?o[a]+=i:o[++a]=i),(n=n[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,c.push({i:a,x:wy(n,s)})),r=ww.lastIndex;return r<t.length&&(i=t.slice(r),o[a]?o[a]+=i:o[++a]=i),o.length<2?c[0]?cde(c[0].x):lde(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Kd(e,t){var r=typeof t,n;return t==null||r==="boolean"?DC(t):(r==="number"?wy:r==="string"?(n=ip(t))?(t=n,V2):ude:t instanceof ip?V2:t instanceof Date?ade:sde(t)?nde:Array.isArray(t)?ide:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ode:wy)(e,t)}function MC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dde(e,t){t===void 0&&(t=e,e=Kd);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return i[o](a-o)}}function fde(e){return function(){return e}}function _y(e){return+e}var H2=[0,1];function kn(e){return e}function ij(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fde(isNaN(t)?NaN:.5)}function hde(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pde(e,t,r){var n=e[0],s=e[1],i=t[0],a=t[1];return s<n?(n=ij(s,n),i=r(a,i)):(n=ij(n,s),i=r(i,a)),function(o){return i(n(o))}}function mde(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)s[a]=ij(e[a],e[a+1]),i[a]=r(t[a],t[a+1]);return function(o){var c=Jp(e,o,1,n)-1;return i[c](s[c](o))}}function tm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function k0(){var e=H2,t=H2,r=Kd,n,s,i,a=kn,o,c,u;function d(){var h=Math.min(e.length,t.length);return a!==kn&&(a=hde(e[0],e[h-1])),o=h>2?mde:pde,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(s((u||(u=o(t,e.map(n),wy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,_y),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=MC,d()},f.clamp=function(h){return arguments.length?(a=h?!0:kn,d()):a!==kn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function RC(){return k0()(kn,kn)}function gde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function jy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _d(e){return e=jy(Math.abs(e)),e?e[1]:NaN}function vde(e,t){return function(r,n){for(var s=r.length,i=[],a=0,o=e[0],c=0;s>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(s-=o,s+o)),!((c+=o+1)>n));)o=e[a=(a+1)%e.length];return i.reverse().join(t)}}function yde(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ap(e){if(!(t=xde.exec(e)))throw new Error("invalid format: "+e);var t;return new IC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ap.prototype=IC.prototype;function IC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}IC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bde(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Z6;function wde(e,t){var r=jy(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(Z6=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+jy(e,Math.max(0,t+i-1))[0]}function K2(e,t){var r=jy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const q2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>K2(e*100,t),r:K2,s:wde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Y2(e){return e}var G2=Array.prototype.map,X2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _de(e){var t=e.grouping===void 0||e.thousands===void 0?Y2:vde(G2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Y2:yde(G2.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ap(f);var h=f.fill,m=f.align,p=f.sign,v=f.symbol,w=f.zero,b=f.width,y=f.comma,x=f.precision,_=f.trim,j=f.type;j==="n"?(y=!0,j="g"):q2[j]||(x===void 0&&(x=12),_=!0,j="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=v==="$"?n:/[%p]/.test(j)?a:"",E=q2[j],N=/[defgprs%]/.test(j);x=x===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(P){var A=k,L=S,I,B,z;if(j==="c")L=E(P)+L,P="";else{P=+P;var T=P<0||1/P<0;if(P=isNaN(P)?c:E(Math.abs(P),x),_&&(P=bde(P)),T&&+P==0&&p!=="+"&&(T=!1),A=(T?p==="("?p:o:p==="-"||p==="("?"":p)+A,L=(j==="s"?X2[8+Z6/3]:"")+L+(T&&p==="("?")":""),N){for(I=-1,B=P.length;++I<B;)if(z=P.charCodeAt(I),48>z||z>57){L=(z===46?s+P.slice(I+1):P.slice(I))+L,P=P.slice(0,I);break}}}y&&!w&&(P=t(P,1/0));var C=A.length+P.length+L.length,D=C<b?new Array(b-C+1).join(h):"";switch(y&&w&&(P=t(D+P,D.length?b-L.length:1/0),D=""),m){case"<":P=A+P+L+D;break;case"=":P=A+D+P+L;break;case"^":P=D.slice(0,C=D.length>>1)+A+P+L+D.slice(C);break;default:P=D+A+P+L;break}return i(P)}return O.toString=function(){return f+""},O}function d(f,h){var m=u((f=ap(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(_d(h)/3)))*3,v=Math.pow(10,-p),w=X2[8+p/3];return function(b){return m(v*b)+w}}return{format:u,formatPrefix:d}}var sg,LC,Q6;jde({thousands:",",grouping:[3],currency:["$",""]});function jde(e){return sg=_de(e),LC=sg.format,Q6=sg.formatPrefix,sg}function Sde(e){return Math.max(0,-_d(Math.abs(e)))}function kde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_d(t)/3)))*3-_d(Math.abs(e)))}function Cde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_d(t)-_d(e))+1}function J6(e,t,r,n){var s=tj(e,t,r),i;switch(n=ap(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=kde(s,a))&&(n.precision=i),Q6(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Cde(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Sde(s))&&(n.precision=i-(n.type==="%")*2);break}}return LC(n)}function _l(e){var t=e.domain;return e.ticks=function(r){var n=t();return J1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return J6(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,a=n[s],o=n[i],c,u,d=10;for(o<a&&(u=a,a=o,o=u,u=s,s=i,i=u);d-- >0;){if(u=ej(a,o,r),u===c)return n[s]=a,n[i]=o,t(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function e8(){var e=RC();return e.copy=function(){return tm(e,e8())},ti.apply(e,arguments),_l(e)}function t8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,_y),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return t8(e).unknown(t)},e=arguments.length?Array.from(e,_y):[0,1],_l(r)}function r8(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],a;return i<s&&(a=r,r=n,n=a,a=s,s=i,i=a),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Z2(e){return Math.log(e)}function Q2(e){return Math.exp(e)}function Ede(e){return-Math.log(-e)}function Nde(e){return-Math.exp(-e)}function Pde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ade(e){return e===10?Pde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ode(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function J2(e){return(t,r)=>-e(-t,r)}function $C(e){const t=e(Z2,Q2),r=t.domain;let n=10,s,i;function a(){return s=Ode(n),i=Ade(n),r()[0]<0?(s=J2(s),i=J2(i),e(Ede,Nde)):e(Z2,Q2),t}return t.base=function(o){return arguments.length?(n=+o,a()):n},t.domain=function(o){return arguments.length?(r(o),a()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),p,v;const w=o==null?10:+o;let b=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(v=h<0?p/i(-h):p*i(h),!(v<u)){if(v>d)break;b.push(v)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(v=h>0?p/i(-h):p*i(h),!(v<u)){if(v>d)break;b.push(v)}b.length*2<w&&(b=J1(u,d,w))}else b=J1(h,m,Math.min(m-h,w)).map(i);return f?b.reverse():b},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ap(c)).precision==null&&(c.trim=!0),c=LC(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(r8(r(),{floor:o=>i(Math.floor(s(o))),ceil:o=>i(Math.ceil(s(o)))})),t}function n8(){const e=$C(k0()).domain([1,10]);return e.copy=()=>tm(e,n8()).base(e.base()),ti.apply(e,arguments),e}function eT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function FC(e){var t=1,r=e(eT(t),tT(t));return r.constant=function(n){return arguments.length?e(eT(t=+n),tT(t)):t},_l(r)}function s8(){var e=FC(k0());return e.copy=function(){return tm(e,s8()).constant(e.constant())},ti.apply(e,arguments)}function rT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dde(e){return e<0?-e*e:e*e}function BC(e){var t=e(kn,kn),r=1;function n(){return r===1?e(kn,kn):r===.5?e(Tde,Dde):e(rT(r),rT(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},_l(t)}function zC(){var e=BC(k0());return e.copy=function(){return tm(e,zC()).exponent(e.exponent())},ti.apply(e,arguments),e}function Mde(){return zC.apply(null,arguments).exponent(.5)}function nT(e){return Math.sign(e)*e*e}function Rde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function i8(){var e=RC(),t=[0,1],r=!1,n;function s(i){var a=Rde(e(i));return isNaN(a)?n:r?Math.round(a):a}return s.invert=function(i){return e.invert(nT(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,_y)).map(nT)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return i8(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ti.apply(s,arguments),_l(s)}function a8(){var e=[],t=[],r=[],n;function s(){var a=0,o=Math.max(1,t.length);for(r=new Array(o-1);++a<o;)r[a-1]=Fue(e,a/o);return i}function i(a){return a==null||isNaN(a=+a)?n:t[Jp(r,a)]}return i.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Go),s()},i.range=function(a){return arguments.length?(t=Array.from(a),s()):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return a8().domain(e).range(t).unknown(n)},ti.apply(i,arguments)}function o8(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function a(c){return c!=null&&c<=c?s[Jp(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},a.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,o()):s.slice()},a.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return o8().domain([e,t]).range(s).unknown(i)},ti.apply(_l(a),arguments)}function l8(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Jp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var a=t.indexOf(i);return[e[a-1],e[a]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return l8().domain(e).range(t).unknown(r)},ti.apply(s,arguments)}const _w=new Date,jw=new Date;function Mr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const a=s(i),o=s.ceil(i);return i-a<o-i?a:o},s.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),s.range=(i,a,o)=>{const c=[];if(i=s.ceil(i),o=o==null?1:Math.floor(o),!(i<a)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<a);return c},s.filter=i=>Mr(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!i(a););else for(;--o>=0;)for(;t(a,1),!i(a););}),r&&(s.count=(i,a)=>(_w.setTime(+i),jw.setTime(+a),e(_w),e(jw),Math.floor(r(_w,jw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?a=>n(a)%i===0:a=>s.count(0,a)%i===0):s)),s}const Sy=Mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sy);Sy.range;const Ta=1e3,Fs=Ta*60,Da=Fs*60,Xa=Da*24,UC=Xa*7,sT=Xa*30,Sw=Xa*365,Gl=Mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCSeconds());Gl.range;const WC=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ta)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getMinutes());WC.range;const VC=Mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fs)},(e,t)=>(t-e)/Fs,e=>e.getUTCMinutes());VC.range;const HC=Mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ta-e.getMinutes()*Fs)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getHours());HC.range;const KC=Mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCHours());KC.range;const rm=Mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fs)/Xa,e=>e.getDate()-1);rm.range;const C0=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>e.getUTCDate()-1);C0.range;const c8=Mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xa,e=>Math.floor(e/Xa));c8.range;function Fc(e){return Mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fs)/UC)}const E0=Fc(0),ky=Fc(1),Ide=Fc(2),Lde=Fc(3),jd=Fc(4),$de=Fc(5),Fde=Fc(6);E0.range;ky.range;Ide.range;Lde.range;jd.range;$de.range;Fde.range;function Bc(e){return Mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UC)}const N0=Bc(0),Cy=Bc(1),Bde=Bc(2),zde=Bc(3),Sd=Bc(4),Ude=Bc(5),Wde=Bc(6);N0.range;Cy.range;Bde.range;zde.range;Sd.range;Ude.range;Wde.range;const qC=Mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qC.range;const YC=Mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());YC.range;const Za=Mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Za.range;const Qa=Mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Qa.range;function u8(e,t,r,n,s,i){const a=[[Gl,1,Ta],[Gl,5,5*Ta],[Gl,15,15*Ta],[Gl,30,30*Ta],[i,1,Fs],[i,5,5*Fs],[i,15,15*Fs],[i,30,30*Fs],[s,1,Da],[s,3,3*Da],[s,6,6*Da],[s,12,12*Da],[n,1,Xa],[n,2,2*Xa],[r,1,UC],[t,1,sT],[t,3,3*sT],[e,1,Sw]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=PC(([,,w])=>w).right(a,h);if(m===a.length)return e.every(tj(u/Sw,d/Sw,f));if(m===0)return Sy.every(Math.max(tj(u,d,f),1));const[p,v]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(v)}return[o,c]}const[Vde,Hde]=u8(Qa,YC,N0,c8,KC,VC),[Kde,qde]=u8(Za,qC,E0,rm,HC,WC);function kw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Yde(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,a=e.shortDays,o=e.months,c=e.shortMonths,u=kf(s),d=Cf(s),f=kf(i),h=Cf(i),m=kf(a),p=Cf(a),v=kf(o),w=Cf(o),b=kf(c),y=Cf(c),x={a:T,A:C,b:D,B:U,c:null,d:uT,e:uT,f:vfe,g:Efe,G:Pfe,H:pfe,I:mfe,j:gfe,L:d8,m:yfe,M:xfe,p:W,q:V,Q:hT,s:pT,S:bfe,u:wfe,U:_fe,V:jfe,w:Sfe,W:kfe,x:null,X:null,y:Cfe,Y:Nfe,Z:Afe,"%":fT},_={a:ue,A:me,b:Ee,B:xe,c:null,d:dT,e:dT,f:Mfe,g:Vfe,G:Kfe,H:Ofe,I:Tfe,j:Dfe,L:h8,m:Rfe,M:Ife,p:fe,q:We,Q:hT,s:pT,S:Lfe,u:$fe,U:Ffe,V:Bfe,w:zfe,W:Ufe,x:null,X:null,y:Wfe,Y:Hfe,Z:qfe,"%":fT},j={a:O,A:P,b:A,B:L,c:I,d:lT,e:lT,f:ufe,g:oT,G:aT,H:cT,I:cT,j:afe,L:cfe,m:ife,M:ofe,p:N,q:sfe,Q:ffe,s:hfe,S:lfe,u:Jde,U:efe,V:tfe,w:Qde,W:rfe,x:B,X:z,y:oT,Y:aT,Z:nfe,"%":dfe};x.x=k(r,x),x.X=k(n,x),x.c=k(t,x),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(Q,he){return function(be){var Y=[],Qe=-1,Le=0,Je=Q.length,it,Z,M;for(be instanceof Date||(be=new Date(+be));++Qe<Je;)Q.charCodeAt(Qe)===37&&(Y.push(Q.slice(Le,Qe)),(Z=iT[it=Q.charAt(++Qe)])!=null?it=Q.charAt(++Qe):Z=it==="e"?" ":"0",(M=he[it])&&(it=M(be,Z)),Y.push(it),Le=Qe+1);return Y.push(Q.slice(Le,Qe)),Y.join("")}}function S(Q,he){return function(be){var Y=Sf(1900,void 0,1),Qe=E(Y,Q,be+="",0),Le,Je;if(Qe!=be.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(he&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Le=Cw(Sf(Y.y,0,1)),Je=Le.getUTCDay(),Le=Je>4||Je===0?Cy.ceil(Le):Cy(Le),Le=C0.offset(Le,(Y.V-1)*7),Y.y=Le.getUTCFullYear(),Y.m=Le.getUTCMonth(),Y.d=Le.getUTCDate()+(Y.w+6)%7):(Le=kw(Sf(Y.y,0,1)),Je=Le.getDay(),Le=Je>4||Je===0?ky.ceil(Le):ky(Le),Le=rm.offset(Le,(Y.V-1)*7),Y.y=Le.getFullYear(),Y.m=Le.getMonth(),Y.d=Le.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Je="Z"in Y?Cw(Sf(Y.y,0,1)).getUTCDay():kw(Sf(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Je+5)%7:Y.w+Y.U*7-(Je+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Cw(Y)):kw(Y)}}function E(Q,he,be,Y){for(var Qe=0,Le=he.length,Je=be.length,it,Z;Qe<Le;){if(Y>=Je)return-1;if(it=he.charCodeAt(Qe++),it===37){if(it=he.charAt(Qe++),Z=j[it in iT?he.charAt(Qe++):it],!Z||(Y=Z(Q,be,Y))<0)return-1}else if(it!=be.charCodeAt(Y++))return-1}return Y}function N(Q,he,be){var Y=u.exec(he.slice(be));return Y?(Q.p=d.get(Y[0].toLowerCase()),be+Y[0].length):-1}function O(Q,he,be){var Y=m.exec(he.slice(be));return Y?(Q.w=p.get(Y[0].toLowerCase()),be+Y[0].length):-1}function P(Q,he,be){var Y=f.exec(he.slice(be));return Y?(Q.w=h.get(Y[0].toLowerCase()),be+Y[0].length):-1}function A(Q,he,be){var Y=b.exec(he.slice(be));return Y?(Q.m=y.get(Y[0].toLowerCase()),be+Y[0].length):-1}function L(Q,he,be){var Y=v.exec(he.slice(be));return Y?(Q.m=w.get(Y[0].toLowerCase()),be+Y[0].length):-1}function I(Q,he,be){return E(Q,t,he,be)}function B(Q,he,be){return E(Q,r,he,be)}function z(Q,he,be){return E(Q,n,he,be)}function T(Q){return a[Q.getDay()]}function C(Q){return i[Q.getDay()]}function D(Q){return c[Q.getMonth()]}function U(Q){return o[Q.getMonth()]}function W(Q){return s[+(Q.getHours()>=12)]}function V(Q){return 1+~~(Q.getMonth()/3)}function ue(Q){return a[Q.getUTCDay()]}function me(Q){return i[Q.getUTCDay()]}function Ee(Q){return c[Q.getUTCMonth()]}function xe(Q){return o[Q.getUTCMonth()]}function fe(Q){return s[+(Q.getUTCHours()>=12)]}function We(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var he=k(Q+="",x);return he.toString=function(){return Q},he},parse:function(Q){var he=S(Q+="",!1);return he.toString=function(){return Q},he},utcFormat:function(Q){var he=k(Q+="",_);return he.toString=function(){return Q},he},utcParse:function(Q){var he=S(Q+="",!0);return he.toString=function(){return Q},he}}}var iT={"-":"",_:" ",0:"0"},Kr=/^\s*\d+/,Gde=/^%/,Xde=/[\\^$*+?|[\]().{}]/g;function _t(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Zde(e){return e.replace(Xde,"\\$&")}function kf(e){return new RegExp("^(?:"+e.map(Zde).join("|")+")","i")}function Cf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Qde(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Jde(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function efe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tfe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rfe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aT(e,t,r){var n=Kr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function oT(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sfe(e,t,r){var n=Kr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ife(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function lT(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function afe(e,t,r){var n=Kr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function cT(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ofe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lfe(e,t,r){var n=Kr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cfe(e,t,r){var n=Kr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ufe(e,t,r){var n=Kr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dfe(e,t,r){var n=Gde.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ffe(e,t,r){var n=Kr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hfe(e,t,r){var n=Kr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function uT(e,t){return _t(e.getDate(),t,2)}function pfe(e,t){return _t(e.getHours(),t,2)}function mfe(e,t){return _t(e.getHours()%12||12,t,2)}function gfe(e,t){return _t(1+rm.count(Za(e),e),t,3)}function d8(e,t){return _t(e.getMilliseconds(),t,3)}function vfe(e,t){return d8(e,t)+"000"}function yfe(e,t){return _t(e.getMonth()+1,t,2)}function xfe(e,t){return _t(e.getMinutes(),t,2)}function bfe(e,t){return _t(e.getSeconds(),t,2)}function wfe(e){var t=e.getDay();return t===0?7:t}function _fe(e,t){return _t(E0.count(Za(e)-1,e),t,2)}function f8(e){var t=e.getDay();return t>=4||t===0?jd(e):jd.ceil(e)}function jfe(e,t){return e=f8(e),_t(jd.count(Za(e),e)+(Za(e).getDay()===4),t,2)}function Sfe(e){return e.getDay()}function kfe(e,t){return _t(ky.count(Za(e)-1,e),t,2)}function Cfe(e,t){return _t(e.getFullYear()%100,t,2)}function Efe(e,t){return e=f8(e),_t(e.getFullYear()%100,t,2)}function Nfe(e,t){return _t(e.getFullYear()%1e4,t,4)}function Pfe(e,t){var r=e.getDay();return e=r>=4||r===0?jd(e):jd.ceil(e),_t(e.getFullYear()%1e4,t,4)}function Afe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function dT(e,t){return _t(e.getUTCDate(),t,2)}function Ofe(e,t){return _t(e.getUTCHours(),t,2)}function Tfe(e,t){return _t(e.getUTCHours()%12||12,t,2)}function Dfe(e,t){return _t(1+C0.count(Qa(e),e),t,3)}function h8(e,t){return _t(e.getUTCMilliseconds(),t,3)}function Mfe(e,t){return h8(e,t)+"000"}function Rfe(e,t){return _t(e.getUTCMonth()+1,t,2)}function Ife(e,t){return _t(e.getUTCMinutes(),t,2)}function Lfe(e,t){return _t(e.getUTCSeconds(),t,2)}function $fe(e){var t=e.getUTCDay();return t===0?7:t}function Ffe(e,t){return _t(N0.count(Qa(e)-1,e),t,2)}function p8(e){var t=e.getUTCDay();return t>=4||t===0?Sd(e):Sd.ceil(e)}function Bfe(e,t){return e=p8(e),_t(Sd.count(Qa(e),e)+(Qa(e).getUTCDay()===4),t,2)}function zfe(e){return e.getUTCDay()}function Ufe(e,t){return _t(Cy.count(Qa(e)-1,e),t,2)}function Wfe(e,t){return _t(e.getUTCFullYear()%100,t,2)}function Vfe(e,t){return e=p8(e),_t(e.getUTCFullYear()%100,t,2)}function Hfe(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function Kfe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sd(e):Sd.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function qfe(){return"+0000"}function fT(){return"%"}function hT(e){return+e}function pT(e){return Math.floor(+e/1e3)}var su,m8,g8;Yfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yfe(e){return su=Yde(e),m8=su.format,su.parse,g8=su.utcFormat,su.utcParse,su}function Gfe(e){return new Date(e)}function Xfe(e){return e instanceof Date?+e:+new Date(+e)}function GC(e,t,r,n,s,i,a,o,c,u){var d=RC(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),v=u("%I:%M"),w=u("%I %p"),b=u("%a %d"),y=u("%b %d"),x=u("%B"),_=u("%Y");function j(k){return(c(k)<k?m:o(k)<k?p:a(k)<k?v:i(k)<k?w:n(k)<k?s(k)<k?b:y:r(k)<k?x:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,Xfe)):h().map(Gfe)},d.ticks=function(k){var S=h();return e(S[0],S[S.length-1],k??10)},d.tickFormat=function(k,S){return S==null?j:u(S)},d.nice=function(k){var S=h();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?h(r8(S,k)):d},d.copy=function(){return tm(d,GC(e,t,r,n,s,i,a,o,c,u))},d}function Zfe(){return ti.apply(GC(Kde,qde,Za,qC,E0,rm,HC,WC,Gl,m8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qfe(){return ti.apply(GC(Vde,Hde,Qa,YC,N0,C0,KC,VC,Gl,g8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P0(){var e=0,t=1,r,n,s,i,a=kn,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(s===0?.5:(f=(i(f)-r)*s,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(Kd),u.rangeRound=d(MC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function jl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function v8(){var e=_l(P0()(kn));return e.copy=function(){return jl(e,v8())},ro.apply(e,arguments)}function y8(){var e=$C(P0()).domain([1,10]);return e.copy=function(){return jl(e,y8()).base(e.base())},ro.apply(e,arguments)}function x8(){var e=FC(P0());return e.copy=function(){return jl(e,x8()).constant(e.constant())},ro.apply(e,arguments)}function XC(){var e=BC(P0());return e.copy=function(){return jl(e,XC()).exponent(e.exponent())},ro.apply(e,arguments)}function Jfe(){return XC.apply(null,arguments).exponent(.5)}function b8(){var e=[],t=kn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Go),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>$ue(e,i/n))},r.copy=function(){return b8(t).domain(e)},ro.apply(r,arguments)}function A0(){var e=0,t=.5,r=1,n=1,s,i,a,o,c,u=kn,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-i)*(n*v<n*i?o:c),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,r]=v,s=d(e=+e),i=d(t=+t),a=d(r=+r),o=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function p(v){return function(w){var b,y,x;return arguments.length?([b,y,x]=w,u=dde(v,[b,y,x]),m):[u(0),u(.5),u(1)]}}return m.range=p(Kd),m.rangeRound=p(MC),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,s=v(e),i=v(t),a=v(r),o=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,m}}function w8(){var e=_l(A0()(kn));return e.copy=function(){return jl(e,w8())},ro.apply(e,arguments)}function _8(){var e=$C(A0()).domain([.1,1,10]);return e.copy=function(){return jl(e,_8()).base(e.base())},ro.apply(e,arguments)}function j8(){var e=FC(A0());return e.copy=function(){return jl(e,j8()).constant(e.constant())},ro.apply(e,arguments)}function ZC(){var e=BC(A0());return e.copy=function(){return jl(e,ZC()).exponent(e.exponent())},ro.apply(e,arguments)}function ehe(){return ZC.apply(null,arguments).exponent(.5)}const Vf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OC,scaleDiverging:w8,scaleDivergingLog:_8,scaleDivergingPow:ZC,scaleDivergingSqrt:ehe,scaleDivergingSymlog:j8,scaleIdentity:t8,scaleImplicit:rj,scaleLinear:e8,scaleLog:n8,scaleOrdinal:AC,scalePoint:zue,scalePow:zC,scaleQuantile:a8,scaleQuantize:o8,scaleRadial:i8,scaleSequential:v8,scaleSequentialLog:y8,scaleSequentialPow:XC,scaleSequentialQuantile:b8,scaleSequentialSqrt:Jfe,scaleSequentialSymlog:x8,scaleSqrt:Mde,scaleSymlog:s8,scaleThreshold:l8,scaleTime:Zfe,scaleUtc:Qfe,tickFormat:J6},Symbol.toStringTag,{value:"Module"}));var qd=e=>e.chartData,QC=X([qd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),JC=(e,t,r,n)=>n?QC(e):qd(e);function kd(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ss(t)&&Ss(r))return!0}return!1}function mT(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function the(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(Ss(r))s=r;else if(typeof r=="function")return;if(Ss(n))i=n;else if(typeof n=="function")return;var a=[s,i];if(kd(a))return a}}function rhe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(kd(n))return mT(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,a,o;if(s==="auto")t!=null&&(a=Math.min(...t));else if(Te(s))a=s;else if(typeof s=="function")try{t!=null&&(a=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&h2.test(s)){var c=h2.exec(s);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Te(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&p2.test(i)){var d=p2.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[a,o];if(kd(h))return t==null?h:mT(h,t,r)}}}var Yd=1e9,nhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tE,Zt=!0,Gs="[DecimalError] ",cc=Gs+"Invalid argument: ",eE=Gs+"Exponent out of range: ",Gd=Math.floor,Ll=Math.pow,she=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ps,Br=1e7,Kt=7,S8=9007199254740991,Ey=Gd(S8/Kt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return Fa(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return It(Fa(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return kr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ps))throw Error(Gs+"NaN");if(r.s<1)throw Error(Gs+(r.s?"NaN":"-Infinity"));return r.eq(ps)?new n(0):(Zt=!1,t=Fa(op(r,i),op(e,i),i),Zt=!0,It(t,s))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E8(t,e):k8(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Gs+"NaN");return r.s?(Zt=!1,t=Fa(r,e,0,1).times(e),Zt=!0,r.minus(t)):It(new n(r),s)};Oe.naturalExponential=Oe.exp=function(){return C8(this)};Oe.naturalLogarithm=Oe.ln=function(){return op(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?k8(t,e):E8(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cc+e);if(t=kr(s)+1,n=s.d.length-1,r=n*Kt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,s,i,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Gs+"NaN")}for(e=kr(o),Zt=!1,s=Math.sqrt(+o),s==0||s==1/0?(t=Yi(o.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Gd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=a=r+3;;)if(i=n,n=i.plus(Fa(o,i,a+2)).times(.5),Yi(i.d).slice(0,a)===(t=Yi(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),s==a&&t=="4999"){if(It(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;a+=4}return Zt=!0,It(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,s,i,a,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,a=c,c=u,u=a),i=[],a=c+u,n=a;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)o=i[s]+m[n]*h[s-n-1]+t,i[s--]=o%Br|0,t=o/Br|0;i[s]=(i[s]+t)%Br|0}for(;!i[--a];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Zt?It(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(aa(e,0,Yd),t===void 0?t=n.rounding:aa(t,0,8),It(r,e+kr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ec(n,!0):(aa(e,0,Yd),t===void 0?t=s.rounding:aa(t,0,8),n=It(new s(n),e+1,t),r=Ec(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ec(s):(aa(e,0,Yd),t===void 0?t=i.rounding:aa(t,0,8),n=It(new i(s),e+kr(s)+1,t),r=Ec(n.abs(),!1,e+kr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return It(new t(e),kr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,s,i,a,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ps);if(o=new c(o),!o.s){if(e.s<1)throw Error(Gs+"Infinity");return o}if(o.eq(ps))return o;if(n=c.precision,e.eq(ps))return It(o,n);if(t=e.e,r=e.d.length-1,a=t>=r,i=o.s,a){if((r=d<0?-d:d)<=S8){for(s=new c(ps),t=Math.ceil(n/Kt+4),Zt=!1;r%2&&(s=s.times(o),vT(s.d,t)),r=Gd(r/2),r!==0;)o=o.times(o),vT(o.d,t);return Zt=!0,e.s<0?new c(ps).div(s):It(s,n)}}else if(i<0)throw Error(Gs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Zt=!1,s=e.times(op(o,n+u)),Zt=!0,s=C8(s),s.s=i,s};Oe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=kr(s),n=Ec(s,r<=i.toExpNeg||r>=i.toExpPos)):(aa(e,1,Yd),t===void 0?t=i.rounding:aa(t,0,8),s=It(new i(s),e,t),r=kr(s),n=Ec(s,e<=r||r<=i.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(aa(e,1,Yd),t===void 0?t=n.rounding:aa(t,0,8)),It(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kr(e),r=e.constructor;return Ec(e,t<=r.toExpNeg||t>=r.toExpPos)};function k8(e,t){var r,n,s,i,a,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Zt?It(t,f):t;if(c=e.d,u=t.d,a=e.e,s=t.e,c=c.slice(),i=a-s,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,s=a,o=c.length),a=Math.ceil(f/Kt),o=a>o?a+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Br|0,c[i]%=Br;for(r&&(c.unshift(r),++s),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=s,Zt?It(t,f):t}function aa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(cc+e)}function Yi(e){var t,r,n,s=e.length-1,i="",a=e[0];if(s>0){for(i+=a,t=1;t<s;t++)n=e[t]+"",r=Kt-n.length,r&&(i+=wo(r)),i+=n;a=e[t],n=a+"",r=Kt-n.length,r&&(i+=wo(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var Fa=function(){function e(n,s){var i,a=0,o=n.length;for(n=n.slice();o--;)i=n[o]*s+a,n[o]=i%Br|0,a=i/Br|0;return a&&n.unshift(a),n}function t(n,s,i,a){var o,c;if(i!=a)c=i>a?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=s[o]){c=n[o]>s[o]?1:-1;break}return c}function r(n,s,i){for(var a=0;i--;)n[i]-=a,a=n[i]<s[i]?1:0,n[i]=a*Br+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,a){var o,c,u,d,f,h,m,p,v,w,b,y,x,_,j,k,S,E,N=n.constructor,O=n.s==s.s?1:-1,P=n.d,A=s.d;if(!n.s)return new N(n);if(!s.s)throw Error(Gs+"Division by zero");for(c=n.e-s.e,S=A.length,j=P.length,m=new N(O),p=m.d=[],u=0;A[u]==(P[u]||0);)++u;if(A[u]>(P[u]||0)&&--c,i==null?y=i=N.precision:a?y=i+(kr(n)-kr(s))+1:y=i,y<0)return new N(0);if(y=y/Kt+2|0,u=0,S==1)for(d=0,A=A[0],y++;(u<j||d)&&y--;u++)x=d*Br+(P[u]||0),p[u]=x/A|0,d=x%A|0;else{for(d=Br/(A[0]+1)|0,d>1&&(A=e(A,d),P=e(P,d),S=A.length,j=P.length),_=S,v=P.slice(0,S),w=v.length;w<S;)v[w++]=0;E=A.slice(),E.unshift(0),k=A[0],A[1]>=Br/2&&++k;do d=0,o=t(A,v,S,w),o<0?(b=v[0],S!=w&&(b=b*Br+(v[1]||0)),d=b/k|0,d>1?(d>=Br&&(d=Br-1),f=e(A,d),h=f.length,w=v.length,o=t(f,v,h,w),o==1&&(d--,r(f,S<h?E:A,h))):(d==0&&(o=d=1),f=A.slice()),h=f.length,h<w&&f.unshift(0),r(v,f,w),o==-1&&(w=v.length,o=t(A,v,S,w),o<1&&(d++,r(v,S<w?E:A,w))),w=v.length):o===0&&(d++,v=[0]),p[u++]=d,o&&v[0]?v[w++]=P[_]||0:(v=[P[_]],w=1);while((_++<j||v[0]!==void 0)&&y--)}return p[0]||p.shift(),m.e=c,It(m,a?i+kr(m)+1:i)}}();function C8(e,t){var r,n,s,i,a,o,c=0,u=0,d=e.constructor,f=d.precision;if(kr(e)>16)throw Error(eE+kr(e));if(!e.s)return new d(ps);for(t==null?(Zt=!1,o=f):o=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(Ll(2,u))/Math.LN10*2+5|0,o+=n,r=s=i=new d(ps),d.precision=o;;){if(s=It(s.times(e),o),r=r.times(++c),a=i.plus(Fa(s,r,o)),Yi(a.d).slice(0,o)===Yi(i.d).slice(0,o)){for(;u--;)i=It(i.times(i),o);return d.precision=f,t==null?(Zt=!0,It(i,f)):i}i=a}}function kr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function Ew(e,t,r){if(t>e.LN10.sd())throw Zt=!0,r&&(e.precision=r),Error(Gs+"LN10 precision limit exceeded");return It(new e(e.LN10),t)}function wo(e){for(var t="";e--;)t+="0";return t}function op(e,t){var r,n,s,i,a,o,c,u,d,f=1,h=10,m=e,p=m.d,v=m.constructor,w=v.precision;if(m.s<1)throw Error(Gs+(m.s?"NaN":"-Infinity"));if(m.eq(ps))return new v(0);if(t==null?(Zt=!1,u=w):u=t,m.eq(10))return t==null&&(Zt=!0),Ew(v,u);if(u+=h,v.precision=u,r=Yi(p),n=r.charAt(0),i=kr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Yi(m.d),n=r.charAt(0),f++;i=kr(m),n>1?(m=new v("0."+r),i++):m=new v(n+"."+r.slice(1))}else return c=Ew(v,u+2,w).times(i+""),m=op(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=w,t==null?(Zt=!0,It(m,w)):m;for(o=a=m=Fa(m.minus(ps),m.plus(ps),u),d=It(m.times(m),u),s=3;;){if(a=It(a.times(d),u),c=o.plus(Fa(a,new v(s),u)),Yi(c.d).slice(0,u)===Yi(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Ew(v,u+2,w).times(i+""))),o=Fa(o,new v(f),u),v.precision=w,t==null?(Zt=!0,It(o,w)):o;o=c,s+=2}}function gT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Gd(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Kt;n<s;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Zt&&(e.e>Ey||e.e<-Ey))throw Error(eE+r)}else e.s=0,e.e=0,e.d=[0];return e}function It(e,t,r){var n,s,i,a,o,c,u,d,f=e.d;for(a=1,i=f[0];i>=10;i/=10)a++;if(n=t-a,n<0)n+=Kt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Kt),i=f.length,d>=i)return e;for(u=i=f[d],a=1;i>=10;i/=10)a++;n%=Kt,s=n-Kt+a}if(r!==void 0&&(i=Ll(10,a-s-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?s>0?u/Ll(10,a-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=kr(e),f.length=1,t=t-i-1,f[0]=Ll(10,(Kt-t%Kt)%Kt),e.e=Gd(-t/Kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ll(10,Kt-n),f[d]=s>0?(u/Ll(10,a-s)%Ll(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Br&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Br)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Zt&&(e.e>Ey||e.e<-Ey))throw Error(eE+kr(e));return e}function E8(e,t){var r,n,s,i,a,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Zt?It(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,o=f.length):(r=f,n=u,o=c.length),s=Math.max(Math.ceil(m/Kt),o)+2,a>s&&(a=s,r.length=1),r.reverse(),s=a;s--;)r.push(0);r.reverse()}else{for(s=c.length,o=f.length,d=s<o,d&&(o=s),s=0;s<o;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,s=f.length-o;s>0;--s)c[o++]=0;for(s=f.length;s>a;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Br-1;--c[i],c[s]+=Br}c[s]-=f[s]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Zt?It(t,m):t):new h(0)}function Ec(e,t,r){var n,s=kr(e),i=Yi(e.d),a=i.length;return t?(r&&(n=r-a)>0?i=i.charAt(0)+"."+i.slice(1)+wo(n):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+wo(-s-1)+i,r&&(n=r-a)>0&&(i+=wo(n))):s>=a?(i+=wo(s+1-a),r&&(n=r-s-1)>0&&(i=i+"."+wo(n))):((n=s+1)<a&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-a)>0&&(s+1===a&&(i+="."),i+=wo(n))),e.s<0?"-"+i:i}function vT(e,t){if(e.length>t)return e.length=t,!0}function N8(e){var t,r,n;function s(i){var a=this;if(!(a instanceof s))return new s(i);if(a.constructor=s,i instanceof s){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cc+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return gT(a,i.toString())}else if(typeof i!="string")throw Error(cc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,she.test(i))gT(a,i);else throw Error(cc+i)}if(s.prototype=Oe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=N8,s.config=s.set=ihe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function ihe(e){if(!e||typeof e!="object")throw Error(Gs+"Object expected");var t,r,n,s=["precision",1,Yd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Gd(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(cc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(cc+r+": "+n);return this}var tE=N8(nhe);ps=new tE(1);const Nt=tE;var ahe=e=>e,P8={"@@functional/placeholder":!0},A8=e=>e===P8,yT=e=>function t(){return arguments.length===0||arguments.length===1&&A8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},O8=(e,t)=>e===1?t:yT(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(a=>a!==P8).length;return i>=e?t(...n):O8(e-i,yT(function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var u=n.map(d=>A8(d)?o.shift():d);return t(...u,...o)}))}),O0=e=>O8(e.length,e),aj=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ohe=O0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),lhe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ahe;var s=r.reverse(),i=s[0],a=s.slice(1);return function(){return a.reduce((o,c)=>c(o),i(...arguments))}},oj=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),T8=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((a,o)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[o])})||(t=s,r=e(...s)),r}};function D8(e){var t;return e===0?t=1:t=Math.floor(new Nt(e).abs().log(10).toNumber())+1,t}function M8(e,t,r){for(var n=new Nt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}O0((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});O0((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});O0((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var R8=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},I8=(e,t,r)=>{if(e.lte(0))return new Nt(0);var n=D8(e.toNumber()),s=new Nt(10).pow(n),i=e.div(s),a=n!==1?.05:.1,o=new Nt(Math.ceil(i.div(a).toNumber())).add(r).mul(a),c=o.mul(s);return t?new Nt(c.toNumber()):new Nt(Math.ceil(c.toNumber()))},che=(e,t,r)=>{var n=new Nt(1),s=new Nt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Nt(10).pow(D8(e)-1),s=new Nt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Nt(Math.floor(e)))}else e===0?s=new Nt(Math.floor((t-1)/2)):r||(s=new Nt(Math.floor(e)));var a=Math.floor((t-1)/2),o=lhe(ohe(c=>s.add(new Nt(c-a).mul(n)).toNumber()),aj);return o(0,t)},L8=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var a=I8(new Nt(r).sub(t).div(n-1),s,i),o;t<=0&&r>=0?o=new Nt(0):(o=new Nt(t).add(r).div(2),o=o.sub(new Nt(o).mod(a)));var c=Math.ceil(o.sub(t).div(a).toNumber()),u=Math.ceil(new Nt(r).sub(o).div(a).toNumber()),d=c+u+1;return d>n?L8(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:o.sub(new Nt(c).mul(a)),tickMax:o.add(new Nt(u).mul(a))})};function uhe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[a,o]=R8([t,r]);if(a===-1/0||o===1/0){var c=o===1/0?[a,...aj(0,n-1).map(()=>1/0)]:[...aj(0,n-1).map(()=>-1/0),o];return t>r?oj(c):c}if(a===o)return che(a,n,s);var{step:u,tickMin:d,tickMax:f}=L8(a,o,i,s,0),h=M8(d,f.add(new Nt(.1).mul(u)),u);return t>r?oj(h):h}function dhe(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,a]=R8([r,n]);if(i===-1/0||a===1/0)return[r,n];if(i===a)return[i];var o=Math.max(t,2),c=I8(new Nt(a).sub(i).div(o-1),s,0),u=[...M8(new Nt(i),new Nt(a).sub(new Nt(.99).mul(c)),c),a];return r>n?oj(u):u}var fhe=T8(uhe),hhe=T8(dhe),$8=e=>e.rootProps.maxBarSize,phe=e=>e.rootProps.barGap,F8=e=>e.rootProps.barCategoryGap,mhe=e=>e.rootProps.barSize,nm=e=>e.rootProps.stackOffset,rE=e=>e.options.chartName,nE=e=>e.rootProps.syncId,B8=e=>e.rootProps.syncMethod,sE=e=>e.options.eventEmitter,Sa={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},us={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},T0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ghe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sa.angleAxisId,includeHidden:!1,name:void 0,reversed:Sa.reversed,scale:Sa.scale,tick:Sa.tick,tickCount:void 0,ticks:void 0,type:Sa.type,unit:void 0},vhe={allowDataOverflow:us.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:us.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:us.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:us.scale,tick:us.tick,tickCount:us.tickCount,ticks:void 0,type:us.type,unit:void 0},yhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sa.scale,tick:Sa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xhe={allowDataOverflow:us.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:us.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:us.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:us.scale,tick:us.tick,tickCount:us.tickCount,ticks:void 0,type:"category",unit:void 0},iE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yhe:ghe,aE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xhe:vhe,D0=e=>e.polarOptions,oE=X([bl,wl,Hr],m6),z8=X([D0,oE],(e,t)=>{if(e!=null)return En(e.innerRadius,t,0)}),U8=X([D0,oE],(e,t)=>{if(e!=null)return En(e.outerRadius,t,t*.8)}),bhe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},W8=X([D0],bhe);X([iE,W8],T0);var V8=X([oE,z8,U8],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});X([aE,V8],T0);var whe=X([St,D0,z8,U8,bl,wl],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:o,startAngle:c,endAngle:u}=t;return{cx:En(a,s,s/2),cy:En(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),yr=(e,t)=>t,sm=(e,t,r)=>r;function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ny(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){_he(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _he(e,t,r){return(t=jhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jhe(e){var t=She(e,"string");return typeof t=="symbol"?t:t+""}function She(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lj=[0,"auto"],is={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},no=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??is},as={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:w0},Sl=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??as},khe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lE=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??khe},xr=(e,t,r)=>{switch(t){case"xAxis":return no(e,r);case"yAxis":return Sl(e,r);case"zAxis":return lE(e,r);case"angleAxis":return iE(e,r);case"radiusAxis":return aE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Che=(e,t,r)=>{switch(t){case"xAxis":return no(e,r);case"yAxis":return Sl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},im=(e,t,r)=>{switch(t){case"xAxis":return no(e,r);case"yAxis":return Sl(e,r);case"angleAxis":return iE(e,r);case"radiusAxis":return aE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},H8=e=>e.graphicalItems.countOfBars>0;function cE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var M0=e=>e.graphicalItems.cartesianItems,Ehe=X([yr,sm],cE),uE=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),am=X([M0,xr,Ehe],uE),K8=e=>e.filter(t=>t.stackId===void 0),Nhe=X([am],K8),dE=e=>e.map(t=>t.data).filter(Boolean).flat(1),Phe=X([am],dE),fE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},R0=X([Phe,JC],fE),hE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:qt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:qt(s,n)}))):e.map(n=>({value:n})),I0=X([R0,xr,am],hE);function q8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function zc(e){return e.filter(t=>ia(t)||t instanceof Date).map(Number).filter(t=>ws(t)===!1)}function Ahe(e,t,r){return!r||typeof t!="number"||ws(t)?[]:r.length?zc(r.flatMap(n=>{var s=qt(e,n.dataKey),i,a;if(Array.isArray(s)?[i,a]=s:i=a=s,!(!Ss(i)||!Ss(a)))return[t-i,t+a]})):[]}var Y8=(e,t,r)=>{var n={},s=t.reduce((i,a)=>(a.stackId==null||(i[a.stackId]==null&&(i[a.stackId]=[]),i[a.stackId].push(a)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[a,o]=i,c=o.map(u=>u.dataKey);return[a,{stackedData:Jle(e,c,r),graphicalItems:o}]}))},cj=X([R0,am,nm],Y8),G8=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=nce(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Ohe=X([cj,qd,yr],G8),X8=(e,t,r,n)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var a,o,c=(a=i.errorBars)===null||a===void 0?void 0:a.filter(d=>q8(n,d)),u=qt(s,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:u,errorDomain:Ahe(s,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:qt(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),The=X(R0,xr,Nhe,yr,X8);function Dhe(e){var{value:t}=e;if(ia(t)||t instanceof Date)return t}var Mhe=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=zc(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Rhe=(e,t,r)=>{var n=e.map(Dhe).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Z3(n))?W6(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},pE=e=>{var t;if(e==null||!("domain"in e))return lj;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=zc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:lj},mE=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),a=Math.min(...i),o=Math.max(...i);return[a,o]}},Z8=e=>e.referenceElements.dots,Xd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Ihe=X([Z8,yr,sm],Xd),Q8=e=>e.referenceElements.areas,Lhe=X([Q8,yr,sm],Xd),J8=e=>e.referenceElements.lines,$he=X([J8,yr,sm],Xd),ez=(e,t)=>{var r=zc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fhe=X(Ihe,yr,ez),tz=(e,t)=>{var r=zc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Bhe=X([Lhe,yr],tz),rz=(e,t)=>{var r=zc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zhe=X($he,yr,rz),Uhe=X(Fhe,zhe,Bhe,(e,t,r)=>mE(e,r,t)),nz=X([xr],pE),gE=(e,t,r,n,s)=>{var i=the(t,e.allowDataOverflow);return i??rhe(t,mE(r,s,Mhe(n)),e.allowDataOverflow)},Whe=X([xr,nz,Ohe,The,Uhe],gE),Vhe=[0,1],vE=(e,t,r,n,s,i,a)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:o,type:c}=e,u=xl(t,i);return u&&o==null?W6(0,r.length):c==="category"?Rhe(n,e,u):s==="expand"?Vhe:a}},yE=X([xr,St,R0,I0,nm,yr,Whe],vE),sz=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:a}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Gp(i));return o in Vf?o:"point"}}},Zd=X([xr,St,H8,rE,yr],sz);function Hhe(e){if(e!=null){if(e in Vf)return Vf[e]();var t="scale".concat(Gp(e));if(t in Vf)return Vf[t]()}}function xE(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=Hhe(t);if(s!=null){var i=s.domain(r).range(n);return Yle(i),i}}}var bE=(e,t,r)=>{var n=pE(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&kd(e))return fhe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&kd(e))return hhe(e,t.tickCount,t.allowDecimals)}},wE=X([yE,im,Zd],bE),_E=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&kd(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],a=t[1],o=r[r.length-1];return[Math.min(s,i),Math.max(a,o)]}return t},Khe=X([xr,yE,wE,yr],_E),qhe=X(I0,xr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(zc(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var a=n[i+1]-n[i];r=Math.min(r,a)}return r/s}}),iz=X(qhe,St,F8,Hr,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!Ss(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var a=En(r,e*i),o=e*i/2;return o-a-(o-a)/i*a}return 0}),Yhe=(e,t)=>{var r=no(e,t);return r==null||typeof r.padding!="string"?0:iz(e,"xAxis",t,r.padding)},Ghe=(e,t)=>{var r=Sl(e,t);return r==null||typeof r.padding!="string"?0:iz(e,"yAxis",t,r.padding)},Xhe=X(no,Yhe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),Zhe=X(Sl,Ghe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),Qhe=X([Hr,Xhe,j0,_0,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Jhe=X([Hr,St,Zhe,j0,_0,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:a}=s;return i?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),om=(e,t,r,n)=>{var s;switch(t){case"xAxis":return Qhe(e,r,n);case"yAxis":return Jhe(e,r,n);case"zAxis":return(s=lE(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return W8(e);case"radiusAxis":return V8(e,r);default:return}},az=X([xr,om],T0),Qd=X([xr,Zd,Khe,az],xE);X(am,yr,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>q8(t,r)));function oz(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var L0=(e,t)=>t,$0=(e,t,r)=>r,epe=X(SC,L0,$0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(oz)),tpe=X(kC,L0,$0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(oz)),lz=(e,t)=>({width:e.width,height:t.height}),rpe=(e,t)=>{var r=typeof t.width=="number"?t.width:w0;return{width:r,height:e.height}},cz=X(Hr,no,lz),npe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},spe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ipe=X(wl,Hr,epe,L0,$0,(e,t,r,n,s)=>{var i={},a;return r.forEach(o=>{var c=lz(t,o);a==null&&(a=npe(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[o.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),i}),ape=X(bl,Hr,tpe,L0,$0,(e,t,r,n,s)=>{var i={},a;return r.forEach(o=>{var c=rpe(t,o);a==null&&(a=spe(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[o.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),i}),ope=(e,t)=>{var r=Hr(e),n=no(e,t);if(n!=null){var s=ipe(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},lpe=(e,t)=>{var r=Hr(e),n=Sl(e,t);if(n!=null){var s=ape(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},uz=X(Hr,Sl,(e,t)=>{var r=typeof t.width=="number"?t.width:w0;return{width:r,height:e.height}}),bT=(e,t,r)=>{switch(t){case"xAxis":return cz(e,r).width;case"yAxis":return uz(e,r).height;default:return}},dz=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:a}=r,o=xl(e,n),c=t.map(u=>u.value);if(a&&o&&i==="category"&&s&&Z3(c))return c}},jE=X([St,I0,xr,yr],dz),fz=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,a=xl(e,n);if(a&&(s==="number"||i!=="auto"))return t.map(o=>o.value)}},SE=X([St,I0,im,yr],fz),wT=X([St,Che,Zd,Qd,jE,SE,om,wE,yr],(e,t,r,n,s,i,a,o,c)=>{if(t==null)return null;var u=xl(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:o,range:a,realScaleType:r,scale:n}}),cpe=(e,t,r,n,s,i,a,o,c)=>{if(!(t==null||n==null)){var u=xl(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?Ur(i[0]-i[1])*2*p:p;var v=f||s;if(v){var w=v.map((b,y)=>{var x=a?a.indexOf(b):b;return{index:y,coordinate:n(x)+p,value:b,offset:p}});return w.filter(b=>!ws(b.coordinate))}return u&&o?o.map((b,y)=>({coordinate:n(b)+p,value:b,index:y,offset:p})):n.ticks?n.ticks(h).map(b=>({coordinate:n(b)+p,value:b,offset:p})):n.domain().map((b,y)=>({coordinate:n(b)+p,value:a?a[b]:b,index:y,offset:p}))}},hz=X([St,im,Zd,Qd,wE,om,jE,SE,yr],cpe),upe=(e,t,r,n,s,i,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=xl(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Ur(n[0]-n[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:s?s[d]:d,index:f,offset:u}))}},ll=X([St,im,Qd,om,jE,SE,yr],upe),oa=X(xr,Qd,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})}),dpe=X([xr,Zd,yE,az],xE);X((e,t,r)=>lE(e,r),dpe,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})});var fpe=X([St,SC,kC],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pz=e=>e.options.defaultTooltipEventType,mz=e=>e.options.validateTooltipEventTypes;function gz(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function kE(e,t){var r=pz(e),n=mz(e);return gz(t,r,n)}function hpe(e){return Ie(t=>kE(t,e))}var vz=(e,t)=>{var r,n=Number(t);if(!(ws(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ppe=e=>e.tooltip.settings,Eo={active:!1,index:null,dataKey:void 0,coordinate:void 0},mpe={itemInteraction:{click:Eo,hover:Eo},axisInteraction:{click:Eo,hover:Eo},keyboardInteraction:Eo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yz=Js({name:"tooltip",initialState:mpe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Yo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:gpe,removeTooltipEntrySettings:vpe,setTooltipSettingsState:ype,setActiveMouseOverItemIndex:xz,mouseLeaveItem:xpe,mouseLeaveChart:bz,setActiveClickItemIndex:bpe,setMouseOverAxisIndex:wz,setMouseClickAxisIndex:wpe,setSyncInteraction:uj,setKeyboardInteraction:dj}=yz.actions,_pe=yz.reducer;function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){jpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jpe(e,t,r){return(t=Spe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Spe(e){var t=kpe(e,"string");return typeof t=="symbol"?t:t+""}function kpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cpe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Epe(e){return e.index!=null}var _z=(e,t,r,n)=>{if(t==null)return Eo;var s=Cpe(e,t,r);if(s==null)return Eo;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Epe(s)){if(i)return ig(ig({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return ig(ig({},Eo),{},{coordinate:s.coordinate})},CE=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Ss(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},jz=(e,t,r,n,s,i,a,o)=>{if(!(i==null||o==null)){var c=a[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},Sz=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var a;return((a=i.settings)===null||a===void 0?void 0:a.dataKey)===s})},F0=e=>e.options.tooltipPayloadSearcher,Jd=e=>e.tooltip,qr=e=>{var t=St(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ef=e=>e.tooltip.settings.axisId,xn=e=>{var t=qr(e),r=ef(e);return im(e,t,r)},EE=X([xn,St,H8,rE,qr],sz),Npe=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ppe=X([qr,ef],cE),B0=X([Npe,xn,Ppe],uE),Ape=X([B0],dE),Uc=X([Ape,qd],fE),NE=X([Uc,xn,B0],hE),Ope=X([xn],pE),Tpe=X([Uc,B0,nm],Y8),Dpe=X([Tpe,qd,qr],G8),Mpe=X([B0],K8),Rpe=X([Uc,xn,Mpe,qr],X8),Ipe=X([Z8,qr,ef],Xd),Lpe=X([Ipe,qr],ez),$pe=X([Q8,qr,ef],Xd),Fpe=X([$pe,qr],tz),Bpe=X([J8,qr,ef],Xd),zpe=X([Bpe,qr],rz),Upe=X([Lpe,zpe,Fpe],mE),Wpe=X([xn,Ope,Dpe,Rpe,Upe],gE),kz=X([xn,St,Uc,NE,nm,qr,Wpe],vE),Vpe=X([kz,xn,EE],bE),Hpe=X([xn,kz,Vpe,qr],_E),Cz=e=>{var t=qr(e),r=ef(e),n=!1;return om(e,t,r,n)},Ez=X([xn,Cz],T0),Nz=X([xn,EE,Hpe,Ez],xE),Kpe=X([St,NE,xn,qr],dz),qpe=X([St,NE,xn,qr],fz),Ype=(e,t,r,n,s,i,a,o)=>{if(t){var{type:c}=t,u=xl(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Ur(s[0]-s[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},so=X([St,xn,EE,Nz,Cz,Kpe,qpe,qr],Ype),Pz=X([pz,mz,ppe],(e,t,r)=>gz(r.shared,e,t)),Az=e=>e.tooltip.settings.trigger,PE=e=>e.tooltip.settings.defaultIndex,z0=X([Jd,Pz,Az,PE],_z),Nc=X([z0,Uc],CE),Oz=X([so,Nc],vz),Tz=X([z0],e=>{if(e)return e.dataKey}),Gpe=X([Jd,Pz,Az,PE],Sz),Xpe=X([bl,wl,St,Hr,so,PE,Gpe,F0],jz),Zpe=X([z0,Xpe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Qpe=X([z0],e=>e.active);function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){Jpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jpe(e,t,r){return(t=eme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eme(e){var t=tme(e,"string");return typeof t=="symbol"?t:t+""}function tme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dz=()=>Ie(xn),rme=()=>{var e=Dz(),t=Ie(so),r=Ie(Nz);return tp(ST(ST({},e),{},{scale:r}),t)};function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){nme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nme(e,t,r){return(t=sme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sme(e){var t=ime(e,"string");return typeof t=="symbol"?t:t+""}function ime(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ame=()=>Ie(rE),AE=(e,t)=>t,Mz=(e,t,r)=>r,OE=(e,t,r,n)=>n;function ome(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}var lme=X(so,e=>p0(e,t=>t.coordinate)),TE=X([Jd,AE,Mz,OE],_z),Rz=X([TE,Uc],CE),cme=(e,t,r)=>{if(t!=null){var n=Jd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Iz=X([Jd,AE,Mz,OE],Sz),Py=X([bl,wl,St,Hr,so,OE,Iz,F0],jz),ume=X([TE,Py],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Lz=X(so,Rz,vz);function dme(e,t){return e??t}var fme=(e,t,r,n,s,i,a)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:v,settings:w}=m,b=dme(v,o),y=ome(b,u,d),x=(p=w==null?void 0:w.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,_=w==null?void 0:w.nameKey,j;if(n!=null&&n.dataKey&&!(n!=null&&n.allowDuplicatedCategory)&&Array.isArray(y)&&a==="axis"?j=nC(y,n.dataKey,s):j=i(y,t,c,_),Array.isArray(j))j.forEach(S=>{var E=CT(CT({},w),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(m2({tooltipEntrySettings:E,dataKey:S.dataKey,payload:S.payload,value:qt(S.payload,S.dataKey),name:S.name}))});else{var k;h.push(m2({tooltipEntrySettings:w,dataKey:x,payload:j,value:qt(j,x),name:(k=qt(j,_))!==null&&k!==void 0?k:w==null?void 0:w.name}))}return h},f)}},hme=X([Iz,Rz,qd,xn,Lz,F0,AE],fme),pme=X([TE],e=>({isActive:e.active,activeIndex:e.index})),mme=(e,t,r,n,s,i,a,o)=>{if(!(!e||!t||!n||!s||!i)){var c=sce(e.chartX,e.chartY,t,r,o);if(c){var u=ace(c,t),d=Kle(u,a,i,n,s),f=ice(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fj.apply(null,arguments)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gme(e,t,r){return(t=vme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vme(e){var t=yme(e,"string");return typeof t=="symbol"?t:t+""}function yme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xme(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:a,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=Wce;else if(u==="BarChart")m=Vce(a,d,s,i),p=I6;else if(a==="radial"){var{cx:v,cy:w,radius:b,startAngle:y,endAngle:x}=L6(d);m={cx:v,cy:w,startAngle:y,endAngle:x,innerRadius:b,outerRadius:b},p=F6}else m={points:kue(a,d,s)},p=EC;var _=typeof o=="object"&&"className"in o?o.className:void 0,j=ag(ag(ag(ag({stroke:"#ccc",pointerEvents:"none"},s),m),pt(o,!1)),{},{payload:f,payloadIndex:h,className:yt("recharts-tooltip-cursor",_)});return g.isValidElement(o)?g.cloneElement(o,j):g.createElement(p,j)}function bme(e){var t=rme(),r=Qp(),n=S0(),s=ame();return g.createElement(xme,fj({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var $z=g.createContext(null),wme=()=>g.useContext($z),Fz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var v=r?r+u:u;if(!this._events[v])return!1;var w=this._events[v],b=arguments.length,y,x;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,p),!0}for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];w.fn.apply(w.context,y)}else{var _=w.length,j;for(x=0;x<_;x++)switch(w[x].once&&this.removeListener(u,w[x].fn,void 0,!0),b){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,d);break;case 3:w[x].fn.call(w[x].context,d,f);break;case 4:w[x].fn.call(w[x].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];w[x].fn.apply(w[x].context,y)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var v=0,w=[],b=p.length;v<b;v++)(p[v].fn!==d||h&&!p[v].once||f&&p[v].context!==f)&&w.push(p[v]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Fz);var _me=Fz.exports;const jme=Ai(_me);var lp=new jme,hj="recharts.syncEvent.tooltip",NT="recharts.syncEvent.brush";function DE(e,t){if(t){var r=Number.parseInt(t,10);if(!ws(r))return e==null?void 0:e[r]}}var Sme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Bz=Js({name:"options",initialState:Sme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kme=Bz.reducer,{createEventEmitter:Cme}=Bz.actions;function Eme(e){return e.tooltip.syncInteraction}var Nme={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},zz=Js({name:"chartData",initialState:Nme,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:PT,setDataStartEndIndexes:Pme,setComputedData:hEe}=zz.actions,Ame=zz.reducer,Uz=()=>{};function Ome(){var e=Ie(nE),t=Ie(sE),r=cr(),n=Ie(B8),s=Ie(so),i=S0(),a=CC(),o=Ie(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return Uz;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(s!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(s,m);h=s[p]}else n==="value"&&(h=s.find(k=>String(k.value)===d.payload.label));var{coordinate:v}=d.payload;if(h==null||d.payload.active===!1||v==null||a==null){r(uj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:b}=v,y=Math.min(w,a.x+a.width),x=Math.min(b,a.y+a.height),_={x:i==="horizontal"?h.coordinate:y,y:i==="horizontal"?x:h.coordinate},j=uj({active:d.payload.active,coordinate:_,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(j)}}};return lp.on(hj,c),()=>{lp.off(hj,c)}},[o,r,t,e,n,s,i,a])}function Tme(){var e=Ie(nE),t=Ie(sE),r=cr();g.useEffect(()=>{if(e==null)return Uz;var n=(s,i,a)=>{t!==a&&e===s&&r(Pme(i))};return lp.on(NT,n),()=>{lp.off(NT,n)}},[r,t,e])}function Dme(){var e=cr();g.useEffect(()=>{e(Cme())},[e]),Ome(),Tme()}function Mme(e,t,r,n,s,i){var a=Ie(h=>cme(h,e,t)),o=Ie(sE),c=Ie(nE),u=Ie(B8),d=Ie(Eme),f=d==null?void 0:d.active;g.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=uj({active:i,coordinate:r,dataKey:a,index:s,label:typeof n=="number"?String(n):n});lp.emit(hj,c,h,o)}},[f,r,a,s,n,o,c,u,i])}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Rme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rme(e,t,r){return(t=Ime(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ime(e){var t=Lme(e,"string");return typeof t=="symbol"?t:t+""}function Lme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $me(e){return e.dataKey}function Fme(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(wce,t)}var TT=[],Bme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$c.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _u(e){var t=ei(e,Bme),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:a,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:v,shared:w,trigger:b,defaultIndex:y,portal:x,axisId:_}=t,j=cr(),k=typeof y=="number"?String(y):y;g.useEffect(()=>{j(ype({shared:w,trigger:b,axisId:_,active:r,defaultIndex:k}))},[j,w,b,_,r,k]);var S=CC(),E=N6(),N=hpe(w),{activeIndex:O,isActive:P}=Ie(Ee=>pme(Ee,N,b,k)),A=Ie(Ee=>hme(Ee,N,b,k)),L=Ie(Ee=>Lz(Ee,N,b,k)),I=Ie(Ee=>ume(Ee,N,b,k)),B=A,z=wme(),T=r??P,[C,D]=Ioe([B,T]),U=N==="axis"?L:void 0;Mme(N,b,I,U,O,T);var W=x??z;if(W==null)return null;var V=B??TT;T||(V=TT),o&&V.length&&(V=eoe(B.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||t.includeHidden)),d,$me));var ue=V.length>0,me=g.createElement(Nce,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:T,coordinate:I,hasPayload:ue,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:S,wrapperStyle:p,lastBoundingBox:C,innerRef:D,hasPortalFromProps:!!x},Fme(a,OT(OT({},t),{},{payload:V,label:U,active:T,coordinate:I,accessibilityLayer:E})));return g.createElement(g.Fragment,null,hl.createPortal(me,W),T&&g.createElement(bme,{cursor:v,tooltipEventType:N,coordinate:I,payload:B,index:O}))}var Wz={},Vz={},Hz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let a,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{p(),a=void 0,o=null},w=()=>{p(),d()},b=function(...y){if(s!=null&&s.aborted)return;a=this,o=y;const x=h==null;m(),c&&x&&d()};return b.schedule=m,b.cancel=v,b.flush=w,s==null||s.addEventListener("abort",v,{once:!0}),b}e.debounce=t})(Hz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hz;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:a=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=n.apply(this,v),f=null},s,{edges:u}),m=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(Vz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vz;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:a=!0,trailing:o=!0}=i;return t.debounce(n,s,{leading:a,trailing:o,maxWait:s})}e.throttle=r})(Wz);var zme=Wz.throttle;const Ume=Ai(zme);var ph=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Wme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wme(e,t,r){return(t=Vme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vme(e){var t=Hme(e,"string");return typeof t=="symbol"?t:t+""}function Hme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ju=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:a=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,v=g.useRef(null),w=g.useRef();w.current=m,g.useImperativeHandle(t,()=>v.current);var[b,y]=g.useState({containerWidth:n.width,containerHeight:n.height}),x=g.useCallback((j,k)=>{y(S=>{var E=Math.round(j),N=Math.round(k);return S.containerWidth===E&&S.containerHeight===N?S:{containerWidth:E,containerHeight:N}})},[]);g.useEffect(()=>{var j=N=>{var O,{width:P,height:A}=N[0].contentRect;x(P,A),(O=w.current)===null||O===void 0||O.call(w,P,A)};d>0&&(j=Ume(j,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:S,height:E}=v.current.getBoundingClientRect();return x(S,E),k.observe(v.current),()=>{k.disconnect()}},[x,d]);var _=g.useMemo(()=>{var{containerWidth:j,containerHeight:k}=b;if(j<0||k<0)return null;ph(Kl(s)||Kl(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),ph(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=Kl(s)?j:s,E=Kl(i)?k:i;return r&&r>0&&(S?E=S/r:E&&(S=E*r),c&&E>c&&(E=c)),ph(S>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,s,i,a,o,r),g.Children.map(u,N=>g.cloneElement(N,{width:S,height:E,style:Nw({height:"100%",width:"100%",maxHeight:E,maxWidth:S},N.props.style)}))},[r,u,i,c,o,a,b,s]);return g.createElement("div",{id:f?"".concat(f):void 0,className:yt("recharts-responsive-container",h),style:Nw(Nw({},p),{},{width:s,height:i,minWidth:a,minHeight:o,maxHeight:c}),ref:v},_)}),tf=e=>null;tf.displayName="Cell";function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){Kme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kme(e,t,r){return(t=qme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qme(e){var t=Yme(e,"string");return typeof t=="symbol"?t:t+""}function Yme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iu={widthCache:{},cacheCount:0},Gme=2e3,Xme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RT="recharts_measurement_span";function Zme(e){var t=pj({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var mh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$c.isSsr)return{width:0,height:0};var n=Zme(r),s=JSON.stringify({text:t,copyStyle:n});if(iu.widthCache[s])return iu.widthCache[s];try{var i=document.getElementById(RT);i||(i=document.createElement("span"),i.setAttribute("id",RT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=pj(pj({},Xme),n);Object.assign(i.style,a),i.textContent="".concat(t);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return iu.widthCache[s]=c,++iu.cacheCount>Gme&&(iu.cacheCount=0,iu.widthCache={}),c}catch{return{width:0,height:0}}},IT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ege=Object.keys(Kz),Su="NaN";function tge(e,t){return e*Kz[t]}class Un{static parse(t){var r,[,n,s]=(r=Jme.exec(t))!==null&&r!==void 0?r:[];return new Un(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ws(t)&&(this.unit=""),r!==""&&!Qme.test(r)&&(this.num=NaN,this.unit=""),ege.includes(r)&&(this.num=tge(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Un(NaN,""):new Un(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Un(NaN,""):new Un(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Un(NaN,""):new Un(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Un(NaN,""):new Un(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ws(this.num)}}function qz(e){if(e.includes(Su))return Su;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=IT.exec(t))!==null&&r!==void 0?r:[],a=Un.parse(n??""),o=Un.parse(i??""),c=s==="*"?a.multiply(o):a.divide(o);if(c.isNaN())return Su;t=t.replace(IT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=LT.exec(t))!==null&&u!==void 0?u:[],m=Un.parse(d??""),p=Un.parse(h??""),v=f==="+"?m.add(p):m.subtract(p);if(v.isNaN())return Su;t=t.replace(LT,v.toString())}return t}var $T=/\(([^()]*)\)/;function rge(e){for(var t=e,r;(r=$T.exec(t))!=null;){var[,n]=r;t=t.replace($T,qz(n))}return t}function nge(e){var t=e.replace(/\s+/g,"");return t=rge(t),t=qz(t),t}function sge(e){try{return nge(e)}catch{return Su}}function Pw(e){var t=sge(e.slice(5,-1));return t===Su?"":t}var ige=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],age=["dx","dy","angle","className","breakAll"];function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mj.apply(null,arguments)}function FT(e,t){if(e==null)return{};var r,n,s=oge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yz=/[ \f\n\r\t\v\u2028\u2029]+/,Gz=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Lt(t)||(r?s=t.toString().split(""):s=t.toString().split(Yz));var i=s.map(o=>({word:o,width:mh(o,n).width})),a=r?0:mh("",n).width;return{wordsWithComputedWidth:i,spaceWidth:a}}catch{return null}},lge=(e,t,r,n,s)=>{var{maxLines:i,children:a,style:o,breakAll:c}=e,u=Te(i),d=a,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((A,L)=>{var{word:I,width:B}=L,z=A[A.length-1];if(z&&(n==null||s||z.width+B+r<Number(n)))z.words.push(I),z.width+=B+r;else{var T={words:[I],width:B};A.push(T)}return A},[])},h=f(t),m=O=>O.reduce((P,A)=>P.width>A.width?P:A);if(!u||s)return h;var p=h.length>i||m(h).width>Number(n);if(!p)return h;for(var v="",w=O=>{var P=d.slice(0,O),A=Gz({breakAll:c,style:o,children:P+v}).wordsWithComputedWidth,L=f(A),I=L.length>i||m(L).width>Number(n);return[I,L]},b=0,y=d.length-1,x=0,_;b<=y&&x<=d.length-1;){var j=Math.floor((b+y)/2),k=j-1,[S,E]=w(k),[N]=w(j);if(!S&&!N&&(b=j+1),S&&N&&(y=j-1),!S&&N){_=E;break}x++}return _||h},BT=e=>{var t=Lt(e)?[]:e.toString().split(Yz);return[{words:t}]},cge=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:a}=e;if((t||r)&&!$c.isSsr){var o,c,u=Gz({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return BT(n);return lge({breakAll:i,children:n,maxLines:a,style:s},o,c,t,r)}return BT(n)},zT="#808080",U0=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=zT}=e,d=FT(e,ige),f=g.useMemo(()=>cge({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:v,breakAll:w}=d,b=FT(d,age);if(!ia(r)||!ia(n))return null;var y=r+(Te(h)?h:0),x=n+(Te(m)?m:0),_;switch(c){case"start":_=Pw("calc(".concat(i,")"));break;case"middle":_=Pw("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:_=Pw("calc(".concat(f.length-1," * -").concat(s,")"));break}var j=[];if(a){var k=f[0].width,{width:S}=d;j.push("scale(".concat(Te(S)?S/k:1,")"))}return p&&j.push("rotate(".concat(p,", ").concat(y,", ").concat(x,")")),j.length&&(b.transform=j.join(" ")),g.createElement("text",mj({},pt(b,!0),{ref:t,x:y,y:x,className:yt("recharts-text",v),textAnchor:o,fill:u.includes("url")?zT:u}),f.map((E,N)=>{var O=E.words.join(w?"":" ");return g.createElement("tspan",{x:y,dy:N===0?_:s,key:"".concat(O,"-").concat(N)},O)}))});U0.displayName="Text";var uge=["offset"],dge=["labelRef"];function UT(e,t){if(e==null)return{};var r,n,s=fge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){hge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hge(e,t,r){return(t=pge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=mge(e,"string");return typeof t=="symbol"?t:t+""}function mge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(null,arguments)}var gge=e=>{var{value:t,formatter:r}=e,n=Lt(e.children)?t:e.children;return typeof r=="function"?r(n):n},ME=e=>e!=null&&typeof e=="function",vge=(e,t)=>{var r=Ur(t-e),n=Math.min(Math.abs(t-e),360);return r*n},yge=(e,t,r)=>{var{position:n,viewBox:s,offset:i,className:a}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=s,p=(u+d)/2,v=vge(f,h),w=v>=0?1:-1,b,y;n==="insideStart"?(b=f+w*i,y=m):n==="insideEnd"?(b=h-w*i,y=!m):n==="end"&&(b=h+w*i,y=m),y=v<=0?y:!y;var x=jr(o,c,p,b),_=jr(o,c,p,b+(y?1:-1)*359),j="M".concat(x.x,",").concat(x.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(_.x,",").concat(_.y),k=Lt(e.id)?Sc("recharts-radial-line-"):e.id;return g.createElement("text",ka({},r,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",a)}),g.createElement("defs",null,g.createElement("path",{id:k,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(k)},t))},xge=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:s,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=t,d=(c+u)/2;if(n==="outside"){var{x:f,y:h}=jr(s,i,o+r,d);return{x:f,y:h,textAnchor:f>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:p,y:v}=jr(s,i,m,d);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},bge=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:a,width:o,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=o>=0?1:-1,p=m*n,v=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var b={x:i+o/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return br(br({},b),r?{height:Math.max(a-r.y,0),width:o}:{})}if(s==="bottom"){var y={x:i+o/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return br(br({},y),r?{height:Math.max(r.y+r.height-(a+c),0),width:o}:{})}if(s==="left"){var x={x:i-p,y:a+c/2,textAnchor:v,verticalAnchor:"middle"};return br(br({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if(s==="right"){var _={x:i+o+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return br(br({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:c}:{})}var j=r?{width:o,height:c}:{};return s==="insideLeft"?br({x:i+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideRight"?br({x:i+o-p,y:a+c/2,textAnchor:v,verticalAnchor:"middle"},j):s==="insideTop"?br({x:i+o/2,y:a+d,textAnchor:"middle",verticalAnchor:h},j):s==="insideBottom"?br({x:i+o/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},j):s==="insideTopLeft"?br({x:i+p,y:a+d,textAnchor:w,verticalAnchor:h},j):s==="insideTopRight"?br({x:i+o-p,y:a+d,textAnchor:v,verticalAnchor:h},j):s==="insideBottomLeft"?br({x:i+p,y:a+c-d,textAnchor:w,verticalAnchor:f},j):s==="insideBottomRight"?br({x:i+o-p,y:a+c-d,textAnchor:v,verticalAnchor:f},j):s&&typeof s=="object"&&(Te(s.x)||Kl(s.x))&&(Te(s.y)||Kl(s.y))?br({x:i+En(s.x,o),y:a+En(s.y,c),textAnchor:"end",verticalAnchor:"end"},j):br({x:i+o/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},wge=e=>"cx"in e&&Te(e.cx);function hs(e){var{offset:t=5}=e,r=UT(e,uge),n=br({offset:t},r),{viewBox:s,position:i,value:a,children:o,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=CC(),m=s||h;if(!m||Lt(a)&&Lt(o)&&!g.isValidElement(c)&&typeof c!="function")return null;if(g.isValidElement(c)){var p=UT(n,dge);return g.cloneElement(c,p)}var v;if(typeof c=="function"){if(v=g.createElement(c,n),g.isValidElement(v))return v}else v=gge(n);var w=wge(m),b=pt(n,!0);if(w&&(i==="insideStart"||i==="insideEnd"||i==="end"))return yge(n,v,b);var y=w?xge(n):bge(n,m);return g.createElement(U0,ka({ref:f,className:yt("recharts-label",u)},b,y,{breakAll:d}),v)}hs.displayName="Label";var Xz=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:a,radius:o,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:v,clockWise:w,labelViewBox:b}=e;if(b)return b;if(Te(p)&&Te(v)){if(Te(d)&&Te(f))return{x:d,y:f,width:p,height:v};if(Te(h)&&Te(m))return{x:h,y:m,width:p,height:v}}if(Te(d)&&Te(f))return{x:d,y:f,width:0,height:0};if(Te(t)&&Te(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||o||a||0,clockWise:w};if(e.viewBox)return e.viewBox},_ge=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(hs,ka({key:"label-implicit"},n)):ia(e)?g.createElement(hs,ka({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===hs?g.cloneElement(e,br({key:"label-implicit"},n)):g.createElement(hs,ka({key:"label-implicit",content:e},n)):ME(e)?g.createElement(hs,ka({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(hs,ka({},e,{key:"label-implicit"},n)):null},jge=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,a=Xz(t),o=Xp(s,hs).map((u,d)=>g.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return o;var c=_ge(t.label,r||a,i);return[c,...o]};hs.parseViewBox=Xz;hs.renderCallByParent=jge;var Zz={},Qz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Qz);var Jz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Jz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qz,r=Jz,n=c0;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(Zz);var Sge=Zz.last;const kge=Ai(Sge);var Cge=["valueAccessor"],Ege=["data","dataKey","clockWise","id","textBreakAll"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){Nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t,r){return(t=Pge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pge(e){var t=Age(e,"string");return typeof t=="symbol"?t:t+""}function Age(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KT(e,t){if(e==null)return{};var r,n,s=Oge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Oge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tge=e=>Array.isArray(e.value)?kge(e.value):e.value;function Xo(e){var{valueAccessor:t=Tge}=e,r=KT(e,Cge),{data:n,dataKey:s,clockWise:i,id:a,textBreakAll:o}=r,c=KT(r,Ege);return!n||!n.length?null:g.createElement(Vr,{className:"recharts-label-list"},n.map((u,d)=>{var f=Lt(s)?t(u,d):qt(u&&u.payload,s),h=Lt(a)?{}:{id:"".concat(a,"-").concat(d)};return g.createElement(hs,Ay({},pt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:o,viewBox:hs.parseViewBox(Lt(i)?u:HT(HT({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Xo.displayName="LabelList";function Dge(e,t){return e?e===!0?g.createElement(Xo,{key:"labelList-implicit",data:t}):g.isValidElement(e)||ME(e)?g.createElement(Xo,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(Xo,Ay({data:t},e,{key:"labelList-implicit"})):null:null}function Mge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=Xp(n,Xo).map((a,o)=>g.cloneElement(a,{data:t,key:"labelList-".concat(o)}));if(!r)return s;var i=Dge(e.label,t);return[i,...s]}Xo.renderCallByParent=Mge;function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gj.apply(null,arguments)}var eU=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=yt("recharts-dot",s);return t===+t&&r===+r&&n===+n?g.createElement("circle",gj({},pt(e,!1),iC(e),{className:i,cx:t,cy:r,r:n})):null},tU=e=>e.graphicalItems.polarItems,Rge=X([yr,sm],cE),RE=X([tU,xr,Rge],uE),Ige=X([RE],dE),IE=X([Ige,QC],fE),Lge=X([IE,xr,RE],hE),$ge=X([IE,xr,RE],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,a=qt(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:qt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),qT=()=>{},Fge=X([xr,nz,qT,$ge,qT],gE),rU=X([xr,St,IE,Lge,nm,yr,Fge],vE),Bge=X([rU,xr,Zd],bE);X([xr,rU,Bge,yr],_E);var zge={radiusAxis:{},angleAxis:{}},Uge=Js({name:"polarAxis",initialState:zge,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),Wge=Uge.reducer;function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){Vge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vge(e,t,r){return(t=Hge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hge(e){var t=Kge(e,"string");return typeof t=="symbol"?t:t+""}function Kge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LE=(e,t)=>t,qge=[],$E=(e,t,r)=>(r==null?void 0:r.length)===0?qge:r,nU=X([QC,LE,$E],(e,t,r)=>{var{chartData:n}=e,s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>GT(GT({},t.presentationProps),i.props))),s!=null)return s}),Yge=X([nU,LE,$E],(e,t,r)=>{if(e!=null)return e.map((n,s)=>{var i,a=qt(n,t.nameKey,t.name),o;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Hd(a,t.dataKey),color:o,payload:n,type:t.legendType}})}),Gge=X([tU,LE],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),Xge=X([nU,Gge,$E,Hr],(e,t,r,n)=>{if(!(t==null||e==null))return $ve({offset:n,pieSettings:t,displayedData:e,cells:r})}),Zge={countOfBars:0,cartesianItems:[],polarItems:[]},sU=Js({name:"graphicalItems",initialState:Zge,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},removeCartesianGraphicalItem(e,t){var r=Yo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Yo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:Qge,removeBar:Jge,addCartesianGraphicalItem:eve,removeCartesianGraphicalItem:tve,addPolarGraphicalItem:rve,removePolarGraphicalItem:nve}=sU.actions,sve=sU.reducer;function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){ive(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ive(e,t,r){return(t=ave(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ave(e){var t=ove(e,"string");return typeof t=="symbol"?t:t+""}function ove(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lve(e){var t=cr();return g.useEffect(()=>{var r=ZT(ZT({},e),{},{stackId:y6(e.stackId)});return t(eve(r)),()=>{t(tve(r))}},[t,e]),null}function cve(e){var t=cr();return g.useEffect(()=>(t(rve(e)),()=>{t(nve(e))}),[t,e]),null}var iU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(iU);var uve=iU.isPlainObject;const dve=Ai(uve);function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}var QT=(e,t,r,n,s)=>{var i=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-i/2,",").concat(t+s),a+="L ".concat(e+r-i/2-n,",").concat(t+s),a+="L ".concat(e,",").concat(t," Z"),a},fve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hve=e=>{var t=ei(e,fve),r=g.useRef(),[n,s]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var{x:i,y:a,upperWidth:o,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(i!==+i||a!==+a||o!==+o||c!==+c||u!==+u||o===0&&c===0||u===0)return null;var v=yt("recharts-trapezoid",d);return p?g.createElement(ol,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:a},to:{upperWidth:o,lowerWidth:c,height:u,x:i,y:a},duration:h,animationEasing:f,isActive:p},w=>{var{upperWidth:b,lowerWidth:y,height:x,x:_,y:j}=w;return g.createElement(ol,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},g.createElement("path",Oy({},pt(t,!0),{className:v,d:QT(_,j,b,y,x),ref:r})))}):g.createElement("g",null,g.createElement("path",Oy({},pt(t,!0),{className:v,d:QT(i,a,o,c,u)})))},pve=["option","shapeType","propTransformer","activeClassName","isActive"];function mve(e,t){if(e==null)return{};var r,n,s=gve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){vve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vve(e,t,r){return(t=yve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yve(e){var t=xve(e,"string");return typeof t=="symbol"?t:t+""}function xve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bve(e,t){return Ty(Ty({},t),e)}function wve(e,t){return e==="symbols"}function eD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(I6,r);case"trapezoid":return g.createElement(hve,r);case"sector":return g.createElement(F6,r);case"symbols":if(wve(t))return g.createElement(yB,r);break;default:return null}}function _ve(e){return g.isValidElement(e)?e.props:e}function aU(e){var{option:t,shapeType:r,propTransformer:n=bve,activeClassName:s="recharts-active-shape",isActive:i}=e,a=mve(e,pve),o;if(g.isValidElement(t))o=g.cloneElement(t,Ty(Ty({},a),_ve(t)));else if(typeof t=="function")o=t(a);else if(dve(t)&&typeof t!="boolean"){var c=n(t,a);o=g.createElement(eD,{shapeType:r,elementProps:c})}else{var u=a;o=g.createElement(eD,{shapeType:r,elementProps:u})}return i?g.createElement(Vr,{className:s},o):o}var FE=(e,t)=>{var r=cr();return(n,s)=>i=>{e==null||e(n,s,i),r(xz({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},BE=e=>{var t=cr();return(r,n)=>s=>{e==null||e(r,n,s),t(xpe())}},zE=(e,t)=>{var r=cr();return(n,s)=>i=>{e==null||e(n,s,i),r(bpe({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function UE(e){var{fn:t,args:r}=e,n=cr(),s=On();return g.useEffect(()=>{if(!s){var i=t(r);return n(gpe(i)),()=>{n(vpe(i))}}},[t,r,n,s]),null}var oU=()=>{};function lU(e){var{legendPayload:t}=e,r=cr(),n=On();return g.useEffect(()=>n?oU:(r(C6(t)),()=>{r(E6(t))}),[r,n,t]),null}function jve(e){var{legendPayload:t}=e,r=cr(),n=Ie(St);return g.useEffect(()=>n!=="centric"&&n!=="radial"?oU:(r(C6(t)),()=>{r(E6(t))}),[r,n,t]),null}function WE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Sc(t)),n=g.useRef(e);return n.current!==e&&(r.current=Sc(t),n.current=e),r.current}var Sve=["onMouseEnter","onClick","onMouseLeave"];function kve(e,t){if(e==null)return{};var r,n,s=Cve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){W0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W0(e,t,r){return(t=Eve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eve(e){var t=Nve(e,"string");return typeof t=="symbol"?t:t+""}function Nve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(null,arguments)}function Pve(e){var t=g.useMemo(()=>pt(e,!1),[e]),r=g.useMemo(()=>Xp(e.children,tf),[e.children]),n=g.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=Ie(i=>Yge(i,n,r));return g.createElement(jve,{legendPayload:s})}function Ave(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:a,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:a,dataKey:t,nameKey:r,name:Hd(o,t),hide:c,type:u,color:a,unit:""}}}var Ove=(e,t)=>e>t?"start":e<t?"end":"middle",Tve=(e,t,r)=>typeof t=="function"?t(e):En(t,r,r*.8),Dve=(e,t,r)=>{var{top:n,left:s,width:i,height:a}=t,o=m6(i,a),c=s+En(e.cx,i,i/2),u=n+En(e.cy,a,a/2),d=En(e.innerRadius,o,0),f=Tve(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Mve=(e,t)=>{var r=Ur(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Rve=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=yt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(EC,Pc({},t,{type:"linear",className:r}))},Ive=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var s=yt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return g.createElement(U0,Pc({},t,{alignmentBaseline:"middle",className:s}),n)};function Lve(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:a}=r;if(!n||!s||!t)return null;var o=pt(r,!1),c=pt(s,!1),u=pt(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,v=jr(h.cx,h.cy,h.outerRadius+d,p),w=ar(ar(ar(ar({},o),h),{},{stroke:"none"},c),{},{index:m,textAnchor:Ove(v.x,h.cx)},v),b=ar(ar(ar(ar({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[jr(h.cx,h.cy,h.outerRadius,p),v],key:"line"});return g.createElement(Vr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&Rve(i,b),Ive(s,w,qt(h,a)))});return g.createElement(Vr,{className:"recharts-pie-labels"},f)}function cU(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,a=Ie(Nc),{onMouseEnter:o,onClick:c,onMouseLeave:u}=s,d=kve(s,Sve),f=FE(o,s.dataKey),h=BE(u),m=zE(c,s.dataKey);return t==null?null:g.createElement(g.Fragment,null,t.map((p,v)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var w=r&&String(v)===a,b=a?n:null,y=w?r:b,x=ar(ar({},p),{},{stroke:p.stroke,tabIndex:-1,[b6]:v,[w6]:s.dataKey});return g.createElement(Vr,Pc({tabIndex:-1,className:"recharts-pie-sector"},i0(d,p,v),{onMouseEnter:f(p,v),onMouseLeave:h(p,v),onClick:m(p,v),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(v)}),g.createElement(aU,Pc({option:y,isActive:w,shapeType:"sector"},x)))}),g.createElement(Lve,{sectors:t,props:s,showLabels:i}))}function $ve(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:a,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Mve(o,c),p=Math.abs(m),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(k=>qt(k,u,0)!==0).length,b=(p>=360?w:w-1)*v,y=p-w*h-b,x=n.reduce((k,S)=>{var E=qt(S,u,0);return k+(Te(E)?E:0)},0),_;if(x>0){var j;_=n.map((k,S)=>{var E=qt(k,u,0),N=qt(k,d,S),O=Dve(r,i,k),P=(Te(E)?E:0)/x,A,L=ar(ar({},k),s&&s[S]&&s[S].props);S?A=j.endAngle+Ur(m)*v*(E!==0?1:0):A=o;var I=A+Ur(m)*((E!==0?h:0)+P*y),B=(A+I)/2,z=(O.innerRadius+O.outerRadius)/2,T=[{name:N,value:E,payload:L,dataKey:u,type:f}],C=jr(O.cx,O.cy,z,B);return j=ar(ar(ar(ar({},r.presentationProps),{},{percent:P,cornerRadius:a,name:N,tooltipPayload:T,midAngle:B,middleRadius:z,tooltipPosition:C},L),O),{},{value:qt(k,u),startAngle:A,endAngle:I,payload:L,paddingAngle:Ur(m)*v}),j})}return _}function Fve(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:a,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=WE(t,"recharts-pie-"),m=r.current,[p,v]=g.useState(!0),w=g.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),b=g.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return g.createElement(ol,{begin:i,duration:a,isActive:s,easing:o,from:{t:0},to:{t:1},onAnimationStart:b,onAnimationEnd:w,key:h},y=>{var{t:x}=y,_=[],j=n&&n[0],k=j.startAngle;return n.forEach((S,E)=>{var N=m&&m[E],O=E>0?al(S,"paddingAngle",0):0;if(N){var P=fs(N.endAngle-N.startAngle,S.endAngle-S.startAngle),A=ar(ar({},S),{},{startAngle:k+O,endAngle:k+P(x)+O});_.push(A),k=A.endAngle}else{var{endAngle:L,startAngle:I}=S,B=fs(0,L-I),z=B(x),T=ar(ar({},S),{},{startAngle:k+O,endAngle:k+z+O});_.push(T),k=T.endAngle}}),r.current=_,g.createElement(Vr,null,g.createElement(cU,{sectors:_,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function Bve(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:s}=e,i=g.useRef(null),a=i.current;return r&&t&&t.length&&(!a||a!==t)?g.createElement(Fve,{props:e,previousSectorsRef:i}):g.createElement(cU,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function zve(e){var{hide:t,className:r,rootTabIndex:n}=e,s=yt("recharts-pie",r);return t?null:g.createElement(Vr,{tabIndex:n,className:s},g.createElement(Bve,e))}var uU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!$c.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Uve(e){var t=ei(e,uU),r=g.useMemo(()=>Xp(e.children,tf),[e.children]),n=pt(t,!1),s=g.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),i=Ie(a=>Xge(a,s,r));return g.createElement(g.Fragment,null,g.createElement(UE,{fn:Ave,args:ar(ar({},t),{},{sectors:i})}),g.createElement(zve,Pc({},t,{sectors:i})))}let V0=class extends g.PureComponent{constructor(){super(...arguments),W0(this,"id",Sc("recharts-pie-"))}render(){return g.createElement(g.Fragment,null,g.createElement(cve,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),g.createElement(Pve,this.props),g.createElement(Uve,this.props),this.props.children)}};W0(V0,"displayName","Pie");W0(V0,"defaultProps",uU);function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){Wve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wve(e,t,r){return(t=Vve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vve(e){var t=Hve(e,"string");return typeof t=="symbol"?t:t+""}function Hve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kve=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var a=nD(nD({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},pt(s,!1)),iC(s)),o;return g.isValidElement(s)?o=g.cloneElement(s,a):typeof s=="function"?o=s(a):o=g.createElement(eU,a),g.createElement(Vr,{className:"recharts-active-dot"},o)};function qve(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=Dz(),a=Ie(Nc),o=Ie(Oz);if(!a)return null;var c,u=i.dataKey;if(u&&!i.allowDuplicatedCategory){var d=typeof u=="function"?f=>u(f.payload):"payload.".concat(u);c=nC(t,d,o)}else c=t==null?void 0:t[Number(a)];return Lt(c)?null:Kve({point:c,childIndex:Number(a),mainColor:r,dataKey:s,activeDot:n})}var Yve=()=>{var e=cr();return g.useEffect(()=>(e(Qge()),()=>{e(Jge())})),null},Gve=["children"];function Xve(e,t){if(e==null)return{};var r,n,s=Zve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sD=()=>{},dU=g.createContext({addErrorBar:sD,removeErrorBar:sD}),Qve={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fU=g.createContext(Qve);function hU(e){var{children:t}=e,r=Xve(e,Gve);return g.createElement(fU.Provider,{value:r},t)}var Jve=()=>g.useContext(fU),pU=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,data:a,stackId:o,hide:c,type:u,barSize:d}=e,[f,h]=g.useState([]),m=g.useCallback(w=>{h(b=>[...b,w])},[h]),p=g.useCallback(w=>{h(b=>b.filter(y=>y!==w))},[h]),v=On();return g.createElement(dU.Provider,{value:{addErrorBar:m,removeErrorBar:p}},g.createElement(lve,{type:u,data:a,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,errorBars:f,stackId:o,hide:c,barSize:d,isPanorama:v}),t)};function eye(e){var{addErrorBar:t,removeErrorBar:r}=g.useContext(dU);return g.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var tye=e=>{var t=On();return Ie(r=>oa(r,"xAxis",e,t))},rye=e=>{var t=On();return Ie(r=>oa(r,"yAxis",e,t))},nye=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function mU(e,t,r){return(t=sye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sye(e){var t=iye(e,"string");return typeof t=="symbol"?t:t+""}function iye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function aye(e,t){if(e==null)return{};var r,n,s=oye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lye(e){var{direction:t,width:r,dataKey:n,isAnimationActive:s,animationBegin:i,animationDuration:a,animationEasing:o}=e,c=aye(e,nye),u=pt(c,!1),{data:d,dataPointFormatter:f,xAxisId:h,yAxisId:m,errorBarOffset:p}=Jve(),v=tye(h),w=rye(m);if((v==null?void 0:v.scale)==null||(w==null?void 0:w.scale)==null||d==null||t==="x"&&v.type!=="number")return null;var b=d.map(y=>{var{x,y:_,value:j,errorVal:k}=f(y,n,t);if(!k)return null;var S=[],E,N;if(Array.isArray(k)?[E,N]=k:E=N=k,t==="x"){var{scale:O}=v,P=_+p,A=P+r,L=P-r,I=O(j-E),B=O(j+N);S.push({x1:B,y1:A,x2:B,y2:L}),S.push({x1:I,y1:P,x2:B,y2:P}),S.push({x1:I,y1:A,x2:I,y2:L})}else if(t==="y"){var{scale:z}=w,T=x+p,C=T-r,D=T+r,U=z(j-E),W=z(j+N);S.push({x1:C,y1:W,x2:D,y2:W}),S.push({x1:T,y1:U,x2:T,y2:W}),S.push({x1:C,y1:U,x2:D,y2:U})}var V="".concat(x+p,"px ").concat(_+p,"px");return g.createElement(Vr,cp({className:"recharts-errorBar",key:"bar-".concat(S.map(ue=>"".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2)))},u),S.map(ue=>{var me=s?{transformOrigin:"".concat(ue.x1-5,"px")}:void 0;return g.createElement(ol,{from:{transform:"scaleY(0)",transformOrigin:V},to:{transform:"scaleY(1)",transformOrigin:V},begin:i,easing:o,isActive:s,duration:a,key:"line-".concat(ue.x1,"-").concat(ue.x2,"-").concat(ue.y1,"-").concat(ue.y2),style:{transformOrigin:V}},g.createElement("line",cp({},ue,{style:me})))}))});return g.createElement(Vr,{className:"recharts-errorBars"},b)}var gU=g.createContext(void 0);function cye(e){var t=g.useContext(gU);return e??t??"x"}function vU(e){var{direction:t,children:r}=e;return g.createElement(gU.Provider,{value:t},r)}var yU={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function uye(e){var t=cye(e.direction),{width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:a}=ei(e,yU);return g.createElement(g.Fragment,null,g.createElement(eye,{dataKey:e.dataKey,direction:t}),g.createElement(lye,cp({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:a})))}class xU extends g.Component{render(){return g.createElement(uye,this.props)}}mU(xU,"defaultProps",yU);mU(xU,"displayName","ErrorBar");var dye="Invariant failed";function fye(e,t){throw new Error(dye)}var hye=["x","y"];function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(null,arguments)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){pye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pye(e,t,r){return(t=mye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mye(e){var t=gye(e,"string");return typeof t=="symbol"?t:t+""}function gye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vye(e,t){if(e==null)return{};var r,n,s=yye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xye(e,t){var{x:r,y:n}=e,s=vye(e,hye),i="".concat(r),a=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Ef(Ef(Ef(Ef(Ef({},t),s),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function bU(e){return g.createElement(aU,vj({shapeType:"rectangle",propTransformer:xye,activeClassName:"recharts-active-bar"},e))}var bye=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Te(t))return t;var i=Te(n)||Lt(n);return i?t(n,s):(i||fye(),r)}};function VE(e,t){var r,n,s=Ie(u=>no(u,e)),i=Ie(u=>Sl(u,t)),a=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:is.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:as.allowDataOverflow,c=a||o;return{needClip:c,needClipX:a,needClipY:o}}function wU(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=Qp(),{needClipX:i,needClipY:a,needClip:o}=VE(t,r);if(!o)return null;var{left:c,top:u,width:d,height:f}=s;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?c:c-d/2,y:a?u:u-f/2,width:i?d:d*2,height:a?f:f*2}))}var wye=["onMouseEnter","onMouseLeave","onClick"],_ye=["value","background","tooltipPosition"],jye=["onMouseEnter","onClick","onMouseLeave"];function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0(e,t,r){return(t=Sye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sye(e){var t=kye(e,"string");return typeof t=="symbol"?t:t+""}function kye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yj(e,t){if(e==null)return{};var r,n,s=Cye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Cye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eye=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Hd(r,t),payload:e}]};function Nye(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:a,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Hd(i,t),hide:a,type:e.tooltipType,color:e.fill,unit:o}}}function Pye(e){var t=Ie(Nc),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:a,onMouseLeave:o,onClick:c}=i,u=yj(i,wye),d=FE(a,n),f=BE(o),h=zE(c,n);if(!s||r==null)return null;var m=pt(s,!1);return g.createElement(g.Fragment,null,r.map((p,v)=>{var{value:w,background:b,tooltipPosition:y}=p,x=yj(p,_ye);if(!b)return null;var _=d(p,v),j=f(p,v),k=h(p,v),S=dn(dn(dn(dn(dn({option:s,isActive:String(v)===t},x),{},{fill:"#eee"},b),m),i0(u,p,v)),{},{onMouseEnter:_,onMouseLeave:j,onClick:k,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return g.createElement(bU,up({key:"background-bar-".concat(v)},S))}))}function _U(e){var{data:t,props:r,showLabels:n}=e,s=pt(r,!1),{shape:i,dataKey:a,activeBar:o}=r,c=Ie(Nc),u=Ie(Tz),{onMouseEnter:d,onClick:f,onMouseLeave:h}=r,m=yj(r,jye),p=FE(d,a),v=BE(h),w=zE(f,a);return t?g.createElement(g.Fragment,null,t.map((b,y)=>{var x=o&&String(y)===c&&(u==null||a===u),_=x?o:i,j=dn(dn(dn({},s),b),{},{isActive:x,option:_,index:y,dataKey:a});return g.createElement(Vr,up({className:"recharts-bar-rectangle"},i0(m,b,y),{onMouseEnter:p(b,y),onMouseLeave:v(b,y),onClick:w(b,y),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(y)}),g.createElement(bU,j))}),n&&Xo.renderCallByParent(r,t)):null}function Aye(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=WE(t,"recharts-bar-"),[m,p]=g.useState(!1),v=g.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),w=g.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return g.createElement(ol,{begin:a,duration:o,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationEnd:v,onAnimationStart:w,key:h},b=>{var{t:y}=b,x=y===1?n:n.map((_,j)=>{var k=f&&f[j];if(k){var S=fs(k.x,_.x),E=fs(k.y,_.y),N=fs(k.width,_.width),O=fs(k.height,_.height);return dn(dn({},_),{},{x:S(y),y:E(y),width:N(y),height:O(y)})}if(s==="horizontal"){var P=fs(0,_.height),A=P(y);return dn(dn({},_),{},{y:_.y+_.height-A,height:A})}var L=fs(0,_.width),I=L(y);return dn(dn({},_),{},{width:I})});return y>0&&(r.current=x),g.createElement(Vr,null,g.createElement(_U,{props:t,data:x,showLabels:!m}))})}function Oye(e){var{data:t,isAnimationActive:r}=e,n=g.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?g.createElement(Aye,{previousRectanglesRef:n,props:e}):g.createElement(_U,{props:e,data:t,showLabels:!0})}var jU=0,Tye=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:qt(e,t)}};class Dye extends g.PureComponent{constructor(){super(...arguments),H0(this,"id",Sc("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:a,needClip:o,background:c,id:u,layout:d}=this.props;if(t)return null;var f=yt("recharts-bar",s),h=Lt(u)?this.id:u;return g.createElement(Vr,{className:f},o&&g.createElement("defs",null,g.createElement(wU,{clipPathId:h,xAxisId:i,yAxisId:a})),g.createElement(Vr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):null},g.createElement(Pye,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(Oye,this.props)),g.createElement(vU,{direction:d==="horizontal"?"y":"x"},this.props.children))}}var SU={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!$c.isSsr,legendType:"rect",minPointSize:jU,xAxisId:0,yAxisId:0};function Mye(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=ei(e,SU),{needClip:f}=VE(t,r),h=S0(),m=On(),p=g.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:y6(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),v=Xp(e.children,tf),w=Ie(x=>lxe(x,t,r,m,p,v));if(h!=="vertical"&&h!=="horizontal")return null;var b,y=w==null?void 0:w[0];return y==null||y.height==null||y.width==null?b=0:b=h==="vertical"?y.height/2:y.width/2,g.createElement(hU,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:Tye,errorBarOffset:b},g.createElement(Dye,up({},e,{layout:h,needClip:f,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:a,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Rye(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:a,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?o:a,v=d?p.scale.domain():null,w=ece({numericAxis:p});return f.map((b,y)=>{var x,_,j,k,S,E;d?x=Gle(d[y],v):(x=qt(b,r),Array.isArray(x)||(x=[w,x]));var N=bye(n,jU)(x[1],y);if(t==="horizontal"){var O,[P,A]=[o.scale(x[0]),o.scale(x[1])];_=f2({axis:a,ticks:c,bandSize:i,offset:s.offset,entry:b,index:y}),j=(O=A??P)!==null&&O!==void 0?O:void 0,k=s.size;var L=P-A;if(S=ws(L)?0:L,E={x:_,y:h.top,width:k,height:h.height},Math.abs(N)>0&&Math.abs(S)<Math.abs(N)){var I=Ur(S||N)*(Math.abs(N)-Math.abs(S));j-=I,S+=I}}else{var[B,z]=[a.scale(x[0]),a.scale(x[1])];if(_=B,j=f2({axis:o,ticks:u,bandSize:i,offset:s.offset,entry:b,index:y}),k=z-B,S=s.size,E={x:h.left,y:j,width:h.width,height:S},Math.abs(N)>0&&Math.abs(k)<Math.abs(N)){var T=Ur(k||N)*(Math.abs(N)-Math.abs(k));k+=T}}return dn(dn({},b),{},{x:_,y:j,width:k,height:S,value:d?x:x[1],payload:b,background:E,tooltipPosition:{x:_+k/2,y:j+S/2}},m&&m[y]&&m[y].props)})}let dp=class extends g.PureComponent{render(){return g.createElement(pU,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},g.createElement(Yve,null),g.createElement(lU,{legendPayload:Eye(this.props)}),g.createElement(UE,{fn:Nye,args:this.props}),g.createElement(Mye,this.props))}};H0(dp,"displayName","Bar");H0(dp,"defaultProps",SU);function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){Iye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iye(e,t,r){return(t=Lye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fye=(e,t)=>t,Bye=(e,t,r)=>r,zye=(e,t,r,n)=>n,HE=(e,t,r,n,s)=>s,Uye=(e,t,r,n,s)=>s.maxBarSize,Wye=(e,t,r,n,s,i)=>i,lD=(e,t,r)=>{var n=r??e;if(!Lt(n))return En(n,t,0)},Vye=X([St,M0,Fye,Bye,zye],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Hye=(e,t,r,n)=>{var s=St(e);return s==="horizontal"?cj(e,"yAxis",r,n):cj(e,"xAxis",t,n)},Kye=(e,t,r)=>{var n=St(e);return n==="horizontal"?bT(e,"xAxis",t):bT(e,"yAxis",r)};function qye(e){return e.stackId!=null&&e.dataKey!=null}var Yye=(e,t,r)=>{var n={},s=e.filter(qye),i=e.filter(u=>u.stackId==null),a=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=lD(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=lD(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},Gye=X([Vye,mhe,Kye],Yye),Xye=(e,t,r,n,s)=>{var i,a,o=St(e),c=$8(e),{maxBarSize:u}=s,d=Lt(u)?c:u,f,h;return o==="horizontal"?(f=oa(e,"xAxis",t,n),h=ll(e,"xAxis",t,n)):(f=oa(e,"yAxis",r,n),h=ll(e,"yAxis",r,n)),(i=(a=tp(f,h,!0))!==null&&a!==void 0?a:d)!==null&&i!==void 0?i:0},kU=(e,t,r,n)=>{var s=St(e),i,a;return s==="horizontal"?(i=oa(e,"xAxis",t,n),a=ll(e,"xAxis",t,n)):(i=oa(e,"yAxis",r,n),a=ll(e,"yAxis",r,n)),tp(i,a)};function Zye(e,t,r,n,s){var i=n.length;if(!(i<1)){var a=En(e,r,0,!0),o,c=[];if(Ss(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((b,y)=>b+(y.barSize||0),0);f+=(i-1)*a,f>=r&&(f-=(i-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};o=n.reduce((b,y)=>{var x,_={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(x=y.barSize)!==null&&x!==void 0?x:0}},j=[...b,_];return m=j[j.length-1].position,j},c)}else{var p=En(t,r,0,!0);r-2*p-(i-1)*a<=0&&(a=0);var v=(r-2*p-(i-1)*a)/i;v>1&&(v>>=0);var w=Ss(s)?Math.min(v,s):v;o=n.reduce((b,y,x)=>[...b,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p+(v+a)*x+(v-w)/2,size:w}}],c)}return o}}var Qye=(e,t,r,n,s,i,a)=>{var o=Lt(a)?t:a,c=Zye(r,n,s!==i?s:i,e,o);return s!==i&&c!=null&&(c=c.map(u=>og(og({},u),{},{position:og(og({},u.position),{},{offset:u.position.offset-s/2})}))),c},Jye=X([Gye,$8,phe,F8,Xye,kU,Uye],Qye),exe=(e,t,r,n)=>oa(e,"xAxis",t,n),txe=(e,t,r,n)=>oa(e,"yAxis",r,n),rxe=(e,t,r,n)=>ll(e,"xAxis",t,n),nxe=(e,t,r,n)=>ll(e,"yAxis",r,n),sxe=X([Jye,HE],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ixe=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:s}=n;if(s){var i=s.find(a=>a.key===t.dataKey);return i}}}}},axe=X([M0,HE],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),oxe=X([Hye,HE],ixe),lxe=X([Hr,exe,txe,rxe,nxe,sxe,St,JC,kU,oxe,axe,Wye],(e,t,r,n,s,i,a,o,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=o;if(!(d==null||i==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||s==null||c==null)){var{data:v}=d,w;if(v!=null&&v.length>0?w=v:w=h==null?void 0:h.slice(m,p+1),w!=null)return Rye({layout:a,barSettings:d,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,stackedData:u,displayedData:w,offset:e,cells:f})}}),CU=e=>{var{chartData:t}=e,r=cr(),n=On();return g.useEffect(()=>n?()=>{}:(r(PT(t)),()=>{r(PT(void 0))}),[t,r,n]),null},cD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cxe=Js({name:"brush",initialState:cD,reducers:{setBrushSettings(e,t){return t.payload==null?cD:t.payload}}}),uxe=cxe.reducer;function dxe(e,t,r){return(t=fxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fxe(e){var t=hxe(e,"string");return typeof t=="symbol"?t:t+""}function hxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KE{static create(t){return new KE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}dxe(KE,"EPS",1e-4);function pxe(e){return(e%180+180)%180}var mxe=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pxe(s),a=i*Math.PI/180,o=Math.atan(n/r),c=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},gxe={dots:[],areas:[],lines:[]},vxe=Js({name:"referenceElements",initialState:gxe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Yo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Yo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Yo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),yxe=vxe.reducer,xxe=g.createContext(void 0),bxe=e=>{var{children:t}=e,[r]=g.useState("".concat(Sc("recharts"),"-clip")),n=Qp();if(n==null)return null;var{left:s,top:i,height:a,width:o}=n;return g.createElement(xxe.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:s,y:i,height:a,width:o}))),t)};function Aw(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function EU(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function wxe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mxe(n,r)}function _xe(e,t,r){var n=r==="width",{x:s,y:i,width:a,height:o}=e;return t===1?{start:n?s:i,end:n?s+a:i+o}:{start:n?s+a:i+o,end:n?s:i}}function Dy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function jxe(e,t){return EU(e,t+1)}function Sxe(e,t,r,n,s){for(var i=(n||[]).slice(),{start:a,end:o}=t,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:EU(n,u)};var v=c,w,b=()=>(w===void 0&&(w=r(p,v)),w),y=p.coordinate,x=c===0||Dy(e,y,b,d,o);x||(c=0,d=a,u+=1),x&&(d=y+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kxe(e,t,r){return(t=Cxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxe(e){var t=Exe(e,"string");return typeof t=="symbol"?t:t+""}function Exe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nxe(e,t,r,n,s){for(var i=(n||[]).slice(),a=i.length,{start:o}=t,{end:c}=t,u=function(h){var m=i[h],p,v=()=>(p===void 0&&(p=r(m,h)),p);if(h===a-1){var w=e*(m.coordinate+e*v()/2-c);i[h]=m=cn(cn({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else i[h]=m=cn(cn({},m),{},{tickCoord:m.coordinate});var b=Dy(e,m.tickCoord,v,o,c);b&&(c=m.tickCoord-e*(v()/2+s),i[h]=cn(cn({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return i}function Pxe(e,t,r,n,s,i){var a=(n||[]).slice(),o=a.length,{start:c,end:u}=t;if(i){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);a[o-1]=d=cn(cn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Dy(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+s),a[o-1]=cn(cn({},d),{},{isShow:!0}))}for(var p=i?o-1:o,v=function(y){var x=a[y],_,j=()=>(_===void 0&&(_=r(x,y)),_);if(y===0){var k=e*(x.coordinate-e*j()/2-c);a[y]=x=cn(cn({},x),{},{tickCoord:k<0?x.coordinate-k*e:x.coordinate})}else a[y]=x=cn(cn({},x),{},{tickCoord:x.coordinate});var S=Dy(e,x.tickCoord,j,c,u);S&&(c=x.tickCoord+e*(j()/2+s),a[y]=cn(cn({},x),{},{isShow:!0}))},w=0;w<p;w++)v(w);return a}function qE(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:a,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!s||!s.length||!n)return[];if(Te(c)||$c.isSsr){var h;return(h=jxe(s,Te(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",v=d&&p==="width"?mh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(x,_)=>{var j=typeof u=="function"?u(x.value,_):x.value;return p==="width"?wxe(mh(j,{fontSize:t,letterSpacing:r}),v,f):mh(j,{fontSize:t,letterSpacing:r})[p]},b=s.length>=2?Ur(s[1].coordinate-s[0].coordinate):1,y=_xe(i,b,p);return c==="equidistantPreserveStart"?Sxe(b,y,w,s,a):(c==="preserveStart"||c==="preserveStartEnd"?m=Pxe(b,y,w,s,a,c==="preserveStartEnd"):m=Nxe(b,y,w,s,a),m.filter(x=>x.isShow))}var Axe=["viewBox"],Oxe=["viewBox"];function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(null,arguments)}function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){YE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fD(e,t){if(e==null)return{};var r,n,s=Txe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Txe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YE(e,t,r){return(t=Dxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dxe(e){var t=Mxe(e,"string");return typeof t=="symbol"?t:t+""}function Mxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kl extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=fD(t,Axe),i=this.props,{viewBox:a}=i,o=fD(i,Oxe);return!Aw(n,a)||!Aw(s,o)||!Aw(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:a,tickSize:o,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,v,w=c?-1:1,b=t.tickSize||o,y=Te(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*i,h=m-w*b,v=h-w*u,p=y;break;case"left":h=m=t.coordinate,f=r+ +!c*s,d=f-w*b,p=d-w*u,v=y;break;case"right":h=m=t.coordinate,f=r+ +c*s,d=f+w*b,p=d+w*u,v=y;break;default:d=f=t.coordinate,m=n+ +c*i,h=m+w*b,v=h+w*u,p=y;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y:v}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:a,axisLine:o}=this.props,c=Nr(Nr(Nr({},pt(this.props,!1)),pt(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!a||i==="bottom"&&a);c=Nr(Nr({},c),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var d=+(i==="left"&&!a||i==="right"&&a);c=Nr(Nr({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return g.createElement("line",ku({},c,{className:yt("recharts-cartesian-axis-line",al(o,"className"))}))}static renderTickItem(t,r,n){var s,i=yt(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,Nr(Nr({},r),{},{className:i}));else if(typeof t=="function")s=t(Nr(Nr({},r),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=yt(a,t.className)),s=g.createElement(U0,ku({},r,{className:a}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:a,tickFormatter:o,unit:c}=this.props,u=qE(Nr(Nr({},this.props),{},{ticks:n}),t,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=pt(this.props,!1),m=pt(a,!1),p=Nr(Nr({},h),{},{fill:"none"},pt(s,!1)),v=u.map((w,b)=>{var{line:y,tick:x}=this.getTickLineCoord(w),_=Nr(Nr(Nr(Nr({textAnchor:d,verticalAnchor:f},h),{},{stroke:"none",fill:i},m),x),{},{index:b,payload:w,visibleTicksCount:u.length,tickFormatter:o});return g.createElement(Vr,ku({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},i0(this.props,w,b)),s&&g.createElement("line",ku({},p,y,{className:yt("recharts-cartesian-axis-tick-line",al(s,"className"))})),a&&kl.renderTickItem(a,_,"".concat(typeof o=="function"?o(w.value,b):w.value).concat(c||"")))});return v.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:g.createElement(Vr,{className:yt("recharts-cartesian-axis",s),ref:o=>{if(o){var c=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),hs.renderCallByParent(this.props))}}YE(kl,"displayName","CartesianAxis");YE(kl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rxe=["x1","y1","x2","y2","key"],Ixe=["offset"],Lxe=["xAxisId","yAxisId"],$xe=["xAxisId","yAxisId"];function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){Fxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fxe(e,t,r){return(t=Bxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bxe(e){var t=zxe(e,"string");return typeof t=="symbol"?t:t+""}function zxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(null,arguments)}function My(e,t){if(e==null)return{};var r,n,s=Uxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Uxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wxe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:a,ry:o}=e;return g.createElement("rect",{x:n,y:s,ry:o,width:i,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function NU(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:a,key:o}=t,c=My(t,Rxe),u=pt(c,!1),d=My(u,Ixe);r=g.createElement("line",Xl({},d,{x1:n,y1:s,x2:i,y2:a,fill:"none",key:o}))}return r}function Vxe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var i=My(e,Lxe),a=s.map((o,c)=>{var u=fn(fn({},i),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return NU(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Hxe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var i=My(e,$xe),a=s.map((o,c)=>{var u=fn(fn({},i),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return NU(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Kxe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:a,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?s+a-f:u[h+1]-f;if(p<=0)return null;var v=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function qxe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:a,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?s+a-f:u[h+1]-f;if(p<=0)return null;var v=h%r.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Yxe=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return g6(qE(fn(fn(fn({},kl.defaultProps),r),{},{ticks:v6(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},Gxe=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return g6(qE(fn(fn(fn({},kl.defaultProps),r),{},{ticks:v6(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},Xxe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function gh(e){var t=j6(),r=S6(),n=Qp(),s=fn(fn({},ei(e,Xxe)),{},{x:Te(e.x)?e.x:n.left,y:Te(e.y)?e.y:n.top,width:Te(e.width)?e.width:n.width,height:Te(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:a,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=s,p=On(),v=Ie(N=>wT(N,"xAxis",i,p)),w=Ie(N=>wT(N,"yAxis",a,p));if(!Te(u)||u<=0||!Te(d)||d<=0||!Te(o)||o!==+o||!Te(c)||c!==+c)return null;var b=s.verticalCoordinatesGenerator||Yxe,y=s.horizontalCoordinatesGenerator||Gxe,{horizontalPoints:x,verticalPoints:_}=s;if((!x||!x.length)&&typeof y=="function"){var j=h&&h.length,k=y({yAxis:w?fn(fn({},w),{},{ticks:j?h:w.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);ph(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(x=k)}if((!_||!_.length)&&typeof b=="function"){var S=m&&m.length,E=b({xAxis:v?fn(fn({},v),{},{ticks:S?m:v.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);ph(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Wxe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(Kxe,Xl({},s,{horizontalPoints:x})),g.createElement(qxe,Xl({},s,{verticalPoints:_})),g.createElement(Vxe,Xl({},s,{offset:n,horizontalPoints:x,xAxis:v,yAxis:w})),g.createElement(Hxe,Xl({},s,{offset:n,verticalPoints:_,xAxis:v,yAxis:w})))}gh.displayName="CartesianGrid";var PU=(e,t,r,n)=>oa(e,"xAxis",t,n),AU=(e,t,r,n)=>ll(e,"xAxis",t,n),OU=(e,t,r,n)=>oa(e,"yAxis",r,n),TU=(e,t,r,n)=>ll(e,"yAxis",r,n),Zxe=X([St,PU,OU,AU,TU],(e,t,r,n,s)=>xl(e,"xAxis")?tp(t,n,!1):tp(r,s,!1)),Qxe=(e,t,r,n,s)=>s,Jxe=X([M0,Qxe],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),e0e=X([St,PU,OU,AU,TU,Jxe,Zxe,JC],(e,t,r,n,s,i,a,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||a==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return x0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:f,bandSize:a,displayedData:m})}}),t0e=["type","layout","connectNulls","needClip"],r0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function DU(e,t){if(e==null)return{};var r,n,s=n0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function n0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K0(e,t,r){return(t=s0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s0e(e){var t=i0e(e,"string");return typeof t=="symbol"?t:t+""}function i0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(null,arguments)}var a0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Hd(r,t),payload:e}]};function o0e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:a,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Hd(a,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var MU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function l0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var c0e=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return MU(t,e);for(var s=Math.floor(e/n),i=e%n,a=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,a]:[a];return[...l0e(r,s),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function u0e(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=yt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=g.createElement(eU,Cd({},t,{className:n}))}return r}function d0e(e,t){return e==null?!1:t?!0:e.length===1}function f0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:a}=n;if(!d0e(r,s))return null;var o=J3(s),c=pt(n,!1),u=pt(s,!0),d=r.map((h,m)=>{var p=mi(mi(mi({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return u0e(s,p)}),f={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):null};return g.createElement(Vr,Cd({className:"recharts-line-dots",key:"dots"},f),d)}function xj(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i,showLabels:a}=e,{type:o,layout:c,connectNulls:u,needClip:d}=i,f=DU(i,t0e),h=mi(mi({},pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):null,points:n,type:o,layout:c,connectNulls:u,strokeDasharray:s??i.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(EC,Cd({},h,{pathRef:r})),g.createElement(f0e,{points:n,clipPathId:t,props:i}),a&&Xo.renderCallByParent(i,n))}function h0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function p0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:a,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:v,onAnimationStart:w}=r,b=s.current,y=WE(r,"recharts-line-"),[x,_]=g.useState(!1),j=g.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),k=g.useCallback(()=>{typeof w=="function"&&w(),_(!0)},[w]),S=h0e(n.current),E=i.current;return g.createElement(ol,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},onAnimationEnd:j,onAnimationStart:k,key:y},N=>{var{t:O}=N,P=fs(E,S+E),A=Math.min(P(O),S),L;if(o){var I="".concat(o).split(/[,\s]+/gim).map(T=>parseFloat(T));L=c0e(A,S,I)}else L=MU(S,A);if(b){var B=b.length/a.length,z=O===1?a:a.map((T,C)=>{var D=Math.floor(C*B);if(b[D]){var U=b[D],W=fs(U.x,T.x),V=fs(U.y,T.y);return mi(mi({},T),{},{x:W(O),y:V(O)})}if(h){var ue=fs(m*2,T.x),me=fs(p/2,T.y);return mi(mi({},T),{},{x:ue(O),y:me(O)})}return mi(mi({},T),{},{x:T.x,y:T.y})});return s.current=z,g.createElement(xj,{props:r,points:z,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:L})}return O>0&&S>0&&(s.current=a,i.current=A),g.createElement(xj,{props:r,points:a,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:L})})}function m0e(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:s}=r,i=g.useRef(null),a=g.useRef(0),o=g.useRef(null),c=i.current;return s&&n&&n.length&&c!==n?g.createElement(p0e,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:a,pathRef:o}):g.createElement(xj,{props:r,points:n,clipPathId:t,pathRef:o,showLabels:!0})}var g0e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qt(e.payload,t)});class v0e extends g.Component{constructor(){super(...arguments),K0(this,"id",Sc("recharts-line-"))}render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:a,yAxisId:o,top:c,left:u,width:d,height:f,id:h,needClip:m,layout:p}=this.props;if(r)return null;var v=yt("recharts-line",i),w=Lt(h)?this.id:h,{r:b=3,strokeWidth:y=2}=(t=pt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},x=J3(n),_=b*2+y;return g.createElement(g.Fragment,null,g.createElement(Vr,{className:v},m&&g.createElement("defs",null,g.createElement(wU,{clipPathId:w,xAxisId:a,yAxisId:o}),!x&&g.createElement("clipPath",{id:"clipPath-dots-".concat(w)},g.createElement("rect",{x:u-_/2,y:c-_/2,width:d+_,height:f+_}))),g.createElement(m0e,{props:this.props,clipPathId:w}),g.createElement(vU,{direction:p==="horizontal"?"y":"x"},g.createElement(hU,{xAxisId:a,yAxisId:o,data:s,dataPointFormatter:g0e,errorBarOffset:0},this.props.children))),g.createElement(qve,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var RU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!$c.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function y0e(e){var t=ei(e,RU),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:a,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p}=t,v=DU(t,r0e),{needClip:w}=VE(m,p),{height:b,width:y,left:x,top:_}=Qp(),j=S0(),k=On(),S=g.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),E=Ie(N=>e0e(N,m,p,k,S));return j!=="horizontal"&&j!=="vertical"?null:g.createElement(v0e,Cd({},v,{connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:a,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:E,layout:j,height:b,width:y,left:x,top:_,needClip:w}))}function x0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:a,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=qt(u,a);return t==="horizontal"?{x:d2({axis:r,ticks:s,bandSize:o,entry:u,index:d}),y:Lt(f)?null:n.scale(f),value:f,payload:u}:{x:Lt(f)?null:r.scale(f),y:d2({axis:n,ticks:i,bandSize:o,entry:u,index:d}),value:f,payload:u}})}let GE=class extends g.PureComponent{render(){return g.createElement(pU,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},g.createElement(lU,{legendPayload:a0e(this.props)}),g.createElement(UE,{fn:o0e,args:this.props}),g.createElement(y0e,this.props))}};K0(GE,"displayName","Line");K0(GE,"defaultProps",RU);function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){b0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b0e(e,t,r){return(t=w0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0e(e){var t=_0e(e,"string");return typeof t=="symbol"?t:t+""}function _0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j0e={xAxis:{},yAxis:{},zAxis:{}},IU=Js({name:"cartesianAxis",initialState:j0e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=gD(gD({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:S0e,removeXAxis:k0e,addYAxis:C0e,removeYAxis:E0e,addZAxis:vEe,removeZAxis:yEe,updateYAxisWidth:N0e}=IU.actions,P0e=IU.reducer,A0e=["children"],O0e=["dangerouslySetInnerHTML","ticks"];function LU(e,t,r){return(t=T0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T0e(e){var t=D0e(e,"string");return typeof t=="symbol"?t:t+""}function D0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bj.apply(null,arguments)}function $U(e,t){if(e==null)return{};var r,n,s=M0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function M0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R0e(e){var t=cr(),r=g.useMemo(()=>{var i=$U(e,A0e);return i},[e]),n=Ie(i=>no(i,r.id)),s=r===n;return g.useEffect(()=>(t(S0e(r)),()=>{t(k0e(r))}),[r,t]),s?e.children:null}var I0e=e=>{var{xAxisId:t,className:r}=e,n=Ie(_6),s=On(),i="xAxis",a=Ie(f=>Qd(f,i,t,s)),o=Ie(f=>hz(f,i,t,s)),c=Ie(f=>cz(f,t)),u=Ie(f=>ope(f,t));if(c==null||u==null)return null;var d=$U(e,O0e);return g.createElement(kl,bj({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:yt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},L0e=e=>{var t,r,n,s,i;return g.createElement(R0e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},g.createElement(I0e,e))};class zu extends g.Component{render(){return g.createElement(L0e,this.props)}}LU(zu,"displayName","XAxis");LU(zu,"defaultProps",{allowDataOverflow:is.allowDataOverflow,allowDecimals:is.allowDecimals,allowDuplicatedCategory:is.allowDuplicatedCategory,height:is.height,hide:!1,mirror:is.mirror,orientation:is.orientation,padding:is.padding,reversed:is.reversed,scale:is.scale,tickCount:is.tickCount,type:is.type,xAxisId:0});var $0e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=s+i,u=a+c+o+(r?n:0);return Math.round(u)}return 0},F0e=["dangerouslySetInnerHTML","ticks"];function FU(e,t,r){return(t=B0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B0e(e){var t=z0e(e,"string");return typeof t=="symbol"?t:t+""}function z0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(null,arguments)}function U0e(e,t){if(e==null)return{};var r,n,s=W0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function W0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function V0e(e){var t=cr();return g.useEffect(()=>(t(C0e(e)),()=>{t(E0e(e))}),[e,t]),null}var H0e=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,a=g.useRef(null),o=g.useRef(null),c=Ie(_6),u=On(),d=cr(),f="yAxis",h=Ie(b=>Qd(b,f,r,u)),m=Ie(b=>uz(b,r)),p=Ie(b=>lpe(b,r)),v=Ie(b=>hz(b,f,r,u));if(g.useLayoutEffect(()=>{var b;if(!(s!=="auto"||!m||ME(i)||g.isValidElement(i))){var y=a.current,x=y==null||(b=y.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:_,tickMargin:j}=y.props,k=$0e({ticks:x,label:o.current,labelGapWithTick:5,tickSize:_,tickMargin:j});Math.round(m.width)!==Math.round(k)&&d(N0e({id:r,width:k}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,i,r,s]),m==null||p==null)return null;var w=U0e(e,F0e);return g.createElement(kl,wj({},w,{ref:a,labelRef:o,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:yt("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:v}))},K0e=e=>{var t,r,n,s,i;return g.createElement(g.Fragment,null,g.createElement(V0e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),g.createElement(H0e,e))},q0e={allowDataOverflow:as.allowDataOverflow,allowDecimals:as.allowDecimals,allowDuplicatedCategory:as.allowDuplicatedCategory,hide:!1,mirror:as.mirror,orientation:as.orientation,padding:as.padding,reversed:as.reversed,scale:as.scale,tickCount:as.tickCount,type:as.type,width:as.width,yAxisId:0};class Uu extends g.Component{render(){return g.createElement(K0e,this.props)}}FU(Uu,"displayName","YAxis");FU(Uu,"defaultProps",q0e);var Y0e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=g;function G0e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X0e=typeof Object.is=="function"?Object.is:G0e,Z0e=lm.useSyncExternalStore,Q0e=lm.useRef,J0e=lm.useEffect,ebe=lm.useMemo,tbe=lm.useDebugValue;Y0e.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=Q0e(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=ebe(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return f=p}return f=m}if(p=f,X0e(d,m))return p;var v=n(m);return s!==void 0&&s(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var o=Z0e(e,i[0],i[1]);return J0e(function(){a.hasValue=!0,a.value=o},[o]),tbe(o),o};function rbe(e){e()}function nbe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rbe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var vD={notify(){},get:()=>[]};function sbe(e,t){let r,n=vD,s=0,i=!1;function a(v){d();const w=n.subscribe(v);let b=!1;return()=>{b||(b=!0,w(),f())}}function o(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=nbe())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=vD)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var ibe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",abe=ibe(),obe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lbe=obe(),cbe=()=>abe||lbe?g.useLayoutEffect:g.useEffect,ube=cbe(),Ow=Symbol.for("react-redux-context"),Tw=typeof globalThis<"u"?globalThis:{};function dbe(){if(!g.createContext)return{};const e=Tw[Ow]??(Tw[Ow]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var fbe=dbe();function hbe(e){const{children:t,context:r,serverState:n,store:s}=e,i=g.useMemo(()=>{const c=sbe(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),a=g.useMemo(()=>s.getState(),[s]);ube(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const o=r||fbe;return g.createElement(o.Provider,{value:i},t)}var pbe=hbe,mbe=(e,t)=>t,XE=X([mbe,St,whe,qr,Ez,so,lme,Hr],mme),ZE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},BU=Ys("mouseClick"),zU=Zp();zU.startListening({actionCreator:BU,effect:(e,t)=>{var r=e.payload,n=XE(t.getState(),ZE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(wpe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _j=Ys("mouseMove"),UU=Zp();UU.startListening({actionCreator:_j,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=kE(n,n.tooltip.settings.shared),i=XE(n,ZE(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(wz({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(bz()))}});function gbe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var yD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},WU=Js({name:"rootProps",initialState:yD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:yD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),vbe=WU.reducer,{updateOptions:ybe}=WU.actions,VU=Js({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xbe}=VU.actions,bbe=VU.reducer,HU=Ys("keyDown"),KU=Ys("focus"),QE=Zp();QE.startListening({actionCreator:HU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var a=Number(CE(s,Uc(r))),o=so(r);if(i==="Enter"){var c=Py(r,"axis","hover",String(s.index));t.dispatch(dj({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=fpe(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=a+f*d;if(!(o==null||h>=o.length||h<0)){var m=Py(r,"axis","hover",String(h));t.dispatch(dj({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});QE.startListening({actionCreator:KU,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",a=Py(r,"axis","hover",String(i));t.dispatch(dj({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:a}))}}}});var Os=Ys("externalEvent"),qU=Zp();qU.startListening({actionCreator:Os,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Zpe(r),activeDataKey:Tz(r),activeIndex:Nc(r),activeLabel:Oz(r),activeTooltipIndex:Nc(r),isTooltipActive:Qpe(r)};e.payload.handler(n,e.payload.reactEvent)}}});var wbe=X([Jd],e=>e.tooltipItemPayloads),_be=X([wbe,F0,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(o=>o.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var a=t(i,r);return a}}}),YU=Ys("touchMove"),GU=Zp();GU.startListening({actionCreator:YU,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=kE(n,n.tooltip.settings.shared);if(s==="axis"){var i=XE(n,ZE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(wz({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var a,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(b6),d=(a=c.getAttribute(w6))!==null&&a!==void 0?a:void 0,f=_be(t.getState(),u,d);t.dispatch(xz({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var jbe=KB({brush:uxe,cartesianAxis:P0e,chartData:Ame,graphicalItems:sve,layout:Dle,legend:gce,options:kme,polarAxis:Wge,polarOptions:bbe,referenceElements:yxe,rootProps:vbe,tooltip:_pe}),Sbe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return sle({reducer:jbe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([zU.middleware,UU.middleware,QE.middleware,qU.middleware,GU.middleware]),devTools:{serialize:{replacer:gbe},name:"recharts-".concat(r)}})};function XU(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=On(),i=g.useRef(null);if(s)return r;i.current==null&&(i.current=Sbe(t,n));var a=gC;return g.createElement(pbe,{context:a,store:i.current},r)}function ZU(e){var{layout:t,width:r,height:n,margin:s}=e,i=cr(),a=On();return g.useEffect(()=>{a||(i(Ale(t)),i(Ole({width:r,height:n})),i(Ple(s)))},[i,a,t,r,n,s]),null}function QU(e){var t=cr();return g.useEffect(()=>{t(ybe(e))},[t,e]),null}var kbe=["children"];function Cbe(e,t){if(e==null)return{};var r,n,s=Ebe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ebe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}var Nbe={width:"100%",height:"100%"},Pbe=g.forwardRef((e,t)=>{var r=j6(),n=S6(),s=N6();if(!wd(r)||!wd(n))return null;var{children:i,otherAttributes:a,title:o,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=s?0:void 0,typeof a.role=="string"?d=a.role:d=s?"application":void 0,g.createElement(eB,Ry({},a,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:Nbe,ref:t}),i)}),Abe=e=>{var{children:t}=e,r=Ie(j0);if(!r)return null;var{width:n,height:s,y:i,x:a}=r;return g.createElement(eB,{width:n,height:s,x:a,y:i},t)},xD=g.forwardRef((e,t)=>{var{children:r}=e,n=Cbe(e,kbe),s=On();return s?g.createElement(Abe,null,r):g.createElement(Pbe,Ry({ref:t},n),r)});function Obe(){var e=cr(),[t,r]=g.useState(null),n=Ie(oce);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;Ss(i)&&i!==n&&e(Tle(i))}},[t,e,n]),r}function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){Dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dbe(e,t,r){return(t=Mbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mbe(e){var t=Rbe(e,"string");return typeof t=="symbol"?t:t+""}function Rbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ibe=g.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:a,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:v,style:w,width:b}=e,y=cr(),[x,_]=g.useState(null),[j,k]=g.useState(null);Dme();var S=Obe(),E=g.useCallback(V=>{S(V),typeof t=="function"&&t(V),_(V),k(V)},[S,t,_,k]),N=g.useCallback(V=>{y(BU(V)),y(Os({handler:i,reactEvent:V}))},[y,i]),O=g.useCallback(V=>{y(_j(V)),y(Os({handler:u,reactEvent:V}))},[y,u]),P=g.useCallback(V=>{y(bz()),y(Os({handler:d,reactEvent:V}))},[y,d]),A=g.useCallback(V=>{y(_j(V)),y(Os({handler:f,reactEvent:V}))},[y,f]),L=g.useCallback(()=>{y(KU())},[y]),I=g.useCallback(V=>{y(HU(V.key))},[y]),B=g.useCallback(V=>{y(Os({handler:a,reactEvent:V}))},[y,a]),z=g.useCallback(V=>{y(Os({handler:o,reactEvent:V}))},[y,o]),T=g.useCallback(V=>{y(Os({handler:c,reactEvent:V}))},[y,c]),C=g.useCallback(V=>{y(Os({handler:h,reactEvent:V}))},[y,h]),D=g.useCallback(V=>{y(Os({handler:v,reactEvent:V}))},[y,v]),U=g.useCallback(V=>{y(YU(V)),y(Os({handler:p,reactEvent:V}))},[y,p]),W=g.useCallback(V=>{y(Os({handler:m,reactEvent:V}))},[y,m]);return g.createElement($z.Provider,{value:x},g.createElement(lae.Provider,{value:j},g.createElement("div",{className:yt("recharts-wrapper",n),style:Tbe({position:"relative",cursor:"default",width:b,height:s},w),role:"application",onClick:N,onContextMenu:B,onDoubleClick:z,onFocus:L,onKeyDown:I,onMouseDown:T,onMouseEnter:O,onMouseLeave:P,onMouseMove:A,onMouseUp:C,onTouchEnd:W,onTouchMove:U,onTouchStart:D,ref:E},r)))}),Lbe=["children","className","width","height","style","compact","title","desc"];function $be(e,t){if(e==null)return{};var r,n,s=Fbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Fbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JU=g.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:a,compact:o,title:c,desc:u}=e,d=$be(e,Lbe),f=pt(d,!1);return o?g.createElement(xD,{otherAttributes:f,title:c,desc:u},r):g.createElement(Ibe,{className:n,style:a,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(xD,{otherAttributes:f,title:c,desc:u,ref:t},g.createElement(bxe,null,r)))}),Bbe=["width","height"];function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jj.apply(null,arguments)}function zbe(e,t){if(e==null)return{};var r,n,s=Ube(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ube(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wbe={top:5,right:5,bottom:5,left:5},Vbe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Wbe,reverseStackOrder:!1,syncMethod:"index"},eW=g.forwardRef(function(t,r){var n,s=ei(t.categoricalChartProps,Vbe),{width:i,height:a}=s,o=zbe(s,Bbe);if(!wd(i)||!wd(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(XU,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},g.createElement(CU,{chartData:h.data}),g.createElement(ZU,{width:i,height:a,layout:s.layout,margin:s.margin}),g.createElement(QU,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(JU,jj({},o,{width:i,height:a,ref:r})))}),Hbe=["axis"],Kbe=g.forwardRef((e,t)=>g.createElement(eW,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hbe,tooltipPayloadSearcher:DE,categoricalChartProps:e,ref:t})),qbe=["axis","item"],Sj=g.forwardRef((e,t)=>g.createElement(eW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qbe,tooltipPayloadSearcher:DE,categoricalChartProps:e,ref:t}));function Ybe(e){var t=cr();return g.useEffect(()=>{t(xbe(e))},[t,e]),null}var Gbe=["width","height","layout"];function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kj.apply(null,arguments)}function Xbe(e,t){if(e==null)return{};var r,n,s=Zbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Zbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qbe={top:5,right:5,bottom:5,left:5},Jbe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qbe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ewe=g.forwardRef(function(t,r){var n,s=ei(t.categoricalChartProps,Jbe),{width:i,height:a,layout:o}=s,c=Xbe(s,Gbe);if(!wd(i)||!wd(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return g.createElement(XU,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:u},g.createElement(CU,{chartData:s.data}),g.createElement(ZU,{width:i,height:a,layout:o,margin:s.margin}),g.createElement(QU,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(Ybe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),g.createElement(JU,kj({width:i,height:a},c,{ref:r})))}),twe=["item"],rwe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},tW=g.forwardRef((e,t)=>{var r=ei(e,rwe);return g.createElement(ewe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:twe,tooltipPayloadSearcher:DE,categoricalChartProps:r,ref:t})});const nwe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(null),[s,i]=g.useState(!1),[a,o]=g.useState(null),{toast:c}=Cr(),u=async()=>{i(!0),o(null);try{console.log("useDashboard: Starting dashboard list request");const{data:{session:b}}=await oe.auth.getSession(),y=new URL("http://localhost:8000/functions/v1/dashboard-manager");y.searchParams.set("action","list");const x={"Content-Type":"application/json"};b!=null&&b.access_token&&(x.Authorization=`Bearer ${b.access_token}`);const _=await fetch(y.toString(),{method:"GET",headers:x});if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const j=await _.json();if(console.log("useDashboard: List dashboards response:",j),j&&j.dashboards!==void 0)return console.log("useDashboard: Found dashboards array:",j.dashboards.length),t(j.dashboards||[]),j.dashboards;throw j.error?new Error(j.error):(console.error("useDashboard: Unexpected response format:",j),new Error("Failed to load dashboards - unexpected response format"))}catch(b){const y=b.message||"Failed to load dashboards";return console.error("useDashboard: Error in listDashboards:",y,b),o(y),c({title:"Error",description:y,variant:"destructive"}),[]}finally{i(!1)}},d=async b=>{var y;i(!0),o(null);try{console.log("useDashboard: Getting dashboard with ID:",b);const{data:{session:x}}=await oe.auth.getSession(),_=new URL("http://localhost:8000/functions/v1/dashboard-manager");_.searchParams.set("action","get"),_.searchParams.set("id",b);const j={"Content-Type":"application/json"};x!=null&&x.access_token&&(j.Authorization=`Bearer ${x.access_token}`);const k=await fetch(_.toString(),{method:"GET",headers:j});if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const S=await k.json();if(console.log("useDashboard: Get dashboard response:",S),console.log("useDashboard: Dashboard data:",S.dashboard),console.log("useDashboard: Dashboard widgets:",(y=S.dashboard)==null?void 0:y.dashboard_widgets),S.dashboard)return n(S.dashboard),S.dashboard;throw S.error?new Error(S.error):new Error("Dashboard not found")}catch(x){const _=x.message||"Failed to load dashboard";return console.error("useDashboard: Error in getDashboard:",_,x),o(_),c({title:"Error",description:_,variant:"destructive"}),null}finally{i(!1)}},f=async b=>{i(!0),o(null);try{console.log("useDashboard: Creating dashboard with config:",b);const{data:{session:y}}=await oe.auth.getSession();if(!y)throw new Error("Authentication required. Please sign in.");const x=await fetch("http://localhost:8000/functions/v1/dashboard-manager",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`},body:JSON.stringify(b)});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const _=await x.json(),j=null;if(console.log("useDashboard: Create dashboard response:",{data:_,error:j}),_&&(_.dashboard||_.message))return c({title:"Success",description:_.message||"Dashboard created successfully"}),await u(),_.dashboard;throw _&&_.error?new Error(_.error):new Error("Failed to create dashboard - unexpected response")}catch(y){const x=y.message||"Failed to create dashboard";return console.error("useDashboard: Create dashboard error:",x,y),o(x),c({title:"Error",description:x,variant:"destructive"}),null}finally{i(!1)}},h=async(b,y)=>{i(!0),o(null);try{const{data:x,error:_}=await oe.functions.invoke("dashboard-manager",{method:"POST",body:{action:"update",payload:{id:b,...y}}});if(_)throw _;if(x.success)return c({title:"Success",description:"Dashboard updated successfully"}),(r==null?void 0:r.id)===b&&n({...r,...y}),await u(),!0;throw new Error(x.error||"Failed to update dashboard")}catch(x){const _=x.message||"Failed to update dashboard";return o(_),c({title:"Error",description:_,variant:"destructive"}),!1}finally{i(!1)}},m=async b=>{i(!0),o(null);try{const{data:y,error:x}=await oe.functions.invoke("dashboard-manager",{method:"POST",body:{action:"delete",payload:{id:b}}});if(x)throw x;if(y.success)return c({title:"Success",description:"Dashboard deleted successfully"}),(r==null?void 0:r.id)===b&&n(null),await u(),!0;throw new Error(y.error||"Failed to delete dashboard")}catch(y){const x=y.message||"Failed to delete dashboard";return o(x),c({title:"Error",description:x,variant:"destructive"}),!1}finally{i(!1)}},p=async(b,y)=>{i(!0),o(null);try{const{data:x,error:_}=await oe.functions.invoke("dashboard-manager",{method:"POST",body:{action:"create_widget",payload:{dashboard_id:b,...y}}});if(_)throw _;if(x.success)return c({title:"Success",description:"Widget created successfully"}),(r==null?void 0:r.id)===b&&await d(b),x.data;throw new Error(x.error||"Failed to create widget")}catch(x){const _=x.message||"Failed to create widget";return o(_),c({title:"Error",description:_,variant:"destructive"}),null}finally{i(!1)}},v=async(b,y)=>{i(!0),o(null);try{const{data:x,error:_}=await oe.functions.invoke("dashboard-manager",{method:"POST",body:{action:"update_widget",payload:{id:b,...y}}});if(_)throw _;if(x.success)return c({title:"Success",description:"Widget updated successfully"}),r&&await d(r.id),!0;throw new Error(x.error||"Failed to update widget")}catch(x){const _=x.message||"Failed to update widget";return o(_),c({title:"Error",description:_,variant:"destructive"}),!1}finally{i(!1)}},w=async b=>{i(!0),o(null);try{const{data:y,error:x}=await oe.functions.invoke("dashboard-manager",{method:"POST",body:{action:"delete_widget",payload:{id:b}}});if(x)throw x;if(y.success)return c({title:"Success",description:"Widget deleted successfully"}),r&&await d(r.id),!0;throw new Error(y.error||"Failed to delete widget")}catch(y){const x=y.message||"Failed to delete widget";return o(x),c({title:"Error",description:x,variant:"destructive"}),!1}finally{i(!1)}};return g.useEffect(()=>{u()},[]),{dashboards:e,currentDashboard:r,isLoading:s,error:a,listDashboards:u,getDashboard:d,createDashboard:f,updateDashboard:h,deleteDashboard:m,createWidget:p,updateWidget:v,deleteWidget:w,setCurrentDashboard:n}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cm(e){return e+.5|0}const Io=(e,t,r)=>Math.max(Math.min(e,r),t);function Hf(e){return Io(cm(e*2.55),0,255)}function Zo(e){return Io(cm(e*255),0,255)}function ja(e){return Io(cm(e/2.55)/100,0,1)}function wD(e){return Io(cm(e*100),0,100)}const As={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cj=[..."0123456789ABCDEF"],swe=e=>Cj[e&15],iwe=e=>Cj[(e&240)>>4]+Cj[e&15],lg=e=>(e&240)>>4===(e&15),awe=e=>lg(e.r)&&lg(e.g)&&lg(e.b)&&lg(e.a);function owe(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&As[e[1]]*17,g:255&As[e[2]]*17,b:255&As[e[3]]*17,a:t===5?As[e[4]]*17:255}:(t===7||t===9)&&(r={r:As[e[1]]<<4|As[e[2]],g:As[e[3]]<<4|As[e[4]],b:As[e[5]]<<4|As[e[6]],a:t===9?As[e[7]]<<4|As[e[8]]:255})),r}const lwe=(e,t)=>e<255?t(e):"";function cwe(e){var t=awe(e)?swe:iwe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+lwe(e.a,t):void 0}const uwe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rW(e,t,r){const n=t*Math.min(r,1-r),s=(i,a=(i+e/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function dwe(e,t,r){const n=(s,i=(s+e/60)%6)=>r-r*t*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function fwe(e,t,r){const n=rW(e,1,.5);let s;for(t+r>1&&(s=1/(t+r),t*=s,r*=s),s=0;s<3;s++)n[s]*=1-t-r,n[s]+=t;return n}function hwe(e,t,r,n,s){return e===s?(t-r)/n+(t<r?6:0):t===s?(r-e)/n+2:(e-t)/n+4}function JE(e){const r=e.r/255,n=e.g/255,s=e.b/255,i=Math.max(r,n,s),a=Math.min(r,n,s),o=(i+a)/2;let c,u,d;return i!==a&&(d=i-a,u=o>.5?d/(2-i-a):d/(i+a),c=hwe(r,n,s,d,i),c=c*60+.5),[c|0,u||0,o]}function eN(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(Zo)}function tN(e,t,r){return eN(rW,e,t,r)}function pwe(e,t,r){return eN(fwe,e,t,r)}function mwe(e,t,r){return eN(dwe,e,t,r)}function nW(e){return(e%360+360)%360}function gwe(e){const t=uwe.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?Hf(+t[5]):Zo(+t[5]));const s=nW(+t[2]),i=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?n=pwe(s,i,a):t[1]==="hsv"?n=mwe(s,i,a):n=tN(s,i,a),{r:n[0],g:n[1],b:n[2],a:r}}function vwe(e,t){var r=JE(e);r[0]=nW(r[0]+t),r=tN(r),e.r=r[0],e.g=r[1],e.b=r[2]}function ywe(e){if(!e)return;const t=JE(e),r=t[0],n=wD(t[1]),s=wD(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${s}%, ${ja(e.a)})`:`hsl(${r}, ${n}%, ${s}%)`}const _D={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function xwe(){const e={},t=Object.keys(jD),r=Object.keys(_D);let n,s,i,a,o;for(n=0;n<t.length;n++){for(a=o=t[n],s=0;s<r.length;s++)i=r[s],o=o.replace(i,_D[i]);i=parseInt(jD[a],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let cg;function bwe(e){cg||(cg=xwe(),cg.transparent=[0,0,0,0]);const t=cg[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const wwe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _we(e){const t=wwe.exec(e);let r=255,n,s,i;if(t){if(t[7]!==n){const a=+t[7];r=t[8]?Hf(a):Io(a*255,0,255)}return n=+t[1],s=+t[3],i=+t[5],n=255&(t[2]?Hf(n):Io(n,0,255)),s=255&(t[4]?Hf(s):Io(s,0,255)),i=255&(t[6]?Hf(i):Io(i,0,255)),{r:n,g:s,b:i,a:r}}}function jwe(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ja(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Dw=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,au=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Swe(e,t,r){const n=au(ja(e.r)),s=au(ja(e.g)),i=au(ja(e.b));return{r:Zo(Dw(n+r*(au(ja(t.r))-n))),g:Zo(Dw(s+r*(au(ja(t.g))-s))),b:Zo(Dw(i+r*(au(ja(t.b))-i))),a:e.a+r*(t.a-e.a)}}function ug(e,t,r){if(e){let n=JE(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=tN(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function sW(e,t){return e&&Object.assign(t||{},e)}function SD(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Zo(e[3]))):(t=sW(e,{r:0,g:0,b:0,a:1}),t.a=Zo(t.a)),t}function kwe(e){return e.charAt(0)==="r"?_we(e):gwe(e)}class fp{constructor(t){if(t instanceof fp)return t;const r=typeof t;let n;r==="object"?n=SD(t):r==="string"&&(n=owe(t)||bwe(t)||kwe(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=sW(this._rgb);return t&&(t.a=ja(t.a)),t}set rgb(t){this._rgb=SD(t)}rgbString(){return this._valid?jwe(this._rgb):void 0}hexString(){return this._valid?cwe(this._rgb):void 0}hslString(){return this._valid?ywe(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,s=t.rgb;let i;const a=r===i?.5:r,o=2*a-1,c=n.a-s.a,u=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;i=1-u,n.r=255&u*n.r+i*s.r+.5,n.g=255&u*n.g+i*s.g+.5,n.b=255&u*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=Swe(this._rgb,t._rgb,r)),this}clone(){return new fp(this.rgb)}alpha(t){return this._rgb.a=Zo(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=cm(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ug(this._rgb,2,t),this}darken(t){return ug(this._rgb,2,-t),this}saturate(t){return ug(this._rgb,1,t),this}desaturate(t){return ug(this._rgb,1,-t),this}rotate(t){return vwe(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function pa(){}const Cwe=(()=>{let e=0;return()=>e++})();function Pt(e){return e==null}function Or(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Xs(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ii(e,t){return Xs(e)?e:t}function at(e,t){return typeof e>"u"?t:e}const Ewe=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,iW=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ht(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function Tt(e,t,r,n){let s,i,a;if(Or(e))for(i=e.length,s=0;s<i;s++)t.call(r,e[s],s);else if(xt(e))for(a=Object.keys(e),i=a.length,s=0;s<i;s++)t.call(r,e[a[s]],a[s])}function Iy(e,t){let r,n,s,i;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(s=e[r],i=t[r],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function Ly(e){if(Or(e))return e.map(Ly);if(xt(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let s=0;for(;s<n;++s)t[r[s]]=Ly(e[r[s]]);return t}return e}function aW(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Nwe(e,t,r,n){if(!aW(e))return;const s=t[e],i=r[e];xt(s)&&xt(i)?hp(s,i,n):t[e]=Ly(i)}function hp(e,t,r){const n=Or(t)?t:[t],s=n.length;if(!xt(e))return e;r=r||{};const i=r.merger||Nwe;let a;for(let o=0;o<s;++o){if(a=n[o],!xt(a))continue;const c=Object.keys(a);for(let u=0,d=c.length;u<d;++u)i(c[u],e,a,r)}return e}function vh(e,t){return hp(e,t,{merger:Pwe})}function Pwe(e,t,r){if(!aW(e))return;const n=t[e],s=r[e];xt(n)&&xt(s)?vh(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ly(s))}const kD={"":e=>e,x:e=>e.x,y:e=>e.y};function Awe(e){const t=e.split("."),r=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Owe(e){const t=Awe(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function Ac(e,t){return(kD[t]||(kD[t]=Owe(t)))(e)}function rN(e){return e.charAt(0).toUpperCase()+e.slice(1)}const pp=e=>typeof e<"u",cl=e=>typeof e=="function",CD=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function Twe(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Dt=Math.PI,lr=2*Dt,Dwe=lr+Dt,$y=Number.POSITIVE_INFINITY,Mwe=Dt/180,Dr=Dt/2,El=Dt/4,ED=Dt*2/3,Ej=Math.log10,Ji=Math.sign;function yh(e,t,r){return Math.abs(e-t)<r}function ND(e){const t=Math.round(e);e=yh(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(Ej(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Rwe(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((s,i)=>s-i).pop(),t}function Iwe(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function mp(e){return!Iwe(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Lwe(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function $we(e,t,r){let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n][r],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function Ma(e){return e*(Dt/180)}function Fwe(e){return e*(180/Dt)}function PD(e){if(!Xs(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function oW(e,t){const r=t.x-e.x,n=t.y-e.y,s=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Dt&&(i+=lr),{angle:i,distance:s}}function Nj(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Bwe(e,t){return(e-t+Dwe)%lr-Dt}function hi(e){return(e%lr+lr)%lr}function gp(e,t,r,n){const s=hi(e),i=hi(t),a=hi(r),o=hi(i-s),c=hi(a-s),u=hi(s-i),d=hi(s-a);return s===i||s===a||n&&i===a||o>c&&u<d}function pn(e,t,r){return Math.max(t,Math.min(r,e))}function zwe(e){return pn(e,-32768,32767)}function Lo(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function nN(e,t,r){r=r||(a=>e[a]<t);let n=e.length-1,s=0,i;for(;n-s>1;)i=s+n>>1,r(i)?s=i:n=i;return{lo:s,hi:n}}const Zl=(e,t,r,n)=>nN(e,r,n?s=>{const i=e[s][t];return i<r||i===r&&e[s+1][t]===r}:s=>e[s][t]<r),Uwe=(e,t,r)=>nN(e,r,n=>e[n][t]>=r);function Wwe(e,t,r){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>r;)s--;return n>0||s<e.length?e.slice(n,s):e}const lW=["push","pop","shift","splice","unshift"];function Vwe(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),lW.forEach(r=>{const n="_onData"+rN(r),s=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...i)}),a}})})}function AD(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(lW.forEach(i=>{delete e[i]}),delete e._chartjs)}function cW(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const uW=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function dW(e,t){let r=[],n=!1;return function(...s){r=s,n||(n=!0,uW.call(window,()=>{n=!1,e.apply(t,r)}))}}function Hwe(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const sN=e=>e==="start"?"left":e==="end"?"right":"center",ln=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,Kwe=(e,t,r,n)=>e===(n?"left":"right")?r:e==="center"?(t+r)/2:t;function qwe(e,t,r){const n=t.length;let s=0,i=n;if(e._sorted){const{iScale:a,vScale:o,_parsed:c}=e,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=a.axis,{min:f,max:h,minDefined:m,maxDefined:p}=a.getUserBounds();if(m){if(s=Math.min(Zl(c,d,f).lo,r?n:Zl(t,d,a.getPixelForValue(f)).lo),u){const v=c.slice(0,s+1).reverse().findIndex(w=>!Pt(w[o.axis]));s-=Math.max(0,v)}s=pn(s,0,n-1)}if(p){let v=Math.max(Zl(c,a.axis,h,!0).hi+1,r?0:Zl(t,d,a.getPixelForValue(h),!0).hi+1);if(u){const w=c.slice(v-1).findIndex(b=>!Pt(b[o.axis]));v+=Math.max(0,w)}i=pn(v,s,n)-s}else i=n-s}return{start:s,count:i}}function Ywe(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=s,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),i}const dg=e=>e===0||e===1,OD=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*lr/r)),TD=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*lr/r)+1,xh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Dr)+1,easeOutSine:e=>Math.sin(e*Dr),easeInOutSine:e=>-.5*(Math.cos(Dt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>dg(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>dg(e)?e:OD(e,.075,.3),easeOutElastic:e=>dg(e)?e:TD(e,.075,.3),easeInOutElastic(e){return dg(e)?e:e<.5?.5*OD(e*2,.1125,.45):.5+.5*TD(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-xh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?xh.easeInBounce(e*2)*.5:xh.easeOutBounce(e*2-1)*.5+.5};function iN(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function DD(e){return iN(e)?e:new fp(e)}function Mw(e){return iN(e)?e:new fp(e).saturate(.5).darken(.1).hexString()}const Gwe=["x","y","borderWidth","radius","tension"],Xwe=["color","borderColor","backgroundColor"];function Zwe(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Xwe},numbers:{type:"number",properties:Gwe}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Qwe(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const MD=new Map;function Jwe(e,t){t=t||{};const r=e+JSON.stringify(t);let n=MD.get(r);return n||(n=new Intl.NumberFormat(e,t),MD.set(r,n)),n}function aN(e,t,r){return Jwe(t,r).format(e)}const fW={values(e){return Or(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let s,i=e;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(s="scientific"),i=e_e(e,r)}const a=Ej(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),aN(e,n,c)},logarithmic(e,t,r){if(e===0)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(Ej(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?fW.numeric.call(this,e,t,r):""}};function e_e(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var hW={formatters:fW};function t_e(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hW.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Oc=Object.create(null),Pj=Object.create(null);function bh(e,t){if(!t)return e;const r=t.split(".");for(let n=0,s=r.length;n<s;++n){const i=r[n];e=e[i]||(e[i]=Object.create(null))}return e}function Rw(e,t,r){return typeof t=="string"?hp(bh(e,t),r):hp(bh(e,""),t)}class r_e{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,s)=>Mw(s.backgroundColor),this.hoverBorderColor=(n,s)=>Mw(s.borderColor),this.hoverColor=(n,s)=>Mw(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return Rw(this,t,r)}get(t){return bh(this,t)}describe(t,r){return Rw(Pj,t,r)}override(t,r){return Rw(Oc,t,r)}route(t,r,n,s){const i=bh(this,t),a=bh(this,n),o="_"+r;Object.defineProperties(i,{[o]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[o],u=a[s];return xt(c)?Object.assign({},u,c):at(c,u)},set(c){this[o]=c}}})}apply(t){t.forEach(r=>r(this))}}var gr=new r_e({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Zwe,Qwe,t_e]);function n_e(e){return!e||Pt(e.size)||Pt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function RD(e,t,r,n,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,r.push(s)),i>n&&(n=i),n}function Nl(e,t,r){const n=e.currentDevicePixelRatio,s=r!==0?Math.max(r/2,.5):0;return Math.round((t-s)*n)/n+s}function ID(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Aj(e,t,r,n){pW(e,t,r,n,null)}function pW(e,t,r,n,s){let i,a,o,c,u,d,f,h;const m=t.pointStyle,p=t.rotation,v=t.radius;let w=(p||0)*Mwe;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(w),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),m){default:s?e.ellipse(r,n,s/2,v,0,0,lr):e.arc(r,n,v,0,lr),e.closePath();break;case"triangle":d=s?s/2:v,e.moveTo(r+Math.sin(w)*d,n-Math.cos(w)*v),w+=ED,e.lineTo(r+Math.sin(w)*d,n-Math.cos(w)*v),w+=ED,e.lineTo(r+Math.sin(w)*d,n-Math.cos(w)*v),e.closePath();break;case"rectRounded":u=v*.516,c=v-u,a=Math.cos(w+El)*c,f=Math.cos(w+El)*(s?s/2-u:c),o=Math.sin(w+El)*c,h=Math.sin(w+El)*(s?s/2-u:c),e.arc(r-f,n-o,u,w-Dt,w-Dr),e.arc(r+h,n-a,u,w-Dr,w),e.arc(r+f,n+o,u,w,w+Dr),e.arc(r-h,n+a,u,w+Dr,w+Dt),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*v,d=s?s/2:c,e.rect(r-d,n-c,2*d,2*c);break}w+=El;case"rectRot":f=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,o=Math.sin(w)*v,h=Math.sin(w)*(s?s/2:v),e.moveTo(r-f,n-o),e.lineTo(r+h,n-a),e.lineTo(r+f,n+o),e.lineTo(r-h,n+a),e.closePath();break;case"crossRot":w+=El;case"cross":f=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,o=Math.sin(w)*v,h=Math.sin(w)*(s?s/2:v),e.moveTo(r-f,n-o),e.lineTo(r+f,n+o),e.moveTo(r+h,n-a),e.lineTo(r-h,n+a);break;case"star":f=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,o=Math.sin(w)*v,h=Math.sin(w)*(s?s/2:v),e.moveTo(r-f,n-o),e.lineTo(r+f,n+o),e.moveTo(r+h,n-a),e.lineTo(r-h,n+a),w+=El,f=Math.cos(w)*(s?s/2:v),a=Math.cos(w)*v,o=Math.sin(w)*v,h=Math.sin(w)*(s?s/2:v),e.moveTo(r-f,n-o),e.lineTo(r+f,n+o),e.moveTo(r+h,n-a),e.lineTo(r-h,n+a);break;case"line":a=s?s/2:Math.cos(w)*v,o=Math.sin(w)*v,e.moveTo(r-a,n-o),e.lineTo(r+a,n+o);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(w)*(s?s/2:v),n+Math.sin(w)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function vp(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function oN(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function lN(e){e.restore()}function s_e(e,t,r,n,s){if(!t)return e.lineTo(r.x,r.y);if(s==="middle"){const i=(t.x+r.x)/2;e.lineTo(i,t.y),e.lineTo(i,r.y)}else s==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function i_e(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function a_e(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Pt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function o_e(e,t,r,n,s){if(s.strikethrough||s.underline){const i=e.measureText(n),a=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,u=r+i.actualBoundingBoxDescent,d=s.strikethrough?(c+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,d),e.lineTo(o,d),e.stroke()}}function l_e(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function yp(e,t,r,n,s,i={}){const a=Or(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(e.save(),e.font=s.string,a_e(e,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&l_e(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Pt(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(u,r,n,i.maxWidth)),e.fillText(u,r,n,i.maxWidth),o_e(e,r,n,u,i),n+=Number(s.lineHeight);e.restore()}function Fy(e,t){const{x:r,y:n,w:s,h:i,radius:a}=t;e.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*Dt,Dt,!0),e.lineTo(r,n+i-a.bottomLeft),e.arc(r+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,Dt,Dr,!0),e.lineTo(r+s-a.bottomRight,n+i),e.arc(r+s-a.bottomRight,n+i-a.bottomRight,a.bottomRight,Dr,0,!0),e.lineTo(r+s,n+a.topRight),e.arc(r+s-a.topRight,n+a.topRight,a.topRight,0,-Dr,!0),e.lineTo(r+a.topLeft,n)}const c_e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,u_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function d_e(e,t){const r=(""+e).match(c_e);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const f_e=e=>+e||0;function cN(e,t){const r={},n=xt(t),s=n?Object.keys(t):t,i=xt(e)?n?a=>at(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)r[a]=f_e(i(a));return r}function mW(e){return cN(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Wu(e){return cN(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Zs(e){const t=mW(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mn(e,t){e=e||{},t=t||gr.font;let r=at(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=at(e.style,t.style);n&&!(""+n).match(u_e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:at(e.family,t.family),lineHeight:d_e(at(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:at(e.weight,t.weight),string:""};return s.string=n_e(s),s}function fg(e,t,r,n){let s,i,a;for(s=0,i=e.length;s<i;++s)if(a=e[s],a!==void 0&&a!==void 0)return a}function h_e(e,t,r){const{min:n,max:s}=e,i=iW(t,(s-n)/2),a=(o,c)=>r&&o===0?0:o+c;return{min:a(n,-Math.abs(i)),max:a(s,i)}}function Wc(e,t){return Object.assign(Object.create(e),t)}function uN(e,t=[""],r,n,s=()=>e[0]){const i=r||e;typeof n>"u"&&(n=xW("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:s,override:o=>uN([o,...e],t,i,n)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return vW(o,c,()=>w_e(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return $D(o).includes(c)},ownKeys(o){return $D(o)},set(o,c,u){const d=o._storage||(o._storage=s());return o[c]=d[c]=u,delete o._keys,!0}})}function Ed(e,t,r,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:gW(e,n),setContext:i=>Ed(e,i,r,n),override:i=>Ed(e.override(i),t,r,n)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete e[a],!0},get(i,a,o){return vW(i,a,()=>m_e(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(i,a,o){return e[a]=o,delete i[a],!0}})}function gW(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:r,indexable:n,isScriptable:cl(r)?r:()=>r,isIndexable:cl(n)?n:()=>n}}const p_e=(e,t)=>e?e+rN(t):t,dN=(e,t)=>xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function vW(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=r();return e[t]=n,n}function m_e(e,t,r){const{_proxy:n,_context:s,_subProxy:i,_descriptors:a}=e;let o=n[t];return cl(o)&&a.isScriptable(t)&&(o=g_e(t,o,e,r)),Or(o)&&o.length&&(o=v_e(t,o,e,a.isIndexable)),dN(t,o)&&(o=Ed(o,s,i&&i[t],a)),o}function g_e(e,t,r,n){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=r;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(i,a||n);return o.delete(e),dN(e,c)&&(c=fN(s._scopes,s,e,c)),c}function v_e(e,t,r,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=r;if(typeof i.index<"u"&&n(e))return t[i.index%t.length];if(xt(t[0])){const c=t,u=s._scopes.filter(d=>d!==c);t=[];for(const d of c){const f=fN(u,s,e,d);t.push(Ed(f,i,a&&a[e],o))}}return t}function yW(e,t,r){return cl(e)?e(t,r):e}const y_e=(e,t)=>e===!0?t:typeof e=="string"?Ac(t,e):void 0;function x_e(e,t,r,n,s){for(const i of t){const a=y_e(r,i);if(a){e.add(a);const o=yW(a._fallback,r,s);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function fN(e,t,r,n){const s=t._rootScopes,i=yW(t._fallback,r,n),a=[...e,...s],o=new Set;o.add(n);let c=LD(o,a,r,i||r,n);return c===null||typeof i<"u"&&i!==r&&(c=LD(o,a,i,c,n),c===null)?!1:uN(Array.from(o),[""],s,i,()=>b_e(t,r,n))}function LD(e,t,r,n,s){for(;r;)r=x_e(e,t,r,n,s);return r}function b_e(e,t,r){const n=e._getTarget();t in n||(n[t]={});const s=n[t];return Or(s)&&xt(r)?r:s||{}}function w_e(e,t,r,n){let s;for(const i of t)if(s=xW(p_e(i,e),r),typeof s<"u")return dN(e,s)?fN(r,n,e,s):s}function xW(e,t){for(const r of t){if(!r)continue;const n=r[e];if(typeof n<"u")return n}}function $D(e){let t=e._keys;return t||(t=e._keys=__e(e._scopes)),t}function __e(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}const j_e=Number.EPSILON||1e-14,Nd=(e,t)=>t<e.length&&!e[t].skip&&e[t],bW=e=>e==="x"?"y":"x";function S_e(e,t,r,n){const s=e.skip?t:e,i=t,a=r.skip?t:r,o=Nj(i,s),c=Nj(a,i);let u=o/(o+c),d=c/(o+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,h=n*d;return{previous:{x:i.x-f*(a.x-s.x),y:i.y-f*(a.y-s.y)},next:{x:i.x+h*(a.x-s.x),y:i.y+h*(a.y-s.y)}}}function k_e(e,t,r){const n=e.length;let s,i,a,o,c,u=Nd(e,0);for(let d=0;d<n-1;++d)if(c=u,u=Nd(e,d+1),!(!c||!u)){if(yh(t[d],0,j_e)){r[d]=r[d+1]=0;continue}s=r[d]/t[d],i=r[d+1]/t[d],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),r[d]=s*a*t[d],r[d+1]=i*a*t[d])}}function C_e(e,t,r="x"){const n=bW(r),s=e.length;let i,a,o,c=Nd(e,0);for(let u=0;u<s;++u){if(a=o,o=c,c=Nd(e,u+1),!o)continue;const d=o[r],f=o[n];a&&(i=(d-a[r])/3,o[`cp1${r}`]=d-i,o[`cp1${n}`]=f-i*t[u]),c&&(i=(c[r]-d)/3,o[`cp2${r}`]=d+i,o[`cp2${n}`]=f+i*t[u])}}function E_e(e,t="x"){const r=bW(t),n=e.length,s=Array(n).fill(0),i=Array(n);let a,o,c,u=Nd(e,0);for(a=0;a<n;++a)if(o=c,c=u,u=Nd(e,a+1),!!c){if(u){const d=u[t]-c[t];s[a]=d!==0?(u[r]-c[r])/d:0}i[a]=o?u?Ji(s[a-1])!==Ji(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}k_e(e,s,i),C_e(e,i,t)}function hg(e,t,r){return Math.max(Math.min(e,r),t)}function N_e(e,t){let r,n,s,i,a,o=vp(e[0],t);for(r=0,n=e.length;r<n;++r)a=i,i=o,o=r<n-1&&vp(e[r+1],t),i&&(s=e[r],a&&(s.cp1x=hg(s.cp1x,t.left,t.right),s.cp1y=hg(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=hg(s.cp2x,t.left,t.right),s.cp2y=hg(s.cp2y,t.top,t.bottom)))}function P_e(e,t,r,n,s){let i,a,o,c;if(t.spanGaps&&(e=e.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")E_e(e,s);else{let u=n?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)o=e[i],c=S_e(u,o,e[Math.min(i+1,a-(n?0:1))%a],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,u=o}t.capBezierPoints&&N_e(e,r)}function hN(){return typeof window<"u"&&typeof document<"u"}function pN(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function By(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const q0=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function A_e(e,t){return q0(e).getPropertyValue(t)}const O_e=["top","right","bottom","left"];function uc(e,t,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const i=O_e[s];n[i]=parseFloat(e[t+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const T_e=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function D_e(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:s,offsetY:i}=n;let a=!1,o,c;if(T_e(s,i,e.target))o=s,c=i;else{const u=t.getBoundingClientRect();o=n.clientX-u.left,c=n.clientY-u.top,a=!0}return{x:o,y:c,box:a}}function $l(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,s=q0(r),i=s.boxSizing==="border-box",a=uc(s,"padding"),o=uc(s,"border","width"),{x:c,y:u,box:d}=D_e(e,r),f=a.left+(d&&o.left),h=a.top+(d&&o.top);let{width:m,height:p}=t;return i&&(m-=a.width+o.width,p-=a.height+o.height),{x:Math.round((c-f)/m*r.width/n),y:Math.round((u-h)/p*r.height/n)}}function M_e(e,t,r){let n,s;if(t===void 0||r===void 0){const i=e&&pN(e);if(!i)t=e.clientWidth,r=e.clientHeight;else{const a=i.getBoundingClientRect(),o=q0(i),c=uc(o,"border","width"),u=uc(o,"padding");t=a.width-u.width-c.width,r=a.height-u.height-c.height,n=By(o.maxWidth,i,"clientWidth"),s=By(o.maxHeight,i,"clientHeight")}}return{width:t,height:r,maxWidth:n||$y,maxHeight:s||$y}}const pg=e=>Math.round(e*10)/10;function R_e(e,t,r,n){const s=q0(e),i=uc(s,"margin"),a=By(s.maxWidth,e,"clientWidth")||$y,o=By(s.maxHeight,e,"clientHeight")||$y,c=M_e(e,t,r);let{width:u,height:d}=c;if(s.boxSizing==="content-box"){const h=uc(s,"border","width"),m=uc(s,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-i.width),d=Math.max(0,n?u/n:d-i.height),u=pg(Math.min(u,a,c.maxWidth)),d=pg(Math.min(d,o,c.maxHeight)),u&&!d&&(d=pg(u/2)),(t!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=pg(Math.floor(d*n))),{width:u,height:d}}function FD(e,t,r){const n=t||1,s=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||a.height!==s||a.width!==i?(e.currentDevicePixelRatio=n,a.height=s,a.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const I_e=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};hN()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function BD(e,t){const r=A_e(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Fl(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function L_e(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function $_e(e,t,r,n){const s={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=Fl(e,s,r),o=Fl(s,i,r),c=Fl(i,t,r),u=Fl(a,o,r),d=Fl(o,c,r);return Fl(u,d,r)}const F_e=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},B_e=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Vu(e,t,r){return e?F_e(t,r):B_e()}function wW(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function _W(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function jW(e){return e==="angle"?{between:gp,compare:Bwe,normalize:hi}:{between:Lo,compare:(t,r)=>t-r,normalize:t=>t}}function zD({start:e,end:t,count:r,loop:n,style:s}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:s}}function z_e(e,t,r){const{property:n,start:s,end:i}=r,{between:a,normalize:o}=jW(n),c=t.length;let{start:u,end:d,loop:f}=e,h,m;if(f){for(u+=c,d+=c,h=0,m=c;h<m&&a(o(t[u%c][n]),s,i);++h)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:e.style}}function U_e(e,t,r){if(!r)return[e];const{property:n,start:s,end:i}=r,a=t.length,{compare:o,between:c,normalize:u}=jW(n),{start:d,end:f,loop:h,style:m}=z_e(e,t,r),p=[];let v=!1,w=null,b,y,x;const _=()=>c(s,x,b)&&o(s,x)!==0,j=()=>o(i,b)===0||c(i,x,b),k=()=>v||_(),S=()=>!v||j();for(let E=d,N=d;E<=f;++E)y=t[E%a],!y.skip&&(b=u(y[n]),b!==x&&(v=c(b,s,i),w===null&&k()&&(w=o(b,s)===0?E:N),w!==null&&S()&&(p.push(zD({start:w,end:E,loop:h,count:a,style:m})),w=null),N=E,x=b));return w!==null&&p.push(zD({start:w,end:f,loop:h,count:a,style:m})),p}function W_e(e,t){const r=[],n=e.segments;for(let s=0;s<n.length;s++){const i=U_e(n[s],e.points,t);i.length&&r.push(...i)}return r}function V_e(e,t,r,n){let s=0,i=t-1;if(r&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,r&&(i+=s);i>s&&e[i%t].skip;)i--;return i%=t,{start:s,end:i}}function H_e(e,t,r,n){const s=e.length,i=[];let a=t,o=e[t],c;for(c=t+1;c<=r;++c){const u=e[c%s];u.skip||u.stop?o.skip||(n=!1,i.push({start:t%s,end:(c-1)%s,loop:n}),t=a=u.stop?c:null):(a=c,o.skip&&(t=c)),o=u}return a!==null&&i.push({start:t%s,end:a%s,loop:n}),i}function K_e(e,t){const r=e.points,n=e.options.spanGaps,s=r.length;if(!s)return[];const i=!!e._loop,{start:a,end:o}=V_e(r,s,i,n);if(n===!0)return UD(e,[{start:a,end:o,loop:i}],r,t);const c=o<a?o+s:o,u=!!e._fullLoop&&a===0&&o===s-1;return UD(e,H_e(r,a,c,u),r,t)}function UD(e,t,r,n){return!n||!n.setContext||!r?t:q_e(e,t,r,n)}function q_e(e,t,r,n){const s=e._chart.getContext(),i=WD(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,c=r.length,u=[];let d=i,f=t[0].start,h=f;function m(p,v,w,b){const y=o?-1:1;if(p!==v){for(p+=c;r[p%c].skip;)p-=y;for(;r[v%c].skip;)v+=y;p%c!==v%c&&(u.push({start:p%c,end:v%c,loop:w,style:b}),d=b,f=v%c)}}for(const p of t){f=o?f:p.start;let v=r[f%c],w;for(h=f+1;h<=p.end;h++){const b=r[h%c];w=WD(n.setContext(Wc(s,{type:"segment",p0:v,p1:b,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:a}))),Y_e(w,d)&&m(f,h-1,p.loop,d),v=b,d=w}f<h-1&&m(f,h-1,p.loop,d)}return u}function WD(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Y_e(e,t){if(!t)return!1;const r=[],n=function(s,i){return iN(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function mg(e,t,r){return e.options.clip?e[r]:t[r]}function G_e(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:mg(r,t,"left"),right:mg(r,t,"right"),top:mg(n,t,"top"),bottom:mg(n,t,"bottom")}:t}function X_e(e,t){const r=t._clip;if(r.disabled)return!1;const n=G_e(t,e.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?e.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?e.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Z_e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,s){const i=r.listeners[s],a=r.duration;i.forEach(o=>o({chart:t,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=uW.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,o=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,n,t,"progress")),i.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),r+=i.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ya=new Z_e;const VD="transparent",Q_e={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=DD(e||VD),s=n.valid&&DD(t||VD);return s&&s.valid?s.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class J_e{constructor(t,r,n,s){const i=r[n];s=fg([t.to,s,i,t.from]);const a=fg([t.from,i,s]);this._active=!0,this._fn=t.fn||Q_e[t.type||typeof a],this._easing=xh[t.easing]||xh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=fg([t.to,r,s,t.from]),this._from=fg([t.from,s,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let c;if(this._active=i!==o&&(a||r<n),!this._active){this._target[s]=o,this._notify(!0);return}if(r<0){this._target[s]=i;return}c=r/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(i,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][r]()}}class SW{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!xt(t))return;const r=Object.keys(gr.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const i=t[s];if(!xt(i))return;const a={};for(const o of r)a[o]=i[o];(Or(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!n.has(o))&&n.set(o,a)})})}_animateOptions(t,r){const n=r.options,s=t1e(t,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&e1e(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,r){const n=this._properties,s=[],i=t.$animations||(t.$animations={}),a=Object.keys(r),o=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){s.push(...this._animateOptions(t,r));continue}const d=r[u];let f=i[u];const h=n.get(u);if(f)if(h&&f.active()){f.update(h,d,o);continue}else f.cancel();if(!h||!h.duration){t[u]=d;continue}i[u]=f=new J_e(h,t,u,d),s.push(f)}return s}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return ya.add(this._chart,n),!0}}function e1e(e,t){const r=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const i=e[n[s]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function t1e(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function HD(e,t){const r=e&&e.options||{},n=r.reverse,s=r.min===void 0?t:0,i=r.max===void 0?t:0;return{start:n?i:s,end:n?s:i}}function r1e(e,t,r){if(r===!1)return!1;const n=HD(e,r),s=HD(t,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function n1e(e){let t,r,n,s;return xt(e)?(t=e.top,r=e.right,n=e.bottom,s=e.left):t=r=n=s=e,{top:t,right:r,bottom:n,left:s,disabled:e===!1}}function kW(e,t){const r=[],n=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=n.length;s<i;++s)r.push(n[s].index);return r}function KD(e,t,r,n={}){const s=e.keys,i=n.mode==="single";let a,o,c,u;if(t===null)return;let d=!1;for(a=0,o=s.length;a<o;++a){if(c=+s[a],c===r){if(d=!0,n.all)continue;break}u=e.values[c],Xs(u)&&(i||t===0||Ji(t)===Ji(u))&&(t+=u)}return!d&&!n.all?0:t}function s1e(e,t){const{iScale:r,vScale:n}=t,s=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let c,u,d;for(c=0,u=a.length;c<u;++c)d=a[c],o[c]={[s]:d,[i]:e[d]};return o}function Iw(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function i1e(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function a1e(e){const{min:t,max:r,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}function o1e(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function qD(e,t,r,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const i=e[s.index];if(r&&i>0||!r&&i<0)return s.index}return null}function YD(e,t){const{chart:r,_cachedMeta:n}=e,s=r._stacks||(r._stacks={}),{iScale:i,vScale:a,index:o}=n,c=i.axis,u=a.axis,d=i1e(i,a,n),f=t.length;let h;for(let m=0;m<f;++m){const p=t[m],{[c]:v,[u]:w}=p,b=p._stacks||(p._stacks={});h=b[u]=o1e(s,d,v),h[o]=w,h._top=qD(h,a,!0,n.type),h._bottom=qD(h,a,!1,n.type);const y=h._visualValues||(h._visualValues={});y[o]=w}}function Lw(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function l1e(e,t){return Wc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function c1e(e,t,r){return Wc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Nf(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const s of t){const i=s._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const $w=e=>e==="reset"||e==="none",GD=(e,t)=>t?e:Object.assign({},e),u1e=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:kW(r,!0),values:null};class dc{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Iw(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nf(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),s=(f,h,m,p)=>f==="x"?h:f==="r"?p:m,i=r.xAxisID=at(n.xAxisID,Lw(t,"x")),a=r.yAxisID=at(n.yAxisID,Lw(t,"y")),o=r.rAxisID=at(n.rAxisID,Lw(t,"r")),c=r.indexAxis,u=r.iAxisID=s(c,i,a,o),d=r.vAxisID=s(c,a,i,o);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&AD(this._data,this),t._stacked&&Nf(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(xt(r)){const s=this._cachedMeta;this._data=s1e(r,s)}else if(n!==r){if(n){AD(n,this);const s=this._cachedMeta;Nf(s),s._parsed=[]}r&&Object.isExtensible(r)&&Vwe(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=r._stacked;r._stacked=Iw(r.vScale,r),r.stack!==n.stack&&(s=!0,Nf(r),r.stack=n.stack),this._resyncElements(t),(s||i!==r._stacked)&&(YD(this,r._parsed),r._stacked=Iw(r.vScale,r))}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,o=i.axis;let c=t===0&&r===s.length?!0:n._sorted,u=t>0&&n._parsed[t-1],d,f,h;if(this._parsing===!1)n._parsed=s,n._sorted=!0,h=s;else{Or(s[t])?h=this.parseArrayData(n,s,t,r):xt(s[t])?h=this.parseObjectData(n,s,t,r):h=this.parsePrimitiveData(n,s,t,r);const m=()=>f[o]===null||u&&f[o]<u[o];for(d=0;d<r;++d)n._parsed[d+t]=f=h[d],c&&(m()&&(c=!1),u=f);n._sorted=c}a&&YD(this,h)}parsePrimitiveData(t,r,n,s){const{iScale:i,vScale:a}=t,o=i.axis,c=a.axis,u=i.getLabels(),d=i===a,f=new Array(s);let h,m,p;for(h=0,m=s;h<m;++h)p=h+n,f[h]={[o]:d||i.parse(u[p],p),[c]:a.parse(r[p],p)};return f}parseArrayData(t,r,n,s){const{xScale:i,yScale:a}=t,o=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+n,f=r[d],o[c]={x:i.parse(f[0],d),y:a.parse(f[1],d)};return o}parseObjectData(t,r,n,s){const{xScale:i,yScale:a}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,h,m;for(d=0,f=s;d<f;++d)h=d+n,m=r[h],u[d]={x:i.parse(Ac(m,o),h),y:a.parse(Ac(m,c),h)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const s=this.chart,i=this._cachedMeta,a=r[t.axis],o={keys:kW(s,!0),values:r._stacks[t.axis]._visualValues};return KD(o,a,i.index,{mode:n})}updateRangeFromParsed(t,r,n,s){const i=n[r.axis];let a=i===null?NaN:i;const o=s&&n._stacks[r.axis];s&&o&&(s.values=o,a=KD(s,i,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&t===n.iScale,a=s.length,o=this._getOtherScale(t),c=u1e(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=a1e(o);let h,m;function p(){m=s[h];const v=m[o.axis];return!Xs(m[t.axis])||d>v||f<v}for(h=0;h<a&&!(!p()&&(this.updateRangeFromParsed(u,t,m,c),i));++h);if(i){for(h=a-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(u,t,m,c);break}}return u}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=r.length;s<i;++s)a=r[s][t.axis],Xs(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,s=r.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=n1e(at(this.options.clip,r1e(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,s=n.data||[],i=r.chartArea,a=[],o=this._drawStart||0,c=this._drawCount||s.length-o,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,i,o,c),d=o;d<o+c;++d){const f=s[d];f.hidden||(f.active&&u?a.push(f):f.draw(t,i))}for(d=0;d<a.length;++d)a[d].draw(t,i)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const s=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];i=a.$context||(a.$context=c1e(this.getContext(),t,a)),i.parsed=this.getParsed(t),i.raw=s.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=l1e(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const s=r==="active",i=this._cachedDataOpts,a=t+"-"+r,o=i[a],c=this.enableOptionSharing&&pp(n);if(o)return GD(o,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(gr.elements[t]),p=()=>this.getContext(n,s,r),v=u.resolveNamedOptions(h,m,p,f);return v.$shared&&(v.$shared=c,i[a]=Object.freeze(GD(v,c))),v}_resolveAnimations(t,r,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${r}`,o=i[a];if(o)return o;let c;if(s.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(t,n,r))}const u=new SW(s,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||$w(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(r,i)||i!==s;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:a}}updateElement(t,r,n,s){$w(s)?Object.assign(t,n):this._resolveAnimations(r,s).update(t,n)}updateSharedOptions(t,r,n){t&&!$w(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,s){t.active=s;const i=this.getStyle(r,s);this._resolveAnimations(r,n,s).update(t,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[o,c,u]of this._syncList)this[o](c,u);this._syncList=[];const s=n.length,i=r.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,t):i<s&&this._removeElements(i,s-i)}_insertElements(t,r,n=!0){const s=this._cachedMeta,i=s.data,a=t+r;let o;const c=u=>{for(u.length+=r,o=u.length-1;o>=a;o--)u[o]=u[o-r]};for(c(i),o=t;o<a;++o)i[o]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,r),n&&this.updateElements(i,t,r,"reset")}updateElements(t,r,n,s){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(t,r);n._stacked&&Nf(n,s)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,s]=t;this[r](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Pe(dc,"defaults",{}),Pe(dc,"datasetElementType",null),Pe(dc,"dataElementType",null);function d1e(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let s=0,i=r.length;s<i;s++)n=n.concat(r[s].controller.getAllParsedValues(e));e._cache.$bar=cW(n.sort((s,i)=>s-i))}return e._cache.$bar}function f1e(e){const t=e.iScale,r=d1e(t,e.type);let n=t._length,s,i,a,o;const c=()=>{a===32767||a===-32768||(pp(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(s=0,i=r.length;s<i;++s)a=t.getPixelForValue(r[s]),c();for(o=void 0,s=0,i=t.ticks.length;s<i;++s)a=t.getPixelForTick(s),c();return n}function h1e(e,t,r,n){const s=r.barThickness;let i,a;return Pt(s)?(i=t.min*r.categoryPercentage,a=r.barPercentage):(i=s*n,a=1),{chunk:i/n,ratio:a,start:t.pixels[e]-i/2}}function p1e(e,t,r,n){const s=t.pixels,i=s[e];let a=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const c=r.categoryPercentage;a===null&&(a=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-a);const u=i-(i-Math.min(a,o))/2*c;return{chunk:Math.abs(o-a)/2*c/n,ratio:r.barPercentage,start:u}}function m1e(e,t,r,n){const s=r.parse(e[0],n),i=r.parse(e[1],n),a=Math.min(s,i),o=Math.max(s,i);let c=a,u=o;Math.abs(a)>Math.abs(o)&&(c=o,u=a),t[r.axis]=u,t._custom={barStart:c,barEnd:u,start:s,end:i,min:a,max:o}}function CW(e,t,r,n){return Or(e)?m1e(e,t,r,n):t[r.axis]=r.parse(e,n),t}function XD(e,t,r,n){const s=e.iScale,i=e.vScale,a=s.getLabels(),o=s===i,c=[];let u,d,f,h;for(u=r,d=r+n;u<d;++u)h=t[u],f={},f[s.axis]=o||s.parse(a[u],u),c.push(CW(h,f,i,u));return c}function Fw(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function g1e(e,t,r){return e!==0?Ji(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function v1e(e){let t,r,n,s,i;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(s="end",i="start"):(s="start",i="end"),{start:r,end:n,reverse:t,top:s,bottom:i}}function y1e(e,t,r,n){let s=t.borderSkipped;const i={};if(!s){e.borderSkipped=i;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:c,top:u,bottom:d}=v1e(e);s==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?s=u:(r._bottom||0)===n?s=d:(i[ZD(d,a,o,c)]=!0,s=u)),i[ZD(s,a,o,c)]=!0,e.borderSkipped=i}function ZD(e,t,r,n){return n?(e=x1e(e,t,r),e=QD(e,r,t)):e=QD(e,t,r),e}function x1e(e,t,r){return e===t?r:e===r?t:e}function QD(e,t,r){return e==="start"?t:e==="end"?r:e}function b1e(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class Kg extends dc{parsePrimitiveData(t,r,n,s){return XD(t,r,n,s)}parseArrayData(t,r,n,s){return XD(t,r,n,s)}parseObjectData(t,r,n,s){const{iScale:i,vScale:a}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?o:c,d=a.axis==="x"?o:c,f=[];let h,m,p,v;for(h=n,m=n+s;h<m;++h)v=r[h],p={},p[i.axis]=i.parse(Ac(v,u),h),f.push(CW(Ac(v,d),p,a,h));return f}updateRangeFromParsed(t,r,n,s){super.updateRangeFromParsed(t,r,n,s);const i=n._custom;i&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:s}=r,i=this.getParsed(t),a=i._custom,o=Fw(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,s);for(let m=r;m<r+n;m++){const p=this.getParsed(m),v=i||Pt(p[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),w=this._calculateBarIndexPixels(m,d),b=(p._stacks||{})[o.axis],y={horizontal:u,base:v.base,enableBorderRadius:!b||Fw(p._custom)||a===b._top||a===b._bottom,x:u?v.head:w.center,y:u?w.center:v.head,height:u?w.size:Math.abs(v.size),width:u?Math.abs(v.size):w.size};h&&(y.options=f||this.resolveDataElementOptions(m,t[m].active?"active":s));const x=y.options||t[m].options;y1e(y,x,b,a),b1e(y,x,d.ratio),this.updateElement(t[m],m,y,s)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),c=o&&o[n.axis],u=d=>{const f=d._parsed.find(m=>m[n.axis]===c),h=f&&f[d.vScale.axis];if(Pt(h)||isNaN(h))return!0};for(const d of s)if(!(r!==void 0&&u(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===r).shift()}_getAxis(){const t={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[at(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,n){const s=this._getStacks(t,n),i=r!==void 0?s.indexOf(r):-1;return i===-1?s.length-1:i}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,s=[];let i,a;for(i=0,a=r.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=t.barThickness;return{min:o||f1e(r),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,c=this.getParsed(t),u=c._custom,d=Fw(u);let f=c[r.axis],h=0,m=n?this.applyStack(r,c,n):f,p,v;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&Ji(f)!==Ji(u.barEnd)&&(h=0),h+=f);const w=!Pt(i)&&!d?i:h;let b=r.getPixelForValue(w);if(this.chart.getDataVisibility(t)?p=r.getPixelForValue(h+m):p=b,v=p-b,Math.abs(v)<a){v=g1e(v,r,o)*a,f===o&&(b-=v/2);const y=r.getPixelForDecimal(0),x=r.getPixelForDecimal(1),_=Math.min(y,x),j=Math.max(y,x);b=Math.max(Math.min(b,j),_),p=b+v,n&&!d&&(c._stacks[r.axis]._visualValues[s]=r.getValueForPixel(p)-r.getValueForPixel(b))}if(b===r.getPixelForValue(o)){const y=Ji(v)*r.getLineWidthForValue(o)/2;b+=y,v-=y}return{size:v,base:b,head:p,center:p+v/2}}_calculateBarIndexPixels(t,r){const n=r.scale,s=this.options,i=s.skipNull,a=at(s.maxBarThickness,1/0);let o,c;const u=this._getAxisCount();if(r.grouped){const d=i?this._getStackCount(t):r.stackCount,f=s.barThickness==="flex"?p1e(t,r,s,d*u):h1e(t,r,s,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(at(h,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+m;o=f.start+f.chunk*p+f.chunk/2,c=Math.min(a,f.chunk*f.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(a,r.min*r.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,s=n.length;let i=0;for(;i<s;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}Pe(Kg,"id","bar"),Pe(Kg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Pe(Kg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function w1e(e,t,r){let n=1,s=1,i=0,a=0;if(t<lr){const o=e,c=o+t,u=Math.cos(o),d=Math.sin(o),f=Math.cos(c),h=Math.sin(c),m=(x,_,j)=>gp(x,o,c,!0)?1:Math.max(_,_*r,j,j*r),p=(x,_,j)=>gp(x,o,c,!0)?-1:Math.min(_,_*r,j,j*r),v=m(0,u,f),w=m(Dr,d,h),b=p(Dt,u,f),y=p(Dt+Dr,d,h);n=(v-b)/2,s=(w-y)/2,i=-(v+b)/2,a=-(w+y)/2}return{ratioX:n,ratioY:s,offsetX:i,offsetY:a}}class Cu extends dc{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let i=c=>+n[c];if(xt(n[t])){const{key:c="value"}=this._parsing;i=u=>+Ac(n[u],c)}let a,o;for(a=t,o=t+r;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return Ma(this.options.rotation-90)}_getCircumference(){return Ma(this.options.circumference)}_getRotationExtents(){let t=lr,r=-lr;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),a=s._getCircumference();t=Math.min(t,i),r=Math.max(r,i+a)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(Ewe(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:p,offsetY:v}=w1e(f,d,c),w=(n.width-a)/h,b=(n.height-a)/m,y=Math.max(Math.min(w,b)/2,0),x=iW(this.options.radius,y),_=Math.max(x*c,0),j=(x-_)/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=v*x,s.total=this.calculateTotal(),this.outerRadius=x-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,r){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*i/lr)}updateElements(t,r,n,s){const i=s==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,d=(o.left+o.right)/2,f=(o.top+o.bottom)/2,h=i&&u.animateScale,m=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(r,s);let b=this._getRotation(),y;for(y=0;y<r;++y)b+=this._circumference(y,i);for(y=r;y<r+n;++y){const x=this._circumference(y,i),_=t[y],j={x:d+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+x,circumference:x,outerRadius:p,innerRadius:m};w&&(j.options=v||this.resolveDataElementOptions(y,_.active?"active":s)),b+=x,this.updateElement(_,y,j,s)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,s;for(s=0;s<r.length;s++){const i=t._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?lr*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=aN(r._parsed[t],n.options.locale);return{label:s[t]||"",value:i}}getMaxBorderWidth(t){let r=0;const n=this.chart;let s,i,a,o,c;if(!t){for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),t=a.data,o=a.controller;break}}if(!t)return 0;for(s=0,i=t.length;s<i;++s)c=o.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,s=t.length;n<s;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max(at(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pe(Cu,"id","doughnut"),Pe(Cu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pe(Cu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Pe(Cu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const r=t.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:s}}=t.legend.options;return r.labels.map((i,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class qg extends dc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=r,a=this.chart._animationsDisabled;let{start:o,count:c}=qwe(r,s,a);this._drawStart=o,this._drawCount=c,Ywe(r)&&(o=0,c=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:u},t),this.updateElements(s,o,c,t)}updateElements(t,r,n,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,s),h=a.axis,m=o.axis,{spanGaps:p,segment:v}=this.options,w=mp(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||s==="none",y=r+n,x=t.length;let _=r>0&&this.getParsed(r-1);for(let j=0;j<x;++j){const k=t[j],S=b?k:{};if(j<r||j>=y){S.skip=!0;continue}const E=this.getParsed(j),N=Pt(E[m]),O=S[h]=a.getPixelForValue(E[h],j),P=S[m]=i||N?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,E,c):E[m],j);S.skip=isNaN(O)||isNaN(P)||N,S.stop=j>0&&Math.abs(E[h]-_[h])>w,v&&(S.parsed=E,S.raw=u.data[j]),f&&(S.options=d||this.resolveDataElementOptions(j,k.active?"active":s)),b||this.updateElement(k,j,S,s),_=E}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,s=t.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Pe(qg,"id","line"),Pe(qg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Pe(qg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Oj extends Cu{}Pe(Oj,"id","pie"),Pe(Oj,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Pl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mN{constructor(t){Pe(this,"options");this.options=t||{}}static override(t){Object.assign(mN.prototype,t)}init(){}formats(){return Pl()}parse(){return Pl()}format(){return Pl()}add(){return Pl()}diff(){return Pl()}startOf(){return Pl()}endOf(){return Pl()}}var _1e={_date:mN};function j1e(e,t,r,n){const{controller:s,data:i,_sorted:a}=e,o=s._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&i.length){const u=o._reversePixels?Uwe:Zl;if(n){if(s._sharedOptions){const d=i[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=u(i,t,r-f),m=u(i,t,r+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(i,t,r);if(c){const{vScale:f}=s._cachedMeta,{_parsed:h}=e,m=h.slice(0,d.lo+1).reverse().findIndex(v=>!Pt(v[f.axis]));d.lo-=Math.max(0,m);const p=h.slice(d.hi).findIndex(v=>!Pt(v[f.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:i.length-1}}function um(e,t,r,n,s){const i=e.getSortedVisibleDatasetMetas(),a=r[t];for(let o=0,c=i.length;o<c;++o){const{index:u,data:d}=i[o],{lo:f,hi:h}=j1e(i[o],t,a,s);for(let m=f;m<=h;++m){const p=d[m];p.skip||n(p,u,m)}}}function S1e(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,s){const i=t?Math.abs(n.x-s.x):0,a=r?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Bw(e,t,r,n,s){const i=[];return!s&&!e.isPointInArea(t)||um(e,r,t,function(o,c,u){!s&&!vp(o,e.chartArea,0)||o.inRange(t.x,t.y,n)&&i.push({element:o,datasetIndex:c,index:u})},!0),i}function k1e(e,t,r,n){let s=[];function i(a,o,c){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],n),{angle:f}=oW(a,{x:t.x,y:t.y});gp(f,u,d)&&s.push({element:a,datasetIndex:o,index:c})}return um(e,r,t,i),s}function C1e(e,t,r,n,s,i){let a=[];const o=S1e(r);let c=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(t.x,t.y,s);if(n&&!m)return;const p=d.getCenterPoint(s);if(!(!!i||e.isPointInArea(p))&&!m)return;const w=o(t,p);w<c?(a=[{element:d,datasetIndex:f,index:h}],c=w):w===c&&a.push({element:d,datasetIndex:f,index:h})}return um(e,r,t,u),a}function zw(e,t,r,n,s,i){return!i&&!e.isPointInArea(t)?[]:r==="r"&&!n?k1e(e,t,r,s):C1e(e,t,r,n,s,i)}function JD(e,t,r,n,s){const i=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return um(e,r,t,(c,u,d)=>{c[a]&&c[a](t[r],s)&&(i.push({element:c,datasetIndex:u,index:d}),o=o||c.inRange(t.x,t.y,s))}),n&&!o?[]:i}var E1e={evaluateInteractionItems:um,modes:{index(e,t,r,n){const s=$l(t,e),i=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?Bw(e,s,i,n,a):zw(e,s,i,!1,n,a),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(e,t,r,n){const s=$l(t,e),i=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?Bw(e,s,i,n,a):zw(e,s,i,!1,n,a);if(o.length>0){const c=o[0].datasetIndex,u=e.getDatasetMeta(c).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:c,index:d})}return o},point(e,t,r,n){const s=$l(t,e),i=r.axis||"xy",a=r.includeInvisible||!1;return Bw(e,s,i,n,a)},nearest(e,t,r,n){const s=$l(t,e),i=r.axis||"xy",a=r.includeInvisible||!1;return zw(e,s,i,r.intersect,n,a)},x(e,t,r,n){const s=$l(t,e);return JD(e,s,"x",r.intersect,n)},y(e,t,r,n){const s=$l(t,e);return JD(e,s,"y",r.intersect,n)}}};const EW=["left","top","right","bottom"];function Pf(e,t){return e.filter(r=>r.pos===t)}function eM(e,t){return e.filter(r=>EW.indexOf(r.pos)===-1&&r.box.axis===t)}function Af(e,t){return e.sort((r,n)=>{const s=t?n:r,i=t?r:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function N1e(e){const t=[];let r,n,s,i,a,o;for(r=0,n=(e||[]).length;r<n;++r)s=e[r],{position:i,options:{stack:a,stackWeight:o=1}}=s,t.push({index:r,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return t}function P1e(e){const t={};for(const r of e){const{stack:n,pos:s,stackWeight:i}=r;if(!n||!EW.includes(s))continue;const a=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}function A1e(e,t){const r=P1e(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let i,a,o;for(i=0,a=e.length;i<a;++i){o=e[i];const{fullSize:c}=o.box,u=r[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*n:c&&t.availableWidth,o.height=s):(o.width=n,o.height=d?d*s:c&&t.availableHeight)}return r}function O1e(e){const t=N1e(e),r=Af(t.filter(u=>u.box.fullSize),!0),n=Af(Pf(t,"left"),!0),s=Af(Pf(t,"right")),i=Af(Pf(t,"top"),!0),a=Af(Pf(t,"bottom")),o=eM(t,"x"),c=eM(t,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:s.concat(c).concat(a).concat(o),chartArea:Pf(t,"chartArea"),vertical:n.concat(s).concat(c),horizontal:i.concat(a).concat(o)}}function tM(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function NW(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function T1e(e,t,r,n){const{pos:s,box:i}=r,a=e.maxPadding;if(!xt(s)){r.size&&(e[s]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,e[s]+=r.size}i.getPadding&&NW(a,i.getPadding());const o=Math.max(0,t.outerWidth-tM(a,e,"left","right")),c=Math.max(0,t.outerHeight-tM(a,e,"top","bottom")),u=o!==e.w,d=c!==e.h;return e.w=o,e.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function D1e(e){const t=e.maxPadding;function r(n){const s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function M1e(e,t){const r=t.maxPadding;function n(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(t[a],r[a])}),i}return n(e?["left","right"]:["top","bottom"])}function Kf(e,t,r,n){const s=[];let i,a,o,c,u,d;for(i=0,a=e.length,u=0;i<a;++i){o=e[i],c=o.box,c.update(o.width||t.w,o.height||t.h,M1e(o.horizontal,t));const{same:f,other:h}=T1e(t,r,o,n);u|=f&&s.length,d=d||h,c.fullSize||s.push(o)}return u&&Kf(s,t,r,n)||d}function gg(e,t,r,n,s){e.top=r,e.left=t,e.right=t+n,e.bottom=r+s,e.width=n,e.height=s}function rM(e,t,r,n){const s=r.padding;let{x:i,y:a}=t;for(const o of e){const c=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const f=t.w*d,h=u.size||c.height;pp(u.start)&&(a=u.start),c.fullSize?gg(c,s.left,a,r.outerWidth-s.right-s.left,h):gg(c,t.left+u.placed,a,f,h),u.start=a,u.placed+=f,a=c.bottom}else{const f=t.h*d,h=u.size||c.width;pp(u.start)&&(i=u.start),c.fullSize?gg(c,i,s.top,h,r.outerHeight-s.bottom-s.top):gg(c,i,t.top+u.placed,h,f),u.start=i,u.placed+=f,i=c.right}}t.x=i,t.y=a}var Bs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const s=Zs(e.options.layout.padding),i=Math.max(t-s.width,0),a=Math.max(r-s.height,0),o=O1e(e.boxes),c=o.vertical,u=o.horizontal;Tt(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=c.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:r,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),h=Object.assign({},s);NW(h,Zs(n));const m=Object.assign({maxPadding:h,w:i,h:a,x:s.left,y:s.top},s),p=A1e(c.concat(u),f);Kf(o.fullSize,m,f,p),Kf(c,m,f,p),Kf(u,m,f,p)&&Kf(c,m,f,p),D1e(m),rM(o.leftAndTop,m,f,p),m.x+=m.w,m.y+=m.h,rM(o.rightAndBottom,m,f,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Tt(o.chartArea,v=>{const w=v.box;Object.assign(w,e.chartArea),w.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class PW{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,s){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,s?Math.floor(r/s):n)}}isAttached(t){return!0}updateConfig(t){}}class R1e extends PW{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Yg="$chartjs",I1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nM=e=>e===null||e==="";function L1e(e,t){const r=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[Yg]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",nM(s)){const i=BD(e,"width");i!==void 0&&(e.width=i)}if(nM(n))if(e.style.height==="")e.height=e.width/(t||2);else{const i=BD(e,"height");i!==void 0&&(e.height=i)}return e}const AW=I_e?{passive:!0}:!1;function $1e(e,t,r){e&&e.addEventListener(t,r,AW)}function F1e(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,AW)}function B1e(e,t){const r=I1e[e.type]||e.type,{x:n,y:s}=$l(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:s!==void 0?s:null}}function zy(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function z1e(e,t,r){const n=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||zy(o.addedNodes,n),a=a&&!zy(o.removedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function U1e(e,t,r){const n=e.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||zy(o.removedNodes,n),a=a&&!zy(o.addedNodes,n);a&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const xp=new Map;let sM=0;function OW(){const e=window.devicePixelRatio;e!==sM&&(sM=e,xp.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function W1e(e,t){xp.size||window.addEventListener("resize",OW),xp.set(e,t)}function V1e(e){xp.delete(e),xp.size||window.removeEventListener("resize",OW)}function H1e(e,t,r){const n=e.canvas,s=n&&pN(n);if(!s)return;const i=dW((o,c)=>{const u=s.clientWidth;r(o,c),u<s.clientWidth&&r()},window),a=new ResizeObserver(o=>{const c=o[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return a.observe(s),W1e(e,i),a}function Uw(e,t,r){r&&r.disconnect(),t==="resize"&&V1e(e)}function K1e(e,t,r){const n=e.canvas,s=dW(i=>{e.ctx!==null&&r(B1e(i,e))},e);return $1e(n,t,s),s}class q1e extends PW{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(L1e(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[Yg])return!1;const n=r[Yg].initial;["height","width"].forEach(i=>{const a=n[i];Pt(a)?r.removeAttribute(i):r.setAttribute(i,a)});const s=n.style||{};return Object.keys(s).forEach(i=>{r.style[i]=s[i]}),r.width=r.width,delete r[Yg],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const s=t.$proxies||(t.$proxies={}),a={attach:z1e,detach:U1e,resize:H1e}[r]||K1e;s[r]=a(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),s=n[r];if(!s)return;({attach:Uw,detach:Uw,resize:Uw}[r]||F1e)(t,r,s),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,s){return R_e(t,r,n,s)}isAttached(t){const r=t&&pN(t);return!!(r&&r.isConnected)}}function Y1e(e){return!hN()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?R1e:q1e}var _g;let io=(_g=class{constructor(){Pe(this,"x");Pe(this,"y");Pe(this,"active",!1);Pe(this,"options");Pe(this,"$animations")}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return mp(this.x)&&mp(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const s={};return t.forEach(i=>{s[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),s}},Pe(_g,"defaults",{}),Pe(_g,"defaultRoutes"),_g);function G1e(e,t){const r=e.options.ticks,n=X1e(e),s=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Q1e(t):[],a=i.length,o=i[0],c=i[a-1],u=[];if(a>s)return J1e(t,u,i,a/s),u;const d=Z1e(i,t,s);if(a>0){let f,h;const m=a>1?Math.round((c-o)/(a-1)):null;for(vg(t,u,d,Pt(m)?0:o-m,o),f=0,h=a-1;f<h;f++)vg(t,u,d,i[f],i[f+1]);return vg(t,u,d,c,Pt(m)?t.length:c+m),u}return vg(t,u,d),u}function X1e(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),s=e._maxLength/r;return Math.floor(Math.min(n,s))}function Z1e(e,t,r){const n=eje(e),s=t.length/r;if(!n)return Math.max(s,1);const i=Rwe(n);for(let a=0,o=i.length-1;a<o;a++){const c=i[a];if(c>s)return c}return Math.max(s,1)}function Q1e(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function J1e(e,t,r,n){let s=0,i=r[0],a;for(n=Math.ceil(n),a=0;a<e.length;a++)a===i&&(t.push(e[a]),s++,i=r[s*n])}function vg(e,t,r,n,s){const i=at(n,0),a=Math.min(at(s,e.length),e.length);let o=0,c,u,d;for(r=Math.ceil(r),s&&(c=s-n,r=c/Math.floor(c/r)),d=i;d<0;)o++,d=Math.round(i+o*r);for(u=Math.max(i,0);u<a;u++)u===d&&(t.push(e[u]),o++,d=Math.round(i+o*r))}function eje(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const tje=e=>e==="left"?"right":e==="right"?"left":e,iM=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,aM=(e,t)=>Math.min(t||e,e);function oM(e,t){const r=[],n=e.length/t,s=e.length;let i=0;for(;i<s;i+=n)r.push(e[Math.floor(i)]);return r}function rje(e,t,r){const n=e.ticks.length,s=Math.min(t,n-1),i=e._startPixel,a=e._endPixel,o=1e-6;let c=e.getPixelForTick(s),u;if(!(r&&(n===1?u=Math.max(c-i,a-c):t===0?u=(e.getPixelForTick(1)-c)/2:u=(c-e.getPixelForTick(s-1))/2,c+=s<t?u:-u,c<i-o||c>a+o)))return c}function nje(e,t){Tt(e,r=>{const n=r.gc,s=n.length/2;let i;if(s>t){for(i=0;i<s;++i)delete r.data[n[i]];n.splice(0,s)}})}function Of(e){return e.drawTicks?e.tickLength:0}function lM(e,t){if(!e.display)return 0;const r=mn(e.font,t),n=Zs(e.padding);return(Or(e.text)?e.text.length:1)*r.lineHeight+n.height}function sje(e,t){return Wc(e,{scale:t,type:"scale"})}function ije(e,t,r){return Wc(e,{tick:r,index:t,type:"tick"})}function aje(e,t,r){let n=sN(e);return(r&&t!=="right"||!r&&t==="right")&&(n=tje(n)),n}function oje(e,t,r,n){const{top:s,left:i,bottom:a,right:o,chart:c}=e,{chartArea:u,scales:d}=c;let f=0,h,m,p;const v=a-s,w=o-i;if(e.isHorizontal()){if(m=ln(n,i,o),xt(r)){const b=Object.keys(r)[0],y=r[b];p=d[b].getPixelForValue(y)+v-t}else r==="center"?p=(u.bottom+u.top)/2+v-t:p=iM(e,r,t);h=o-i}else{if(xt(r)){const b=Object.keys(r)[0],y=r[b];m=d[b].getPixelForValue(y)-w+t}else r==="center"?m=(u.left+u.right)/2-w+t:m=iM(e,r,t);p=ln(n,a,s),f=r==="left"?-Dr:Dr}return{titleX:m,titleY:p,maxWidth:h,rotation:f}}class rf extends io{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:s}=this;return t=Ii(t,Number.POSITIVE_INFINITY),r=Ii(r,Number.NEGATIVE_INFINITY),n=Ii(n,Number.POSITIVE_INFINITY),s=Ii(s,Number.NEGATIVE_INFINITY),{min:Ii(t,n),max:Ii(r,s),minDefined:Xs(t),maxDefined:Xs(r)}}getMinMax(t){let{min:r,max:n,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let c=0,u=o.length;c<u;++c)a=o[c].controller.getMinMax(this,t),s||(r=Math.min(r,a.min)),i||(n=Math.max(n,a.max));return r=i&&r>n?n:r,n=s&&r>n?r:n,{min:Ii(r,Ii(n,r)),max:Ii(n,Ii(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ht(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=h_e(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?oM(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=G1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ht(this.options.afterUpdate,[this])}beforeSetDimensions(){Ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ht(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ht(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,s,i;for(n=0,s=t.length;n<s;n++)i=t[n],i.label=Ht(r.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=aM(this.ticks.length,t.ticks.maxTicksLimit),s=r.minRotation||0,i=r.maxRotation;let a=s,o,c,u;if(!this._isVisible()||!r.display||s>=i||n<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=pn(this.chart.width-f,0,this.maxWidth);o=t.offset?this.maxWidth/n:m/(n-1),f+6>o&&(o=m/(n-(t.offset?.5:1)),c=this.maxHeight-Of(t.grid)-r.padding-lM(t.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),a=Fwe(Math.min(Math.asin(pn((d.highest.height+6)/o,-1,1)),Math.asin(pn(c/u,-1,1))-Math.asin(pn(h/u,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ht(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const c=lM(s,r.options.font);if(o?(t.width=this.maxWidth,t.height=Of(i)+c):(t.height=this.maxHeight,t.width=Of(i)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=n.padding*2,p=Ma(this.labelRotation),v=Math.cos(p),w=Math.sin(p);if(o){const b=n.mirror?0:w*f.width+v*h.height;t.height=Math.min(this.maxHeight,t.height+b+m)}else{const b=n.mirror?0:v*f.width+w*h.height;t.width=Math.min(this.maxWidth,t.width+b+m)}this._calculatePadding(u,d,w,v)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,s){const{ticks:{align:i,padding:a},position:o}=this.options,c=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;c?u?(h=s*t.width,m=n*r.height):(h=n*t.height,m=s*r.width):i==="start"?m=r.width:i==="end"?h=t.width:i!=="inner"&&(h=t.width/2,m=r.width/2),this.paddingLeft=Math.max((h-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+a)*this.width/(this.width-f),0)}else{let d=r.height/2,f=t.height/2;i==="start"?(d=0,f=t.height):i==="end"&&(d=r.height,f=0),this.paddingTop=d+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ht(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)Pt(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=oM(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,n){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],c=Math.floor(r/aM(r,n));let u=0,d=0,f,h,m,p,v,w,b,y,x,_,j;for(f=0;f<r;f+=c){if(p=t[f].label,v=this._resolveTickFontOptions(f),s.font=w=v.string,b=i[w]=i[w]||{data:{},gc:[]},y=v.lineHeight,x=_=0,!Pt(p)&&!Or(p))x=RD(s,b.data,b.gc,x,p),_=y;else if(Or(p))for(h=0,m=p.length;h<m;++h)j=p[h],!Pt(j)&&!Or(j)&&(x=RD(s,b.data,b.gc,x,j),_+=y);a.push(x),o.push(_),u=Math.max(x,u),d=Math.max(_,d)}nje(i,r);const k=a.indexOf(u),S=o.indexOf(d),E=N=>({width:a[N]||0,height:o[N]||0});return{first:E(0),last:E(r-1),widest:E(k),highest:E(S),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return zwe(this._alignToPixels?Nl(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=ije(this.getContext(),t,n))}return this.$context||(this.$context=sje(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Ma(this.labelRotation),n=Math.abs(Math.cos(r)),s=Math.abs(Math.sin(r)),i=this._getLabelSizes(),a=t.autoSkipPadding||0,o=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*n>o*s?o/n:c/s:c*s<o*n?c/n:o/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:o}=s,c=i.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=Of(i),m=[],p=o.setContext(this.getContext()),v=p.display?p.width:0,w=v/2,b=function(z){return Nl(n,z,v)};let y,x,_,j,k,S,E,N,O,P,A,L;if(a==="top")y=b(this.bottom),S=this.bottom-h,N=y-w,P=b(t.top)+w,L=t.bottom;else if(a==="bottom")y=b(this.top),P=t.top,L=b(t.bottom)-w,S=y+w,N=this.top+h;else if(a==="left")y=b(this.right),k=this.right-h,E=y-w,O=b(t.left)+w,A=t.right;else if(a==="right")y=b(this.left),O=t.left,A=b(t.right)-w,k=y+w,E=this.left+h;else if(r==="x"){if(a==="center")y=b((t.top+t.bottom)/2+.5);else if(xt(a)){const z=Object.keys(a)[0],T=a[z];y=b(this.chart.scales[z].getPixelForValue(T))}P=t.top,L=t.bottom,S=y+w,N=S+h}else if(r==="y"){if(a==="center")y=b((t.left+t.right)/2);else if(xt(a)){const z=Object.keys(a)[0],T=a[z];y=b(this.chart.scales[z].getPixelForValue(T))}k=y-w,E=k-h,O=t.left,A=t.right}const I=at(s.ticks.maxTicksLimit,f),B=Math.max(1,Math.ceil(f/I));for(x=0;x<f;x+=B){const z=this.getContext(x),T=i.setContext(z),C=o.setContext(z),D=T.lineWidth,U=T.color,W=C.dash||[],V=C.dashOffset,ue=T.tickWidth,me=T.tickColor,Ee=T.tickBorderDash||[],xe=T.tickBorderDashOffset;_=rje(this,x,c),_!==void 0&&(j=Nl(n,_,D),u?k=E=O=A=j:S=N=P=L=j,m.push({tx1:k,ty1:S,tx2:E,ty2:N,x1:O,y1:P,x2:A,y2:L,width:D,color:U,borderDash:W,borderDashOffset:V,tickWidth:ue,tickColor:me,tickBorderDash:Ee,tickBorderDashOffset:xe}))}return this._ticksLength=f,this._borderValue=y,m}_computeLabelItems(t){const r=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=i,h=Of(n.grid),m=h+d,p=f?-d:m,v=-Ma(this.labelRotation),w=[];let b,y,x,_,j,k,S,E,N,O,P,A,L="middle";if(s==="top")k=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const B=this._getYAxisLabelAlignment(h);S=B.textAlign,j=B.x}else if(s==="right"){const B=this._getYAxisLabelAlignment(h);S=B.textAlign,j=B.x}else if(r==="x"){if(s==="center")k=(t.top+t.bottom)/2+m;else if(xt(s)){const B=Object.keys(s)[0],z=s[B];k=this.chart.scales[B].getPixelForValue(z)+m}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(s==="center")j=(t.left+t.right)/2-m;else if(xt(s)){const B=Object.keys(s)[0],z=s[B];j=this.chart.scales[B].getPixelForValue(z)}S=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const I=this._getLabelSizes();for(b=0,y=o.length;b<y;++b){x=o[b],_=x.label;const B=i.setContext(this.getContext(b));E=this.getPixelForTick(b)+i.labelOffset,N=this._resolveTickFontOptions(b),O=N.lineHeight,P=Or(_)?_.length:1;const z=P/2,T=B.color,C=B.textStrokeColor,D=B.textStrokeWidth;let U=S;a?(j=E,S==="inner"&&(b===y-1?U=this.options.reverse?"left":"right":b===0?U=this.options.reverse?"right":"left":U="center"),s==="top"?u==="near"||v!==0?A=-P*O+O/2:u==="center"?A=-I.highest.height/2-z*O+O:A=-I.highest.height+O/2:u==="near"||v!==0?A=O/2:u==="center"?A=I.highest.height/2-z*O:A=I.highest.height-P*O,f&&(A*=-1),v!==0&&!B.showLabelBackdrop&&(j+=O/2*Math.sin(v))):(k=E,A=(1-P)*O/2);let W;if(B.showLabelBackdrop){const V=Zs(B.backdropPadding),ue=I.heights[b],me=I.widths[b];let Ee=A-V.top,xe=0-V.left;switch(L){case"middle":Ee-=ue/2;break;case"bottom":Ee-=ue;break}switch(S){case"center":xe-=me/2;break;case"right":xe-=me;break;case"inner":b===y-1?xe-=me:b>0&&(xe-=me/2);break}W={left:xe,top:Ee,width:me+V.width,height:ue+V.height,color:B.backdropColor}}w.push({label:_,font:N,textOffset:A,options:{rotation:v,color:T,strokeColor:C,strokeWidth:D,textAlign:U,textBaseline:L,translation:[j,k],backdrop:W}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Ma(this.labelRotation))return t==="top"?"left":"right";let s="center";return r.align==="start"?s="left":r.align==="end"?s="right":r.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=t+i,c=a.widest.width;let u,d;return r==="left"?s?(d=this.right+i,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-o,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?s?(d=this.left+i,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+o,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:s,width:i,height:a}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,s,i,a),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const s=this.ticks.findIndex(i=>i.value===t);return s>=0?r.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,a;const o=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(i=0,a=s.length;i<a;++i){const c=s[i];r.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=Nl(t,this.left,a)-a/2,d=Nl(t,this.right,o)+o/2,f=h=c):(f=Nl(t,this.top,a)-a/2,h=Nl(t,this.bottom,o)+o/2,u=d=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,h),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,s=this._computeLabelArea();s&&oN(n,s);const i=this.getLabelItems(t);for(const a of i){const o=a.options,c=a.font,u=a.label,d=a.textOffset;yp(n,u,0,d,c,o)}s&&lN(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:s}}=this;if(!n.display)return;const i=mn(n.font),a=Zs(n.padding),o=n.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||xt(r)?(c+=a.bottom,Or(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=a.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=oje(this,c,r,o);yp(t,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:h,textAlign:aje(o,r,s),textBaseline:"middle",translation:[u,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=at(t.grid&&t.grid.z,-1),s=at(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==rf.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=r.length;i<a;++i){const o=r[i];o[n]===this.id&&(!t||o.type===t)&&s.push(o)}return s}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return mn(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class yg{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;uje(r)&&(n=this.register(r));const s=this.items,i=t.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in s||(s[i]=t,lje(t,a,n),this.override&&gr.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,s=this.scope;n in r&&delete r[n],s&&n in gr[s]&&(delete gr[s][n],this.override&&delete Oc[n])}}function lje(e,t,r){const n=hp(Object.create(null),[r?gr.get(r):{},gr.get(t),e.defaults]);gr.set(t,n),e.defaultRoutes&&cje(t,e.defaultRoutes),e.descriptors&&gr.describe(t,e.descriptors)}function cje(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),s=n.pop(),i=[e].concat(n).join("."),a=t[r].split("."),o=a.pop(),c=a.join(".");gr.route(i,s,c,o)})}function uje(e){return"id"in e&&"defaults"in e}class dje{constructor(){this.controllers=new yg(dc,"datasets",!0),this.elements=new yg(io,"elements"),this.plugins=new yg(Object,"plugins"),this.scales=new yg(rf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(s=>{const i=n||this._getRegistryForType(s);n||i.isForType(s)||i===this.plugins&&s.id?this._exec(t,i,s):Tt(s,a=>{const o=n||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,r,n){const s=rN(t);Ht(n["before"+s],[],n),r[t](n),Ht(n["after"+s],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const s=r.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}}var Fi=new dje;class fje{constructor(){this._init=[]}notify(t,r,n,s){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(i,t,r,n);return r==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,r,n,s){s=s||{};for(const i of t){const a=i.plugin,o=a[n],c=[r,s,i.options];if(Ht(o,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,s=at(n.options&&n.options.plugins,{}),i=hje(n);return s===!1&&!r?[]:mje(t,i,s,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,s=(i,a)=>i.filter(o=>!a.some(c=>o.plugin.id===c.plugin.id));this._notify(s(r,n),t,"stop"),this._notify(s(n,r),t,"start")}}function hje(e){const t={},r=[],n=Object.keys(Fi.plugins.items);for(let i=0;i<n.length;i++)r.push(Fi.getPlugin(n[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];r.indexOf(a)===-1&&(r.push(a),t[a.id]=!0)}return{plugins:r,localIds:t}}function pje(e,t){return!t&&e===!1?null:e===!0?{}:e}function mje(e,{plugins:t,localIds:r},n,s){const i=[],a=e.getContext();for(const o of t){const c=o.id,u=pje(n[c],s);u!==null&&i.push({plugin:o,options:gje(e.config,{plugin:o,local:r[c]},u,a)})}return i}function gje(e,{plugin:t,local:r},n,s){const i=e.pluginScopeKeys(t),a=e.getOptionScopes(n,i);return r&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tj(e,t){const r=gr.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function vje(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function yje(e,t){return e===t?"_index_":"_value_"}function cM(e){if(e==="x"||e==="y"||e==="r")return e}function xje(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Dj(e,...t){if(cM(e))return e;for(const r of t){const n=r.axis||xje(r.position)||e.length>1&&cM(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function uM(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function bje(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(r.length)return uM(e,"x",r[0])||uM(e,"y",r[0])}return{}}function wje(e,t){const r=Oc[e.type]||{scales:{}},n=t.scales||{},s=Tj(e.type,t),i=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!xt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Dj(a,o,bje(a,e),gr.scales[o.type]),u=yje(c,s),d=r.scales||{};i[a]=vh(Object.create(null),[{axis:c},o,d[c],d[u]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,c=a.indexAxis||Tj(o,t),d=(Oc[o]||{}).scales||{};Object.keys(d).forEach(f=>{const h=vje(f,c),m=a[h+"AxisID"]||h;i[m]=i[m]||Object.create(null),vh(i[m],[{axis:h},n[m],d[f]])})}),Object.keys(i).forEach(a=>{const o=i[a];vh(o,[gr.scales[o.type],gr.scale])}),i}function TW(e){const t=e.options||(e.options={});t.plugins=at(t.plugins,{}),t.scales=wje(e,t)}function DW(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function _je(e){return e=e||{},e.data=DW(e.data),TW(e),e}const dM=new Map,MW=new Set;function xg(e,t){let r=dM.get(e);return r||(r=t(),dM.set(e,r),MW.add(r)),r}const Tf=(e,t,r)=>{const n=Ac(t,r);n!==void 0&&e.add(n)};class jje{constructor(t){this._config=_je(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=DW(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),TW(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return xg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return xg(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return xg(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return xg(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let s=n.get(t);return(!s||r)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,r,n){const{options:s,type:i}=this,a=this._cachedScopes(t,n),o=a.get(r);if(o)return o;const c=new Set;r.forEach(d=>{t&&(c.add(t),d.forEach(f=>Tf(c,t,f))),d.forEach(f=>Tf(c,s,f)),d.forEach(f=>Tf(c,Oc[i]||{},f)),d.forEach(f=>Tf(c,gr,f)),d.forEach(f=>Tf(c,Pj,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),MW.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:t,type:r}=this;return[t,Oc[r]||{},gr.datasets[r]||{},{type:r},gr,Pj]}resolveNamedOptions(t,r,n,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=fM(this._resolverCache,t,s);let c=a;if(kje(a,r)){i.$shared=!1,n=cl(n)?n():n;const u=this.createResolver(t,n,o);c=Ed(a,n,u)}for(const u of r)i[u]=c[u];return i}createResolver(t,r,n=[""],s){const{resolver:i}=fM(this._resolverCache,t,n);return xt(r)?Ed(i,r,void 0,s):i}}function fM(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=r.join();let i=n.get(s);return i||(i={resolver:uN(t,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(s,i)),i}const Sje=e=>xt(e)&&Object.getOwnPropertyNames(e).some(t=>cl(e[t]));function kje(e,t){const{isScriptable:r,isIndexable:n}=gW(e);for(const s of t){const i=r(s),a=n(s),o=(a||i)&&e[s];if(i&&(cl(o)||Sje(o))||a&&Or(o))return!0}return!1}var Cje="4.5.0";const Eje=["top","bottom","left","right","chartArea"];function hM(e,t){return e==="top"||e==="bottom"||Eje.indexOf(e)===-1&&t==="x"}function pM(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function mM(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Ht(r&&r.onComplete,[e],t)}function Nje(e){const t=e.chart,r=t.options.animation;Ht(r&&r.onProgress,[e],t)}function RW(e){return hN()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Gg={},gM=e=>{const t=RW(e);return Object.values(Gg).filter(r=>r.canvas===t).pop()};function Pje(e,t,r){const n=Object.keys(e);for(const s of n){const i=+s;if(i>=t){const a=e[s];delete e[s],(r>0||i>t)&&(e[i+r]=a)}}}function Aje(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}var po;let Y0=(po=class{static register(...t){Fi.add(...t),vM()}static unregister(...t){Fi.remove(...t),vM()}constructor(t,r){const n=this.config=new jje(r),s=RW(t),i=gM(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Y1e(s)),this.platform.updateConfig(n);const o=this.platform.acquireContext(s,a.aspectRatio),c=o&&o.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Cwe(),this.ctx=o,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fje,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Hwe(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Gg[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ya.listen(this,"complete",mM),ya.listen(this,"progress",Nje),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:s,_aspectRatio:i}=this;return Pt(t)?r&&i?i:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():FD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ID(this.canvas,this.ctx),this}stop(){return ya.stop(this),this}resize(t,r){ya.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,r,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,FD(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Ht(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Tt(r,(n,s)=>{n.id=s})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,s=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let i=[];r&&(i=i.concat(Object.keys(r).map(a=>{const o=r[a],c=Dj(a,o),u=c==="r",d=c==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),Tt(i,a=>{const o=a.options,c=o.id,u=Dj(c,o),d=at(o.type,a.dtype);(o.position===void 0||hM(o.position,u)!==hM(a.dposition))&&(o.position=a.dposition),s[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const h=Fi.getScale(d);f=new h({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(o,t)}),Tt(s,(a,o)=>{a||delete n[o]}),Tt(n,a=>{Bs.configure(this,a,a.options),Bs.addBox(this,a)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((s,i)=>s.index-i.index),n>r){for(let s=r;s<n;++s)this._destroyDatasetMeta(s);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(pM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,s)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=r.length;n<s;n++){const i=r[n];let a=this.getDatasetMeta(n);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=i.indexAxis||Tj(o,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const c=Fi.getController(o),{datasetElementType:u,dataElementType:d}=gr.datasets[o];Object.assign(c,{dataElementType:Fi.getElement(d),datasetElementType:u&&Fi.getElement(u)}),a.controller=new c(this,n),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Tt(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!s&&i.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||Tt(i,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(pM("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Tt(this.scales,t=>{Bs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!CD(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of r){const a=n==="_removeElements"?-i:i;Pje(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(t.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=n(0);for(let i=1;i<r;i++)if(!CD(s,n(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bs.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Tt(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,cl(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),s={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ya.has(this)?this.attached&&!ya.running(this)&&ya.start(this):(this.draw(),mM({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let s,i;for(s=0,i=r.length;s<i;++s){const a=r[s];(!t||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n={meta:t,index:t.index,cancelable:!0},s=X_e(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(s&&oN(r,s),t.controller.draw(),s&&lN(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return vp(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,s){const i=E1e.modes[r];return typeof i=="function"?i(this,t,n,s):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let s=n.filter(i=>i&&i._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=Wc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const s=n?"show":"hide",i=this.getDatasetMeta(t),a=i.controller._resolveAnimations(void 0,s);pp(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),a.update(i,{visible:n}),this.update(o=>o.datasetIndex===t?s:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),ya.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ID(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Gg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(i,a)=>{r.addEventListener(this,i,a),t[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};Tt(this.options.events,i=>n(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(r.removeEventListener(this,c,u),delete t[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){Tt(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},Tt(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const s=n?"set":"remove";let i,a,o,c;for(r==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){a=t[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!Iy(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,n){const s=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),a=i(r,t),o=n?t:i(t,r);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;const i=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:s=[],options:i}=this,a=r,o=this._getActiveElements(t,s,n,a),c=Twe(t),u=Aje(t,this._lastEvent,n,c);n&&(this._lastEvent=null,Ht(i.onHover,[t,o,this],this),c&&Ht(i.onClick,[t,o,this],this));const d=!Iy(o,s);return(d||r)&&(this._active=o,this._updateHoverStyles(o,s,r)),this._lastEvent=u,d}_getActiveElements(t,r,n,s){if(t.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,s)}},Pe(po,"defaults",gr),Pe(po,"instances",Gg),Pe(po,"overrides",Oc),Pe(po,"registry",Fi),Pe(po,"version",Cje),Pe(po,"getChart",gM),po);function vM(){return Tt(Y0.instances,e=>e._plugins.invalidate())}function Oje(e,t,r){const{startAngle:n,x:s,y:i,outerRadius:a,innerRadius:o,options:c}=t,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/a,hi(n-r));if(e.beginPath(),e.arc(s,i,a-u/2,n+f/2,r-f/2),o>0){const h=Math.min(u/o,hi(n-r));e.arc(s,i,o+u/2,r-h/2,n+h/2,!0)}else{const h=Math.min(u/2,a*hi(n-r));if(d==="round")e.arc(s,i,h,r-Dt/2,n+Dt/2,!0);else if(d==="bevel"){const m=2*h*h,p=-m*Math.cos(r+Dt/2)+s,v=-m*Math.sin(r+Dt/2)+i,w=m*Math.cos(n+Dt/2)+s,b=m*Math.sin(n+Dt/2)+i;e.lineTo(p,v),e.lineTo(w,b)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function Tje(e,t,r){const{startAngle:n,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:c}=t;let u=s/o;e.beginPath(),e.arc(i,a,o,n-u,r+u),c>s?(u=s/c,e.arc(i,a,c,r+u,n-u,!0)):e.arc(i,a,s,r+Dr,n-Dr),e.closePath(),e.clip()}function Dje(e){return cN(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Mje(e,t,r,n){const s=Dje(e.options.borderRadius),i=(r-t)/2,a=Math.min(i,n*t/2),o=c=>{const u=(r-Math.min(i,c))*n/2;return pn(c,0,Math.min(i,u))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:pn(s.innerStart,0,a),innerEnd:pn(s.innerEnd,0,a)}}function ou(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function Uy(e,t,r,n,s,i){const{x:a,y:o,startAngle:c,pixelMargin:u,innerRadius:d}=t,f=Math.max(t.outerRadius+n+r-u,0),h=d>0?d+n+r+u:0;let m=0;const p=s-c;if(n){const B=d>0?d-n:0,z=f>0?f-n:0,T=(B+z)/2,C=T!==0?p*T/(T+n):p;m=(p-C)/2}const v=Math.max(.001,p*f-r/Dt)/f,w=(p-v)/2,b=c+w+m,y=s-w-m,{outerStart:x,outerEnd:_,innerStart:j,innerEnd:k}=Mje(t,h,f,y-b),S=f-x,E=f-_,N=b+x/S,O=y-_/E,P=h+j,A=h+k,L=b+j/P,I=y-k/A;if(e.beginPath(),i){const B=(N+O)/2;if(e.arc(a,o,f,N,B),e.arc(a,o,f,B,O),_>0){const D=ou(E,O,a,o);e.arc(D.x,D.y,_,O,y+Dr)}const z=ou(A,y,a,o);if(e.lineTo(z.x,z.y),k>0){const D=ou(A,I,a,o);e.arc(D.x,D.y,k,y+Dr,I+Math.PI)}const T=(y-k/h+(b+j/h))/2;if(e.arc(a,o,h,y-k/h,T,!0),e.arc(a,o,h,T,b+j/h,!0),j>0){const D=ou(P,L,a,o);e.arc(D.x,D.y,j,L+Math.PI,b-Dr)}const C=ou(S,b,a,o);if(e.lineTo(C.x,C.y),x>0){const D=ou(S,N,a,o);e.arc(D.x,D.y,x,b-Dr,N)}}else{e.moveTo(a,o);const B=Math.cos(N)*f+a,z=Math.sin(N)*f+o;e.lineTo(B,z);const T=Math.cos(O)*f+a,C=Math.sin(O)*f+o;e.lineTo(T,C)}e.closePath()}function Rje(e,t,r,n,s){const{fullCircles:i,startAngle:a,circumference:o}=t;let c=t.endAngle;if(i){Uy(e,t,r,n,c,s);for(let u=0;u<i;++u)e.fill();isNaN(o)||(c=a+(o%lr||lr))}return Uy(e,t,r,n,c,s),e.fill(),c}function Ije(e,t,r,n,s){const{fullCircles:i,startAngle:a,circumference:o,options:c}=t,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=c,p=c.borderAlign==="inner";if(!u)return;e.setLineDash(f||[]),e.lineDashOffset=h,p?(e.lineWidth=u*2,e.lineJoin=d||"round"):(e.lineWidth=u,e.lineJoin=d||"bevel");let v=t.endAngle;if(i){Uy(e,t,r,n,v,s);for(let w=0;w<i;++w)e.stroke();isNaN(o)||(v=a+(o%lr||lr))}p&&Tje(e,t,v),c.selfJoin&&v-a>=Dt&&m===0&&d!=="miter"&&Oje(e,t,v),i||(Uy(e,t,r,n,v,s),e.stroke())}class qf extends io{constructor(r){super();Pe(this,"circumference");Pe(this,"endAngle");Pe(this,"fullCircles");Pe(this,"innerRadius");Pe(this,"outerRadius");Pe(this,"pixelMargin");Pe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.getProps(["x","y"],s),{angle:a,distance:o}=oW(i,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,p=at(h,u-c),v=gp(a,c,u)&&c!==u,w=p>=lr||v,b=Lo(o,d+m,f+m);return w&&b}getCenterPoint(r){const{x:n,y:s,startAngle:i,endAngle:a,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(i+a)/2,h=(o+c+d+u)/2;return{x:n+Math.cos(f)*h,y:s+Math.sin(f)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:s}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>lr?Math.floor(s/lr):0,s===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Dt,s||0)),d=i*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Rje(r,this,d,a,o),Ije(r,this,d,a,o),r.restore()}}Pe(qf,"id","arc"),Pe(qf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Pe(qf,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pe(qf,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function IW(e,t,r=t){e.lineCap=at(r.borderCapStyle,t.borderCapStyle),e.setLineDash(at(r.borderDash,t.borderDash)),e.lineDashOffset=at(r.borderDashOffset,t.borderDashOffset),e.lineJoin=at(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=at(r.borderWidth,t.borderWidth),e.strokeStyle=at(r.borderColor,t.borderColor)}function Lje(e,t,r){e.lineTo(r.x,r.y)}function $je(e){return e.stepped?s_e:e.tension||e.cubicInterpolationMode==="monotone"?i_e:Lje}function LW(e,t,r={}){const n=e.length,{start:s=0,end:i=n-1}=r,{start:a,end:o}=t,c=Math.max(s,a),u=Math.min(i,o),d=s<a&&i<a||s>o&&i>o;return{count:n,start:c,loop:t.loop,ilen:u<c&&!d?n+u-c:u-c}}function Fje(e,t,r,n){const{points:s,options:i}=t,{count:a,start:o,loop:c,ilen:u}=LW(s,r,n),d=$je(i);let{move:f=!0,reverse:h}=n||{},m,p,v;for(m=0;m<=u;++m)p=s[(o+(h?u-m:m))%a],!p.skip&&(f?(e.moveTo(p.x,p.y),f=!1):d(e,v,p,h,i.stepped),v=p);return c&&(p=s[(o+(h?u:0))%a],d(e,v,p,h,i.stepped)),!!c}function Bje(e,t,r,n){const s=t.points,{count:i,start:a,ilen:o}=LW(s,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,h,m,p,v,w,b;const y=_=>(a+(u?o-_:_))%i,x=()=>{v!==w&&(e.lineTo(d,w),e.lineTo(d,v),e.lineTo(d,b))};for(c&&(m=s[y(0)],e.moveTo(m.x,m.y)),h=0;h<=o;++h){if(m=s[y(h)],m.skip)continue;const _=m.x,j=m.y,k=_|0;k===p?(j<v?v=j:j>w&&(w=j),d=(f*d+_)/++f):(x(),e.lineTo(_,j),p=k,f=0,v=w=j),b=j}x()}function Mj(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?Bje:Fje}function zje(e){return e.stepped?L_e:e.tension||e.cubicInterpolationMode==="monotone"?$_e:Fl}function Uje(e,t,r,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,r,n)&&s.closePath()),IW(e,t.options),e.stroke(s)}function Wje(e,t,r,n){const{segments:s,options:i}=t,a=Mj(t);for(const o of s)IW(e,i,o.style),e.beginPath(),a(e,t,o,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const Vje=typeof Path2D=="function";function Hje(e,t,r,n){Vje&&!t.options.segment?Uje(e,t,r,n):Wje(e,t,r,n)}class Yf extends io{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;P_e(this._points,n,t,s,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=K_e(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,s=t[r],i=this.points,a=W_e(this,{property:r,start:s,end:s});if(!a.length)return;const o=[],c=zje(n);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:h}=a[u],m=i[f],p=i[h];if(m===p){o.push(m);continue}const v=Math.abs((s-m[r])/(p[r]-m[r])),w=c(m,p,v,n.stepped);w[r]=t[r],o.push(w)}return o.length===1?o[0]:o}pathSegment(t,r,n){return Mj(this)(t,this,r,n)}path(t,r,n){const s=this.segments,i=Mj(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of s)a&=i(t,this,o,{start:r,end:r+n-1});return!!a}draw(t,r,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Hje(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Pe(Yf,"id","line"),Pe(Yf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Pe(Yf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Pe(Yf,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function yM(e,t,r,n){const s=e.options,{[r]:i}=e.getProps([r],n);return Math.abs(t-i)<s.radius+s.hitRadius}class Xg extends io{constructor(r){super();Pe(this,"parsed");Pe(this,"skip");Pe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(r,n){return yM(this,r,"x",n)}inYRange(r,n){return yM(this,r,"y",n)}getCenterPoint(r){const{x:n,y:s}=this.getProps(["x","y"],r);return{x:n,y:s}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const s=n&&r.borderWidth||0;return(n+s)*2}draw(r,n){const s=this.options;this.skip||s.radius<.1||!vp(this,n,this.size(s)/2)||(r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.fillStyle=s.backgroundColor,Aj(r,s,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}Pe(Xg,"id","point"),Pe(Xg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pe(Xg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $W(e,t){const{x:r,y:n,base:s,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let o,c,u,d,f;return e.horizontal?(f=a/2,o=Math.min(r,s),c=Math.max(r,s),u=n-f,d=n+f):(f=i/2,o=r-f,c=r+f,u=Math.min(n,s),d=Math.max(n,s)),{left:o,top:u,right:c,bottom:d}}function $o(e,t,r,n){return e?0:pn(t,r,n)}function Kje(e,t,r){const n=e.options.borderWidth,s=e.borderSkipped,i=mW(n);return{t:$o(s.top,i.top,0,r),r:$o(s.right,i.right,0,t),b:$o(s.bottom,i.bottom,0,r),l:$o(s.left,i.left,0,t)}}function qje(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=Wu(s),a=Math.min(t,r),o=e.borderSkipped,c=n||xt(s);return{topLeft:$o(!c||o.top||o.left,i.topLeft,0,a),topRight:$o(!c||o.top||o.right,i.topRight,0,a),bottomLeft:$o(!c||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:$o(!c||o.bottom||o.right,i.bottomRight,0,a)}}function Yje(e){const t=$W(e),r=t.right-t.left,n=t.bottom-t.top,s=Kje(e,r/2,n/2),i=qje(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function Ww(e,t,r,n){const s=t===null,i=r===null,o=e&&!(s&&i)&&$W(e,n);return o&&(s||Lo(t,o.left,o.right))&&(i||Lo(r,o.top,o.bottom))}function Gje(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Xje(e,t){e.rect(t.x,t.y,t.w,t.h)}function Vw(e,t,r={}){const n=e.x!==r.x?-t:0,s=e.y!==r.y?-t:0,i=(e.x+e.w!==r.x+r.w?t:0)-n,a=(e.y+e.h!==r.y+r.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+i,h:e.h+a,radius:e.radius}}class Zg extends io{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=Yje(this),o=Gje(a.radius)?Fy:Xje;t.save(),(a.w!==i.w||a.h!==i.h)&&(t.beginPath(),o(t,Vw(a,r,i)),t.clip(),o(t,Vw(i,-r,a)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,Vw(i,r)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,r,n){return Ww(this,t,r,n)}inXRange(t,r){return Ww(this,t,null,r)}inYRange(t,r){return Ww(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(r+s)/2:r,y:i?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Pe(Zg,"id","bar"),Pe(Zg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pe(Zg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const xM=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}},Zje=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class bM extends io{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,n){this.maxWidth=t,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=Ht(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(n=>t.filter(n,this.chart.data))),t.sort&&(r=r.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,s=mn(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=xM(n,i);let u,d;r.font=s.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,i,o,c)+10):(d=this.maxHeight,u=this._fitCols(a,s,o,c)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,r,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=s+o;let f=t;i.textAlign="left",i.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((p,v)=>{const w=n+r/2+i.measureText(p.text).width;(v===0||u[u.length-1]+w+2*o>a)&&(f+=d,u[u.length-(v>0?0:1)]=0,m+=d,h++),c[v]={left:0,top:m,row:h,width:w,height:s},u[u.length-1]+=w+o}),f}_fitCols(t,r,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-t;let f=o,h=0,m=0,p=0,v=0;return this.legendItems.forEach((w,b)=>{const{itemWidth:y,itemHeight:x}=Qje(n,r,i,w,s);b>0&&m+x+2*o>d&&(f+=h+o,u.push({width:h,height:m}),p+=h+o,v++,h=m=0),c[b]={left:p,top:m,col:v,width:y,height:x},h=Math.max(h,y),m+=x+o}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:s},rtl:i}}=this,a=Vu(i,this.left,this.width);if(this.isHorizontal()){let o=0,c=ln(n,this.left+s,this.right-this.lineWidths[o]);for(const u of r)o!==u.row&&(o=u.row,c=ln(n,this.left+s,this.right-this.lineWidths[o])),u.top+=this.top+t+s,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+s}else{let o=0,c=ln(n,this.top+t+s,this.bottom-this.columnSizes[o].height);for(const u of r)u.col!==o&&(o=u.col,c=ln(n,this.top+t+s,this.bottom-this.columnSizes[o].height)),u.top=c,u.left+=this.left+s,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;oN(t,this),this._draw(),lN(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:n,ctx:s}=this,{align:i,labels:a}=t,o=gr.color,c=Vu(t.rtl,this.left,this.width),u=mn(a.font),{padding:d}=a,f=u.size,h=f/2;let m;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=u.string;const{boxWidth:p,boxHeight:v,itemHeight:w}=xM(a,f),b=function(k,S,E){if(isNaN(p)||p<=0||isNaN(v)||v<0)return;s.save();const N=at(E.lineWidth,1);if(s.fillStyle=at(E.fillStyle,o),s.lineCap=at(E.lineCap,"butt"),s.lineDashOffset=at(E.lineDashOffset,0),s.lineJoin=at(E.lineJoin,"miter"),s.lineWidth=N,s.strokeStyle=at(E.strokeStyle,o),s.setLineDash(at(E.lineDash,[])),a.usePointStyle){const O={radius:v*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:N},P=c.xPlus(k,p/2),A=S+h;pW(s,O,P,A,a.pointStyleWidth&&p)}else{const O=S+Math.max((f-v)/2,0),P=c.leftForLtr(k,p),A=Wu(E.borderRadius);s.beginPath(),Object.values(A).some(L=>L!==0)?Fy(s,{x:P,y:O,w:p,h:v,radius:A}):s.rect(P,O,p,v),s.fill(),N!==0&&s.stroke()}s.restore()},y=function(k,S,E){yp(s,E.text,k,S+w/2,u,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},x=this.isHorizontal(),_=this._computeTitleHeight();x?m={x:ln(i,this.left+d,this.right-n[0]),y:this.top+d+_,line:0}:m={x:this.left+d,y:ln(i,this.top+_+d,this.bottom-r[0].height),line:0},wW(this.ctx,t.textDirection);const j=w+d;this.legendItems.forEach((k,S)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const E=s.measureText(k.text).width,N=c.textAlign(k.textAlign||(k.textAlign=a.textAlign)),O=p+h+E;let P=m.x,A=m.y;c.setWidth(this.width),x?S>0&&P+O+d>this.right&&(A=m.y+=j,m.line++,P=m.x=ln(i,this.left+d,this.right-n[m.line])):S>0&&A+j>this.bottom&&(P=m.x=P+r[m.line].width+d,m.line++,A=m.y=ln(i,this.top+_+d,this.bottom-r[m.line].height));const L=c.x(P);if(b(L,A,k),P=Kwe(N,P+p+h,x?P+O:this.right,t.rtl),y(c.x(P),A,k),x)m.x+=O+d;else if(typeof k.text!="string"){const I=u.lineHeight;m.y+=FW(k,I)+d}else m.y+=j}),_W(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,n=mn(r.font),s=Zs(r.padding);if(!r.display)return;const i=Vu(t.rtl,this.left,this.width),a=this.ctx,o=r.position,c=n.size/2,u=s.top+c;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=ln(t.align,f,this.right-h);else{const p=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);d=u+ln(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const m=ln(o,f,f+h);a.textAlign=i.textAlign(sN(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,yp(a,r.text,m,d,n)}_computeTitleHeight(){const t=this.options.title,r=mn(t.font),n=Zs(t.padding);return t.display?r.lineHeight+n.height:0}_getLegendItemAt(t,r){let n,s,i;if(Lo(t,this.left,this.right)&&Lo(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],Lo(t,s.left,s.left+s.width)&&Lo(r,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){const r=this.options;if(!tSe(t.type,r))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,i=Zje(s,n);s&&!i&&Ht(r.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!i&&Ht(r.onHover,[t,n,this],this)}else n&&Ht(r.onClick,[t,n,this],this)}}function Qje(e,t,r,n,s){const i=Jje(n,e,t,r),a=eSe(s,n,t.lineHeight);return{itemWidth:i,itemHeight:a}}function Jje(e,t,r,n){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),t+r.size/2+n.measureText(s).width}function eSe(e,t,r){let n=e;return typeof t.text!="string"&&(n=FW(t,r)),n}function FW(e,t){const r=e.text?e.text.length:0;return t*r}function tSe(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var rSe={id:"legend",_element:bM,start(e,t,r){const n=e.legend=new bM({ctx:e.ctx,options:r,chart:e});Bs.configure(e,n,r),Bs.addBox(e,n)},stop(e){Bs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;Bs.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Zs(u.borderWidth);return{text:t[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:s||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class BW extends io{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const s=Or(n.text)?n.text.length:1;this._padding=Zs(n.padding);const i=s*mn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:n,bottom:s,right:i,options:a}=this,o=a.align;let c=0,u,d,f;return this.isHorizontal()?(d=ln(o,n,i),f=r+t,u=i-n):(a.position==="left"?(d=n+t,f=ln(o,s,r),c=Dt*-.5):(d=i-t,f=ln(o,r,s),c=Dt*.5),u=s-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const n=mn(r.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:c,rotation:u}=this._drawArgs(i);yp(t,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:sN(r.align),textBaseline:"middle",translation:[a,o]})}}function nSe(e,t){const r=new BW({ctx:e.ctx,options:t,chart:e});Bs.configure(e,r,t),Bs.addBox(e,r),e.titleBlock=r}var sSe={id:"title",_element:BW,start(e,t,r){nSe(e,r)},stop(e){const t=e.titleBlock;Bs.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;Bs.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gf={average(e){if(!e.length)return!1;let t,r,n=new Set,s=0,i=0;for(t=0,r=e.length;t<r;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();n.add(c.x),s+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((o,c)=>o+c)/n.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=e.length;i<a;++i){const c=e[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Nj(t,u);d<s&&(s=d,o=c)}}if(o){const c=o.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Li(e,t){return t&&(Or(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function xa(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function iSe(e,t){const{element:r,datasetIndex:n,index:s}=t,i=e.getDatasetMeta(n).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:e,label:a,parsed:i.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function wM(e,t){const r=e.chart.ctx,{body:n,footer:s,title:i}=e,{boxWidth:a,boxHeight:o}=t,c=mn(t.bodyFont),u=mn(t.titleFont),d=mn(t.footerFont),f=i.length,h=s.length,m=n.length,p=Zs(t.padding);let v=p.height,w=0,b=n.reduce((_,j)=>_+j.before.length+j.lines.length+j.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,f&&(v+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),b){const _=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;v+=m*_+(b-m)*c.lineHeight+(b-1)*t.bodySpacing}h&&(v+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const x=function(_){w=Math.max(w,r.measureText(_).width+y)};return r.save(),r.font=u.string,Tt(e.title,x),r.font=c.string,Tt(e.beforeBody.concat(e.afterBody),x),y=t.displayColors?a+2+t.boxPadding:0,Tt(n,_=>{Tt(_.before,x),Tt(_.lines,x),Tt(_.after,x)}),y=0,r.font=d.string,Tt(e.footer,x),r.restore(),w+=p.width,{width:w,height:v}}function aSe(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function oSe(e,t,r,n){const{x:s,width:i}=n,a=r.caretSize+r.caretPadding;if(e==="left"&&s+i+a>t.width||e==="right"&&s-i-a<0)return!0}function lSe(e,t,r,n){const{x:s,width:i}=r,{width:a,chartArea:{left:o,right:c}}=e;let u="center";return n==="center"?u=s<=(o+c)/2?"left":"right":s<=i/2?u="left":s>=a-i/2&&(u="right"),oSe(u,e,t,r)&&(u="center"),u}function _M(e,t,r){const n=r.yAlign||t.yAlign||aSe(e,r);return{xAlign:r.xAlign||t.xAlign||lSe(e,t,r,n),yAlign:n}}function cSe(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function uSe(e,t,r){let{y:n,height:s}=e;return t==="top"?n+=r:t==="bottom"?n-=s+r:n-=s/2,n}function jM(e,t,r,n){const{caretSize:s,caretPadding:i,cornerRadius:a}=e,{xAlign:o,yAlign:c}=r,u=s+i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Wu(a);let p=cSe(t,o);const v=uSe(t,c,u);return c==="center"?o==="left"?p+=u:o==="right"&&(p-=u):o==="left"?p-=Math.max(d,h)+s:o==="right"&&(p+=Math.max(f,m)+s),{x:pn(p,0,n.width-t.width),y:pn(v,0,n.height-t.height)}}function bg(e,t,r){const n=Zs(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function SM(e){return Li([],xa(e))}function dSe(e,t,r){return Wc(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function kM(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const zW={beforeTitle:pa,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:pa,beforeBody:pa,beforeLabel:pa,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Pt(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:pa,afterBody:pa,beforeFooter:pa,footer:pa,afterFooter:pa};function Ln(e,t,r,n){const s=e[t].call(r,n);return typeof s>"u"?zW[t].call(r,n):s}class Rj extends io{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&r.options.animation&&n.animations,i=new SW(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=dSe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,s=Ln(n,"beforeTitle",this,t),i=Ln(n,"title",this,t),a=Ln(n,"afterTitle",this,t);let o=[];return o=Li(o,xa(s)),o=Li(o,xa(i)),o=Li(o,xa(a)),o}getBeforeBody(t,r){return SM(Ln(r.callbacks,"beforeBody",this,t))}getBody(t,r){const{callbacks:n}=r,s=[];return Tt(t,i=>{const a={before:[],lines:[],after:[]},o=kM(n,i);Li(a.before,xa(Ln(o,"beforeLabel",this,i))),Li(a.lines,Ln(o,"label",this,i)),Li(a.after,xa(Ln(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(t,r){return SM(Ln(r.callbacks,"afterBody",this,t))}getFooter(t,r){const{callbacks:n}=r,s=Ln(n,"beforeFooter",this,t),i=Ln(n,"footer",this,t),a=Ln(n,"afterFooter",this,t);let o=[];return o=Li(o,xa(s)),o=Li(o,xa(i)),o=Li(o,xa(a)),o}_createItems(t){const r=this._active,n=this.chart.data,s=[],i=[],a=[];let o=[],c,u;for(c=0,u=r.length;c<u;++c)o.push(iSe(this.chart,r[c]));return t.filter&&(o=o.filter((d,f,h)=>t.filter(d,f,h,n))),t.itemSort&&(o=o.sort((d,f)=>t.itemSort(d,f,n))),Tt(o,d=>{const f=kM(t.callbacks,d);s.push(Ln(f,"labelColor",this,d)),i.push(Ln(f,"labelPointStyle",this,d)),a.push(Ln(f,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(t,r){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=Gf[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const c=this._size=wM(this,n),u=Object.assign({},o,c),d=_M(this.chart,n,u),f=jM(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,s){const i=this.getCaretPosition(t,n,s);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(t,r,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Wu(o),{x:h,y:m}=t,{width:p,height:v}=r;let w,b,y,x,_,j;return i==="center"?(_=m+v/2,s==="left"?(w=h,b=w-a,x=_+a,j=_-a):(w=h+p,b=w+a,x=_-a,j=_+a),y=w):(s==="left"?b=h+Math.max(c,d)+a:s==="right"?b=h+p-Math.max(u,f)-a:b=this.caretX,i==="top"?(x=m,_=x-a,w=b-a,y=b+a):(x=m+v,_=x+a,w=b+a,y=b-a),j=x),{x1:w,x2:b,x3:y,y1:x,y2:_,y3:j}}drawTitle(t,r,n){const s=this.title,i=s.length;let a,o,c;if(i){const u=Vu(n.rtl,this.x,this.width);for(t.x=bg(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",a=mn(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,c=0;c<i;++c)r.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,c+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,r,n,s,i){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=i,d=mn(i.bodyFont),f=bg(this,"left",i),h=s.x(f),m=c<d.lineHeight?(d.lineHeight-c)/2:0,p=r.y+m;if(i.usePointStyle){const v={radius:Math.min(u,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},w=s.leftForLtr(h,u)+u/2,b=p+c/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Aj(t,v,w,b),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Aj(t,v,w,b)}else{t.lineWidth=xt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(h,u),w=s.leftForLtr(s.xPlus(h,1),u-2),b=Wu(a.borderRadius);Object.values(b).some(y=>y!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Fy(t,{x:v,y:p,w:u,h:c,radius:b}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Fy(t,{x:w,y:p+1,w:u-2,h:c-2,radius:b}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(v,p,u,c),t.strokeRect(v,p,u,c),t.fillStyle=a.backgroundColor,t.fillRect(w,p+1,u-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=mn(n.bodyFont);let h=f.lineHeight,m=0;const p=Vu(n.rtl,this.x,this.width),v=function(E){r.fillText(E,p.x(t.x+m),t.y+h/2),t.y+=h+i},w=p.textAlign(a);let b,y,x,_,j,k,S;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,t.x=bg(this,w,n),r.fillStyle=n.bodyColor,Tt(this.beforeBody,v),m=o&&w!=="right"?a==="center"?u/2+d:u+2+d:0,_=0,k=s.length;_<k;++_){for(b=s[_],y=this.labelTextColors[_],r.fillStyle=y,Tt(b.before,v),x=b.lines,o&&x.length&&(this._drawColorBox(r,t,_,p,n),h=Math.max(f.lineHeight,c)),j=0,S=x.length;j<S;++j)v(x[j]),h=f.lineHeight;Tt(b.after,v)}m=0,h=f.lineHeight,Tt(this.afterBody,v),t.y-=i}drawFooter(t,r,n){const s=this.footer,i=s.length;let a,o;if(i){const c=Vu(n.rtl,this.x,this.width);for(t.x=bg(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",a=mn(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<i;++o)r.fillText(s[o],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+n.footerSpacing}}drawBackground(t,r,n,s){const{xAlign:i,yAlign:a}=this,{x:o,y:c}=t,{width:u,height:d}=n,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:p}=Wu(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(o+f,c),a==="top"&&this.drawCaret(t,r,n,s),r.lineTo(o+u-h,c),r.quadraticCurveTo(o+u,c,o+u,c+h),a==="center"&&i==="right"&&this.drawCaret(t,r,n,s),r.lineTo(o+u,c+d-p),r.quadraticCurveTo(o+u,c+d,o+u-p,c+d),a==="bottom"&&this.drawCaret(t,r,n,s),r.lineTo(o+m,c+d),r.quadraticCurveTo(o,c+d,o,c+d-m),a==="center"&&i==="left"&&this.drawCaret(t,r,n,s),r.lineTo(o,c+f),r.quadraticCurveTo(o,c,o+f,c),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const a=Gf[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=wM(this,t),c=Object.assign({},a,this._size),u=_M(r,t,c),d=jM(t,c,u,r);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Zs(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,s,r),wW(t,r.textDirection),i.y+=a.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),_W(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,s=t.map(({datasetIndex:o,index:c})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[c],index:c}}),i=!Iy(n,s),a=this._positionChanged(s,r);(i||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(t,i,r,n),o=this._positionChanged(a,t),c=r||!Iy(a,i)||o;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,n,s){const i=this.options;if(t.type==="mouseout")return[];if(!s)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(t,r){const{caretX:n,caretY:s,options:i}=this,a=Gf[i.position].call(this,t,r);return a!==!1&&(n!==a.x||s!==a.y)}}Pe(Rj,"positioners",Gf);var fSe={id:"tooltip",_element:Rj,positioners:Gf,afterInit(e,t,r){r&&(e.tooltip=new Rj({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zW},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hSe=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function pSe(e,t,r,n){const s=e.indexOf(t);if(s===-1)return hSe(e,t,r,n);const i=e.lastIndexOf(t);return s!==i?r:s}const mSe=(e,t)=>e===null?null:pn(Math.round(e),0,t);function CM(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ij extends rf{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:s,label:i}of r)n[s]===i&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Pt(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:pSe(n,t,at(r,t),this._addedLabels),mSe(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=t===0&&r===i.length-1?i:i.slice(t,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=t;a<=r;a++)s.push({value:a});return s}getLabelForValue(t){return CM.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Pe(Ij,"id","category"),Pe(Ij,"defaults",{ticks:{callback:CM}});function gSe(e,t){const r=[],{bounds:s,step:i,min:a,max:o,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=e,m=i||1,p=d-1,{min:v,max:w}=t,b=!Pt(a),y=!Pt(o),x=!Pt(u),_=(w-v)/(f+1);let j=ND((w-v)/p/m)*m,k,S,E,N;if(j<1e-14&&!b&&!y)return[{value:v},{value:w}];N=Math.ceil(w/j)-Math.floor(v/j),N>p&&(j=ND(N*j/p/m)*m),Pt(c)||(k=Math.pow(10,c),j=Math.ceil(j*k)/k),s==="ticks"?(S=Math.floor(v/j)*j,E=Math.ceil(w/j)*j):(S=v,E=w),b&&y&&i&&Lwe((o-a)/i,j/1e3)?(N=Math.round(Math.min((o-a)/j,d)),j=(o-a)/N,S=a,E=o):x?(S=b?a:S,E=y?o:E,N=u-1,j=(E-S)/N):(N=(E-S)/j,yh(N,Math.round(N),j/1e3)?N=Math.round(N):N=Math.ceil(N));const O=Math.max(PD(j),PD(S));k=Math.pow(10,Pt(c)?O:c),S=Math.round(S*k)/k,E=Math.round(E*k)/k;let P=0;for(b&&(h&&S!==a?(r.push({value:a}),S<a&&P++,yh(Math.round((S+P*j)*k)/k,a,EM(a,_,e))&&P++):S<a&&P++);P<N;++P){const A=Math.round((S+P*j)*k)/k;if(y&&A>o)break;r.push({value:A})}return y&&h&&E!==o?r.length&&yh(r[r.length-1].value,o,EM(o,_,e))?r[r.length-1].value=o:r.push({value:o}):(!y||E===o)&&r.push({value:E}),r}function EM(e,t,{horizontal:r,minRotation:n}){const s=Ma(n),i=(r?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/i,a)}class vSe extends rf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return Pt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=c=>s=r?s:c,o=c=>i=n?i:c;if(t){const c=Ji(s),u=Ji(i);c<0&&u<0?o(0):c>0&&u>0&&a(0)}if(s===i){let c=i===0?1:Math.abs(i*.05);o(i+c),t||a(s-c)}this.min=s,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),r=r||11),r&&(s=Math.min(r,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,a=gSe(s,i);return t.bounds==="ticks"&&$we(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const s=(n-r)/Math.max(t.length-1,1)/2;r-=s,n+=s}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return aN(t,this.chart.options.locale,this.options.ticks.format)}}class Lj extends vSe{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=Xs(t)?t:0,this.max=Xs(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Ma(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Pe(Lj,"id","linear"),Pe(Lj,"defaults",{ticks:{callback:hW.formatters.numeric}});const G0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hn=Object.keys(G0);function NM(e,t){return e-t}function PM(e,t){if(Pt(t))return null;const r=e._adapter,{parser:n,round:s,isoWeekday:i}=e._parseOpts;let a=t;return typeof n=="function"&&(a=n(a)),Xs(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(s&&(a=s==="week"&&(mp(i)||i===!0)?r.startOf(a,"isoWeek",i):r.startOf(a,s)),+a)}function AM(e,t,r,n){const s=Hn.length;for(let i=Hn.indexOf(e);i<s-1;++i){const a=G0[Hn[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-t)/(o*a.size))<=n)return Hn[i]}return Hn[s-1]}function ySe(e,t,r,n,s){for(let i=Hn.length-1;i>=Hn.indexOf(r);i--){const a=Hn[i];if(G0[a].common&&e._adapter.diff(s,n,a)>=t-1)return a}return Hn[r?Hn.indexOf(r):0]}function xSe(e){for(let t=Hn.indexOf(e)+1,r=Hn.length;t<r;++t)if(G0[Hn[t]].common)return Hn[t]}function OM(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:s}=nN(r,t),i=r[n]>=t?r[n]:r[s];e[i]=!0}}function bSe(e,t,r,n){const s=e._adapter,i=+s.startOf(t[0].value,n),a=t[t.length-1].value;let o,c;for(o=i;o<=a;o=+s.add(o,1,n))c=r[o],c>=0&&(t[c].major=!0);return t}function TM(e,t,r){const n=[],s={},i=t.length;let a,o;for(a=0;a<i;++a)o=t[a],s[o]=a,n.push({value:o,major:!1});return i===0||!r?n:bSe(e,n,s,r)}class Wy extends rf{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){const n=t.time||(t.time={}),s=this._adapter=new _1e._date(t.adapters.date);s.init(r),vh(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:PM(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!o&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Xs(s)&&!isNaN(s)?s:+r.startOf(Date.now(),n),i=Xs(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=Wwe(s,i,a);return this._unit=r.unit||(n.autoSkip?AM(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):ySe(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:xSe(this._unit),this.initOffsets(s),t.reverse&&o.reverse(),TM(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,n=0,s,i;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?r=1-s:r=(this.getDecimalForValue(t[1])-s)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?n=i:n=(i-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;r=pn(r,0,a),n=pn(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||AM(i.minUnit,r,n,this._getLabelCapacity(r)),o=at(s.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=mp(c)||c===!0,d={};let f=r,h,m;if(u&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,u?"day":a),t.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<n;h=+t.add(h,o,a),m++)OM(d,h,p);return(h===n||s.bounds==="ticks"||m===1)&&OM(d,h,p),Object.keys(d).sort(NM).map(v=>+v)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}format(t,r){const s=this.options.time.displayFormats,i=this._unit,a=r||s[i];return this._adapter.format(t,a)}_tickFormatFunction(t,r,n,s){const i=this.options,a=i.ticks.callback;if(a)return Ht(a,[t,r,n],this);const o=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&o[c],f=u&&o[u],h=n[r],m=u&&f&&h&&h.major;return this._adapter.format(t,s||(m?f:d))}generateTickLabels(t){let r,n,s;for(r=0,n=t.length;r<n;++r)s=t[r],s.label=this._tickFormatFunction(s.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,s=Ma(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,s=n[r.unit]||n.millisecond,i=this._tickFormatFunction(t,0,TM(this,[t],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,n=s.length;r<n;++r)t=t.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const s=this.getLabels();for(r=0,n=s.length;r<n;++r)t.push(PM(this,s[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return cW(t.sort(NM))}}Pe(Wy,"id","time"),Pe(Wy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function wg(e,t,r){let n=0,s=e.length-1,i,a,o,c;r?(t>=e[n].pos&&t<=e[s].pos&&({lo:n,hi:s}=Zl(e,"pos",t)),{pos:i,time:o}=e[n],{pos:a,time:c}=e[s]):(t>=e[n].time&&t<=e[s].time&&({lo:n,hi:s}=Zl(e,"time",t)),{time:i,pos:o}=e[n],{time:a,pos:c}=e[s]);const u=a-i;return u?o+(c-o)*(t-i)/u:o}class DM extends Wy{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=wg(r,this.min),this._tableRange=wg(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,s=[],i=[];let a,o,c,u,d;for(a=0,o=t.length;a<o;++a)u=t[a],u>=r&&u<=n&&s.push(u);if(s.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=s.length;a<o;++a)d=s[a+1],c=s[a-1],u=s[a],Math.round((d+c)/2)!==u&&i.push({time:u,pos:a/(o-1)});return i}_generate(){const t=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((s,i)=>s-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(wg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return wg(this._table,n*this._tableRange+this._minPos,!0)}}Pe(DM,"id","timeseries"),Pe(DM,"defaults",Wy.defaults);const UW="label";function MM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function wSe(e,t){const r=e.options;r&&t&&Object.assign(r,t)}function WW(e,t){e.labels=t}function VW(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:UW;const n=[];e.datasets=t.map(s=>{const i=e.datasets.find(a=>a[r]===s[r]);return!i||!s.data||n.includes(i)?{...s}:(n.push(i),Object.assign(i,s),i)})}function _Se(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UW;const r={labels:[],datasets:[]};return WW(r,e.labels),VW(r,e.datasets,t),r}function jSe(e,t){const{height:r=150,width:n=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:c,plugins:u=[],fallbackContent:d,updateMode:f,...h}=e,m=g.useRef(null),p=g.useRef(null),v=()=>{m.current&&(p.current=new Y0(m.current,{type:a,data:_Se(o,i),options:c&&{...c},plugins:u}),MM(t,p.current))},w=()=>{MM(t,null),p.current&&(p.current.destroy(),p.current=null)};return g.useEffect(()=>{!s&&p.current&&c&&wSe(p.current,c)},[s,c]),g.useEffect(()=>{!s&&p.current&&WW(p.current.config.data,o.labels)},[s,o.labels]),g.useEffect(()=>{!s&&p.current&&o.datasets&&VW(p.current.config.data,o.datasets,i)},[s,o.datasets]),g.useEffect(()=>{p.current&&(s?(w(),setTimeout(v)):p.current.update(f))},[s,c,o.labels,o.datasets,f]),g.useEffect(()=>{p.current&&(w(),setTimeout(v))},[a]),g.useEffect(()=>(v(),()=>w()),[]),te.createElement("canvas",{ref:m,role:"img",height:r,width:n,...h},d)}const SSe=g.forwardRef(jSe);function X0(e,t){return Y0.register(t),g.forwardRef((r,n)=>te.createElement(SSe,{...r,ref:n,type:e}))}const kSe=X0("line",qg),CSe=X0("bar",Kg),ESe=X0("doughnut",Cu),NSe=X0("pie",Oj);Y0.register(Ij,Lj,Zg,Yf,Xg,qf,sSe,fSe,rSe);const RM=["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(236, 72, 153, 0.8)","rgba(14, 165, 233, 0.8)","rgba(34, 197, 94, 0.8)"],Hw=["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(139, 92, 246, 1)","rgba(236, 72, 153, 1)","rgba(14, 165, 233, 1)","rgba(34, 197, 94, 1)"],PSe=({widget:e,onUpdate:t,onDelete:r,editMode:n=!1})=>{const[s,i]=g.useState(null),[a,o]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(!1),h=async x=>{var _;try{const k=(_=(await oe.auth.getSession()).data.session)==null?void 0:_.access_token;if(!k)throw new Error("No authentication token available");let S=[];Array.isArray(x.groupBy)?S=x.groupBy:typeof x.groupBy=="string"?S=[x.groupBy]:Array.isArray(x.groupFields)&&(S=x.groupFields);const E=x.filters||[],N=await fetch("http://localhost:8000/functions/v1/chart-widget-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({groupFields:S,filters:E})});if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const O=await N.json();return O.success?O.data:null}catch(j){return console.error("Widget data fetch error:",j),u(j.message),null}},m={type:"bar",showLegend:!0,responsive:!0,maintainAspectRatio:!1,...e.config},p=e.data_source,v={responsive:m.responsive,maintainAspectRatio:m.maintainAspectRatio,plugins:{legend:{display:m.showLegend,position:"bottom"},title:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1}},scales:m.type!=="pie"&&m.type!=="doughnut"?{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}}:{},animation:{duration:750,easing:"easeInOutQuart"}},w=async()=>{if(p){f(!0),o(!0),u(null);try{const x=await h(p);if(window.lastChartWidgetRawData=x,Array.isArray(x)&&x.length>0&&typeof x[0]=="object"){const _=Object.keys(x[0]).find(N=>N!=="count")||Object.keys(x[0])[0],j="count",k=x.map(N=>N[_]),S=x.map(N=>N[j]),E=[{label:_,data:S,backgroundColor:RM,borderColor:Hw[0],borderWidth:1}];i({labels:k,datasets:E})}else if(x&&x.labels&&x.datasets){const _={...x,datasets:x.datasets.map((j,k)=>({...j,backgroundColor:j.backgroundColor||RM,borderColor:j.borderColor||Hw[k%Hw.length],borderWidth:j.borderWidth||1}))};i(_)}else u("No data available")}catch(x){console.error("Failed to load chart data:",x),u("Failed to load chart data")}finally{f(!1),o(!1)}}},b=()=>{if(!s)return;const _=[["Label",...s.labels],...s.datasets.map(E=>[E.label,...E.data])].map(E=>E.join(",")).join(`
`),j=new Blob([_],{type:"text/csv"}),k=URL.createObjectURL(j),S=document.createElement("a");S.href=k,S.download=`${e.title||"chart-data"}.csv`,S.click(),URL.revokeObjectURL(k)};g.useEffect(()=>{w()},[JSON.stringify(e.config),JSON.stringify(e.data_source)]);const y=()=>{if(!s)return null;switch(m.type){case"line":return l.jsx(kSe,{data:s,options:v});case"pie":return l.jsx(NSe,{data:s,options:v});case"doughnut":return l.jsx(ESe,{data:s,options:v});case"bar":default:return l.jsx(CSe,{data:s,options:v})}};return l.jsxs(De,{children:[l.jsxs(Ke,{className:"flex flex-row items-center justify-between p-4",children:[l.jsx(qe,{className:"text-lg font-semibold",children:e.title||"Chart Widget"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:w,disabled:d,className:"h-8 w-8 p-0",title:"Refresh",children:l.jsx(ea,{className:d?"h-4 w-4 animate-spin":"h-4 w-4"})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:b,disabled:!s,className:"h-8 w-8 p-0",title:"Export CSV",children:l.jsx(US,{className:"h-4 w-4"})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t&&t(),className:"h-8 w-8 p-0",title:"Edit",children:l.jsx(ki,{className:"h-4 w-4"})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:""})]})]})]}),l.jsx(Re,{className:"p-4",children:l.jsx("div",{className:"h-64",children:a&&!s?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(Si,{className:"h-8 w-8 animate-spin"})}):c?l.jsx("div",{className:"flex items-center justify-center h-full text-red-500",children:l.jsx("p",{className:"text-sm",children:"Failed to load data"})}):s?y():l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsx("p",{className:"text-sm",children:"No data available"})})})})]})},ASe=e=>{switch((e==null?void 0:e.toLowerCase())||""){case"server":case"deployment":return l.jsx(La,{className:"h-4 w-4"});case"rack":case"room":case"datacenter":return l.jsx(V_,{className:"h-4 w-4"});default:return l.jsx(BS,{className:"h-4 w-4"})}},OSe=e=>{switch((e==null?void 0:e.toLowerCase())||""){case"server":case"deployment":return"bg-blue-500";case"rack":return"bg-green-500";case"room":return"bg-purple-500";case"datacenter":return"bg-orange-500";case"maintenance":return"bg-yellow-500";case"incident":return"bg-red-500";default:return"bg-gray-500"}},TSe=e=>{const t=Aee(e);return Nee(t)?`Today at ${Qn(t,"HH:mm")}`:Pee(t)?`Yesterday at ${Qn(t,"HH:mm")}`:Qn(t,"MMM dd, yyyy HH:mm")},DSe=({widget:e,onUpdate:t,onDelete:r,editMode:n=!1})=>{const[s,i]=g.useState([]),[a,o]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(!1),[h,m]=g.useState(1),[p,v]=g.useState({});or(`${e.id}_page`,h,m),or(`${e.id}_filters`,p,v);const w=async()=>{var y;try{const _=(y=(await oe.auth.getSession()).data.session)==null?void 0:y.access_token;if(!_)throw new Error("No authentication token available");const j=await fetch("http://localhost:8000/functions/v1/widget-data?action=timeline",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({filters:e.filters||[],config:e.data_source||{}})});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const k=await j.json();return k.success?k.data||[]:[]}catch(x){return console.error("Timeline data fetch error:",x),u(x.message),[]}},b=async()=>{f(!0),o(!0),u(null);try{const y=await w();i(y)}catch(y){console.error("Failed to load timeline data:",y)}finally{f(!1),o(!1)}};return g.useEffect(()=>{b()},[e.filters]),l.jsxs(De,{className:"h-full",children:[l.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(qe,{className:"text-sm font-medium",children:e.title}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsxs(Fe,{variant:"secondary",className:"text-xs",children:[s.length," events"]}),l.jsx(G,{variant:"ghost",size:"sm",onClick:b,disabled:a||d,className:"h-8 w-8 p-0",children:l.jsx(ea,{className:`h-4 w-4 ${d?"animate-spin":""}`})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t&&t(),className:"h-8 w-8 p-0",children:l.jsx(ki,{className:"h-4 w-4"})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:""})]})]})]}),l.jsx(Re,{className:"p-4",children:l.jsx("div",{className:"max-h-80 overflow-y-auto",children:a&&s.length===0?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(Si,{className:"h-8 w-8 animate-spin"})}):c?l.jsx("div",{className:"flex items-center justify-center h-32 text-red-500",children:l.jsx("p",{className:"text-sm",children:"Failed to load timeline data"})}):s.length===0?l.jsx("div",{className:"flex items-center justify-center h-32 text-gray-400",children:l.jsx("p",{className:"text-sm",children:"No events found"})}):l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-px bg-gray-200"}),l.jsx("div",{className:"space-y-4",children:s.map(y=>l.jsxs("div",{className:"relative flex items-start space-x-4",children:[l.jsx("div",{className:`flex-shrink-0 w-3 h-3 rounded-full ${OSe(y.category)} relative z-10`}),l.jsx("div",{className:"flex-grow min-w-0 pb-4",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-grow",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[ASe(y.category),l.jsx("span",{className:"font-medium text-sm",children:y.title}),l.jsx(Fe,{variant:"outline",className:"text-xs",children:y.category})]}),y.description&&l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:y.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[l.jsx("span",{children:TSe(y.timestamp)}),y.server_name&&l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx(La,{className:"h-3 w-3"}),l.jsx("span",{children:y.server_name})]}),y.rack_name&&l.jsxs("span",{children:["Rack: ",y.rack_name]}),y.room_name&&l.jsxs("span",{children:["Room: ",y.room_name]})]})]})})})]},y.id))})]})})})]})};class MSe{constructor(t){Pe(this,"query");Pe(this,"options");this.options=t,this.query=oe.from(t.table),t.select?this.query=this.query.select(t.select):t.aggregation==="count"?this.query=this.query.select("*",{count:"exact"}):this.query=this.query.select("*")}applyServerFilters(t){var r,n,s,i,a,o,c,u,d,f;return(r=t.models)!=null&&r.length&&(this.query=this.query.in("model",t.models)),(n=t.dc_sites)!=null&&n.length&&(this.query=this.query.in("dc_site",t.dc_sites)),(s=t.dc_buildings)!=null&&s.length&&(this.query=this.query.in("dc_building",t.dc_buildings)),(i=t.dc_floors)!=null&&i.length&&(this.query=this.query.in("dc_floor",t.dc_floors)),(a=t.dc_rooms)!=null&&a.length&&(this.query=this.query.in("dc_room",t.dc_rooms)),(o=t.allocations)!=null&&o.length&&(this.query=this.query.in("allocation",t.allocations)),(c=t.environments)!=null&&c.length&&(this.query=this.query.in("environment",t.environments)),(u=t.status)!=null&&u.length&&(this.query=this.query.in("status",t.status)),(d=t.device_types)!=null&&d.length&&(this.query=this.query.in("device_type",t.device_types)),(f=t.brands)!=null&&f.length&&(this.query=this.query.in("brand",t.brands)),this}applyBasicFilters(t){return t.forEach(r=>{switch(r.operator){case"equals":this.query=this.query.eq(r.field,r.value);break;case"not_equals":this.query=this.query.neq(r.field,r.value);break;case"contains":this.query=this.query.ilike(r.field,`%${r.value}%`);break;case"in":this.query=this.query.in(r.field,Array.isArray(r.value)?r.value:[r.value]);break;case"not_in":this.query=this.query.not(r.field,"in",Array.isArray(r.value)?r.value:[r.value]);break;case"gt":this.query=this.query.gt(r.field,r.value);break;case"gte":this.query=this.query.gte(r.field,r.value);break;case"lt":this.query=this.query.lt(r.field,r.value);break;case"lte":this.query=this.query.lte(r.field,r.value);break;default:console.warn(`Unknown filter operator: ${r.operator}`)}}),this}async execute(){var t,r;try{this.options.table==="servers"&&this.options.serverFilters?this.applyServerFilters(this.options.serverFilters):(t=this.options.basicFilters)!=null&&t.length&&this.applyBasicFilters(this.options.basicFilters),this.options.groupBy&&this.options.aggregation==="count"&&(this.query=oe.from(this.options.table).select(`${this.options.groupBy}, count(*)`,{count:"exact"}),this.options.table==="servers"&&this.options.serverFilters?this.applyServerFilters(this.options.serverFilters):(r=this.options.basicFilters)!=null&&r.length&&this.applyBasicFilters(this.options.basicFilters)),this.options.orderBy&&(this.query=this.query.order(this.options.orderBy)),this.options.limit&&(this.query=this.query.limit(this.options.limit));const n=await this.query;if(n.error)throw n.error;return{data:n.data,count:n.count,error:null}}catch(n){return console.error("Query execution error:",n),{data:null,count:0,error:n instanceof Error?n.message:"Query execution failed"}}}getQuery(){return this.query}}async function RSe(e){return new MSe(e).execute()}const ISe=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(null),{toast:s}=Cr(),i=async b=>{t(!0),n(null);try{const{data:y,error:x}=await oe.functions.invoke("widget-data",{method:"POST",body:{action:"query",config:b}});if(x)throw x;if(y.success)return y.data;throw new Error(y.error||"Failed to query data")}catch(y){const x=y.message||"Failed to query data";return n(x),s({title:"Error",description:x,variant:"destructive"}),null}finally{t(!1)}},a=async b=>{var y;t(!0),n(null);try{if(b.table==="servers"&&b.serverFilters){const x={table:b.table,serverFilters:b.serverFilters,aggregation:b.aggregation,groupBy:b.groupBy,orderBy:b.groupBy,limit:100},_=await RSe(x);if(_.error)throw new Error(_.error);return o(_.data,b)}else return i({table:b.table,groupBy:b.groupBy,aggregation:b.aggregation,filters:((y=b.basicFilters)==null?void 0:y.map(x=>({field:x.field,operator:x.operator,value:x.value})))||[],dateRange:b.dateRange})}catch(x){const _=x.message||"Failed to query enhanced data";return n(_),s({title:"Error",description:_,variant:"destructive"}),null}finally{t(!1)}},o=(b,y)=>{if(!b||b.length===0)return{labels:[],datasets:[{label:"No Data",data:[],backgroundColor:["#e5e7eb"]}],total:0};if(y.groupBy){const x=b.map(j=>j[y.groupBy]||"Unknown"),_=b.map(j=>j.count||0);return{labels:x,datasets:[{label:y.aggregation==="count"?"Count":y.aggregation||"Value",data:_,backgroundColor:c(x.length)}],total:_.reduce((j,k)=>j+k,0)}}else return{labels:["Total"],datasets:[{label:"Count",data:[b.length],backgroundColor:["#3b82f6"]}],total:b.length}},c=b=>{const y=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"],x=[];for(let _=0;_<b;_++)x.push(y[_%y.length]);return x},u=async b=>{t(!0),n(null);try{const{data:y,error:x}=await oe.functions.invoke("widget-data",{method:"POST",body:{action:"timeline",filters:b||[]}});if(x)throw x;if(y.success)return y.data||[];throw new Error(y.error||"Failed to get timeline data")}catch(y){const x=y.message||"Failed to get timeline data";return n(x),s({title:"Error",description:x,variant:"destructive"}),[]}finally{t(!1)}},d=async b=>i({table:"servers",groupBy:"status",aggregation:"count",filters:b||[]}),f=async b=>i({table:"servers",groupBy:"deployment_status",aggregation:"count",filters:b||[]}),h=async(b="room",y)=>i({table:"servers",groupBy:b==="room"?"room_name":"rack_name",aggregation:"count",filters:y||[]}),m=async b=>i({table:"servers",groupBy:"hardware_type",aggregation:"count",filters:b||[]}),p=async(b="month",y)=>{const x=w(b);return i({table:"servers",groupBy:b,aggregation:"count",filters:y||[],dateRange:{field:"created_at",start:x.start,end:x.end}})},v=async b=>{t(!0),n(null);try{const{data:y,error:x}=await oe.functions.invoke("widget-data",{method:"POST",body:{action:"rack_utilization",filters:b||[]}});if(x)throw x;if(y.success)return y.data;throw new Error(y.error||"Failed to get rack utilization data")}catch(y){const x=y.message||"Failed to get rack utilization data";return n(x),s({title:"Error",description:x,variant:"destructive"}),null}finally{t(!1)}},w=b=>{const y=new Date,x=new Date;switch(b){case"day":x.setDate(x.getDate()-30);break;case"week":x.setDate(x.getDate()-12*7);break;case"month":x.setMonth(x.getMonth()-12);break}return{start:x.toISOString(),end:y.toISOString()}};return{isLoading:e,error:r,queryData:i,queryEnhancedData:a,getTimelineData:u,getServerMetrics:d,getDeploymentStatus:f,getServersByLocation:h,getServersByHardware:m,getServersOverTime:p,getRackUtilization:v}},LSe=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),$Se=({widget:e,onUpdate:t,onDelete:r,editMode:n=!1})=>{const[s,i]=g.useState(1),[a,o]=g.useState({});or(`${e.id}_page`,s,i),or(`${e.id}_filters`,a,o);const[c,u]=g.useState(null),[d,f]=g.useState(null),{queryEnhancedData:h,isLoading:m}=ISe(),p=async()=>{f(null);try{const v=e.data_source;if(!v)throw new Error("No data source configured");const w={table:v.table||"servers",aggregation:v.aggregation||"count",groupBy:v.groupBy};let b=[];Array.isArray(e.filters)&&(b=b.concat(e.filters)),Array.isArray(v.filters)&&(b=b.concat(v.filters)),Array.isArray(e.server_filters)&&(b=b.concat(e.server_filters)),b.length>0&&(w.basicFilters=b.map(k=>({field:k.field,operator:k.operator||"equals",value:k.value})));const y=await h(w);if(!y)throw new Error("No data returned");const x=y.total??y.value??0;let _=l.jsx(La,{className:"h-6 w-6"}),j="bg-blue-500";e.title.toLowerCase().includes("active")?(_=l.jsx(bK,{className:"h-6 w-6"}),j="bg-green-500"):e.title.toLowerCase().includes("production")?(_=l.jsx(La,{className:"h-6 w-6"}),j="bg-green-500"):e.title.toLowerCase().includes("ready")?(_=l.jsx(FK,{className:"h-6 w-6"}),j="bg-yellow-500"):e.title.toLowerCase().includes("total")&&(_=l.jsx(La,{className:"h-6 w-6"}),j="bg-blue-500"),u({label:e.title,value:x,icon:_,color:j})}catch(v){console.error("Failed to load metric data:",v),f("Failed to load metric data")}};return g.useEffect(()=>{p()},[e.filters,e.server_filters,e.data_source]),l.jsxs(De,{className:"h-full",children:[l.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(qe,{className:"text-sm font-medium",children:e.title}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:p,disabled:m,className:"h-8 w-8 p-0",children:l.jsx(ea,{className:`h-4 w-4 ${m?"animate-spin":""}`})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t&&t(),className:"h-8 w-8 p-0",children:l.jsx(ki,{className:"h-4 w-4"})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:""})]})]})]}),l.jsx(Re,{className:"p-6",children:m&&!c?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(Si,{className:"h-8 w-8 animate-spin"})}):d?l.jsx("div",{className:"flex items-center justify-center h-32 text-red-500",children:l.jsx("p",{className:"text-sm",children:"Failed to load metric"})}):c?l.jsxs("div",{className:"relative flex flex-col h-32",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center",style:{paddingTop:"30px",paddingBottom:"30px"},children:l.jsx("div",{className:"text-8xl font-bold",children:LSe(c.value)})}),l.jsxs("div",{className:"flex items-center justify-between px-2 pb-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:c.label}),l.jsx("div",{className:`p-2 rounded-lg ${c.color} text-white`,children:l.jsx("div",{className:"h-4 w-4",children:c.icon})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-32 text-gray-400",children:l.jsx("p",{className:"text-sm",children:"No data available"})})})]})},FSe=()=>{const[e,t]=g.useState({models:[],dc_sites:[],dc_buildings:[],dc_floors:[],dc_rooms:[],allocations:[],environments:[],status:[],device_types:[],brands:[]}),[r,n]=g.useState({availableBuildings:[],availableFloors:[],availableRooms:[]}),[s,i]=g.useState(!1),[a,o]=g.useState(null),{enums:c}=Lc(),u=g.useCallback(async()=>{i(!0),o(null);try{const[{data:h},{data:m},{data:p},{data:v},{data:w},{data:b}]=await Promise.all([oe.from("servers").select("model").not("model","is",null),oe.from("servers").select("dc_site").not("dc_site","is",null),oe.from("servers").select("dc_building").not("dc_building","is",null),oe.from("servers").select("dc_floor").not("dc_floor","is",null),oe.from("servers").select("dc_room").not("dc_room","is",null),oe.from("servers").select("brand").not("brand","is",null)]),y=(_,j)=>[...new Set((_==null?void 0:_.map(k=>k[j]).filter(Boolean))||[])],x={models:y(h||[],"model"),dc_sites:y(m||[],"dc_site"),dc_buildings:y(p||[],"dc_building"),dc_floors:y(v||[],"dc_floor"),dc_rooms:y(w||[],"dc_room"),brands:y(b||[],"brand"),allocations:(c==null?void 0:c.allocationTypes)||[],environments:(c==null?void 0:c.environmentTypes)||[],status:(c==null?void 0:c.status)||[],device_types:(c==null?void 0:c.deviceTypes)||[]};t(x),n({availableBuildings:x.dc_buildings,availableFloors:x.dc_floors,availableRooms:x.dc_rooms})}catch(h){console.error("Error fetching filter options:",h),o(h instanceof Error?h.message:"Failed to fetch filter options")}finally{i(!1)}},[c]),d=g.useCallback(async(h,m,p)=>{try{let v=e.dc_buildings,w=e.dc_floors,b=e.dc_rooms;if(h){const{data:y}=await oe.from("servers").select("dc_building").eq("dc_site",h).not("dc_building","is",null);v=[...new Set((y==null?void 0:y.map(x=>x.dc_building).filter(Boolean))||[])]}if(h&&m){const{data:y}=await oe.from("servers").select("dc_floor").eq("dc_site",h).eq("dc_building",m).not("dc_floor","is",null);w=[...new Set((y==null?void 0:y.map(x=>x.dc_floor).filter(Boolean))||[])]}if(h&&m&&p){const{data:y}=await oe.from("servers").select("dc_room").eq("dc_site",h).eq("dc_building",m).eq("dc_floor",p).not("dc_room","is",null);b=[...new Set((y==null?void 0:y.map(x=>x.dc_room).filter(Boolean))||[])]}n({selectedSite:h,availableBuildings:v,selectedBuilding:m,availableFloors:w,selectedFloor:p,availableRooms:b})}catch(v){console.error("Error updating hierarchical filters:",v)}},[e]),f=g.useCallback(async h=>{var m,p,v,w,b,y,x,_,j,k;try{let S=oe.from("servers").select("id",{count:"exact"});(m=h.models)!=null&&m.length&&(S=S.in("model",h.models)),(p=h.dc_sites)!=null&&p.length&&(S=S.in("dc_site",h.dc_sites)),(v=h.dc_buildings)!=null&&v.length&&(S=S.in("dc_building",h.dc_buildings)),(w=h.dc_floors)!=null&&w.length&&(S=S.in("dc_floor",h.dc_floors)),(b=h.dc_rooms)!=null&&b.length&&(S=S.in("dc_room",h.dc_rooms)),(y=h.allocations)!=null&&y.length&&(S=S.in("allocation",h.allocations)),(x=h.environments)!=null&&x.length&&(S=S.in("environment",h.environments)),(_=h.status)!=null&&_.length&&(S=S.in("status",h.status)),(j=h.device_types)!=null&&j.length&&(S=S.in("device_type",h.device_types)),(k=h.brands)!=null&&k.length&&(S=S.in("brand",h.brands));const{count:E,error:N}=await S;if(N)throw N;return{isValid:!0,errors:[],warnings:E===0?["No servers match the selected filters"]:[],resultCount:E||0}}catch(S){return{isValid:!1,errors:[S instanceof Error?S.message:"Filter validation failed"],warnings:[],resultCount:0}}},[]);return g.useEffect(()=>{c&&u()},[c,u]),{filterOptions:e,hierarchicalState:r,isLoading:s,error:a,updateHierarchicalFilters:d,validateFilters:f,refetch:u}},BSe=({filters:e,onChange:t,onValidate:r,className:n=""})=>{var x;const{filterOptions:s,hierarchicalState:i,isLoading:a,error:o,updateHierarchicalFilters:c,validateFilters:u}=FSe(),[d,f]=g.useState(null),[h,m]=g.useState(!1),p=(_,j)=>{const k={...e,[_]:j};t(k)},v=(_,j,k)=>{const S=e[_]||[];let E;k?E=[...S,j]:E=S.filter(N=>N!==j),p(_,E.length>0?E:void 0)},w=async(_,j)=>{_==="site"?(p("dc_sites",[j]),p("dc_buildings",void 0),p("dc_floors",void 0),p("dc_rooms",void 0),await c(j)):_==="building"?(p("dc_buildings",[j]),p("dc_floors",void 0),p("dc_rooms",void 0),await c(i.selectedSite,j)):_==="floor"?(p("dc_floors",[j]),p("dc_rooms",void 0),await c(i.selectedSite,i.selectedBuilding,j)):_==="room"&&p("dc_rooms",[j])},b=()=>{t({logic:e.logic||"AND",hierarchical_filtering:e.hierarchical_filtering!==!1})};g.useEffect(()=>{const j=setTimeout(async()=>{if(Object.keys(e).some(k=>k!=="logic"&&k!=="hierarchical_filtering"&&e[k])){m(!0);try{const k=await u(e);f(k),r==null||r(k)}catch(k){console.error("Filter validation error:",k)}finally{m(!1)}}else f(null),r==null||r({isValid:!0,errors:[],warnings:[]})},500);return()=>clearTimeout(j)},[e,u,r]);const y=Object.keys(e).filter(_=>_!=="logic"&&_!=="hierarchical_filtering"&&e[_]).length;return a?l.jsx(De,{className:n,children:l.jsx(Re,{className:"p-4",children:l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading filter options..."})})}):o?l.jsxs(Oa,{variant:"destructive",className:n,children:[l.jsx(Ia,{className:"h-4 w-4"}),l.jsxs(ic,{children:["Failed to load filter options: ",o]})]}):l.jsxs(De,{className:n,children:[l.jsxs(Ke,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(vc,{className:"h-4 w-4"}),l.jsx(qe,{className:"text-base",children:"Server Selection"}),y>0&&l.jsxs(Fe,{variant:"secondary",className:"text-xs",children:[y," active"]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:y>0&&l.jsx(G,{variant:"ghost",size:"sm",onClick:b,className:"h-8 text-xs",children:"Clear All"})})]}),l.jsx(Gt,{children:"Filter servers by model, data center location, allocation, and environment"})]}),l.jsxs(Re,{className:"pt-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Filter Logic"}),l.jsxs(ke,{value:e.logic||"AND",onValueChange:_=>p("logic",_),children:[l.jsx(_e,{className:"w-32",children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"AND",children:"AND (All)"}),l.jsx(q,{value:"OR",children:"OR (Any)"})]})]}),l.jsx("div",{style:{marginBottom:"10px"}})]}),l.jsx(Hi,{}),l.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[l.jsx(J,{children:"Models"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.models.map(_=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Co,{id:`model-${_}`,checked:(e.models||[]).includes(_),onCheckedChange:j=>v("models",_,j)}),l.jsx(J,{htmlFor:`model-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),l.jsx(Hi,{style:{marginBottom:"10px"}}),l.jsxs("div",{className:"space-y-4",style:{marginBottom:"10px"},children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(J,{children:"Data Center Location"}),l.jsx(Co,{id:"hierarchical-filtering",checked:e.hierarchical_filtering!==!1,onCheckedChange:_=>p("hierarchical_filtering",_)}),l.jsx(J,{htmlFor:"hierarchical-filtering",className:"text-sm font-normal",children:"Hierarchical filtering"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Site"}),l.jsxs(ke,{value:i.selectedSite||"",onValueChange:_=>w("site",_),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select site"})}),l.jsx(je,{children:s.dc_sites.map(_=>l.jsx(q,{value:_,children:_},_))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Building"}),l.jsxs(ke,{value:i.selectedBuilding||"",onValueChange:_=>w("building",_),disabled:e.hierarchical_filtering!==!1&&!i.selectedSite,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select building"})}),l.jsx(je,{children:i.availableBuildings.map(_=>l.jsx(q,{value:_,children:_},_))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Floor"}),l.jsxs(ke,{value:i.selectedFloor||"",onValueChange:_=>w("floor",_),disabled:e.hierarchical_filtering!==!1&&!i.selectedBuilding,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select floor"})}),l.jsx(je,{children:i.availableFloors.map(_=>l.jsx(q,{value:_,children:_},_))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Room"}),l.jsxs(ke,{value:((x=e.dc_rooms)==null?void 0:x[0])||"",onValueChange:_=>w("room",_),disabled:e.hierarchical_filtering!==!1&&!i.selectedFloor,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select room"})}),l.jsx(je,{children:i.availableRooms.map(_=>l.jsx(q,{value:_,children:_},_))})]})]})]})]}),l.jsx(Hi,{style:{marginBottom:"10px"}}),l.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[l.jsx(J,{children:"Allocation Types"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.allocations.map(_=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Co,{id:`allocation-${_}`,checked:(e.allocations||[]).includes(_),onCheckedChange:j=>v("allocations",_,j)}),l.jsx(J,{htmlFor:`allocation-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),l.jsx(Hi,{style:{marginBottom:"10px"}}),l.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[l.jsx(J,{children:"Environments"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.environments.map(_=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Co,{id:`environment-${_}`,checked:(e.environments||[]).includes(_),onCheckedChange:j=>v("environments",_,j)}),l.jsx(J,{htmlFor:`environment-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),l.jsx(Hi,{style:{marginBottom:"10px"}}),l.jsxs("div",{className:"space-y-3",style:{marginBottom:"10px"},children:[l.jsx(J,{children:"Status"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.status.map(_=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Co,{id:`status-${_}`,checked:(e.status||[]).includes(_),onCheckedChange:j=>v("status",_,j)}),l.jsx(J,{htmlFor:`status-${_}`,className:"text-sm font-normal",children:_})]},_))})]}),d&&l.jsxs("div",{className:"space-y-2",children:[d.errors.length>0&&l.jsxs(Oa,{variant:"destructive",children:[l.jsx(Ia,{className:"h-4 w-4"}),l.jsx(ic,{children:d.errors.join(", ")})]}),d.warnings.length>0&&l.jsxs(Oa,{children:[l.jsx(Ia,{className:"h-4 w-4"}),l.jsx(ic,{children:d.warnings.join(", ")})]}),d.isValid&&d.resultCount!==void 0&&l.jsx("div",{className:"text-sm text-muted-foreground",children:h?"Validating...":`${d.resultCount} servers match these filters`})]})]})]})},zSe=({widget:e,open:t,onOpenChange:r,onSave:n})=>{const{toast:s}=Cr(),[i,a]=g.useState({title:"",widget_type:"metric",position_x:0,position_y:0,width:4,height:1,config:{},data_source:{},filters:[],server_filters:{}}),[o,c]=g.useState(!1),[u,d]=g.useState(!1),[f,h]=g.useState(null),m={servers:["status","type","location","model","manufacturer"],racks:["status","capacity","location","type"],rooms:["status","floor","type","capacity"],data_centers:["region","status","capacity","type"]};g.useEffect(()=>{e&&a({title:e.title||"",widget_type:e.widget_type||"metric",position_x:e.position_x||0,position_y:e.position_y||0,width:e.width||4,height:e.height||1,config:e.config||{},data_source:e.data_source||{},filters:e.filters||[],server_filters:e.server_filters||{}})},[e]);const p=async()=>{if(e){c(!0);try{let _=[];Array.isArray(i.filters)&&i.filters.length>0&&(_=[...i.filters]),i.server_filters&&Object.keys(i.server_filters).length>0&&(_=[..._,...Object.entries(i.server_filters).filter(([E,N])=>N!=null&&N!=="").map(([E,N])=>({field:E,operator:"equals",value:N}))]);const{server_filters:j,...k}=i,S={...k,data_source:{...i.data_source,filters:_}};await n({id:e.id,...S}),s({title:"Success",description:"Widget updated successfully"}),r(!1)}catch(_){console.error("Error updating widget:",_),s({title:"Error",description:"Failed to update widget",variant:"destructive"})}finally{c(!1)}}},v=(_,j)=>{a(k=>({...k,[_]:j}))},w=(_,j)=>{a(k=>({...k,config:{...k.config,[_]:j}}))},b=(_,j)=>{a(k=>({...k,data_source:{...k.data_source,[_]:j}}))},y=_=>{a(j=>({...j,server_filters:_})),d(!0)},x=_=>{h(_)};return e?l.jsx(wr,{open:t,onOpenChange:r,children:l.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Edit Widget"}),l.jsx(mr,{children:"Customize your widget settings and configuration."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Basic Settings"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"title",children:"Title"}),l.jsx(He,{id:"title",value:i.title,onChange:_=>v("title",_.target.value),placeholder:"Widget title"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"widget_type",children:"Widget Type"}),l.jsxs(ke,{value:i.widget_type,onValueChange:_=>v("widget_type",_),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"metric",children:"Metric"}),l.jsx(q,{value:"chart",children:"Chart"}),l.jsx(q,{value:"timeline",children:"Timeline"}),l.jsx(q,{value:"stat",children:"Stat"}),l.jsx(q,{value:"gauge",children:"Gauge"})]})]})]})]})]}),!(i.widget_type==="metric"||i.widget_type==="gauge"||i.widget_type==="stat")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Position & Size"}),l.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"position_x",children:"X Position"}),l.jsx(He,{id:"position_x",type:"number",min:"0",max:"11",value:i.position_x,onChange:_=>v("position_x",parseInt(_.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"position_y",children:"Y Position"}),l.jsx(He,{id:"position_y",type:"number",min:"0",value:i.position_y,onChange:_=>v("position_y",parseInt(_.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"width",children:"Width"}),l.jsx(He,{id:"width",type:"number",min:"1",max:"12",value:i.width,onChange:_=>v("width",parseInt(_.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"height",children:"Height"}),l.jsx(He,{id:"height",type:"number",min:"1",value:i.height,onChange:_=>v("height",parseInt(_.target.value))})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Widget Configuration"}),i.widget_type==="chart"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"chart_type",children:"Chart Type"}),l.jsxs(ke,{value:i.config.type||"bar",onValueChange:_=>w("type",_),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"bar",children:"Bar Chart"}),l.jsx(q,{value:"line",children:"Line Chart"}),l.jsx(q,{value:"pie",children:"Pie Chart"}),l.jsx(q,{value:"area",children:"Area Chart"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[l.jsx("input",{type:"checkbox",id:"show_legend",checked:i.config.showLegend||!1,onChange:_=>w("showLegend",_.target.checked)}),l.jsx(J,{htmlFor:"show_legend",children:"Show Legend"})]})]}),i.widget_type==="metric"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"show_trend",checked:i.config.showTrend||!1,onChange:_=>w("showTrend",_.target.checked)}),l.jsx(J,{htmlFor:"show_trend",children:"Show Trend"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"show_progress",checked:i.config.showProgress||!1,onChange:_=>w("showProgress",_.target.checked)}),l.jsx(J,{htmlFor:"show_progress",children:"Show Progress"})]})]}),i.widget_type==="timeline"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"max_events",children:"Max Events"}),l.jsx(He,{id:"max_events",type:"number",min:"1",max:"50",value:i.config.maxEvents||10,onChange:_=>w("maxEvents",parseInt(_.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"group_by",children:"Group By"}),l.jsxs(ke,{value:i.config.groupBy||"day",onValueChange:_=>w("groupBy",_),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"hour",children:"Hour"}),l.jsx(q,{value:"day",children:"Day"}),l.jsx(q,{value:"week",children:"Week"}),l.jsx(q,{value:"month",children:"Month"})]})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Data Source"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"data_table",children:"Table"}),l.jsxs(ke,{value:i.data_source.table||"",onValueChange:_=>b("table",_),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select a table"})}),l.jsxs(je,{children:[l.jsx(q,{value:"servers",children:"Servers"}),l.jsx(q,{value:"racks",children:"Racks"}),l.jsx(q,{value:"rooms",children:"Rooms"}),l.jsx(q,{value:"data_centers",children:"Data Centers"})]})]})]}),i.data_source.table&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"field",children:"Field"}),l.jsxs(ke,{value:i.data_source.field||"",onValueChange:_=>b("field",_),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select a field"})}),l.jsx(je,{children:(m[i.data_source.table]||[]).map(_=>l.jsx(q,{value:_,children:_},_))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"aggregation",children:"Aggregation"}),l.jsxs(ke,{value:i.data_source.aggregation||"count",onValueChange:_=>b("aggregation",_),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"count",children:"Count"}),l.jsx(q,{value:"sum",children:"Sum"}),l.jsx(q,{value:"avg",children:"Average"}),l.jsx(q,{value:"min",children:"Minimum"}),l.jsx(q,{value:"max",children:"Maximum"})]})]})]})]})]})]}),i.data_source.table==="servers"&&!(i.widget_type==="chart"||i.widget_type==="timeline")||i.widget_type==="metric"||i.widget_type==="gauge"||i.widget_type==="stat"?l.jsx("div",{className:"space-y-4",children:l.jsx(BSe,{filters:i.server_filters,onChange:y,onValidate:x})}):null]}),l.jsxs(il,{children:[l.jsx(G,{variant:"outline",onClick:()=>r(!1),disabled:o,children:"Cancel"}),l.jsx(G,{onClick:p,disabled:o||f&&!f.isValid,children:o?"Saving...":"Save Changes"})]})]})}):null},IM=["hostname","ip_address","status","device_type","environment","brand","model","operating_system","dc_site","dc_building","dc_floor","dc_room","allocation","rack","unit","notes"],USe=({onUpdate:e,onDelete:t,onRefresh:r})=>l.jsxs("div",{className:"flex space-x-1 justify-end items-center mb-2",children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",title:"Refresh",children:l.jsx(ea,{size:18})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",title:"Edit",children:l.jsx(ki,{size:18})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:l.jsx(ta,{size:18})})]}),WSe=async(e,t,r)=>{const n={columns:t,limit:100,offset:0,...r,data_source:e.data_source,config:e.config},i=await fetch("http://localhost:8000/functions/v1/list-widget-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error("Failed to fetch data");return await i.json()},VSe=({widget:e,editMode:t,onUpdate:r=()=>{},onDelete:n=()=>{}})=>{var N,O;const s=((N=e.config)==null?void 0:N.columns)||["hostname","ip_address"],i=e.filters||{},[a,o]=g.useState([]),[c,u]=g.useState(!1),[d,f]=g.useState(null),[h,m]=g.useState(()=>{const A=new URLSearchParams(window.location.search).get(`${e.id}_page`);return A?parseInt(A):1}),[p,v]=g.useState(()=>{const A=new URLSearchParams(window.location.search).get(`${e.id}_perPage`);return A?parseInt(A):10});g.useEffect(()=>{b(),m(1)},[e.data_source,e.config,JSON.stringify(i)]),g.useEffect(()=>{const P=new URLSearchParams(window.location.search);P.set(`${e.id}_page`,h.toString()),P.set(`${e.id}_perPage`,p.toString());const A=P.toString(),L=`${window.location.pathname}${A?"?"+A:""}${window.location.hash}`;window.history.replaceState({},"",L)},[h,p,e.id]);const w=Array.isArray(i)?{}:i,b=async()=>{u(!0),f(null);try{const P=await WSe(e,s,w);o(P||[])}catch(P){f(P.message)}finally{u(!1)}},y=Math.ceil(a.length/p),x=h*p,_=x-p,j=a.slice(_,x),k=((O=e.config)==null?void 0:O.height)||e.height||400,S=typeof k=="string"&&k.endsWith("%")?{height:k}:{height:`${k}px`},E={hostname:"Hostname",ip_address:"IP Address",status:"Status",device_type:"Device Type",environment:"Environment",brand:"Brand",model:"Model",operating_system:"Operating System",dc_site:"Site",dc_building:"Building",dc_floor:"Floor",dc_room:"Room",allocation:"Allocation",rack:"Rack",unit:"Unit",notes:"Notes"};return l.jsxs(De,{className:"shadow-md border rounded-xl",children:[l.jsxs(Ke,{className:"relative bg-gradient-to-r from-blue-50 to-white rounded-t-xl",children:[l.jsx(qe,{className:"tracking-tight text-base font-semibold text-blue-900",children:e.title||"List Widget"}),t&&l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx(USe,{onUpdate:r,onDelete:n,onRefresh:b})})]}),l.jsx(Re,{className:"p-4 flex flex-col",children:l.jsxs("div",{className:"list-widget-body",style:{...S,minHeight:100,overflowY:"auto"},children:[c&&l.jsx("div",{className:"text-center py-8 text-blue-600",children:"Loading..."}),d&&l.jsxs("div",{className:"text-center py-8 text-red-600",children:["Error: ",d]}),!c&&!d&&(!a||a.length===0)&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data found."}),!c&&!d&&a&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full border rounded-lg bg-white",children:[l.jsx("thead",{className:"sticky top-0 bg-blue-100 z-10",children:l.jsx("tr",{children:s.map(P=>l.jsx("th",{className:"px-4 py-2 text-left font-medium text-blue-900 border-b border-blue-200 uppercase text-xs tracking-wide",children:E[P]||P},P))})}),l.jsx("tbody",{children:j.map((P,A)=>l.jsx("tr",{className:A%2===0?"bg-blue-50 hover:bg-blue-100":"bg-white hover:bg-blue-50",children:s.map(L=>l.jsx("td",{className:"px-4 py-2 border-b border-blue-50 text-sm text-gray-700",children:P[L]},L))},A))})]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm",children:"Rows per page:"}),l.jsx("select",{className:"border rounded px-2 py-1 text-sm focus:outline-none focus:ring focus:border-blue-300",value:p,onChange:P=>{v(Number(P.target.value)),m(1)},children:[10,20,50,100].map(P=>l.jsx("option",{value:P,children:P},P))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(G,{variant:"outline",size:"sm",disabled:h===1,onClick:()=>m(h-1),children:"Prev"}),l.jsxs("span",{className:"text-sm",children:["Page ",h," of ",y]}),l.jsx(G,{variant:"outline",size:"sm",disabled:h===y||y===0,onClick:()=>m(h+1),children:"Next"})]})]})]})]})})]})},HSe=({initialTitle:e="",initialColumns:t=["hostname","ip_address"],initialHeight:r=400,open:n,onOpenChange:s,onSave:i,onCancel:a})=>{const[o,c]=g.useState(e),[u,d]=g.useState(t),[f,h]=g.useState(r),m=["status","device_type","allocation","environment","brand","model","operating_system","dc_site","dc_building","dc_floor","dc_room","rack","unit"],{enums:p,loading:v}=Lc(),[w,b]=g.useState({}),y=N=>({device_type:"All Device Types",environment:"All Environments",brand:"All Brands",model:"All Models",allocation:"All Allocations",operating_system:"All OS",dc_site:"All Sites",dc_building:"All Buildings",dc_floor:"All Floors",dc_room:"All Rooms",rack:"All Racks",unit:"All Units",status:"All Status"})[N]||"All",x=N=>{const P={status:"status",device_type:"deviceTypes",allocation:"allocationTypes",environment:"environmentTypes",brand:"brands",model:"models",operating_system:"osTypes",dc_site:"sites",dc_building:"buildings",dc_floor:"floors",dc_room:"rooms",rack:"racks",unit:"units"}[N];if(P&&p[P])return p[P]},_=(N,O)=>{b(P=>({...P,[N]:O}))},j=(N,O)=>{const P=[...u];P[N]=O,d(P)},k=()=>{u.length<3&&d([...u,IM[0]])},S=N=>{u.length>1&&d(u.filter((O,P)=>P!==N))},E=()=>{i({title:o,columns:u,height:typeof f=="string"?parseInt(f):f,filters:w}),s(!1)};return l.jsx(wr,{open:n,onOpenChange:s,children:l.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Edit List Widget"}),l.jsx(mr,{children:"Configure your list widget columns, height, and filters."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"title",children:"Title"}),l.jsx(He,{id:"title",value:o,onChange:N=>c(N.target.value),placeholder:"Widget title"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Height (px or %)"}),l.jsx(He,{value:f,onChange:N=>h(N.target.value),placeholder:"400"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Columns (1-3)"}),l.jsx("div",{className:"flex flex-col gap-2",children:u.map((N,O)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ke,{value:N,onValueChange:P=>j(O,P),children:[l.jsx(_e,{className:"w-40",children:l.jsx(Ce,{})}),l.jsx(je,{children:IM.map(P=>l.jsx(q,{value:P,children:P},P))})]}),u.length>1&&l.jsx(G,{variant:"outline",size:"sm",onClick:()=>S(O),children:"-"}),O===u.length-1&&u.length<3&&l.jsx(G,{variant:"outline",size:"sm",onClick:k,children:"+"})]},O))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Filters"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map(N=>l.jsxs("div",{className:"space-y-1",children:[l.jsx(J,{className:"text-xs",children:N}),l.jsxs(ke,{value:w[N]??"__all__",onValueChange:O=>_(N,O==="__all__"?"":O),disabled:v,children:[l.jsx(_e,{className:"w-full",children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"__all__",children:y(N)}),(x(N)||[]).map(O=>l.jsx(q,{value:O,children:O},O))]})]})]},N))})]})]}),l.jsxs(il,{children:[l.jsx(G,{variant:"outline",onClick:a,children:"Cancel"}),l.jsx(G,{onClick:E,className:"bg-blue-600 text-white",children:"Save"})]})]})})},KSe=({onUpdate:e,onRefresh:t,onDelete:r})=>l.jsxs("div",{className:"flex space-x-1 justify-end items-center mb-2",children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",title:"Refresh",children:l.jsx(ea,{size:18})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",title:"Edit",children:l.jsx(ki,{size:18})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:l.jsx(ta,{size:18})})]}),qSe=async e=>{var t;try{const n=(t=(await oe.auth.getSession()).data.session)==null?void 0:t.access_token;if(!n)throw new Error("No authentication token available");const s=await fetch("http://localhost:8000/functions/v1/widget-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({config:e})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const i=await s.json();return i.success?i.data:null}catch(r){throw r}},YSe=({widget:e,editMode:t,onUpdate:r=()=>{},onDelete:n=()=>{}})=>{const[s,i]=g.useState(null),[a,o]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(!1),h=async()=>{f(!0),o(!0),u(null);try{const m=e.data_source||{},p=await qSe(m);i((p==null?void 0:p.value)??null)}catch(m){u(m.message)}finally{f(!1),o(!1)}};return g.useEffect(()=>{h()},[e.data_source]),l.jsxs(De,{className:"h-full",children:[l.jsxs(Ke,{className:"relative",children:[l.jsx(qe,{className:"tracking-tight text-sm font-medium",children:e.title||"Stat Widget"}),t&&l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx(KSe,{onUpdate:r,onRefresh:h,onDelete:n})})]}),l.jsx(Re,{className:"p-6 pt-0 flex items-center justify-center h-full",style:{paddingBottom:"90px"},children:l.jsx("div",{className:"flex flex-col items-center justify-center",children:a?l.jsx("span",{className:"text-2xl text-muted-foreground",children:"Loading..."}):c?l.jsx("span",{className:"text-red-500 text-sm",children:c}):l.jsx("span",{className:"text-8xl font-bold text-blue-600",children:s})})})]})},GSe=({onUpdate:e,onRefresh:t,onDelete:r})=>l.jsxs("div",{className:"flex space-x-1 justify-end items-center mb-2",children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",title:"Refresh",children:l.jsx(ea,{size:18})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0",title:"Edit",children:l.jsx(ki,{size:18})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"Delete",children:l.jsx(ta,{size:18})})]}),XSe=async e=>{var t;try{const n=(t=(await oe.auth.getSession()).data.session)==null?void 0:t.access_token;if(!n)throw new Error("No authentication token available");const s=await fetch("http://localhost:8000/functions/v1/widget-data",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({config:e})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const i=await s.json();return i.success?i.data:null}catch(r){throw r}},ZSe=({widget:e,editMode:t,onUpdate:r=()=>{},onDelete:n=()=>{}})=>{const[s,i]=g.useState(null),[a,o]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(!1),h=async()=>{f(!0),o(!0),u(null);try{const m=e.data_source||{},p=await XSe(m);i((p==null?void 0:p.value)??null)}catch(m){u(m.message)}finally{f(!1),o(!1)}};return g.useEffect(()=>{h()},[e.data_source]),l.jsxs(De,{className:"h-full",children:[l.jsxs(Ke,{className:"relative",children:[l.jsx(qe,{className:"tracking-tight text-sm font-medium",children:e.title||"Gauge Widget"}),t&&l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx(GSe,{onUpdate:r,onRefresh:h,onDelete:n})})]}),l.jsx(Re,{children:l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center",children:a?l.jsx("span",{className:"text-xl text-muted-foreground",children:"Loading..."}):c?l.jsx("span",{className:"text-red-500 text-sm",children:c}):l.jsxs("span",{className:"text-3xl font-bold text-green-600",children:[s,"%"]})})})})]})},QSe=({field:e,value:t,onChange:r,options:n})=>n?l.jsxs(ke,{value:t,onValueChange:r,children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsx(je,{children:n.map(s=>l.jsx(q,{value:s,children:s},s))})]}):l.jsx("input",{type:"text",value:t,onChange:s=>r(s.target.value),placeholder:`Filter by ${e}`,className:"border rounded px-2 py-1"}),JSe=({widget:e,open:t,onOpenChange:r,onSave:n})=>{const{toast:s}=Cr(),{enums:i}=ck(),a=$d(),o=Rp(),c=x=>({device_type:"All Device Types",environment:"All Environments",brand:"All Brands",model:"All Models",allocation:"All Allocations",operating_system:"All OS",dc_site:"All Sites",dc_building:"All Buildings",rack:"All Racks",status:"All Status"})[x]||"All",u=x=>{const j={status:"status",device_type:"deviceTypes",allocation:"allocationTypes",environment:"environmentTypes",brand:"brands",model:"models",operating_system:"osTypes",dc_site:"sites",dc_building:"buildings",rack:"racks"}[x];if(j&&i[j])return i[j]},[d,f]=g.useState({title:"",position_x:0,position_y:0,width:4,height:1,config:{type:"bar",showLegend:!0},data_source:{table:"servers",aggregation:"count",groupBy:["model"],filters:{}}}),[h,m]=g.useState(!1);g.useEffect(()=>{var x,_,j,k,S;e&&f({title:e.title||"",position_x:e.position_x||0,position_y:e.position_y||0,width:e.width||4,height:e.height||1,config:e.config||{type:"bar",showLegend:!0},data_source:{table:((x=e.data_source)==null?void 0:x.table)||"servers",aggregation:((_=e.data_source)==null?void 0:_.aggregation)||"count",groupBy:Array.isArray((j=e.data_source)==null?void 0:j.groupBy)?e.data_source.groupBy:(k=e.data_source)!=null&&k.groupBy?[e.data_source.groupBy]:["brand"],filters:(S=e.data_source)!=null&&S.filters&&typeof e.data_source.filters=="object"?e.data_source.filters:{}}})},[e]);const p=async()=>{var x,_,j,k,S,E,N;if(e){m(!0);try{const O={id:e.id,title:d.title||"Untitled Widget",position_x:typeof d.position_x=="number"?d.position_x:0,position_y:typeof d.position_y=="number"?d.position_y:0,width:typeof d.width=="number"?d.width:4,height:typeof d.height=="number"?d.height:1,config:{type:((x=d.config)==null?void 0:x.type)||"bar",showLegend:typeof((_=d.config)==null?void 0:_.showLegend)=="boolean"?d.config.showLegend:!0},data_source:{table:((j=d.data_source)==null?void 0:j.table)||"servers",aggregation:((k=d.data_source)==null?void 0:k.aggregation)||"count",groupBy:Array.isArray((S=d.data_source)==null?void 0:S.groupBy)?d.data_source.groupBy:(E=d.data_source)!=null&&E.groupBy?[d.data_source.groupBy]:["brand"],filters:(N=d.data_source)!=null&&N.filters&&typeof d.data_source.filters=="object"?d.data_source.filters:{}}},P=L=>Array.isArray(L)?L.filter(I=>I!==void 0):L&&typeof L=="object"?Object.fromEntries(Object.entries(L).filter(([I,B])=>B!==void 0).map(([I,B])=>[I,P(B)])):L,A=P(O);await n(A),s({title:"Success",description:"Chart widget updated successfully"}),r(!1)}catch(O){console.error("Error updating chart widget:",O),s({title:"Error",description:"Failed to update chart widget",variant:"destructive"})}finally{m(!1)}}},v=(x,_)=>{f(j=>({...j,[x]:_}))},w=(x,_)=>{f(j=>({...j,config:{...j.config,[x]:_}}))},b=(x,_)=>{f(j=>({...j,data_source:{...j.data_source,[x]:_}}))},y=x=>{const _=new URLSearchParams(x);return{groupBy:_.get("cw_groupBy")?_.get("cw_groupBy").split(","):void 0,table:_.get("cw_table")||void 0,aggregation:_.get("cw_agg")||void 0,filters:(()=>{const j={};for(const[k,S]of _.entries())k.startsWith("cw_filter_")&&(j[k.replace("cw_filter_","")]=S);return j})()}};return g.useEffect(()=>{if(t){const{groupBy:x,table:_,aggregation:j,filters:k}=y(a.search);f(S=>({...S,data_source:{...S.data_source,groupBy:x||S.data_source.groupBy,table:_||S.data_source.table,aggregation:j||S.data_source.aggregation,filters:Object.keys(k).length>0?k:S.data_source.filters}}))}},[t]),g.useEffect(()=>{if(!t)return;const x=new URLSearchParams(a.search);x.set("cw_groupBy",d.data_source.groupBy.join(",")),x.set("cw_table",String(d.data_source.table)),x.set("cw_agg",String(d.data_source.aggregation)),Object.entries(d.data_source.filters||{}).forEach(([_,j])=>{x.set(`cw_filter_${_}`,String(j))}),o({search:x.toString()},{replace:!0})},[d.data_source,t,a.search,o]),e?l.jsx(wr,{open:t,onOpenChange:r,children:l.jsxs(fr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Edit Chart Widget"}),l.jsx(mr,{children:"Configure your chart widget breakdown, type, and data source."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Chart Settings"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"title",children:"Title"}),l.jsx(He,{id:"title",value:d.title,onChange:x=>v("title",x.target.value),placeholder:"Widget title"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"chart_type",children:"Chart Type"}),l.jsxs(ke,{value:d.config.type,onValueChange:x=>w("type",x),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"bar",children:"Bar Chart"}),l.jsx(q,{value:"line",children:"Line Chart"}),l.jsx(q,{value:"pie",children:"Pie Chart"}),l.jsx(q,{value:"doughnut",children:"Doughnut Chart"})]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[l.jsx("input",{type:"checkbox",id:"show_legend",checked:d.config.showLegend,onChange:x=>w("showLegend",x.target.checked)}),l.jsx(J,{htmlFor:"show_legend",children:"Show Legend"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Breakdown Fields"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Group By"}),l.jsxs(ke,{value:d.data_source.groupBy.join(","),onValueChange:x=>b("groupBy",x.split(",")),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsx(je,{children:["device_type","environment","brand","model","allocation","operating_system","dc_site","dc_building","rack","status"].map(x=>l.jsx(q,{value:x,children:x},x))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Filters"}),["device_type","environment","brand","model","allocation","operating_system","dc_site","dc_building","rack","status"].map(x=>{var _;return l.jsx(QSe,{field:x,value:String(((_=d.data_source.filters)==null?void 0:_[x])||c(x)),onChange:j=>{const k={...d.data_source.filters,[x]:String(j)};b("filters",k)},options:[c(x),...u(x)||[]]},x)})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Data Source"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"data_table",children:"Table"}),l.jsxs(ke,{value:d.data_source.table,onValueChange:x=>b("table",x),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"servers",children:"Servers"}),l.jsx(q,{value:"racks",children:"Racks"}),l.jsx(q,{value:"rooms",children:"Rooms"}),l.jsx(q,{value:"data_centers",children:"Data Centers"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"aggregation",children:"Aggregation"}),l.jsxs(ke,{value:d.data_source.aggregation,onValueChange:x=>b("aggregation",x),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"count",children:"Count"}),l.jsx(q,{value:"sum",children:"Sum"}),l.jsx(q,{value:"avg",children:"Average"}),l.jsx(q,{value:"min",children:"Minimum"}),l.jsx(q,{value:"max",children:"Maximum"})]})]})]})]})]}),l.jsxs(il,{children:[l.jsx(G,{variant:"outline",onClick:()=>r(!1),disabled:h,children:"Cancel"}),l.jsx(G,{onClick:p,disabled:h,children:h?"Saving...":"Save Changes"})]})]})}):null},LM=12,eke=300,tke=({dashboardId:e})=>{var z,T,C,D;const{toast:t}=Cr(),{dashboards:r,currentDashboard:n,getDashboard:s,createDashboard:i,updateDashboard:a,createWidget:o,updateWidget:c,deleteWidget:u,setCurrentDashboard:d,isLoading:f}=nwe();Rp();const[h,m]=g.useState(!1),[p,v]=g.useState(""),[w,b]=g.useState(!1),[y,x]=g.useState(null),[_,j]=g.useState(!1);g.useEffect(()=>{e&&s(e)},[e]),g.useEffect(()=>{n&&v(n.name)},[n]);const k=async()=>{const U=p.trim()||"New Dashboard",W=await i({name:U,description:"Custom server tracking dashboard",layout:[]});W&&(m(!0),d(W),t({title:"Success",description:`Dashboard "${U}" created successfully`}))},S=async()=>{if(!n||!n.id||typeof n.id!="string")return;const U={name:p,updated_at:new Date().toISOString(),widgets:n.dashboard_widgets||[]};await a(n.id,U)&&(m(!1),t({title:"Success",description:"Dashboard saved successfully"}))},E=async U=>{if(!n)return;const V=(n.dashboard_widgets||[]).map(xe=>({x:xe.position_x,y:xe.position_y,width:xe.width,height:xe.height}));let ue={x:0,y:0},me=!1;for(let xe=0;xe<10&&!me;xe++)for(let fe=0;fe<=LM-4&&!me;fe++)V.some(Q=>fe<Q.x+Q.width&&fe+4>Q.x&&xe<Q.y+Q.height&&xe+1>Q.y)||(ue={x:fe,y:xe},me=!0);const Ee={widget_type:U,title:`${U.charAt(0).toUpperCase()+U.slice(1)} Widget`,position_x:ue.x,position_y:ue.y,width:U==="timeline"?6:4,height:1,config:N(U),data_source:O(U),filters:[]};await o(n.id,Ee)},N=U=>{switch(U){case"chart":return{type:"bar",showLegend:!0};case"metric":return{showTrend:!0,showProgress:!0};case"timeline":return{maxEvents:10,groupBy:"day"};case"stat":return{statType:"count",statLabel:"Sample Stat"};case"gauge":return{gaugeValue:75,gaugeLabel:"Sample Gauge"};default:return{}}},O=U=>{switch(U){case"chart":return{table:"servers",groupBy:"status",aggregation:"count"};case"metric":return{table:"servers",aggregation:"count"};case"timeline":return{table:"servers",orderBy:"created_at"};case"table":return{table:"servers",aggregation:"count"};case"stat":return{table:"servers",aggregation:"count"};case"gauge":return{table:"servers",aggregation:"count"};default:return{}}},P=U=>{x(U),j(!0)},A=async U=>{!y||!y.id||typeof y.id!="string"||await c(y.id,U)},L=U=>{const W={widget:U,onUpdate:()=>P(U),onDelete:()=>u(U.id),editMode:h};switch(U.widget_type){case"chart":return l.jsx(PSe,{...W});case"timeline":return l.jsx(DSe,{...W});case"metric":return l.jsx($Se,{...W});case"table":return l.jsx(TableWidget,{...W});case"stat":return l.jsx(YSe,{...W});case"gauge":return l.jsx(ZSe,{...W});case"list":return l.jsx(VSe,{...W});default:return l.jsx(De,{className:"h-full",children:l.jsx(Re,{className:"p-4 flex items-center justify-center",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Unsupported widget type: ",U.widget_type]})})})}},I=async U=>{await s(U.id)},B=U=>({gridColumn:`span ${U.width}`,gridRow:`span ${U.height}`,minHeight:`${eke*U.height}px`});return!e&&!n&&!w?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs(De,{children:[l.jsx(Ke,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(qe,{className:"flex items-center space-x-2",children:[l.jsx(Dm,{className:"h-6 w-6"}),l.jsx("span",{children:"Custom Dashboards"})]}),l.jsxs(G,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx("span",{children:"Create New"})]})]})}),l.jsx(Re,{children:f?l.jsx("div",{className:"text-center py-8",children:"Loading dashboards..."}):r.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Dm,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg font-medium mb-2",children:"No dashboards found"}),l.jsx("p",{className:"text-sm",children:"Create your first custom dashboard to get started"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(U=>{var W,V;return l.jsxs(De,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(U),children:[l.jsxs(Ke,{className:"pb-2",children:[l.jsx(qe,{className:"text-lg",children:U.name}),U.description&&l.jsx(Gt,{className:"text-sm",children:U.description})]}),l.jsxs(Re,{children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Fe,{variant:"secondary",className:"text-xs",children:U.status}),U.is_public&&l.jsx(Fe,{variant:"outline",className:"text-xs",children:"Public"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(QP,{className:"h-4 w-4"}),l.jsxs("span",{children:[((V=(W=U.dashboard_widgets)==null?void 0:W[0])==null?void 0:V.count)||0," widgets"]})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Updated ",new Date(U.updated_at).toLocaleDateString()]})]})]},U.id)})})})]})}):w&&!n?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs(De,{children:[l.jsx(Ke,{className:"text-center",children:l.jsxs(qe,{className:"flex items-center justify-center space-x-2",children:[l.jsx(Dm,{className:"h-6 w-6"}),l.jsx("span",{children:"Create Custom Dashboard"})]})}),l.jsxs(Re,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Dashboard Name"}),l.jsx(He,{placeholder:"Enter dashboard name...",value:p,onChange:U=>v(U.target.value),className:"max-w-md mx-auto"})]}),l.jsxs("div",{className:"flex justify-center space-x-2",children:[l.jsx(G,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),l.jsxs(G,{onClick:k,disabled:f,children:[l.jsx(Na,{className:"h-4 w-4 mr-2"}),"Create Dashboard"]})]})]})]})}):!n&&!h?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsxs(De,{children:[l.jsx(Ke,{className:"text-center",children:l.jsxs(qe,{className:"flex items-center justify-center space-x-2",children:[l.jsx(Dm,{className:"h-6 w-6"}),l.jsx("span",{children:"Create Custom Dashboard"})]})}),l.jsxs(Re,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Dashboard Name"}),l.jsx(He,{placeholder:"Enter dashboard name...",value:p,onChange:U=>v(U.target.value),className:"max-w-md mx-auto"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsxs(G,{onClick:k,disabled:f,children:[l.jsx(Na,{className:"h-4 w-4 mr-2"}),"Create Dashboard"]})})]})]})}):l.jsxs("div",{className:"max-w-full p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[h?l.jsx(He,{value:p,onChange:U=>v(U.target.value),className:"text-2xl font-bold border-none p-0 h-auto"}):l.jsx("h1",{className:"text-2xl font-bold",children:n==null?void 0:n.name}),l.jsxs(Fe,{variant:"outline",children:[((z=n==null?void 0:n.dashboard_widgets)==null?void 0:z.length)||0," widgets"]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:h?l.jsxs(l.Fragment,{children:[l.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!1),children:[l.jsx(ta,{className:"h-4 w-4 mr-2"}),"Cancel"]}),l.jsxs(G,{size:"sm",onClick:S,children:[l.jsx(MK,{className:"h-4 w-4 mr-2"}),"Save"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(G,{variant:"outline",size:"sm",children:[l.jsx(RK,{className:"h-4 w-4 mr-2"}),"Share"]}),l.jsxs(G,{variant:"outline",size:"sm",children:[l.jsx(US,{className:"h-4 w-4 mr-2"}),"Export"]}),l.jsxs(G,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[l.jsx(Fh,{className:"h-4 w-4 mr-2"}),"Edit"]})]})})]}),h&&l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:"Add Widget"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(G,{variant:"outline",size:"sm",onClick:()=>E("chart"),children:"Chart Widget"}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>E("metric"),children:"Metrics Widget"}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>E("timeline"),children:"Timeline Widget"}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>E("stat"),children:"Stat Widget"}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>E("gauge"),children:"Gauge Widget"}),l.jsx(G,{variant:"outline",size:"sm",onClick:()=>E("list"),children:"List Widget"})]})]}),l.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${LM}, 1fr)`},children:(T=n==null?void 0:n.dashboard_widgets)==null?void 0:T.map(U=>l.jsx("div",{style:B(U),children:L(U)},U.id))}),(!(n!=null&&n.dashboard_widgets)||n.dashboard_widgets.length===0)&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(QP,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No widgets yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:h?"Add your first widget to get started":"Switch to edit mode to add widgets"}),!h&&l.jsxs(G,{onClick:()=>m(!0),children:[l.jsx(Fh,{className:"h-4 w-4 mr-2"}),"Start Editing"]})]}),(y==null?void 0:y.widget_type)==="chart"?l.jsx(JSe,{widget:y,open:_,onOpenChange:j,onSave:A}):(y==null?void 0:y.widget_type)==="list"?l.jsx(HSe,{initialTitle:y.title,initialColumns:((C=y.config)==null?void 0:C.columns)||["hostname","ip_address"],initialHeight:((D=y.config)==null?void 0:D.height)||400,open:_,onOpenChange:j,onSave:A,onCancel:()=>j(!1)}):l.jsx(zSe,{widget:y,open:_,onOpenChange:j,onSave:A})]})},ho={totalServers:1247,activeServers:1189,maintenanceServers:31,offlineServers:27,warrantyExpiringSoon:15,dataCenters:4,racks:156,utilization:78},$M=[{name:"Dell R740",count:245,color:"#3b82f6"},{name:"HPE DL380",count:198,color:"#8b5cf6"},{name:"Dell R640",count:167,color:"#10b981"},{name:"HPE DL360",count:134,color:"#f59e0b"},{name:"Supermicro",count:89,color:"#ef4444"},{name:"Others",count:414,color:"#6b7280"}],rke=[{location:"DC-East",servers:342},{location:"DC-West",servers:298},{location:"DC-Central",servers:367},{location:"DC-North",servers:240}],nke=()=>{const[e,t]=g.useState("overview");return l.jsx("div",{className:"space-y-6",children:l.jsxs(Fp,{value:e,onValueChange:t,className:"space-y-6",children:[l.jsxs(zd,{className:"grid w-full grid-cols-2 lg:w-[400px]",children:[l.jsxs($r,{value:"overview",className:"flex items-center space-x-2",children:[l.jsx(zL,{className:"h-4 w-4"}),l.jsx("span",{children:"Overview"})]}),l.jsxs($r,{value:"custom",className:"flex items-center space-x-2",children:[l.jsx($K,{className:"h-4 w-4"}),l.jsx("span",{children:"Custom Dashboard"})]})]}),l.jsxs(Fr,{value:"overview",className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Infrastructure Overview"}),l.jsx("p",{className:"text-blue-100",children:"Real-time monitoring of your data center assets"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(De,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(qe,{className:"text-sm font-medium text-slate-600",children:"Total Servers"}),l.jsx(La,{className:"h-4 w-4 text-blue-600"})]}),l.jsxs(Re,{children:[l.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ho.totalServers}),l.jsxs("div",{className:"flex items-center space-x-2 text-xs text-green-600 mt-1",children:[l.jsx(_K,{className:"h-3 w-3"}),l.jsx("span",{children:"+12 this week"})]})]})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(qe,{className:"text-sm font-medium text-slate-600",children:"Active Servers"}),l.jsx(Fe,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Online"})]}),l.jsxs(Re,{children:[l.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ho.activeServers}),l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[(ho.activeServers/ho.totalServers*100).toFixed(1),"% operational"]})]})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(qe,{className:"text-sm font-medium text-slate-600",children:"Maintenance"}),l.jsx(Fe,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:"Scheduled"})]}),l.jsxs(Re,{children:[l.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ho.maintenanceServers}),l.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Requires attention"})]})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(qe,{className:"text-sm font-medium text-slate-600",children:"Capacity"}),l.jsx($s,{className:"h-4 w-4 text-purple-600"})]}),l.jsxs(Re,{children:[l.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[ho.utilization,"%"]}),l.jsx(Y3,{value:ho.utilization,className:"mt-2 h-2"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsx(qe,{className:"text-lg font-semibold text-slate-900",children:"Server Models"}),l.jsx(Gt,{children:"Distribution by hardware type"})]}),l.jsx(Re,{children:l.jsx(ju,{width:"100%",height:300,children:l.jsxs(tW,{children:[l.jsx(V0,{data:$M,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"count",label:({name:r,count:n})=>`${r}: ${n}`,children:$M.map((r,n)=>l.jsx(tf,{fill:r.color},`cell-${n}`))}),l.jsx(_u,{})]})})})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsx(qe,{className:"text-lg font-semibold text-slate-900",children:"Servers by Location"}),l.jsx(Gt,{children:"Distribution across data centers"})]}),l.jsx(Re,{children:l.jsx(ju,{width:"100%",height:300,children:l.jsxs(Sj,{data:rke,children:[l.jsx(gh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),l.jsx(zu,{dataKey:"location",stroke:"#64748b"}),l.jsx(Uu,{stroke:"#64748b"}),l.jsx(_u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),l.jsx(dp,{dataKey:"servers",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsx(qe,{className:"text-lg font-semibold text-slate-900",children:"System Alerts"}),l.jsx(Gt,{children:"Critical notifications and warnings"})]}),l.jsx(Re,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-red-900",children:"Warranty Expiration Alert"}),l.jsxs("p",{className:"text-sm text-red-700",children:[ho.warrantyExpiringSoon," servers have warranties expiring within 30 days"]})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-yellow-900",children:"Maintenance Due"}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Scheduled maintenance for Rack A-12 in DC-East tomorrow at 2:00 AM"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-blue-900",children:"System Update"}),l.jsx("p",{className:"text-sm text-blue-700",children:"New server inventory added to DC-Central - 8 Dell R750 units"})]})]})]})})]})]}),l.jsx(Fr,{value:"custom",className:"space-y-6",children:l.jsx(tke,{})})]})})},ske=e=>{const[t,r]=g.useState(null),[n,s]=g.useState(!0),[i,a]=g.useState(null),o=async()=>{try{s(!0);const{data:c,error:u}=await oe.functions.invoke("get-rack-data",{method:"POST",body:{rackName:e}});if(u)throw u;const d=Array.from({length:42},(p,v)=>{const w=42-v,b=c.data.servers.filter(y=>{const x=parseInt(y.unit.substring(1)),_=x+(y.unit_height||1)-1;return w>=x&&w<=_});if(b.length>0){const y=b[0],x=parseInt(y.unit.substring(1)),_=w===x;return{unit:w,server:{id:y.id,hostname:y.hostname,serialNumber:y.serial_number,model:y.model,brand:y.brand,status:y.status,ipAddress:y.ip_address,ipOOB:y.ip_oob,deviceType:y.device_type,allocation:y.allocation,environment:y.environment,operatingSystem:y.operating_system,unitHeight:y.unit_height||1},isEmpty:!1,isPartOfMultiUnit:!_,multiUnitServerId:y.id}}return{unit:w,isEmpty:!0}}),f=c.data.servers,h=d.filter(p=>!p.isEmpty).length,m=f.reduce((p,v)=>(p[v.status]=(p[v.status]||0)+1,p),{});r({name:c.data.name,datacenter_id:c.data.datacenter_id,floor:c.data.floor,location:c.data.location,total_units:c.data.total_units,units:d,statistics:{totalServers:f.length,occupiedUnits:h,availableUnits:42-h,utilizationPercent:Math.round(h/42*100),serversByStatus:m}})}catch(c){a(c.message)}finally{s(!1)}};return g.useEffect(()=>{e&&o()},[e]),{rackData:t,loading:n,error:i,refetch:o}},ike=({onEditServer:e})=>{var P,A,L,I,B,z,T;const[t,r]=g.useState("physical"),[n,s]=g.useState("");or("rackView_mode",t,r),or("rackView_selectedRack",n,s);const[i,a]=g.useState(""),[o,c]=g.useState(!1),[u,d]=g.useState(""),[f,h]=g.useState(!1),{hierarchyData:m,filters:p,loading:v,defaultRack:w,updateFilter:b,resetFilters:y}=Xk(),x=p.rack?p.rack:n||(m.racks.length>0&&p.dc_site&&p.dc_building&&p.dc_floor&&p.dc_room?m.racks[0]:w||((P=m.allRacks)==null?void 0:P[0])||"RACK-01"),{rackData:_,loading:j,error:k}=ske(x);te.useEffect(()=>{_&&(console.log("RackData units:",_.units.filter(C=>C.server)),console.log("Multi-unit servers:",_.units.filter(C=>C.server&&C.server.unitHeight>1)),S())},[_]);const S=async()=>{if(_)try{const{data:C,error:D}=await oe.functions.invoke("get-rack-data",{body:{rackName:_.name}});if(D){console.error("Error fetching rack description:",D);return}C&&C.data&&C.data.description&&a(C.data.description)}catch(C){console.error("Error fetching rack description:",C)}},E=async()=>{if(_){c(!0),d("");try{const{error:C}=await oe.functions.invoke("update-rack-description",{body:{rack_name:_.name,dc_site:_.datacenter_id,dc_building:"Building-A",dc_floor:"1",dc_room:"MDF",description:i}});if(C)throw C;d("Description saved successfully!"),setTimeout(()=>d(""),3e3),await S()}catch(C){console.error("Error saving rack description:",C),d("Error saving description"),setTimeout(()=>d(""),3e3)}finally{c(!1)}}},N=C=>{const D={className:"h-3 w-3",style:{display:"inline-block"}};switch(C==null?void 0:C.toLowerCase()){case"server":return l.jsxs("svg",{...D,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"1.5",fill:"#2563eb",stroke:"#1e40af",strokeWidth:"0.5"}),l.jsx("rect",{x:"3",y:"5.5",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),l.jsx("rect",{x:"3",y:"9",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),l.jsx("rect",{x:"3",y:"12.5",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),l.jsx("rect",{x:"3",y:"16",width:"18",height:"3",rx:"0.5",fill:"#011330",stroke:"#1e40af",strokeWidth:"0.3"}),l.jsx("circle",{cx:"5",cy:"7",r:"0.8",fill:"#10b981"}),l.jsx("circle",{cx:"5",cy:"10.5",r:"0.8",fill:"#10b981"}),l.jsx("circle",{cx:"5",cy:"14",r:"0.8",fill:"#10b981"}),l.jsx("circle",{cx:"5",cy:"17.5",r:"0.8",fill:"#fbbf24"})]});case"storage":case"nas":case"san":return l.jsxs("svg",{...D,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",fill:"#7c3aed",stroke:"#6d28d9",strokeWidth:"0.5"}),l.jsx("rect",{x:"4",y:"6",width:"16",height:"2.5",rx:"0.5",fill:"#8b5cf6",stroke:"#7c3aed",strokeWidth:"0.3"}),l.jsx("rect",{x:"5",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),l.jsx("rect",{x:"7.5",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),l.jsx("rect",{x:"10",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),l.jsx("rect",{x:"12.5",y:"9.5",width:"2",height:"1.5",rx:"0.3",fill:"#a855f7"}),l.jsx("circle",{cx:"6",cy:"7.2",r:"0.4",fill:"#10b981"}),l.jsx("circle",{cx:"8",cy:"7.2",r:"0.4",fill:"#10b981"}),l.jsx("circle",{cx:"10",cy:"7.2",r:"0.4",fill:"#fbbf24"})]});case"network":case"switch":case"router":case"firewall":return l.jsxs("svg",{...D,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"1.5",fill:"#059669",stroke:"#047857",strokeWidth:"0.5"}),l.jsx("rect",{x:"4",y:"8",width:"16",height:"8",rx:"0.5",fill:"#10b981",stroke:"#059669",strokeWidth:"0.3"}),l.jsx("rect",{x:"5",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),l.jsx("rect",{x:"6.5",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),l.jsx("rect",{x:"8",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),l.jsx("rect",{x:"9.5",y:"9",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),l.jsx("rect",{x:"5",y:"10.5",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),l.jsx("rect",{x:"6.5",y:"10.5",width:"1.2",height:"1",rx:"0.2",fill:"#34d399"}),l.jsx("circle",{cx:"16",cy:"14.2",r:"0.4",fill:"#10b981"}),l.jsx("circle",{cx:"17",cy:"14.2",r:"0.4",fill:"#fbbf24"})]});default:return l.jsxs("svg",{...D,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"1",fill:"#6b7280",stroke:"#4b5563",strokeWidth:"0.5"}),l.jsx("rect",{x:"5",y:"7",width:"14",height:"8",rx:"0.5",fill:"#011330"}),l.jsx("rect",{x:"6",y:"8",width:"12",height:"6",rx:"0.3",fill:"#011330"}),l.jsx("rect",{x:"7",y:"8.5",width:"6",height:"0.3",rx:"0.1",fill:"#10b981"}),l.jsx("rect",{x:"7",y:"9.2",width:"8",height:"0.3",rx:"0.1",fill:"#011330"}),l.jsx("rect",{x:"10",y:"16",width:"4",height:"1.5",rx:"0.3",fill:"#011330"}),l.jsx("circle",{cx:"19",cy:"7.5",r:"0.4",fill:"#10b981"})]})}},O=C=>t==="physical"?l.jsxs("div",{className:"flex items-center space-x-1",children:[N(C.deviceType),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.jsx(Fe,{variant:"outline",className:"text-xs px-1 py-0",children:C.serialNumber}),l.jsx(Fe,{variant:"secondary",className:"text-xs px-1 py-0",children:C.brand}),l.jsx(Fe,{variant:"outline",className:"text-xs px-1 py-0",children:C.model}),l.jsx(Fe,{variant:"outline",className:"text-xs px-1 py-0",children:C.ipOOB}),l.jsx(Fe,{variant:"default",className:"text-xs px-1 py-0",children:C.deviceType}),l.jsx(Fe,{variant:ake(C.status),className:"text-xs px-1 py-0",children:C.status})]})]}):l.jsxs("div",{className:"flex items-center space-x-1",children:[N(C.deviceType),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.jsx(Fe,{variant:"default",className:"text-xs px-1 py-0",children:C.hostname}),l.jsx(Fe,{variant:"outline",className:"text-xs px-1 py-0",children:C.ipAddress}),l.jsx(Fe,{variant:"secondary",className:"text-xs px-1 py-0",children:C.allocation}),l.jsx(Fe,{variant:"outline",className:"text-xs px-1 py-0",children:C.operatingSystem}),l.jsx(Fe,{variant:"outline",className:"text-xs px-1 py-0",children:C.environment})]})]});return j?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"text-lg",children:"Loading rack data..."})}):k?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-red-500",children:["Error: ",k]})}):!_||!_?null:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Rack View"}),l.jsx("p",{className:"text-slate-600",children:"Visual layout of your server infrastructure"})]}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsxs(ke,{value:p.dc_site||"",onValueChange:C=>b("dc_site",C),children:[l.jsx(_e,{className:"w-40 h-10 flex-shrink-0",children:l.jsx(Ce,{placeholder:"DC Site"})}),l.jsx(je,{children:(A=m.sites)==null?void 0:A.map(C=>l.jsx(q,{value:C,children:C},C))})]}),l.jsxs(ke,{value:p.dc_building||"",onValueChange:C=>b("dc_building",C),disabled:!p.dc_site,children:[l.jsx(_e,{className:"w-36 h-10 flex-shrink-0",children:l.jsx(Ce,{placeholder:"Building"})}),l.jsx(je,{children:(L=m.buildings)==null?void 0:L.map(C=>l.jsx(q,{value:C,children:C},C))})]}),l.jsxs(ke,{value:p.dc_floor||"",onValueChange:C=>b("dc_floor",C),disabled:!p.dc_building,children:[l.jsx(_e,{className:"w-28 h-10 flex-shrink-0",children:l.jsx(Ce,{placeholder:"Floor"})}),l.jsx(je,{children:(I=m.floors)==null?void 0:I.map(C=>l.jsx(q,{value:C,children:C},C))})]}),l.jsxs(ke,{value:p.dc_room||"",onValueChange:C=>b("dc_room",C),disabled:!p.dc_floor,children:[l.jsx(_e,{className:"w-28 h-10 flex-shrink-0",children:l.jsx(Ce,{placeholder:"Room"})}),l.jsx(je,{children:(B=m.rooms)==null?void 0:B.map(C=>l.jsx(q,{value:C,children:C},C))})]}),l.jsxs(ke,{value:x,onValueChange:C=>s(C),disabled:!p.dc_room,children:[l.jsx(_e,{className:"w-32 h-10 flex-shrink-0",children:l.jsx(Ce,{placeholder:"Rack"})}),l.jsx(je,{children:(z=m.racks)==null?void 0:z.map(C=>l.jsx(q,{value:C,children:C},C))})]}),l.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1 flex-shrink-0"}),l.jsxs(ke,{value:p.rack||"",onValueChange:C=>b("rack",C),children:[l.jsx(_e,{className:"w-36 h-10 flex-shrink-0",children:l.jsx(Ce,{placeholder:"Any Rack"})}),l.jsx(je,{children:(T=m.allRacks)==null?void 0:T.map(C=>l.jsx(q,{value:C,children:C},C))})]}),l.jsxs(ke,{value:t,onValueChange:C=>r(C),children:[l.jsx(_e,{className:"w-32 h-10 flex-shrink-0",children:l.jsx(Ce,{placeholder:"View"})}),l.jsxs(je,{children:[l.jsx(q,{value:"physical",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(_v,{className:"h-4 w-4"}),l.jsx("span",{children:"Physical"})]})}),l.jsx(q,{value:"logical",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(wi,{className:"h-4 w-4"}),l.jsx("span",{children:"Logical"})]})})]})]}),l.jsxs(G,{variant:"outline",size:"default",onClick:y,className:"flex-shrink-0 h-10 px-4",children:[l.jsx(WS,{className:"h-4 w-4 mr-2"}),"Reset"]}),l.jsx(G,{variant:"outline",size:"default",onClick:()=>h(!0),className:"flex-shrink-0 h-10 px-4",children:"Edit Rack"})]}),v&&l.jsx("div",{className:"text-sm text-blue-600",children:"Loading hierarchy data..."})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsx("div",{className:"flex items-center space-x-2",children:t==="physical"?l.jsxs(l.Fragment,{children:[l.jsx(_v,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Physical View"}),l.jsx("span",{className:"text-xs text-blue-700",children:"Showing: Serial Number  Brand  Model  IP OOB  Device Type  Status"})]}):l.jsxs(l.Fragment,{children:[l.jsx(wi,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Logical View"}),l.jsx("span",{className:"text-xs text-blue-700",children:"Showing: Hostname  IP Address  Allocation  Operating System  Environment"})]})})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"lg:col-span-3",children:l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsxs(qe,{className:"flex items-center space-x-2",children:[l.jsx($s,{className:"h-5 w-5 text-blue-600"}),l.jsxs("span",{children:[p.dc_site||_.datacenter_id," - ",p.dc_building||_.location," - ",p.dc_floor||`Floor ${_.floor}`," - ",p.dc_room||"Room-01"," - ",_.name]}),l.jsxs(Fe,{variant:"outline",children:[t," view"]})]}),l.jsxs(Gt,{children:["42U Rack - ",_.statistics.totalServers," servers installed"]})]}),l.jsx(Re,{children:l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"black"},children:[l.jsxs("div",{className:"p-2 rounded-t-lg",style:{backgroundColor:"black"},children:[l.jsx("div",{className:"text-white text-center text-sm font-medium",children:_.name}),i&&l.jsx("div",{className:"text-white text-center text-sm font-bold mt-2",children:i})]}),l.jsx("div",{className:"bg-slate-50 border-l-4 border-r-4 min-h-[800px]",style:{borderLeftColor:"#ffffff",borderRightColor:"#ffffff",paddingTop:"8px",paddingBottom:"8px"},children:l.jsx(k$,{children:_.units.map(C=>C.server&&C.server.unitHeight>1&&C.isPartOfMultiUnit?null:C.server&&C.server.unitHeight>1?l.jsx("div",{className:"flex items-center border-b border-gray-200 px-1 transition-colors bg-black rounded hover:bg-blue-600 border-2 border-transparent hover:border-blue-400",style:{minHeight:`${C.server.unitHeight*2.5}rem`,paddingTop:"3px",paddingBottom:"3px",marginBottom:"2px"},children:l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:"flex items-center justify-between bg-white rounded px-2 py-2 shadow-sm w-full hover:bg-gray-50 transition-all duration-200",style:{minHeight:`${C.server.unitHeight*2.5*.99}rem`,height:`${C.server.unitHeight*2.5*.99}rem`,boxShadow:"0 2px 8px rgba(0,0,0,0.07)",cursor:"pointer"},onMouseEnter:D=>{D.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},onMouseLeave:D=>{D.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},children:l.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[l.jsxs("div",{className:"text-xs font-mono text-gray-600 flex-shrink-0 flex flex-col justify-center text-right",children:[l.jsxs("div",{children:["U",C.unit]}),l.jsx("div",{className:"text-gray-400",children:"-"}),l.jsxs("div",{children:["U",C.unit+C.server.unitHeight-1]})]}),l.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[l.jsx("div",{className:"mb-1",children:O(C.server)}),l.jsxs("div",{className:"text-xs text-gray-500",children:[C.server.unitHeight,"U Server (Units U",C.unit,"-U",C.unit+C.server.unitHeight-1,")"]}),C.server.unitHeight>=3&&l.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Height: ",C.server.unitHeight," Units  Model: ",C.server.model]})]}),l.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[l.jsx("div",{className:`w-4 h-4 rounded-full ${Kw(C.server.status)}`}),l.jsxs(hA,{children:[l.jsx(pA,{asChild:!0,children:l.jsx(H_,{className:"h-4 w-4 text-gray-400 hover:text-gray-600 cursor-pointer"})}),l.jsx(e1,{side:"right",className:"max-w-xs",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Hostname:"})," ",C.server.hostname]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Serial:"})," ",C.server.serialNumber]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Model:"})," ",C.server.model]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Status:"})," ",C.server.status]}),l.jsxs("div",{children:[l.jsx("strong",{children:"IP Address:"})," ",C.server.ipAddress]}),l.jsxs("div",{children:[l.jsx("strong",{children:"IP OOB:"})," ",C.server.ipOOB]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Device Type:"})," ",C.server.deviceType]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Allocation:"})," ",C.server.allocation]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Environment:"})," ",C.server.environment]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Height:"})," ",C.server.unitHeight,"U"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"DC Site:"})," ",_.datacenter_id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"DC Building:"})," ",_.location]}),l.jsxs("div",{children:[l.jsx("strong",{children:"DC Floor:"})," Floor ",_.floor]})]})})]})]})]})})})},C.unit):l.jsx("div",{className:`flex items-center min-h-10 border-b border-gray-200 px-1 transition-colors ${C.server?"bg-black rounded hover:bg-blue-600 border-2 border-transparent hover:border-blue-400":""}`,style:C.server?{paddingTop:"3px",paddingBottom:"3px",marginBottom:"2px"}:{},children:C.server?l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:"flex items-center justify-between bg-white rounded px-2 py-2 shadow-sm w-full hover:bg-gray-50 transition-all duration-200",style:{boxShadow:"0 2px 8px rgba(0,0,0,0.07)",cursor:"pointer"},onMouseEnter:D=>{D.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},onMouseLeave:D=>{D.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.07)"},children:l.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[l.jsxs("div",{className:"text-xs font-mono text-gray-600 flex-shrink-0 text-right",children:["U",C.unit]}),l.jsx("div",{className:"flex-1 min-w-0",children:O(C.server)}),l.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${Kw(C.server.status)}`}),l.jsxs(hA,{children:[l.jsx(pA,{asChild:!0,children:l.jsx(H_,{className:"h-3 w-3 text-gray-400 hover:text-gray-600 cursor-pointer"})}),l.jsx(e1,{side:"right",className:"max-w-xs",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Hostname:"})," ",C.server.hostname]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Serial:"})," ",C.server.serialNumber]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Model:"})," ",C.server.model]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Status:"})," ",C.server.status]}),l.jsxs("div",{children:[l.jsx("strong",{children:"IP Address:"})," ",C.server.ipAddress]}),l.jsxs("div",{children:[l.jsx("strong",{children:"IP OOB:"})," ",C.server.ipOOB]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Device Type:"})," ",C.server.deviceType]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Allocation:"})," ",C.server.allocation]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Environment:"})," ",C.server.environment]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Height:"})," ",C.server.unitHeight,"U"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"DC Site:"})," ",_.datacenter_id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"DC Building:"})," ",_.location]}),l.jsxs("div",{children:[l.jsx("strong",{children:"DC Floor:"})," Floor ",_.floor]})]})})]})]})]})})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-8 text-xs font-mono text-right flex-shrink-0 text-gray-400",children:["U",C.unit]}),l.jsx("div",{className:"flex-1 ml-3",children:l.jsx("div",{className:"text-xs text-gray-300 italic py-2",children:"Empty"})})]})},C.unit)).filter(Boolean)})}),l.jsx("div",{className:"p-2 rounded-b-lg",style:{backgroundColor:"black"},children:l.jsx("div",{className:"text-white text-center text-sm font-medium",children:_.name})})]})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsx(Ke,{children:l.jsx(qe,{className:"text-lg",children:"Rack Statistics"})}),l.jsxs(Re,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Total Units:"}),l.jsx("span",{className:"font-medium",children:"42U"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Occupied:"}),l.jsxs("span",{className:"font-medium",children:[_.statistics.occupiedUnits,"U"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Available:"}),l.jsxs("span",{className:"font-medium",children:[_.statistics.availableUnits,"U"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Utilization:"}),l.jsxs("span",{className:"font-medium",children:[_.statistics.utilizationPercent,"%"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Total Servers:"}),l.jsx("span",{className:"font-medium",children:_.statistics.totalServers})]})]})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsx(Ke,{children:l.jsx(qe,{className:"text-lg",children:"Server Status"})}),l.jsx(Re,{className:"space-y-3",children:Object.entries(_.statistics.serversByStatus).map(([C,D])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${Kw(C)}`}),l.jsx("span",{className:"text-sm",children:C})]}),l.jsx("span",{className:"font-medium",children:D})]},C))})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsx(Ke,{children:l.jsx(qe,{className:"text-lg",children:"Status Legend"})}),l.jsxs(Re,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),l.jsx("span",{className:"text-sm",children:"Active"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-sm",children:"Ready"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),l.jsx("span",{className:"text-sm",children:"Maintenance"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),l.jsx("span",{className:"text-sm",children:"Offline"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),l.jsx("span",{className:"text-sm",children:"Empty"})]})]})]})]})]}),l.jsx(wr,{open:f,onOpenChange:h,children:l.jsxs(fr,{className:"sm:max-w-[425px]",children:[l.jsxs(hr,{children:[l.jsxs(pr,{className:"flex items-center space-x-2",children:[l.jsx(Lf,{className:"h-5 w-5"}),l.jsx("span",{children:"Edit Rack"})]}),l.jsxs(mr,{children:["Update the rack description for ",_==null?void 0:_.name]})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(J,{htmlFor:"description",className:"text-right",children:"Description"}),l.jsx(He,{id:"description",value:i,onChange:C=>a(C.target.value),placeholder:"Enter rack description",maxLength:40,className:"col-span-3"})]}),l.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[i.length,"/40 characters"]}),u&&l.jsx("div",{className:`text-sm ${u.includes("Error")||u.includes("Failed")?"text-red-600":"text-green-600"}`,children:u})]}),l.jsxs(il,{children:[l.jsx(G,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(G,{type:"button",onClick:async()=>{await E(),!u.includes("Error")&&!u.includes("Failed")&&setTimeout(()=>h(!1),1e3)},disabled:o,children:o?"Saving...":"Save Changes"})]})]})})]})},Kw=e=>{switch(e){case"Active":return"bg-green-500";case"Ready":return"bg-blue-500";case"Maintenance":return"bg-yellow-500";case"Offline":case"Inactive":return"bg-red-500";case"Decommissioned":case"Retired":return"bg-gray-500";default:return"bg-gray-300"}},ake=e=>{switch(e){case"Active":return"default";case"Ready":return"secondary";case"Maintenance":return"outline";case"Offline":case"Inactive":return"destructive";case"Decommissioned":case"Retired":return"secondary";default:return"outline"}},oke=e=>{const[t,r]=g.useState([]),[n,s]=g.useState(!1),[i,a]=g.useState(null),o=async()=>{var c;if(!e.dc_site||!e.dc_building||!e.dc_floor||!e.dc_room){r([]);return}s(!0),a(null);try{const{data:u,error:d}=await oe.functions.invoke("get-room-data",{body:{site:e.dc_site,building:e.dc_building,floor:e.dc_floor,room:e.dc_room}});if(d)throw d;console.log(" get-room-data response:",u);const f=((c=u==null?void 0:u.racks)==null?void 0:c.map(h=>{var m,p;return{id:h.id||h.name,name:h.name,location:h.location||`${e.dc_building} - Floor ${e.dc_floor}`,description:h.description,utilization:h.utilization||0,totalServers:h.serverCount||((m=h.servers)==null?void 0:m.length)||0,status:"Active",room:e.dc_room||"",servers:((p=h.servers)==null?void 0:p.map(v=>{var b;const w=v.position||parseInt(((b=v.unit)==null?void 0:b.replace("U",""))||"1");return{id:v.id,hostname:v.hostname,position:w,model:v.model||"Unknown",type:"Server",status:v.status||"Active",manufacturer:v.manufacturer||v.brand||"Unknown",unitHeight:v.unitHeight||v.unit_height||1,serialNumber:v.serialNumber||v.serial_number,ipAddress:v.ipAddress||v.ip_address,ipOOB:v.ipOOB||v.ip_oob,deviceType:v.deviceType||v.device_type,allocation:v.allocation,environment:v.environment}}))||[]}}))||[];console.log(" Transformed racks for RoomView:",f.length,"racks"),r(f)}catch(u){a(u instanceof Error?u.message:"Failed to fetch room data"),r([])}finally{s(!1)}};return g.useEffect(()=>{o()},[e.dc_site,e.dc_building,e.dc_floor,e.dc_room]),{racksData:t,loading:n,error:i,refetch:o}};function Pd(e){const[t,r]=g.useState([]),[n,s]=g.useState({}),[i,a]=g.useState(!0),[o,c]=g.useState(null),[u,d]=g.useState(Date.now()),f=g.useCallback(async()=>{try{a(!0),c(null);const{data:{session:y}}=await oe.auth.getSession();if(!y){console.warn("No session found when fetching enum colors"),r([]),s({});return}const x=new URLSearchParams;e&&x.append("enum_type",e);const{data:_,error:j}=await oe.functions.invoke("enum-colors",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`}});if(j)throw j;const k=(_==null?void 0:_.data)||[];r(k);const S={};k.forEach(E=>{S[E.enum_value]=E.color_hex}),s(S),d(Date.now())}catch(y){console.error("Error fetching enum colors:",y),c(y instanceof Error?y.message:"Failed to fetch colors")}finally{a(!1)}},[e]),h=async(y,x,_,j)=>{try{if(c(null),!/^#[0-9A-F]{6}$/i.test(_))throw new Error("Invalid color format. Expected #RRGGBB");const{data:{session:k}}=await oe.auth.getSession();if(!k)throw new Error("Authentication required. Please sign in.");const{data:S,error:E}=await oe.functions.invoke("enum-colors",{method:"POST",headers:{Authorization:`Bearer ${k.access_token}`},body:{enum_type:y,enum_value:x,color_hex:_,color_name:j}});if(E)throw console.error(" Error saving color:",E),E;return await f(),!0}catch(k){return console.error("Error saving enum color:",k),c(k instanceof Error?k.message:"Failed to save color"),!1}},m=async(y,x,_)=>{try{if(c(null),!/^#[0-9A-F]{6}$/i.test(x))throw new Error("Invalid color format. Expected #RRGGBB");const{data:{session:j}}=await oe.auth.getSession();if(!j)throw new Error("Authentication required. Please sign in.");const{error:k}=await oe.functions.invoke("enum-colors",{method:"PUT",headers:{Authorization:`Bearer ${j.access_token}`},body:{id:y,color_hex:x,color_name:_}});if(k)throw k;return await f(),!0}catch(j){return console.error("Error updating enum color:",j),c(j instanceof Error?j.message:"Failed to update color"),!1}},p=async y=>{try{c(null);const{data:{session:x}}=await oe.auth.getSession();if(!x)throw new Error("Authentication required. Please sign in.");const{error:_}=await oe.functions.invoke("enum-colors",{method:"DELETE",headers:{Authorization:`Bearer ${x.access_token}`},body:{id:y}});if(_)throw _;return await f(),!0}catch(x){return console.error("Error deleting enum color:",x),c(x instanceof Error?x.message:"Failed to delete color"),!1}},v=y=>n[y],w=y=>t.filter(x=>x.enum_type===y),b=async(y,x)=>{const _=w(y),j=new Set(_.map(E=>E.enum_value)),k=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#EC4899","#6366F1"],S=x.filter(E=>!j.has(E));for(let E=0;E<S.length;E++){const N=k[E%k.length];await h(y,S[E],N)}};return g.useEffect(()=>{f();const y=x=>{const{enumType:_}=x.detail;console.log(" Color update event received for:",_,"current hook enumType:",e),!e||!_||e===_?(console.log(" Refreshing colors for hook with enumType:",e),f()):console.log(" Ignoring color update - enum type mismatch")};return window.addEventListener("colorsUpdated",y),()=>{window.removeEventListener("colorsUpdated",y)}},[e,f]),{colors:t,colorMap:n,loading:i,error:o,lastUpdate:u,fetchColors:f,saveColor:h,updateColor:m,deleteColor:p,getColor:v,getColorsForType:w,generateDefaultColors:b}}const lke=e=>{const t=e.flatMap(r=>r.servers||[]);return{total:t.length,withHostname:t.filter(r=>r.hostname&&r.hostname!=="").length,withIpAddress:t.filter(r=>r.ipAddress&&r.ipAddress!=="").length,withAllocation:t.filter(r=>r.allocation&&r.allocation!=="").length,complete:t.filter(r=>r.hostname&&r.hostname!==""&&r.ipAddress&&r.ipAddress!==""&&r.allocation&&r.allocation!=="").length}},cke=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#F97316","#84CC16","#EC4899","#6366F1","#22C55E","#F87171","#FBBF24","#A78BFA","#34D399","#60A5FA","#FB923C","#A3E635","#F472B6","#818CF8"];function FM({value:e,onChange:t,className:r,disabled:n}){const[s,i]=g.useState(e),[a,o]=g.useState(!1),c=f=>{t(f),i(f),o(!1)},u=f=>{const h=f.target.value;i(h),/^#[0-9A-F]{6}$/i.test(h)&&t(h)},d=()=>{/^#[0-9A-F]{6}$/i.test(s)&&(t(s),o(!1))};return l.jsxs(Lk,{open:a,onOpenChange:o,children:[l.jsx($k,{asChild:!0,children:l.jsx(G,{variant:"outline",className:`w-8 h-8 p-0 rounded border-2 ${r}`,style:{backgroundColor:e},disabled:n,title:`Color: ${e}`,children:l.jsx("span",{className:"sr-only",children:"Pick color"})})}),l.jsx(Hx,{className:"w-64 p-4",align:"start",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Choose Color"}),l.jsx("div",{className:"grid grid-cols-5 gap-2",children:cke.map(f=>l.jsx("button",{className:`w-8 h-8 rounded border-2 hover:scale-110 transition-transform ${e===f?"border-gray-900 ring-2 ring-blue-500":"border-gray-300"}`,style:{backgroundColor:f},onClick:()=>c(f),title:f},f))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Custom Color"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(He,{type:"text",value:s,onChange:u,placeholder:"#FF0000",pattern:"^#[0-9A-F]{6}$",className:"flex-1"}),l.jsx(G,{variant:"outline",onClick:d,disabled:!/^#[0-9A-F]{6}$/i.test(s),children:"Apply"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: #RRGGBB (e.g., #FF0000)"})]}),l.jsx("div",{className:"pt-2 border-t",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}}),l.jsx("span",{className:"text-sm font-mono",children:e})]})})]})})]})}const BM={allocation_type:["IAAS","PAAS","SAAS","Load Balancer","Database"],model_type:["PowerEdge R740","PowerEdge R750","PowerEdge R640","PowerEdge R650","ProLiant DL380","ProLiant DL360","ProLiant DL385","ProLiant DL365","ThinkSystem SR650","ThinkSystem SR630","ThinkSystem SR850","UCS C220","UCS C240","UCS C480"]};function uke({enumType:e,availableValues:t,onColorChange:r}){const[n,s]=g.useState("custom"),[i,a]=g.useState("dark"),[o,c]=g.useState({});or("enumColor_scheme",n,s),or("enumColor_theme",i,a),Wd(o,"enumColorManager_editing"),Vd("enumColorManager_editing",c);const{colors:u,loading:d,error:f,saveColor:h,updateColor:m,deleteColor:p,getColorsForType:v,generateDefaultColors:w,fetchColors:b}=Pd(e),{toast:y}=Cr(),[x,_]=g.useState({enum_type:e||"allocation_type",enum_value:"",color_hex:"#3B82F6",color_name:""}),j=e?v(e):u,k=async()=>{if(!x.enum_value.trim()){y({title:"Error",description:"Please select an enum value",variant:"destructive"});return}await h(x.enum_type,x.enum_value,x.color_hex,x.color_name||void 0)?(y({title:"Success",description:"Color saved successfully"}),_({...x,enum_value:"",color_name:""}),r==null||r(x.enum_value,x.color_hex)):y({title:"Error",description:f||"Failed to save color",variant:"destructive"})},S=async(P,A)=>{await p(P)?(y({title:"Success",description:"Color deleted successfully"}),r==null||r(A,"")):y({title:"Error",description:f||"Failed to delete color",variant:"destructive"})},E=async(P,A)=>{await m(P.id,A,P.color_name)?(y({title:"Success",description:"Color updated successfully"}),r==null||r(P.enum_value,A)):y({title:"Error",description:f||"Failed to update color",variant:"destructive"})},N=async()=>{const P=x.enum_type,A=t||BM[P]||[];await w(P,A),y({title:"Success",description:`Generated default colors for ${P}`})},O=(t||BM[x.enum_type]||[]).filter(P=>!j.some(A=>A.enum_value===P));return l.jsxs(De,{className:"w-full",children:[l.jsx(Ke,{children:l.jsxs(qe,{className:"flex items-center gap-2",children:["Enum Color Management",e&&l.jsx(Fe,{variant:"outline",children:e})]})}),l.jsxs(Re,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[l.jsx("h3",{className:"font-medium",children:"Add New Color"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&l.jsxs("div",{children:[l.jsx(J,{htmlFor:"enum-type",children:"Enum Type"}),l.jsxs(ke,{value:x.enum_type,onValueChange:P=>_({...x,enum_type:P,enum_value:""}),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select enum type"})}),l.jsxs(je,{children:[l.jsx(q,{value:"allocation_type",children:"Allocation Type"}),l.jsx(q,{value:"model_type",children:"Model Type"})]})]})]}),l.jsxs("div",{children:[l.jsx(J,{htmlFor:"enum-value",children:"Enum Value"}),l.jsxs(ke,{value:x.enum_value,onValueChange:P=>_({...x,enum_value:P}),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select enum value"})}),l.jsx(je,{children:O.map(P=>l.jsx(q,{value:P,children:P},P))})]})]}),l.jsxs("div",{children:[l.jsx(J,{htmlFor:"color-name",children:"Color Name (Optional)"}),l.jsx(He,{id:"color-name",value:x.color_name,onChange:P=>_({...x,color_name:P.target.value}),placeholder:"e.g., Primary Blue"})]}),l.jsxs("div",{children:[l.jsx(J,{children:"Color"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(FM,{value:x.color_hex,onChange:P=>_({...x,color_hex:P})}),l.jsx("span",{className:"text-sm font-mono",children:x.color_hex})]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(G,{onClick:k,disabled:d,children:[l.jsx(Na,{className:"w-4 h-4 mr-2"}),"Add Color"]}),l.jsxs(G,{variant:"outline",onClick:N,disabled:d,children:[l.jsx(ea,{className:"w-4 h-4 mr-2"}),"Generate Defaults"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium",children:"Current Colors"}),l.jsxs(G,{variant:"outline",size:"sm",onClick:b,disabled:d,children:[l.jsx(ea,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),d&&l.jsx("p",{className:"text-center py-4",children:"Loading colors..."}),f&&l.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 border border-red-200 rounded",children:f}),l.jsxs("div",{className:"grid gap-3",children:[j.map(P=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(FM,{value:P.color_hex,onChange:A=>E(P,A)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:P.enum_value}),l.jsxs("div",{className:"text-sm text-gray-500",children:[P.enum_type,"  ",P.color_hex,P.color_name&&`  ${P.color_name}`]})]})]}),l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>S(P.id,P.enum_value),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:l.jsx(fx,{className:"w-4 h-4"})})]},P.id)),j.length===0&&!d&&l.jsx("p",{className:"text-center py-8 text-gray-500",children:"No colors configured. Add some colors or generate defaults."})]})]})]})]})}function dke(){const[e,t]=g.useState({});Wd(e,"enumColorDemo_state"),Vd("enumColorDemo_state",t);const{getColor:r,loading:n}=Pd("allocation_type"),{getColor:s,loading:i}=Pd("model_type"),a=["IAAS","PAAS","SAAS","Load Balancer","Database"],o=["PowerEdge R740","PowerEdge R750","ProLiant DL380","ProLiant DL360"];return n||i?l.jsxs(De,{children:[l.jsx(Ke,{children:l.jsx(qe,{children:"Enum Color System Demo"})}),l.jsx(Re,{children:l.jsx("p",{children:"Loading colors..."})})]}):l.jsxs(De,{children:[l.jsx(Ke,{children:l.jsx(qe,{children:"Enum Color System Demo"})}),l.jsxs(Re,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-3",children:"Allocation Types (Logical View)"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.map(c=>{const u=r(c)||"#6B7280",d=zM(u);return l.jsx("div",{className:"p-3 rounded-lg text-sm font-medium text-center",style:{backgroundColor:u,color:d},children:c},c)})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-3",children:"Model Types (Physical View)"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.map(c=>{const u=s(c)||"#374151",d=zM(u);return l.jsx("div",{className:"p-3 rounded-lg text-sm font-medium text-center",style:{backgroundColor:u,color:d},children:c},c)})})]}),l.jsx("div",{className:"text-sm text-gray-600",children:l.jsxs("p",{children:[l.jsx("strong",{children:"Usage:"}),' Toggle the view mode in RoomView to see servers colored by allocation type (logical view) or model type (physical view). Click the "Colors" button to manage custom colors.']})})]})]})}function zM(e){const t=e.replace("#",""),r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),s=parseInt(t.substr(4,2),16);return(.299*r+.587*n+.114*s)/255>.5?"#000000":"#ffffff"}const fke=()=>{var L,I,B,z;const[e,t]=g.useState(1),[r,n]=g.useState("physical");or("roomView_page",e,t),or("roomView_mode",r,n);const[s,i]=g.useState(!1),a=12,{hierarchyData:o,filters:c,updateFilter:u,resetFilters:d}=Xk(),{racksData:f,loading:h,error:m}=oke(c),{getColor:p,lastUpdate:v}=Pd("allocation_type"),{getColor:w,lastUpdate:b}=Pd("model_type"),[y,x]=g.useState(0);if(g.useEffect(()=>{const T=()=>{console.log(" RoomView received color update event, forcing re-render"),x(C=>C+1)};return window.addEventListener("colorsUpdated",T),()=>{window.removeEventListener("colorsUpdated",T)}},[]),g.useEffect(()=>{console.log(" RoomView detected color update via timestamps, allocation:",v,"model:",b),x(T=>T+1)},[v,b]),f.length>0&&(f.flatMap(T=>T.servers||[]),lke(f)),h)return l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(Si,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading room data..."})]});if(m)return l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(Ia,{className:"h-8 w-8 text-red-500"}),l.jsxs("span",{className:"ml-2 text-red-500",children:["Error loading room data: ",m]})]});const _=T=>{switch(T){case"Active":return"bg-green-500";case"Maintenance":return"bg-yellow-500";case"Offline":return"bg-red-500";default:return"bg-gray-400"}},j=T=>{if(r==="logical"&&T.allocation){const C=p(T.allocation);if(C&&C!=="#ffffff"&&C!=="#000000")return C}else if(r==="physical"&&T.model){const C=w(T.model);if(C&&C!=="#ffffff"&&C!=="#000000")return C}return r==="logical"?"#2563eb":"#1f2937"},k=()=>"#000000",S=T=>{const C=[],D=new Set;T.forEach(W=>{for(let V=0;V<W.unitHeight;V++)D.add(W.position-V)});const U=new Map;T.forEach(W=>{U.set(W.position,W)});for(let W=42;W>=1;W--)if(U.has(W)){const V=U.get(W);C.push({unit:W,server:V})}else D.has(W)||C.push({unit:W,isEmpty:!0});return C},E=Math.ceil(f.length/a),N=(e-1)*a,O=N+a,P=f.slice(N,O),A=T=>{switch(T){case"Active":return"default";case"Maintenance":return"outline";case"Offline":return"destructive";default:return"secondary"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 p-6 bg-white rounded-lg border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($s,{className:"h-5 w-5"}),l.jsx("h1",{className:"text-2xl font-bold",children:"Room View"}),c.dc_room&&l.jsx(Fe,{variant:"secondary",className:"ml-2",children:c.dc_room})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs(ke,{value:c.dc_site||"",onValueChange:T=>u("dc_site",T),children:[l.jsx(_e,{className:"w-[160px]",children:l.jsx(Ce,{placeholder:"Select Site"})}),l.jsx(je,{children:(L=o.sites)==null?void 0:L.map(T=>l.jsx(q,{value:T,children:T},T))})]}),l.jsxs(ke,{value:c.dc_building||"",onValueChange:T=>u("dc_building",T),disabled:!c.dc_site,children:[l.jsx(_e,{className:"w-[160px]",children:l.jsx(Ce,{placeholder:"Select Building"})}),l.jsx(je,{children:(I=o.buildings)==null?void 0:I.map(T=>l.jsx(q,{value:T,children:T},T))})]}),l.jsxs(ke,{value:c.dc_floor||"",onValueChange:T=>u("dc_floor",T),disabled:!c.dc_building,children:[l.jsx(_e,{className:"w-[160px]",children:l.jsx(Ce,{placeholder:"Select Floor"})}),l.jsx(je,{children:(B=o.floors)==null?void 0:B.map(T=>l.jsx(q,{value:T,children:T},T))})]}),l.jsxs(ke,{value:c.dc_room||"",onValueChange:T=>u("dc_room",T),disabled:!c.dc_floor,children:[l.jsx(_e,{className:"w-[160px]",children:l.jsx(Ce,{placeholder:"Select Room"})}),l.jsx(je,{children:(z=o.rooms)==null?void 0:z.map(T=>l.jsx(q,{value:T,children:T},T))})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ke,{value:r,onValueChange:T=>n(T),children:[l.jsx(_e,{className:"w-[140px]",children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"physical",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wi,{className:"h-4 w-4"}),"Physical"]})}),l.jsx(q,{value:"logical",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_v,{className:"h-4 w-4"}),"Logical"]})})]})]}),!1]}),l.jsxs(G,{onClick:d,variant:"outline",size:"sm",children:[l.jsx(WS,{className:"h-4 w-4 mr-2"}),"Reset"]}),l.jsxs(G,{onClick:()=>i(!s),variant:"outline",size:"sm",className:"ml-2",children:[l.jsx(DK,{className:"h-4 w-4 mr-2"}),"Colors"]})]})]}),f.length>0&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white p-4 rounded-lg border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Racks"}),l.jsx("p",{className:"text-2xl font-bold",children:f.length})]}),l.jsx($s,{className:"h-8 w-8 text-blue-500"})]})}),l.jsx("div",{className:"bg-white p-4 rounded-lg border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Servers"}),l.jsx("p",{className:"text-2xl font-bold",children:f.reduce((T,C)=>T+C.totalServers,0)})]}),l.jsx(_v,{className:"h-8 w-8 text-green-500"})]})}),l.jsx("div",{className:"bg-white p-4 rounded-lg border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Utilization"}),l.jsxs("p",{className:"text-2xl font-bold",children:[f.length>0?Math.round(f.reduce((T,C)=>T+C.utilization,0)/f.length):0,"%"]})]}),l.jsx(wi,{className:"h-8 w-8 text-orange-500"})]})}),l.jsx("div",{className:"bg-white p-4 rounded-lg border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Racks"}),l.jsx("p",{className:"text-2xl font-bold",children:f.filter(T=>T.status==="Active").length})]}),l.jsx("div",{className:`w-8 h-8 rounded-full ${_("Active")}`})]})})]}),c.dc_room?f.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx($s,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No racks found"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No racks are configured for this room."})]}):l.jsxs(l.Fragment,{children:[s&&l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsx(dke,{}),l.jsx(uke,{enumType:r==="logical"?"allocation_type":"model_type",onColorChange:()=>{}})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:P.map(T=>l.jsx("div",{className:"bg-white rounded-lg border shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg",children:T.name}),l.jsx("p",{className:"text-sm text-gray-600",children:T.location})]}),l.jsx(Fe,{variant:A(T.status),children:T.status})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{children:"Utilization"}),l.jsxs("span",{children:[Math.round(T.utilization),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${T.utilization}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Servers:"}),l.jsx("span",{className:"font-medium",children:T.totalServers})]}),r==="physical"&&l.jsx("div",{className:"mt-3 border rounded",children:l.jsxs("div",{className:"p-2 rounded-lg",style:{backgroundColor:"black",height:"1280px",overflow:"hidden"},children:[l.jsxs("div",{className:"p-1 rounded-t-lg",style:{backgroundColor:"black"},children:[l.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&l.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]}),l.jsx("div",{className:"bg-gray-100 border-l-4 border-r-4",style:{borderLeftColor:"#ffffff",borderRightColor:"#ffffff",paddingTop:"4px",paddingBottom:"4px",height:"1185px",overflow:"visible"},children:l.jsx("div",{className:"",children:S(T.servers).map((C,D)=>C.server&&C.server.unitHeight>1?l.jsx("div",{className:"flex items-center transition-colors rounded hover:bg-blue-600 hover:border-blue-400",style:{minHeight:"24.2px",height:`${C.server.unitHeight*24.2}px`,paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(C.server),border:"2px solid transparent"},children:l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:`flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 ${r==="logical"?"bg-blue-50 border border-blue-200":"bg-white"}`,style:{minHeight:`${C.server.unitHeight*24.2-8}px`,height:`${C.server.unitHeight*24.2-8}px`,paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:r==="logical"?"0 1px 4px rgba(59,130,246,0.15)":"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:l.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[l.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:k()},children:["U",C.unit]}),l.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:r==="physical"?l.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[l.jsx("span",{className:"font-mono truncate",style:{color:k()},children:C.server.serialNumber||"N/A"}),l.jsx("span",{className:"truncate",style:{color:k()},children:C.server.model||"Unknown"}),l.jsx("span",{className:"font-mono truncate",style:{color:k()},children:C.server.ipOOB||"N/A"})]}):l.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[l.jsx("span",{className:"font-medium truncate",title:C.server.hostname||C.server.id,style:{color:k()},children:C.server.hostname||`Server-${C.server.id.slice(-4)}`}),l.jsx("span",{className:"font-mono truncate",title:C.server.ipAddress||"No IP assigned",style:{color:k()},children:C.server.ipAddress||"N/A"}),l.jsx("span",{className:"truncate font-medium",title:C.server.allocation||"No allocation",style:{color:k()},children:C.server.allocation||"Unassigned"})]})}),l.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full ${_(C.server.status)}`})})]})})})},D):l.jsx("div",{className:"flex items-center transition-colors rounded",style:C.server?{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(C.server),border:"2px solid transparent"}:{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:"#f3f4f6",border:"2px solid transparent"},children:C.server?l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:`flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 ${r==="logical"?"bg-blue-50 border border-blue-200":"bg-white"}`,style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:r==="logical"?"0 1px 4px rgba(59,130,246,0.15)":"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:l.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[l.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:k()},children:["U",C.unit]}),l.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:r==="physical"?l.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[l.jsx("span",{className:"font-mono truncate",style:{color:k()},children:C.server.serialNumber||"N/A"}),l.jsx("span",{className:"truncate",style:{color:k()},children:C.server.model||"Unknown"}),l.jsx("span",{className:"font-mono truncate",style:{color:k()},children:C.server.ipOOB||"N/A"})]}):l.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[l.jsx("span",{className:"font-medium truncate",title:C.server.hostname||C.server.id,style:{color:k()},children:C.server.hostname||`Server-${C.server.id.slice(-4)}`}),l.jsx("span",{className:"font-mono truncate",title:C.server.ipAddress||"No IP assigned",style:{color:k()},children:C.server.ipAddress||"N/A"}),l.jsx("span",{className:"truncate font-medium",title:C.server.allocation||"No allocation",style:{color:k()},children:C.server.allocation||"Unassigned"})]})}),l.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full ${_(C.server.status)}`})})]})})}):l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:"flex items-center justify-between rounded w-full",style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",backgroundColor:"#f3f4f6",overflow:"hidden"},children:l.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[l.jsxs("div",{className:"text-[8px] font-mono text-gray-500 flex-shrink-0",style:{width:"24px",textAlign:"right"},children:["U",C.unit]}),l.jsx("div",{className:"flex-1 overflow-hidden",style:{marginLeft:"8px"},children:l.jsx("div",{className:"text-[8px] text-gray-400 italic leading-none",children:"Empty"})})]})})})},D))})}),l.jsxs("div",{className:"p-1 rounded-b-lg",style:{backgroundColor:"black"},children:[l.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&l.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]})]})}),r==="logical"&&l.jsx("div",{className:"mt-3 border rounded",children:l.jsxs("div",{className:"p-2 rounded-lg",style:{backgroundColor:"black",height:"1280px",overflow:"hidden"},children:[l.jsxs("div",{className:"p-1 rounded-t-lg",style:{backgroundColor:"black"},children:[l.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&l.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]}),l.jsx("div",{className:"bg-gray-100 border-l-4 border-r-4",style:{borderLeftColor:"#ffffff",borderRightColor:"#ffffff",paddingTop:"4px",paddingBottom:"4px",height:"1185px",overflow:"visible"},children:l.jsx("div",{className:"",children:S(T.servers).map((C,D)=>C.server&&C.server.unitHeight>1?l.jsx("div",{className:"flex items-center transition-colors rounded hover:bg-blue-600 hover:border-blue-400",style:{minHeight:"24.2px",height:`${C.server.unitHeight*24.2}px`,paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(C.server),border:"2px solid transparent"},children:l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:"flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 bg-white",style:{minHeight:`${C.server.unitHeight*24.2-8}px`,height:`${C.server.unitHeight*24.2-8}px`,paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:l.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[l.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:k()},children:["U",C.unit]}),l.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:l.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[l.jsx("span",{className:"font-medium truncate",style:{color:k()},title:C.server.hostname||C.server.id,children:C.server.hostname||`Server-${C.server.id.slice(-4)}`}),l.jsx("span",{className:"font-mono truncate",style:{color:k()},title:C.server.ipAddress||"No IP assigned",children:C.server.ipAddress||"N/A"}),l.jsx("span",{className:"truncate font-medium",style:{color:k()},title:C.server.allocation||"No allocation",children:C.server.allocation||"Unassigned"})]})}),l.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full ${_(C.server.status)}`})})]})})})},D):l.jsx("div",{className:"flex items-center transition-colors rounded",style:C.server?{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:j(C.server),border:"2px solid transparent"}:{minHeight:"24.2px",height:"24.2px",paddingLeft:"4px",paddingRight:"4px",marginBottom:"2px",backgroundColor:"#f3f4f6",border:"2px solid transparent"},children:C.server?l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:"flex items-center justify-between rounded w-full hover:bg-gray-50 transition-all duration-200 bg-white",style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",boxShadow:"0 1px 4px rgba(0,0,0,0.07)",cursor:"pointer",overflow:"hidden"},children:l.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[l.jsxs("div",{className:"text-[8px] font-mono flex-shrink-0 text-right",style:{color:k()},children:["U",C.unit]}),l.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:l.jsxs("div",{className:"flex items-center gap-1 h-full overflow-hidden text-[8px]",children:[l.jsx("span",{className:"font-medium truncate",title:C.server.hostname||C.server.id,style:{color:k()},children:C.server.hostname||`Server-${C.server.id.slice(-4)}`}),l.jsx("span",{className:"font-mono truncate",title:C.server.ipAddress||"No IP assigned",style:{color:k()},children:C.server.ipAddress||"N/A"}),l.jsx("span",{className:"truncate font-medium",title:C.server.allocation||"No allocation",style:{color:k()},children:C.server.allocation||"Unassigned"})]})}),l.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:l.jsx("div",{className:`w-2 h-2 rounded-full ${_(C.server.status)}`})})]})})}):l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("div",{className:"flex items-center justify-between rounded w-full",style:{minHeight:"16.2px",height:"16.2px",paddingLeft:"4px",paddingRight:"4px",paddingTop:"4px",paddingBottom:"4px",backgroundColor:"#f3f4f6",overflow:"hidden"},children:l.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[l.jsxs("div",{className:"text-[8px] font-mono text-gray-500 flex-shrink-0",style:{width:"24px",textAlign:"right"},children:["U",C.unit]}),l.jsx("div",{className:"flex-1 overflow-hidden",style:{marginLeft:"8px"},children:l.jsx("div",{className:"text-[8px] text-gray-400 italic leading-none",children:"Empty"})})]})})})},D))})}),l.jsxs("div",{className:"p-1 rounded-b-lg",style:{backgroundColor:"black"},children:[l.jsx("div",{className:"text-white text-center text-xs font-medium",children:T.name}),T.description&&l.jsx("div",{className:"text-white text-center text-xs font-bold mt-1",children:T.description})]})]})})]})},T.id))}),E>1&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",N+1,"-",Math.min(O,f.length)," of ",f.length," racks"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(G,{variant:"outline",size:"sm",onClick:()=>t(Math.max(1,e-1)),disabled:e===1,children:[l.jsx(FL,{className:"h-4 w-4"}),"Previous"]}),l.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:E},(T,C)=>l.jsx(G,{variant:e===C+1?"default":"outline",size:"sm",onClick:()=>t(C+1),className:"w-8 h-8 p-0",children:C+1},C+1))}),l.jsxs(G,{variant:"outline",size:"sm",onClick:()=>t(Math.min(E,e+1)),disabled:e===E,children:["Next",l.jsx(zS,{className:"h-4 w-4"})]})]})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx($s,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No room selected"}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please select a site, building, floor, and room to view the rack layout."})]})]})},Al={serversByModel:[{model:"Dell R740",count:245,percentage:19.6},{model:"HPE DL380",count:198,percentage:15.9},{model:"Dell R640",count:167,percentage:13.4},{model:"HPE DL360",count:134,percentage:10.7},{model:"Supermicro",count:89,percentage:7.1}],serversByStatus:[{status:"Active",count:1189,color:"#10b981"},{status:"Maintenance",count:31,color:"#f59e0b"},{status:"Offline",count:27,color:"#ef4444"}],warrantyExpiration:[{month:"Jan 2024",expiring:12},{month:"Feb 2024",expiring:8},{month:"Mar 2024",expiring:15},{month:"Apr 2024",expiring:23},{month:"May 2024",expiring:18},{month:"Jun 2024",expiring:31}],utilizationByDataCenter:[{dataCenter:"DC-East",utilization:78,servers:342},{dataCenter:"DC-West",utilization:65,servers:298},{dataCenter:"DC-Central",utilization:82,servers:367},{dataCenter:"DC-North",utilization:71,servers:240}]},hke=()=>{const[e,t]=g.useState("inventory"),[r,n]=g.useState("all"),[s,i]=g.useState("30"),[a,o]=g.useState("csv");g.useEffect(()=>{const u=setInterval(()=>{localStorage.setItem("reports_state",JSON.stringify({reportType:e,selectedDataCenter:r,dateRange:s,exportFormat:a}))},5e3);return()=>clearInterval(u)},[e,r,s,a]),g.useEffect(()=>{const u=localStorage.getItem("reportParams");if(u&&u!=="undefined")try{const d=JSON.parse(u);d.reportType&&t(d.reportType),d.selectedDataCenter&&n(d.selectedDataCenter),d.dateRange&&i(d.dateRange),d.exportFormat&&o(d.exportFormat)}catch{}},[]);const c=()=>{console.log(`Exporting ${e} report as ${a} for last ${s} days`)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Reports & Analytics"}),l.jsx("p",{className:"text-slate-600",children:"Generate custom reports and analyze your infrastructure"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(G,{variant:"outline",children:[l.jsx(vc,{className:"h-4 w-4 mr-2"}),"Advanced Filters"]}),l.jsxs(G,{onClick:c,children:[l.jsx(wK,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsx(qe,{className:"text-lg",children:"Report Configuration"}),l.jsx(Gt,{children:"Customize your report parameters"})]}),l.jsx(Re,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"reportType",children:"Report Type"}),l.jsxs(ke,{value:e,onValueChange:t,children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"inventory",children:"Inventory Summary"}),l.jsx(q,{value:"warranty",children:"Warranty Report"}),l.jsx(q,{value:"utilization",children:"Utilization Report"}),l.jsx(q,{value:"maintenance",children:"Maintenance Report"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dataCenter",children:"Data Center"}),l.jsxs(ke,{value:r,onValueChange:n,children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Data Centers"}),l.jsx(q,{value:"DC-East",children:"DC-East"}),l.jsx(q,{value:"DC-West",children:"DC-West"}),l.jsx(q,{value:"DC-Central",children:"DC-Central"}),l.jsx(q,{value:"DC-North",children:"DC-North"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"dateRange",children:"Date Range"}),l.jsxs(ke,{value:s,onValueChange:i,children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"7",children:"Last 7 days"}),l.jsx(q,{value:"30",children:"Last 30 days"}),l.jsx(q,{value:"90",children:"Last 90 days"}),l.jsx(q,{value:"365",children:"Last year"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"exportFormat",children:"Export Format"}),l.jsxs(ke,{value:a,onValueChange:o,children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"csv",children:"CSV"}),l.jsx(q,{value:"xlsx",children:"Excel"}),l.jsx(q,{value:"pdf",children:"PDF"}),l.jsx(q,{value:"json",children:"JSON"})]})]})]})]})})]}),l.jsxs(Fp,{defaultValue:"charts",className:"space-y-6",children:[l.jsxs(zd,{className:"grid w-full grid-cols-2 lg:w-[200px] bg-white border border-slate-200 shadow-sm",children:[l.jsx($r,{value:"charts",children:"Charts"}),l.jsx($r,{value:"tables",children:"Tables"})]}),l.jsx(Fr,{value:"charts",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsxs(qe,{className:"text-lg flex items-center space-x-2",children:[l.jsx(La,{className:"h-5 w-5 text-blue-600"}),l.jsx("span",{children:"Servers by Model"})]}),l.jsx(Gt,{children:"Distribution of server hardware"})]}),l.jsx(Re,{children:l.jsx(ju,{width:"100%",height:300,children:l.jsxs(Sj,{data:Al.serversByModel,children:[l.jsx(gh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),l.jsx(zu,{dataKey:"model",stroke:"#64748b",fontSize:12}),l.jsx(Uu,{stroke:"#64748b"}),l.jsx(_u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),l.jsx(dp,{dataKey:"count",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsxs(qe,{className:"text-lg flex items-center space-x-2",children:[l.jsx(ki,{className:"h-5 w-5 text-green-600"}),l.jsx("span",{children:"Server Status"})]}),l.jsx(Gt,{children:"Current operational status"})]}),l.jsx(Re,{children:l.jsx(ju,{width:"100%",height:300,children:l.jsxs(tW,{children:[l.jsx(V0,{data:Al.serversByStatus,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"count",label:({status:u,count:d})=>`${u}: ${d}`,children:Al.serversByStatus.map((u,d)=>l.jsx(tf,{fill:u.color},`cell-${d}`))}),l.jsx(_u,{})]})})})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsx(qe,{className:"text-lg",children:"Warranty Expiration Timeline"}),l.jsx(Gt,{children:"Servers with expiring warranties"})]}),l.jsx(Re,{children:l.jsx(ju,{width:"100%",height:300,children:l.jsxs(Kbe,{data:Al.warrantyExpiration,children:[l.jsx(gh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),l.jsx(zu,{dataKey:"month",stroke:"#64748b",fontSize:12}),l.jsx(Uu,{stroke:"#64748b"}),l.jsx(_u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),l.jsx(GE,{type:"monotone",dataKey:"expiring",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:4}})]})})})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsxs(qe,{className:"text-lg flex items-center space-x-2",children:[l.jsx($s,{className:"h-5 w-5 text-purple-600"}),l.jsx("span",{children:"Data Center Utilization"})]}),l.jsx(Gt,{children:"Capacity utilization by location"})]}),l.jsx(Re,{children:l.jsx(ju,{width:"100%",height:300,children:l.jsxs(Sj,{data:Al.utilizationByDataCenter,children:[l.jsx(gh,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),l.jsx(zu,{dataKey:"dataCenter",stroke:"#64748b",fontSize:12}),l.jsx(Uu,{stroke:"#64748b"}),l.jsx(_u,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px"}}),l.jsx(dp,{dataKey:"utilization",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})]})]})}),l.jsxs(Fr,{value:"tables",className:"space-y-6",children:[l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsx(qe,{className:"text-lg",children:"Server Model Summary"}),l.jsx(Gt,{children:"Detailed breakdown by server model"})]}),l.jsx(Re,{children:l.jsx("div",{className:"rounded-md border overflow-x-auto",children:l.jsxs(pd,{children:[l.jsx(md,{children:l.jsxs(gs,{children:[l.jsx(wt,{children:"Model"}),l.jsx(wt,{className:"text-right",children:"Count"}),l.jsx(wt,{className:"text-right",children:"Percentage"}),l.jsx(wt,{children:"Status"})]})}),l.jsx(gd,{children:Al.serversByModel.map(u=>l.jsxs(gs,{children:[l.jsx(et,{className:"font-medium",children:u.model}),l.jsx(et,{className:"text-right",children:u.count}),l.jsxs(et,{className:"text-right",children:[u.percentage,"%"]}),l.jsx(et,{children:l.jsx(Fe,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:"In Production"})})]},u.model))})]})})})]}),l.jsxs(De,{className:"bg-white border-0 shadow-sm",children:[l.jsxs(Ke,{children:[l.jsx(qe,{className:"text-lg",children:"Data Center Utilization"}),l.jsx(Gt,{children:"Capacity and utilization metrics"})]}),l.jsx(Re,{children:l.jsx("div",{className:"rounded-md border overflow-x-auto",children:l.jsxs(pd,{children:[l.jsx(md,{children:l.jsxs(gs,{children:[l.jsx(wt,{children:"Data Center"}),l.jsx(wt,{className:"text-right",children:"Total Servers"}),l.jsx(wt,{className:"text-right",children:"Utilization"}),l.jsx(wt,{children:"Status"})]})}),l.jsx(gd,{children:Al.utilizationByDataCenter.map(u=>l.jsxs(gs,{children:[l.jsx(et,{className:"font-medium",children:u.dataCenter}),l.jsx(et,{className:"text-right",children:u.servers}),l.jsxs(et,{className:"text-right",children:[u.utilization,"%"]}),l.jsx(et,{children:l.jsx(Fe,{className:u.utilization>80?"bg-red-100 text-red-700 hover:bg-red-100":u.utilization>60?"bg-yellow-100 text-yellow-700 hover:bg-yellow-100":"bg-green-100 text-green-700 hover:bg-green-100",children:u.utilization>80?"High":u.utilization>60?"Medium":"Normal"})})]},u.dataCenter))})]})})})]})]})]})]})},pke=e=>{if(!e)return"text";const t=e.toLowerCase();return t.includes("int")||t.includes("numeric")||t.includes("decimal")||t.includes("float")||t.includes("double")?"number":t==="boolean"||t==="bool"?"boolean":t.includes("date")||t.includes("time")?"date":"text"},mke=(e="servers")=>{const[t,r]=g.useState([]),[n,s]=g.useState(!0),[i,a]=g.useState(null),{toast:o}=Cr(),{enums:c}=ck(),u=()=>c!=null&&c.racks&&Array.isArray(c.racks)&&c.racks.length>0?c.racks:["RACK-01","RACK-02","RACK-03","RACK-04","RACK-05","RACK-06","RACK-07","RACK-08","RACK-09","RACK-10"],d=g.useCallback(async()=>{try{s(!0);const{data:f,error:h}=await oe.functions.invoke(`get-table-schema?table=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(h)throw h;if(f!=null&&f.data){const m=f.data.map(p=>({column_name:p.column_name,data_type:pke(p.data_type),is_nullable:p.is_nullable,column_default:p.column_default,is_enum:p.is_enum||!1,enum_values:Array.isArray(p.enum_values)?p.enum_values:[]}));r(m)}else throw new Error("No data returned from server")}catch(f){console.error("Error fetching table schema:",f);const h=f instanceof Error?f:new Error("Failed to fetch table schema");a(h),o({title:"Error loading schema",description:"Using default schema. Some features may be limited.",variant:"destructive"});const m=[{column_name:"brand",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Dell","HPE","Cisco","Juniper","NetApp","Huawei","Inspur","Kaytus","ZTE","Meta Brain"]},{column_name:"model",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["PowerEdge R740","PowerEdge R750","PowerEdge R750xd","PowerVault ME4","ProLiant DL380","ProLiant DL360","Apollo 4510","ASA 5525-X","Nexus 93180YC-EX","MX204","AFF A400","Other"]},{column_name:"operating_system",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Ubuntu 22.04 LTS","Ubuntu 20.04 LTS","RHEL 8","CentOS 7","Oracle Linux 8","Windows Server 2022","Windows Server 2019","Storage OS 2.1","Cisco ASA 9.16","NX-OS 9.3","JunOS 21.2","ONTAP 9.10","Other"]},{column_name:"dc_site",data_type:"text",is_nullable:"NO",column_default:null,is_enum:!0,enum_values:["DC-East","DC-West","DC-North","DC-South","DC-Central","DC1","DC2","DC3","DC4","DC5"]},{column_name:"dc_building",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Building-A","Building-B","Building-C","Building-D","Building-E","Other"]},{column_name:"dc_floor",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["1","2","3","4","5","B1","B2","Ground","Mezzanine"]},{column_name:"dc_room",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["MDF","101","102","103","104","105","106","107","108","109","110","201","202","203","204","205","206","207","208","209","210","301","302","303","304","305","306","307","308","309","310","401","402","403","404","405","406","407","408","409","410","Server Room A","Server Room B","Network Room","Storage Room","Other"]},{column_name:"allocation",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["IAAS","PAAS","SAAS","Load Balancer","Database"]},{column_name:"status",data_type:"select",is_nullable:"NO",column_default:"Active",is_enum:!0,enum_values:["Active","Ready","Inactive","Maintenance","Decommissioned","Retired"]},{column_name:"device_type",data_type:"select",is_nullable:"NO",column_default:null,is_enum:!0,enum_values:["Server","Storage","Network"]},{column_name:"rack",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:u()},{column_name:"unit",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:Array.from({length:42},(p,v)=>`U${v+1}`)},{column_name:"environment",data_type:"select",is_nullable:"YES",column_default:null,is_enum:!0,enum_values:["Production","Testing","Pre-Production","Development"]},{column_name:"notes",data_type:"text",is_nullable:"YES",column_default:null,is_enum:!1,enum_values:[]}];r(m)}finally{s(!1)}},[e,o]);return g.useEffect(()=>{d()},[d]),{columns:t,loading:n,error:i,refetch:d}},UM=["hostname","dc_site","device_type","status","serial_number"],gke=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(!1),[s,i]=g.useState(null),[a,o]=g.useState([]),{toast:c}=Cr(),{enums:u}=Lc(),d=g.useCallback((v,w)=>{if(!u||!u[w])return!1;const b=u[w];return Array.isArray(b)&&b.some(y=>String(y)===String(v))},[u]),f=v=>{var b;const w=(b=v.target.files)==null?void 0:b[0];w&&(t(w),i(null),o([]))},h=g.useCallback(async v=>{try{const b=(await v.text()).split(`
`).filter(x=>x.trim()!=="");if(b.length<2)return[];const y=b[0].split(",").map(x=>x.trim().toLowerCase());return b.slice(1).map((x,_)=>{const j=x.split(",").map(S=>S.trim()),k={id:_+1};return y.forEach((S,E)=>{j[E]!==void 0&&(k[S]=j[E]||null)}),UM.forEach(S=>{k[S]===void 0&&(k[S]="")}),k})}catch(w){throw console.error("Error parsing CSV:",w),w}},[]),m=g.useCallback(async()=>{if(!e){c({title:"No file selected",description:"Please select a file to import",variant:"destructive"});return}if(!u){c({title:"Server data not loaded",description:"Please wait while we load the required data",variant:"destructive"});return}const w=["status","deviceTypes","allocationTypes","environmentTypes","racks","units"].filter(b=>{var y;return!u[b]||((y=u[b])==null?void 0:y.length)===0});if(w.length>0){c({title:"Missing enum data",description:`The following enum types are missing or empty: ${w.join(", ")}. Please make sure they are configured in the system.`,variant:"destructive"});return}n(!0),i(null),o([]);try{const b=await h(e),y=[],x={success:0,failed:0,errors:[]};for(const j of b){const k=[];for(const S of UM){const E=j[S];(E==null||E==="")&&k.push(`Missing required field: ${S}`)}j.rack&&!d(j.rack,"racks")&&k.push(`Invalid rack value: ${j.rack}`),j.unit&&!d(j.unit,"units")&&k.push(`Invalid unit value: ${j.unit}`),j.allocation&&!d(j.allocation,"allocationTypes")&&k.push(`Invalid allocation value: ${j.allocation}`),j.environment&&!d(j.environment,"environmentTypes")&&k.push(`Invalid environment value: ${j.environment}`),j.device_type&&!d(j.device_type,"deviceTypes")&&k.push(`Invalid device type: ${j.device_type}`),j.status&&!d(j.status,"status")&&k.push(`Invalid status: ${j.status}`),y.push({row:j,errors:k})}const _=y.filter(j=>j.errors.length>0);if(o(y),_.length>0){c({title:"Validation failed",description:`Found ${_.length} rows with errors. Please fix them before importing.`,variant:"destructive"}),n(!1);return}for(const{row:j}of y)try{const{id:k,...S}=j,{data:E,error:N}=await oe.from("servers").select("id").eq("hostname",j.hostname).maybeSingle();if(N)throw N;let O;if(E){const{error:P}=await oe.from("servers").update(S).eq("hostname",j.hostname);O=P}else{const{error:P}=await oe.from("servers").insert([S]);O=P}if(O)throw O;x.success++}catch(k){x.failed++;const S=k instanceof Error?k.message:"Unknown error";x.errors.push(`Row ${j.id} (${j.hostname}): ${S}`)}i(x),x.failed===0?c({title:"Import successful",description:`Successfully imported ${x.success} servers.`}):c({title:"Import completed with errors",description:`Imported ${x.success} servers, ${x.failed} failed.`,variant:"destructive"})}catch(b){console.error("Import error:",b),c({title:"Import failed",description:"An error occurred while processing the file.",variant:"destructive"})}finally{n(!1)}},[e,u]),p=g.useCallback(async()=>{if(!u){c({title:"Data not loaded",description:"Please wait while we load the required data",variant:"destructive"});return}try{const v=["hostname","dc_site","device_type","status","serial_number","brand","model","ip_address","ip_oob","operating_system","dc_building","dc_floor","dc_room","allocation","environment","rack","unit","warranty","notes"],w=O=>{const P=u[O];return Array.isArray(P)&&P.length>0?P[0]:""},b={hostname:"server-01",dc_site:"DC1",serial_number:"SER12345",ip_address:"192.168.1.10",ip_oob:"10.0.0.1",dc_building:"Building A",dc_floor:"1",dc_room:"Server Room 101",brand:"Dell",model:"PowerEdge R740",operating_system:"Ubuntu 22.04 LTS",warranty:"2025-12-31",notes:"Example note"},y={status:"status",device_type:"deviceTypes",allocation:"allocationTypes",environment:"environmentTypes",rack:"racks",unit:"units"},x=v.map(O=>{const P=y[O];if(P){const A=w(P);return A||{status:"Active",device_type:"Server",allocation:"IAAS",environment:"Production",rack:"RACK-01",unit:"U42"}[O]||""}return O in b?b[O]:""}),_=v.join(","),j=x.map(O=>{const P=String(O).replace(/"/g,'""');return P.includes(",")||P.includes('"')?`"${P}"`:P}).join(","),k=[_,j].join(`
`),S=new Blob([k],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(S),N=document.createElement("a");N.setAttribute("href",E),N.setAttribute("download","server_import_template.csv"),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),c({title:"Template downloaded",description:"CSV template has been downloaded successfully"})}catch(v){console.error("Error generating template:",v),c({title:"Error generating template",description:"Failed to generate the CSV template. Please try again.",variant:"destructive"})}},[c]);return g.useEffect(()=>{const v=setInterval(()=>{localStorage.setItem("bulkImport_state",JSON.stringify({fileName:(e==null?void 0:e.name)||null,isImporting:r,importResults:s,validationResults:a}))},5e3);return()=>clearInterval(v)},[e,r,s,a]),g.useEffect(()=>{const v=localStorage.getItem("bulkImportState");if(v&&v!=="undefined")try{const w=JSON.parse(v);w.isImporting!==void 0&&n(w.isImporting),w.importResults&&i(w.importResults),w.validationResults&&o(w.validationResults)}catch{}},[]),l.jsx("div",{className:"w-full px-0 md:px-8 py-8",children:l.jsxs(De,{className:"w-full max-w-none",children:[l.jsxs(Ke,{children:[l.jsx(qe,{children:"Bulk Import Servers"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a CSV file to import multiple servers at once. The first row should contain column headers."})]}),l.jsx(Re,{className:"space-y-6",children:l.jsxs("div",{className:"grid w-full items-center gap-4",children:[l.jsx("div",{className:"grid w-full items-center gap-1.5",children:l.jsxs("label",{htmlFor:"csv-upload",className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-lg cursor-pointer bg-background hover:bg-accent/50 transition-colors",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[l.jsx(UL,{className:"w-8 h-8 mb-2 text-muted-foreground"}),l.jsxs("p",{className:"mb-1 text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e?e.name:"CSV file (max 10MB)"})]}),l.jsx("input",{id:"csv-upload",type:"file",accept:".csv",className:"hidden",onChange:f,disabled:r})]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(G,{onClick:m,disabled:!e||r,className:"min-w-[120px]",children:r?"Importing...":"Import"}),l.jsxs(G,{variant:"outline",onClick:p,disabled:r,className:"gap-2",children:[l.jsx(US,{className:"h-4 w-4"}),"Download Template"]}),e&&l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>t(null),disabled:r,className:"ml-auto",children:"Clear"})]}),l.jsxs("div",{className:"mt-6 text-sm text-muted-foreground",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Instructions:"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Required columns:"})," hostname, dc_site, device_type, status, serial_number"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Optional columns:"})," brand, model, ip_address, ip_oob, operating_system, dc_building, dc_floor, dc_room, allocation, environment, rack, unit, warranty, notes"]}),l.jsxs("p",{className:"mt-2",children:[l.jsx("strong",{children:"Status values:"})," ",Array.isArray(u==null?void 0:u.status)?u.status.join(", "):"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Device types:"})," ",Array.isArray(u==null?void 0:u.deviceTypes)?u.deviceTypes.join(", "):"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Allocation types:"})," ",Array.isArray(u==null?void 0:u.allocationTypes)?u.allocationTypes.join(", "):"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Environment types:"})," ",Array.isArray(u==null?void 0:u.environmentTypes)?u.environmentTypes.join(", "):"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Racks:"})," ",Array.isArray(u==null?void 0:u.racks)?u.racks.slice(0,5).join(", ")+(u.racks.length>5?"...":""):"Loading..."]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Units:"})," ",Array.isArray(u==null?void 0:u.units)?u.units.slice(0,5).join(", ")+(u.units.length>5?"...":""):"Loading..."]})]}),a.length>0&&l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("h3",{className:"text-sm font-medium",children:["Validation Results (",a.filter(v=>v.errors.length>0).length," issues found)"]}),l.jsx("div",{className:"rounded-md border border-border overflow-hidden",children:l.jsx("div",{className:"max-h-60 overflow-y-auto",children:a.filter(v=>v.errors.length>0).map((v,w)=>l.jsxs("div",{className:"border-b border-border last:border-b-0 p-3 text-sm",children:[l.jsxs("div",{className:"font-medium mb-1",children:["Row ",v.row.id,":"]}),l.jsx("ul",{className:"list-disc pl-5 space-y-1",children:v.errors.map((b,y)=>l.jsx("li",{className:"text-destructive",children:b},y))})]},w))})})]}),s&&l.jsxs("div",{className:"mt-6 space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium",children:"Import Results"}),l.jsxs("div",{className:"rounded-md bg-muted/50 p-4",children:[l.jsxs("p",{className:"text-sm",children:["Successfully imported: ",l.jsx("span",{className:"font-medium",children:s.success})]}),s.failed>0&&l.jsxs("p",{className:"text-sm text-destructive mt-1",children:["Failed: ",s.failed]}),s.errors.length>0&&l.jsxs("div",{className:"mt-2 text-sm",children:[l.jsx("p",{className:"font-medium mb-1",children:"Errors:"}),l.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[s.errors.slice(0,5).map((v,w)=>l.jsx("li",{className:"text-destructive",children:v},w)),s.errors.length>5&&l.jsxs("li",{className:"text-muted-foreground",children:["...and ",s.errors.length-5," more errors"]})]})]})]})]})]})})]})})},vke=[{id:"1",name:"Hostname",key:"hostname",type:"text",required:!0,visible:!0,isSystem:!0},{id:"2",name:"Device Type",key:"device_type",type:"select",required:!0,visible:!0,options:["Server","Storage","Network"],isSystem:!0},{id:"3",name:"DC Site",key:"dc_site",type:"text",required:!0,visible:!0,isSystem:!0},{id:"4",name:"DC Building",key:"dc_building",type:"text",required:!0,visible:!0,isSystem:!0},{id:"5",name:"DC Floor",key:"dc_floor",type:"select",required:!0,visible:!0,is_enum:!0,isSystem:!0},{id:"6",name:"DC Room",key:"dc_room",type:"select",required:!0,visible:!0,is_enum:!0,isSystem:!0},{id:"7",name:"Allocation",key:"allocation",type:"select",required:!0,visible:!0,options:["IAAS/PAAS","SAAS","Load Balancer","Database"],isSystem:!0},{id:"8",name:"Environment",key:"environment",type:"select",required:!0,visible:!0,options:["Production","Testing","Pre-Production","Development"],isSystem:!0},{id:"9",name:"IP Address",key:"ip_address",type:"text",required:!0,visible:!0,isSystem:!0},{id:"10",name:"Serial Number",key:"serial_number",type:"text",required:!0,visible:!0,isSystem:!0},{id:"11",name:"Brand",key:"brand",type:"select",required:!0,visible:!0,is_enum:!0,options:["Dell","HPE","Cisco","Juniper","NetApp","Huawei","Inspur","Kaytus","ZTE","Meta Brain"],isSystem:!0},{id:"12",name:"Model",key:"model",type:"text",required:!0,visible:!0,isSystem:!0},{id:"13",name:"Status",key:"status",type:"select",required:!0,visible:!0,options:["Active","Inactive","Maintenance","Retired"],isSystem:!0},{id:"14",name:"Notes",key:"notes",type:"text",required:!0,visible:!0,isSystem:!0},{id:"15",name:"Operating System",key:"operating_system",type:"text",required:!0,visible:!0,isSystem:!0},{id:"16",name:"Rack",key:"rack",type:"text",required:!0,visible:!0,isSystem:!0},{id:"17",name:"Unit",key:"unit",type:"text",required:!0,visible:!0,isSystem:!0},{id:"18",name:"Warranty",key:"warranty",type:"date",required:!1,visible:!0,isSystem:!0,description:"Warranty expiration date"}],yke=["id","created_at","updated_at","created_by","updated_by","deleted_at","ip_oob","hostname","ip_address","serial_number"],xke=()=>{const[e,t]=g.useState(1),[r,n]=g.useState({}),[s,i]=g.useState(null);or("serverProps_page",e,t),or("serverProps_filters",r,n),Wd({editingProperty:s},"serverProperties_editor"),Vd("serverProperties_editor",H=>{H.editingProperty&&i(H.editingProperty)});const{columns:a,error:o,refetch:c}=mke("servers"),[u,d]=g.useState([]),[f,h]=g.useState(!1),[m,p]=g.useState(!1),[v,w]=g.useState(null),[b,y]=g.useState(!1),[x,_]=g.useState({name:"",key:"",type:"text",required:!0,visible:!0,options:[],enumType:"",enumTypeName:"",enumValues:[]}),{toast:j}=Cr(),{addEnumValue:k,refreshEnums:S}=Lc(),{getColorsForType:E,fetchColors:N,saveColor:O}=Pd(),P=(H,ee)=>{const ge=H==="allocation"?"allocation_type":H==="model"?"model_type":null;if(!ge)return"#e2e8f0";const kt=E(ge).find(ot=>ot.enum_value===ee);return(kt==null?void 0:kt.color_hex)||"#e2e8f0"},A=H=>{const ee=H.replace("#",""),ge=parseInt(ee.substr(0,2),16),Xe=parseInt(ee.substr(2,2),16),kt=parseInt(ee.substr(4,2),16);return(.299*ge+.587*Xe+.114*kt)/255>.5?"#000000":"#ffffff"};g.useEffect(()=>{if(a.length>0){const H=new Map;vke.forEach(ee=>{H.set(ee.key,{...ee})}),a.forEach(ee=>{var ge;if(!yke.includes(ee.column_name)){const Xe=H.get(ee.column_name);Xe?(Xe.type=ee.data_type,Xe.required=ee.is_nullable==="NO",(ge=ee.enum_values)!=null&&ge.length&&(Xe.options=ee.enum_values,Xe.is_enum=!0)):H.set(ee.column_name,{id:`dynamic_${ee.column_name}`,name:ee.column_name.split("_").map(kt=>kt.charAt(0).toUpperCase()+kt.slice(1)).join(" "),key:ee.column_name,type:ee.data_type,required:ee.is_nullable==="NO",visible:!0,options:ee.enum_values||[],is_enum:ee.is_enum||!1,column_default:ee.column_default})}}),d(Array.from(H.values()))}},[a]),g.useEffect(()=>{o&&j({title:"Error loading schema",description:o.message,variant:"destructive"})},[o,j]);const L=H=>{var ge,Xe;const ee={};return(ge=H.name)!=null&&ge.trim()||(ee.name="Name is required"),(Xe=H.key)!=null&&Xe.trim()?/^[a-z0-9_]+$/.test(H.key)||(ee.key="Key must be lowercase with underscores (a-z, 0-9, _)"):ee.key="Key is required",H.type||(ee.type="Type is required"),H.type==="enum"&&((!H.enumTypeName||!H.enumTypeName.trim())&&(ee.enumTypeName="Enum type name is required"),(!H.enumValues||H.enumValues.length<2||H.enumValues.some(kt=>!kt.trim()))&&(ee.enumValues="At least two non-empty enum values are required")),ee},I=g.useCallback(async()=>{if(b){console.log("Already submitting, ignoring duplicate call");return}y(!0),console.log("Starting enum submission");try{console.log("Creating enum with values:",x.enumValues);const{data:H,error:ee}=await oe.functions.invoke("enum-manager",{method:"POST",body:{action:"create",type:x.key,value:x.enumValues}});if(ee){console.error("Enum creation error:",ee),j({title:"Error Creating Enum Type",description:ee.message,variant:"destructive"});return}console.log("Enum created successfully:",H);const ge={name:x.name,key:x.key,type:x.type,enumType:H.name,description:x.description||`${x.name} property`,required:x.required||!1,options:H.values,default_value:x.default_value||null};console.log("Creating property with body:",ge);const{data:Xe,error:kt}=await oe.functions.invoke("property-manager",{method:"POST",body:ge});if(kt)throw console.error("Property creation error:",kt),kt;if(Xe){console.log("Property created successfully:",Xe);const ot=Xe.data||Xe,ns={id:ot.id,name:ot.name,key:ot.key,type:ot.property_type,required:ot.required||!1,visible:!0,options:ot.options||[],is_enum:ot.property_type==="enum",description:ot.description,category:ot.category||void 0,default_value:ot.default_value||void 0};console.log("Adding column to properties:",ns),d(ni=>{console.log("Current properties count:",ni.length);const Yr=[...ni,ns];return console.log("Updated properties count:",Yr.length),Yr});const ur={name:"",key:"",type:"text",required:!0,visible:!0,options:[],enumType:"",enumTypeName:"",enumValues:[]};console.log("Resetting form state to:",ur),_(ur),console.log("Closing dialog"),h(!1),j({title:"Property Added",description:`Successfully added property '${ot.name}'

Note: Please refresh the page to see the new column in the table.`,duration:5e3});try{await c(),console.log("Table schema refreshed successfully"),await S(),console.log("Enums refreshed after new column creation"),window.dispatchEvent(new CustomEvent("schemaUpdated",{detail:{action:"enum_column_added",columnKey:x.key,columnName:x.name}}))}catch(ni){console.error("Failed to refresh table schema:",ni)}console.log("Enum submission completed successfully")}else throw new Error((Xe==null?void 0:Xe.error)||"Failed to add property")}catch(H){console.error("Error adding enum column:",H);let ee=H.message||"Failed to add column";ee.includes("already exists")?ee="A column with this key already exists. Please choose a different key.":ee.includes("reserved SQL keyword")?ee=`Invalid column name: ${ee}`:ee.includes("invalid input syntax")&&(ee="Invalid column name. Please use only letters, numbers, and underscores."),j({title:"Error Adding Column",description:ee,variant:"destructive"})}finally{console.log("Setting isSubmitting to false"),y(!1)}},[b,x,j,c]),B=async H=>{var kt,ot;if(H.preventDefault(),!((kt=x.name)!=null&&kt.trim())||!((ot=x.key)!=null&&ot.trim())){j({title:"Validation Error",description:"Name and key are required fields",variant:"destructive"});return}const ee=L(x);if(Object.keys(ee).length>0){j({title:"Validation Error",description:Object.values(ee)[0],variant:"destructive"});return}const ge=x.key.toLowerCase();if(u.some(ns=>ns.key.toLowerCase()===ge)){j({title:"Validation Error",description:`A property with the key '${ge}' already exists`,variant:"destructive"});return}if(x.type==="enum"){await I();return}y(!0);try{const ns={name:x.name,key:x.key,type:x.type,enumType:x.enumType,description:x.description||`${x.name} property`,required:x.required||!1,options:x.options||[],default_value:x.default_value||null},{data:ur,error:ni}=await oe.functions.invoke("property-manager",{method:"POST",body:ns});if(ni)throw ni;if(ur){const Yr=ur.data||ur,J0={id:Yr.id,name:Yr.name,key:Yr.key,type:Yr.property_type,required:Yr.required||!1,visible:!0,options:Yr.options||[],is_enum:Yr.property_type==="select",description:Yr.description,category:Yr.category||void 0,default_value:Yr.default_value||void 0};d(eb=>[...eb,J0]),_({name:"",key:"",type:"text",required:!0,visible:!0,options:[],enumType:"",enumTypeName:"",enumValues:[]}),h(!1),j({title:"Property Added",description:`Successfully added property '${ur.data.name}'

Note: Please refresh the page to see the new column in the table.`,duration:5e3})}else throw new Error((ur==null?void 0:ur.error)||"Failed to add property")}catch(ns){console.error("Error adding column:",ns);let ur=ns.message||"Failed to add column";ur.includes("already exists")?ur="A column with this key already exists. Please choose a different key.":ur.includes("reserved SQL keyword")?ur=`Invalid column name: ${ur}`:ur.includes("invalid input syntax")&&(ur="Invalid column name. Please use only letters, numbers, and underscores."),j({title:"Error Adding Column",description:ur,variant:"destructive"})}finally{y(!1)}},z=H=>{U(H),V(""),F("#3B82F6"),H.key==="rack"?Le(!0):C(!0)},[T,C]=g.useState(!1),[D,U]=g.useState(null),[W,V]=g.useState(""),[ue,me]=g.useState(!1),[Ee,xe]=g.useState(""),[fe,We]=g.useState(""),[Q,he]=g.useState(!1),[be,Y]=g.useState({}),[Qe,Le]=g.useState(!1),[Je,it]=g.useState(""),[Z,M]=g.useState(""),[$,F]=g.useState("#3B82F6"),[ie,se]=g.useState(0),[ne,Me]=g.useState(!1),[ze,Rt]=g.useState(""),[ft,tn]=g.useState(null),[Rr,Dn]=g.useState("#3B82F6"),ca=async H=>{if(H.preventDefault(),!(!D||!W.trim()))try{if(await k(D.key,W),(D.key==="allocation"||D.key==="model")&&$){const ee=D.key==="allocation"?"allocation_type":"model_type";try{await O(ee,W,$,`${W} Color`)&&(await N(),se(Xe=>Xe+1),console.log("Colors refreshed after saving new color"),window.dispatchEvent(new CustomEvent("colorsUpdated",{detail:{enumType:ee}})),console.log(" ServerProperties: Dispatched colorsUpdated event for",ee))}catch(ge){console.error("Error saving color:",ge)}}await S(),d(ee=>ee.map(ge=>ge.key===D.key&&ge.options?{...ge,options:[...ge.options,W]}:ge));try{await c(),console.log("Table schema refreshed after enum value addition"),window.dispatchEvent(new CustomEvent("enumsUpdated",{detail:{action:"enum_value_added",columnKey:D.key,columnName:D.name,newValue:W}})),window.dispatchEvent(new CustomEvent("schemaUpdated",{detail:{action:"enum_value_added",columnKey:D.key,columnName:D.name,newValue:W}}))}catch(ee){console.error("Failed to refresh table schema after enum value addition:",ee)}j({title:"Option Added",description:`Added ${W} to ${D.key}`}),C(!1),V(""),F("#3B82F6")}catch(ee){j({title:"Error",description:ee.message,variant:"destructive"})}},rs=g.useCallback(async()=>{var ge;const H=u.find(Xe=>Xe.key==="rack");if(!(H!=null&&H.options))return;const ee={};for(const Xe of H.options)try{const{data:kt,error:ot}=await oe.functions.invoke("get-rack-data",{body:{rackName:Xe}});!ot&&((ge=kt==null?void 0:kt.data)!=null&&ge.description)&&(ee[Xe]=kt.data.description)}catch(kt){console.error(`Error fetching description for rack ${Xe}:`,kt)}Y(ee)},[u]),Mn=async(H,ee)=>{he(!0);try{const{error:ge}=await oe.functions.invoke("update-rack-description",{body:{rack_name:H,dc_site:"DC-East",dc_building:"Building-A",dc_floor:"1",dc_room:"MDF",description:ee}});if(ge)throw ge;return Y(Xe=>({...Xe,[H]:ee})),j({title:"Success",description:`Description for ${H} saved successfully!`}),!0}catch(ge){return console.error("Error saving rack description:",ge),j({title:"Error",description:ge.message||"Failed to save rack description",variant:"destructive"}),!1}finally{he(!1)}},ua=H=>{xe(H),We(be[H]||""),me(!0)},ri=(H,ee)=>{tn(H),Rt(ee);const ge=P(H.key,ee);Dn(ge),Me(!0)},Es=async()=>{if(!(!ft||!ze||!Rr))try{const H=ft.key==="allocation"?"allocation_type":"model_type";if(await O(H,ze,Rr,`${ze} Color`))await N(),se(ge=>ge+1),window.dispatchEvent(new CustomEvent("colorsUpdated",{detail:{enumType:H}})),console.log(" ServerProperties: Dispatched colorsUpdated event for",H),j({title:"Color Updated",description:`Updated color for ${ze}`}),Me(!1),Rt(""),tn(null),Dn("#3B82F6");else throw new Error("Failed to save color")}catch(H){console.error("Error updating color:",H),j({title:"Error",description:"Failed to update color",variant:"destructive"})}},Kc=async H=>{if(H.preventDefault(),!(!D||!Je.trim()))try{await k(D.key,Je),Z.trim()&&await Mn(Je,Z),await S(),d(ee=>ee.map(ge=>ge.key===D.key&&ge.options?{...ge,options:[...ge.options,Je]}:ge));try{await c(),console.log("Table schema refreshed after rack addition"),window.dispatchEvent(new CustomEvent("enumsUpdated",{detail:{action:"enum_value_added",columnKey:D.key,columnName:D.name,newValue:Je}})),window.dispatchEvent(new CustomEvent("schemaUpdated",{detail:{action:"enum_value_added",columnKey:D.key,columnName:D.name,newValue:Je}}))}catch(ee){console.error("Failed to refresh table schema after rack addition:",ee)}j({title:"Rack Added",description:`Added ${Je} to ${D.key}${Z?" with description":""}`}),Le(!1),it(""),M(""),await rs()}catch(ee){j({title:"Error",description:ee.message,variant:"destructive"})}};g.useEffect(()=>{u.length>0&&rs()},[u,rs]);const Ve=H=>{_(ee=>{const ge={...ee,type:H};return H==="select"&&!ee.options?ge.options=[]:H==="enum"&&!ee.enumType?(ge.enumType="",delete ge.options):H!=="select"&&H!=="enum"&&ee.options&&(delete ge.options,delete ge.enumType),ge})},de=H=>{const{id:ee,value:ge}=H.target;_(Xe=>({...Xe,[ee]:ge}))},jt=async()=>{if(v){y(!0);try{const{data:H,error:ee}=await oe.functions.invoke("property-manager",{method:"DELETE",body:{key:v.key}});if(ee)throw ee;if(H!=null&&H.success)d(u.filter(ge=>ge.key!==(v==null?void 0:v.key))),j({title:"Success",description:H.message||"Column deleted successfully"});else throw new Error((H==null?void 0:H.error)||"Failed to delete column")}catch(H){console.error("Error deleting column:",H),j({title:"Error",description:H.message||"Failed to delete column. Please check console for details.",variant:"destructive"})}finally{y(!1),p(!1),w(null)}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Server Properties & Management"}),l.jsx("p",{className:"text-slate-600",children:"Customize server properties and manage data"})]})}),l.jsxs(Fp,{defaultValue:"properties",className:"space-y-6",children:[l.jsxs(zd,{className:"grid w-full grid-cols-2",children:[l.jsx($r,{value:"properties",children:"Properties"}),l.jsx($r,{value:"import",children:"Bulk Import"})]}),l.jsxs(Fr,{value:"properties",className:"space-y-6",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs(wr,{open:f,onOpenChange:h,children:[l.jsx(Qh,{asChild:!0,children:l.jsxs(G,{children:[l.jsx(Na,{className:"h-4 w-4 mr-2"}),"Add Property"]})}),l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Add New Property"}),l.jsx(mr,{children:"Create a new server property to track additional information"})]}),l.jsxs("form",{onSubmit:B,children:[l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"name",children:"Property Name"}),l.jsx(He,{id:"name",value:x.name||"",onChange:de,placeholder:"e.g., Networks"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"key",children:"Property Key"}),l.jsx(He,{id:"key",value:x.key||"",onChange:de,placeholder:"e.g., networks"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"type",children:"Property Type"}),l.jsxs(ke,{value:x.type||"text",onValueChange:Ve,children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select property type"})}),l.jsxs(je,{children:[l.jsx(q,{value:"text",children:"Text"}),l.jsx(q,{value:"number",children:"Number"}),l.jsx(q,{value:"date",children:"Date"}),l.jsx(q,{value:"boolean",children:"Boolean"}),l.jsx(q,{value:"enum",children:"Enum (Database Type)"})]})]})]}),x.type==="enum"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Enum Values"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(He,{value:x.enumTypeName||"",onChange:H=>{_(ee=>({...ee,enumTypeName:H.target.value,enumValues:[H.target.value,...(ee.enumValues||[]).filter((ge,Xe)=>Xe!==0)]}))},placeholder:"First enum value (e.g., device_status)"}),(x.enumValues||[]).slice(1).map((H,ee)=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(He,{value:H,onChange:ge=>{const Xe=[...x.enumValues||[]];Xe[ee+1]=ge.target.value,_(kt=>({...kt,enumValues:Xe}))},placeholder:"Enum value"}),l.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:()=>{_(ge=>({...ge,enumValues:(ge.enumValues||[]).filter((Xe,kt)=>kt!==ee+1)}))},children:"Remove"})]},ee+1)),l.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:()=>{_(H=>({...H,enumValues:[...H.enumValues||[],""]}))},children:"Add Value"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Yk,{id:"required",checked:x.required||!1,onCheckedChange:H=>_(ee=>({...ee,required:H}))}),l.jsx(J,{htmlFor:"required",children:"Required field"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[l.jsx(G,{type:"button",variant:"outline",onClick:()=>h(!1),disabled:b,children:"Cancel"}),l.jsx(G,{type:"submit",disabled:b,children:b?"Adding...":"Add Property"})]})]})]})]})}),l.jsxs(De,{children:[l.jsxs(Ke,{children:[l.jsx(qe,{children:"Property Configuration"}),l.jsx(Gt,{children:"Manage which properties are visible and required for servers"})]}),l.jsx(Re,{children:l.jsx("div",{className:"space-y-4",children:u.map(H=>{var ee;return l.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:l.jsxs("div",{className:"flex items-center space-x-4 w-full",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-medium",children:H.name}),H.required&&l.jsx(Fe,{variant:"secondary",className:"text-xs",children:"Required"}),l.jsx(Fe,{variant:"outline",className:"text-xs",children:H.type}),H.type==="enum"&&H.enumType&&l.jsx(Fe,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:H.enumType}),H.is_enum&&l.jsx(Fe,{variant:"outline",className:"text-xs bg-green-50 text-green-700",children:"ENUM"})]}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Key: ",H.key]}),H.is_enum&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-2 items-center justify-start",children:(ee=H.options)==null?void 0:ee.map(ge=>l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(Fe,{variant:"secondary",className:"px-2 py-1 rounded-full text-xs font-normal",style:H.key==="model"||H.key==="allocation"?{backgroundColor:P(H.key,ge),color:A(P(H.key,ge)),border:`1px solid ${P(H.key,ge)}`}:{},children:[ge,H.key==="rack"&&be[ge]&&l.jsxs("span",{className:"ml-1 text-slate-500",children:["(",be[ge],")"]})]},`${ge}-${ie}`),H.key==="rack"&&l.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>ua(ge),className:"h-6 w-6 p-0 hover:bg-slate-100",title:`Edit description for ${ge}`,children:l.jsx(Lf,{className:"h-3 w-3"})}),(H.key==="model"||H.key==="allocation")&&l.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>ri(H,ge),className:"h-6 w-6 p-0 hover:bg-slate-100",title:`Edit color for ${ge}`,children:l.jsx(Lf,{className:"h-3 w-3"})})]},ge))})]}),H.is_enum&&l.jsxs("div",{className:"flex flex-col items-end justify-start min-w-[100px]",children:[l.jsx("div",{className:"flex gap-2 mb-2",children:l.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:()=>z(H),className:"flex items-center justify-center h-7 text-xs px-2",children:[l.jsx(Na,{className:"h-3 w-3 mr-1"}),"Add Option"]})}),l.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[l.jsx(Fe,{variant:"secondary",className:"text-xs",children:"Required"}),H.isSystem&&l.jsx(Fe,{variant:"outline",className:"text-xs",children:"System"})]}),!H.isSystem&&l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{w(H),p(!0)},className:"text-gray-500 hover:text-gray-700 mt-2",children:l.jsx(fx,{className:"h-4 w-4"})})]})]})},H.id)})})})]}),l.jsx(wr,{open:m,onOpenChange:p,children:l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Delete Column"}),l.jsxs(mr,{children:['Are you sure you want to delete the column "',v==null?void 0:v.name,'"? This action cannot be undone.']})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[l.jsx(G,{variant:"outline",onClick:()=>p(!1),disabled:b,children:"Cancel"}),l.jsx(G,{variant:"destructive",onClick:jt,disabled:b,children:b?"Deleting...":"Delete Column"})]})]})})]}),l.jsx(Fr,{value:"import",className:"space-y-6",children:l.jsx(gke,{})})]}),l.jsx(wr,{open:T,onOpenChange:C,children:l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Add Enum Option"}),l.jsxs(mr,{children:["Add a new option to ",D==null?void 0:D.name,l.jsx("br",{}),l.jsx("span",{className:"text-amber-600 font-medium",children:" Warning: Enum values cannot be deleted after being added."})]})]}),l.jsxs("form",{onSubmit:ca,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"enumValue",children:"Option Name"}),l.jsx(He,{id:"enumValue",value:W,onChange:H=>V(H.target.value),placeholder:"Enter new option",required:!0})]}),((D==null?void 0:D.key)==="allocation"||(D==null?void 0:D.key)==="model")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"enumColor",children:"Color"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{id:"enumColor",type:"color",value:$,onChange:H=>F(H.target.value),className:"w-12 h-8 rounded border border-gray-300 cursor-pointer"}),l.jsx(He,{value:$,onChange:H=>F(H.target.value),placeholder:"#3B82F6",className:"w-24 font-mono text-sm"}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Choose a color for this ",D==null?void 0:D.name.toLowerCase()," value"]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(G,{type:"button",variant:"outline",onClick:()=>{C(!1),V(""),F("#3B82F6")},children:"Cancel"}),l.jsx(G,{type:"submit",children:"Add Option"})]})]})]})}),l.jsx(wr,{open:Qe,onOpenChange:Le,children:l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Add New Rack"}),l.jsxs(mr,{children:["Add a new rack with optional description",l.jsx("br",{}),l.jsx("span",{className:"text-amber-600 font-medium",children:" Warning: Rack values cannot be deleted after being added."})]})]}),l.jsxs("form",{onSubmit:Kc,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"rackName",children:"Rack Name"}),l.jsx(He,{id:"rackName",value:Je,onChange:H=>it(H.target.value),placeholder:"e.g., RACK-04",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"rackDescription",children:"Description (Optional)"}),l.jsx(He,{id:"rackDescription",value:Z,onChange:H=>M(H.target.value),placeholder:"e.g., High-density compute rack",maxLength:40}),l.jsxs("div",{className:"text-xs text-gray-500",children:[Z.length,"/40 characters"]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(G,{type:"button",variant:"outline",onClick:()=>Le(!1),children:"Cancel"}),l.jsx(G,{type:"submit",children:"Add Rack"})]})]})]})}),l.jsx(wr,{open:ue,onOpenChange:me,children:l.jsxs(fr,{className:"sm:max-w-[425px]",children:[l.jsxs(hr,{children:[l.jsxs(pr,{className:"flex items-center space-x-2",children:[l.jsx(Lf,{className:"h-5 w-5"}),l.jsx("span",{children:"Edit Rack Description"})]}),l.jsxs(mr,{children:["Update the description for ",Ee]})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(J,{htmlFor:"description",className:"text-right",children:"Description"}),l.jsx(He,{id:"description",value:fe,onChange:H=>We(H.target.value),placeholder:"Enter rack description",maxLength:40,className:"col-span-3"})]}),l.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[fe.length,"/40 characters"]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(G,{type:"button",variant:"outline",onClick:()=>me(!1),children:"Cancel"}),l.jsx(G,{type:"button",onClick:async()=>{await Mn(Ee,fe)&&me(!1)},disabled:Q,children:Q?"Saving...":"Save Changes"})]})]})}),l.jsx(wr,{open:ne,onOpenChange:Me,children:l.jsxs(fr,{className:"sm:max-w-[425px]",children:[l.jsxs(hr,{children:[l.jsxs(pr,{className:"flex items-center space-x-2",children:[l.jsx(Lf,{className:"h-5 w-5"}),l.jsx("span",{children:"Edit Color"})]}),l.jsxs(mr,{children:['Update the color for "',ze,'" in ',ft==null?void 0:ft.name]})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"editColor",children:"Color"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{id:"editColor",type:"color",value:Rr,onChange:H=>Dn(H.target.value),className:"w-12 h-8 rounded border border-gray-300 cursor-pointer"}),l.jsx(He,{value:Rr,onChange:H=>Dn(H.target.value),placeholder:"#3B82F6",className:"w-24 font-mono text-sm"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Choose a new color"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Preview"}),l.jsx(Fe,{variant:"secondary",className:"px-3 py-1 rounded-full text-sm font-normal",style:{backgroundColor:Rr,color:A(Rr),border:`1px solid ${Rr}`},children:ze})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(G,{type:"button",variant:"outline",onClick:()=>Me(!1),children:"Cancel"}),l.jsx(G,{type:"button",onClick:Es,children:"Save Color"})]})]})})]})},WM=[{id:"1",name:"A-12",floor:1,location:"DC-East",capacity:42,occupied:28,powerUsage:85,status:"Normal",servers:{total:14,active:12,maintenance:1,offline:1}},{id:"2",name:"A-13",floor:1,location:"DC-East",capacity:42,occupied:35,powerUsage:92,status:"Warning",servers:{total:18,active:15,maintenance:2,offline:1}},{id:"3",name:"B-08",floor:2,location:"DC-East",capacity:42,occupied:40,powerUsage:95,status:"Critical",servers:{total:20,active:17,maintenance:1,offline:2}},{id:"4",name:"B-09",floor:2,location:"DC-East",capacity:42,occupied:22,powerUsage:70,status:"Normal",servers:{total:11,active:10,maintenance:1,offline:0}},{id:"5",name:"C-05",floor:3,location:"DC-East",capacity:42,occupied:30,powerUsage:80,status:"Normal",servers:{total:15,active:14,maintenance:0,offline:1}},{id:"6",name:"D-15",floor:1,location:"DC-West",capacity:42,occupied:25,powerUsage:75,status:"Normal",servers:{total:13,active:12,maintenance:1,offline:0}}],bke=({onViewRack:e})=>{const[t,r]=g.useState(""),[n,s]=g.useState(""),[i,a]=g.useState(""),[o,c]=g.useState("");or("dc_site",t,r),or("dc_building",n,s),or("dc_floor",i,a),or("dc_room",o,c);const[u,d]=g.useState("DC-East"),[f,h]=g.useState("all"),[m,p]=g.useState("all"),[v,w]=g.useState(0),[b,y]=g.useState(""),[x,_]=g.useState(null),{toast:j}=Cr(),k=WM.filter(N=>!(N.location!==u||f==="status"&&m!=="all"&&N.status!==m||f==="utilization"&&N.occupied/N.capacity*100<v||b&&!N.name.toLowerCase().includes(b.toLowerCase()))),S=[...new Set(WM.filter(N=>N.location===u).map(N=>N.floor))].sort(),E=(N,O)=>{e?e(N):(_(N),j({title:"Rack Selected",description:`Viewing detailed information for ${O}`}))};return S.reduce((N,O)=>(N[O]=k.filter(P=>P.floor===O),N),{}),k.reduce((N,O)=>N+O.servers.total,0),k.length>0&&Math.round(k.reduce((N,O)=>N+O.occupied/O.capacity*100,0)/k.length),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Data Center View"}),l.jsx("p",{className:"text-slate-600",children:"Overview of all racks organized by floors with enhanced search"})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(V_,{className:"h-5 w-5 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Total Racks"}),l.jsx("p",{className:"text-2xl font-bold",children:k.length})]})]})})}),l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(La,{className:"h-5 w-5 text-green-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Total Servers"}),l.jsx("p",{className:"text-2xl font-bold",children:k.reduce((N,O)=>N+O.servers.total,0)})]})]})})}),l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(jK,{className:"h-5 w-5 text-orange-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Avg Utilization"}),l.jsxs("p",{className:"text-2xl font-bold",children:[k.length>0?Math.round(k.reduce((N,O)=>N+O.occupied/O.capacity*100,0)/k.length):0,"%"]})]})]})})}),l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"h-5 w-5 bg-red-500 rounded"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Critical Racks"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:k.filter(N=>N.status==="Critical").length})]})]})})})]}),l.jsxs(De,{children:[l.jsx(Ke,{children:l.jsxs(qe,{className:"flex items-center space-x-2",children:[l.jsx(vc,{className:"h-5 w-5"}),l.jsx("span",{children:"Filters"})]})}),l.jsx(Re,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Data Center"}),l.jsxs(ke,{value:u,onValueChange:d,children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"DC-East",children:"DC-East"}),l.jsx(q,{value:"DC-West",children:"DC-West"}),l.jsx(q,{value:"DC-Central",children:"DC-Central"}),l.jsx(q,{value:"DC-North",children:"DC-North"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Floor"}),l.jsxs(ke,{value:i.toString(),onValueChange:N=>a(N==="all"?"all":parseInt(N).toString()),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Floors"}),S.map(N=>l.jsxs(q,{value:N.toString(),children:["Floor ",N]},N))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Filter By"}),l.jsxs(ke,{value:f,onValueChange:N=>h(N),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All"}),l.jsx(q,{value:"status",children:"Status"}),l.jsx(q,{value:"utilization",children:"Utilization"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[f==="status"&&l.jsxs(l.Fragment,{children:[l.jsx(J,{children:"Status"}),l.jsxs(ke,{value:m,onValueChange:N=>p(N),children:[l.jsx(_e,{children:l.jsx(Ce,{})}),l.jsxs(je,{children:[l.jsx(q,{value:"all",children:"All Statuses"}),l.jsx(q,{value:"Normal",children:"Normal"}),l.jsx(q,{value:"Warning",children:"Warning"}),l.jsx(q,{value:"Critical",children:"Critical"})]})]})]}),f==="utilization"&&l.jsxs(l.Fragment,{children:[l.jsx(J,{children:"Min Utilization (%)"}),l.jsx(He,{type:"number",value:v,onChange:N=>w(parseInt(N.target.value)||0),placeholder:"0",min:"0",max:"100"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Search Racks"}),l.jsxs("div",{className:"relative",children:[l.jsx(jv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(He,{placeholder:"Search rack names...",value:b,onChange:N=>y(N.target.value),className:"pl-10"})]})]})]})})]}),l.jsx("div",{className:"space-y-6",children:S.map(N=>{const O=k.filter(P=>P.floor===N);return O.length===0?null:l.jsxs(De,{children:[l.jsxs(Ke,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(V_,{className:"h-5 w-5 text-blue-600"}),l.jsxs(qe,{children:["Floor ",N]})]}),l.jsxs(Fe,{variant:"outline",children:[O.length," rack",O.length!==1?"s":""]})]}),l.jsxs(Gt,{children:[u," - Level ",N]})]}),l.jsx(Re,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:O.map(P=>l.jsxs(De,{className:"border border-slate-200 hover:border-slate-300 transition-colors",children:[l.jsx(Ke,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(qe,{className:"text-lg",children:P.name}),l.jsx(Fe,{className:P.status==="Normal"?"bg-green-100 text-green-700 hover:bg-green-100":P.status==="Warning"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-100":"bg-red-100 text-red-700 hover:bg-red-100",children:P.status})]})}),l.jsxs(Re,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Capacity:"}),l.jsxs("span",{className:"font-medium",children:[P.occupied,"/",P.capacity,"U"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${P.occupied/P.capacity>.9?"bg-red-500":P.occupied/P.capacity>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${P.occupied/P.capacity*100}%`}})}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Utilization:"}),l.jsxs("span",{className:"font-medium",children:[Math.round(P.occupied/P.capacity*100),"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Power Usage:"}),l.jsxs("span",{className:"font-medium",children:[P.powerUsage,"%"]})]}),l.jsx("div",{className:"pt-2 border-t",children:l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-slate-500",children:"Servers:"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsx("span",{children:P.servers.active})]}),l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),l.jsx("span",{children:P.servers.maintenance})]}),l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),l.jsx("span",{children:P.servers.offline})]})]})]})}),l.jsxs(G,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>E(P.id,P.name),children:[l.jsx(wi,{className:"h-3 w-3 mr-1"}),"View Rack"]})]})]},P.id))})})]},N)})}),k.length===0&&l.jsx(De,{children:l.jsxs(Re,{className:"text-center py-12",children:[l.jsx(TK,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-500",children:"No racks found matching the current filters"})]})})]})},wke=()=>{var it;const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(""),[a,o]=g.useState(1),[c,u]=g.useState({}),[d,f]=g.useState(null),[h,m]=g.useState(""),[p,v]=g.useState(!1),[w,b]=g.useState(!1),[y,x]=g.useState(""),[_,j]=g.useState(""),[k,S]=g.useState(!1),[E,N]=g.useState(null),[O,P]=g.useState(!1),[A,L]=g.useState(!1),[I,B]=g.useState(null),[z,T]=g.useState(""),[C,D]=g.useState(!1),[U,W]=g.useState(!1),[V,ue]=g.useState(null),{toast:me}=Cr(),Ee=[{value:"viewer",label:"Viewer",description:"Can only view data"},{value:"engineer",label:"Engineer",description:"Can view and edit servers and properties"},{value:"super_admin",label:"Super Admin",description:"Full access including user management"}];or("userMgmt_page",a,o),or("userMgmt_filters",c,u),or("userMgmt_search",s,i),Wd({editingUser:d,newUserEmail:y,newUserRole:_},"userManagement_form"),Vd("userManagement_form",Z=>{Z.editingUser&&f(Z.editingUser),Z.newUserEmail&&x(Z.newUserEmail),Z.newUserRole&&j(Z.newUserRole)}),g.useEffect(()=>{xe()},[]);const xe=async()=>{try{n(!0);const{data:Z,error:M}=await oe.from("profiles").select("*");if(M)throw M;const{data:$,error:F}=await oe.from("user_roles").select("user_id, role");if(F)throw F;const ie=(Z==null?void 0:Z.map(se=>({...se,user_roles:($==null?void 0:$.filter(ne=>ne.user_id===se.id))||[]})))||[];t(ie)}catch(Z){console.error("Error fetching users:",Z),me({title:"Error",description:"Failed to fetch users",variant:"destructive"})}finally{n(!1)}},fe=async(Z,M)=>{try{const{error:$}=await oe.from("user_roles").update({role:M}).eq("user_id",Z);if($)throw $;me({title:"Success",description:"User role updated successfully"}),xe(),v(!1),f(null),m("")}catch($){console.error("Error updating user role:",$),me({title:"Error",description:"Failed to update user role",variant:"destructive"})}},We=async()=>{var Z;if(!I||!z){me({title:"Error",description:"Please enter a new password",variant:"destructive"});return}try{D(!0);const{data:{session:M},error:$}=await oe.auth.getSession();if($||!M)throw console.error("Session error or no active session:",$),new Error(($==null?void 0:$.message)||"No active session. Please log in again.");const ie="http://localhost:8000/functions/v1/admin-reset-password";console.log("Calling password reset function:",{functionUrl:ie,userId:I});const se=await fetch(ie,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M.access_token}`},body:JSON.stringify({userId:I,newPassword:z})}),ne=await se.json().catch(()=>({}));if(!se.ok)throw console.error("Error response from server:",{status:se.status,statusText:se.statusText,responseData:ne}),new Error(((Z=ne.error)==null?void 0:Z.message)||ne.message||`Failed to reset password (Status: ${se.status})`);me({title:"Success",description:"Password has been reset successfully"}),T(""),B(null)}catch(M){console.error("Error in handleResetPassword:",M),me({title:"Error",description:M instanceof Error?M.message:"An unknown error occurred",variant:"destructive"})}finally{D(!1)}},Q=async()=>{if(E)try{L(!0);const{data:{session:Z}}=await oe.auth.getSession();if(!Z)throw new Error("No active session");const $=await fetch("http://localhost:8000/functions/v1/admin-delete-user",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z.access_token}`},body:JSON.stringify({userId:E.id})});if(!$.ok){const F=await $.json().catch(()=>({}));throw new Error(F.error||"Failed to delete user")}me({title:"Success",description:"User has been deleted successfully"}),xe(),P(!1),N(null)}catch(Z){console.error("Error deleting user:",Z),me({title:"Error",description:Z instanceof Error?Z.message:"Failed to delete user",variant:"destructive"})}finally{L(!1)}},he=async()=>{if(!y||!_){me({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}try{S(!0);const{data:{session:Z}}=await oe.auth.getSession();if(!Z)throw new Error("No active session");const M="http://localhost:8000",$=Array.from(crypto.getRandomValues(new Uint8Array(8))).map(se=>(se%36).toString(36)).join("")+"A1!";console.log(`Temporary password for ${y}: ${$}`);const F=await fetch(`${M}/functions/v1/admin-create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z.access_token}`},body:JSON.stringify({email:y,password:$,fullName:y.split("@")[0],role:_})});if(!F.ok){const se=await F.json().catch(()=>({}));throw new Error(se.error||"Failed to create user")}const ie=()=>{navigator.clipboard.writeText($),me({title:"Copied!",description:"Password copied to clipboard",duration:2e3})};me({title:"User Created Successfully",description:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:["User account created for ",y]}),l.jsxs("div",{className:"bg-yellow-50 p-2 rounded-md text-sm text-yellow-800 border border-yellow-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("p",{className:"font-medium",children:"Temporary Password:"}),l.jsx(G,{variant:"ghost",size:"sm",className:"text-xs h-6 px-2 text-yellow-700 hover:bg-yellow-100",onClick:se=>{se.stopPropagation(),ie()},children:"Copy"})]}),l.jsxs("div",{className:"flex items-center justify-between bg-yellow-100 px-3 py-2 rounded font-mono text-sm mb-2",children:[l.jsx("span",{className:"select-all",children:$}),l.jsx("button",{onClick:se=>{se.stopPropagation(),ie()},className:"ml-2 text-yellow-600 hover:text-yellow-800",title:"Copy to clipboard",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),l.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),l.jsx("p",{className:"text-xs text-yellow-700",children:"Please provide this password to the user securely."}),l.jsx("p",{className:"text-xs text-yellow-700",children:"They will be prompted to change it on first login."})]})]}),duration:1e4,className:"[&>div]:w-full"}),x(""),j(""),b(!1),xe()}catch(Z){console.error("Error adding user:",Z),me({title:"Error",description:Z instanceof Error?Z.message:"Failed to add user",variant:"destructive"})}finally{S(!1)}},be=Z=>{switch(Z){case"super_admin":return"bg-red-100 text-red-700 hover:bg-red-100";case"engineer":return"bg-blue-100 text-blue-700 hover:bg-blue-100";case"viewer":return"bg-gray-100 text-gray-700 hover:bg-gray-100";default:return"bg-gray-100 text-gray-700 hover:bg-gray-100"}},Y=Z=>{const M={variant:"outline",className:Z?"bg-green-50 text-green-700 border-green-200":"bg-amber-50 text-amber-700 border-amber-200"};return Z?l.jsxs(Fe,{...M,children:[l.jsx($h,{className:"h-3 w-3 mr-1"})," Active"]}):l.jsxs(Fe,{...M,children:[l.jsx(ta,{className:"h-3 w-3 mr-1"})," Pending"]})},Qe=async(Z,M)=>{try{ue(Z);const{error:$}=await oe.from("profiles").update({status:M}).eq("id",Z);if($)throw $;me({title:"Success",description:`User has been ${M?"approved":"rejected"} successfully`}),xe()}catch($){console.error("Error updating user status:",$),me({title:"Error",description:$ instanceof Error?$.message:"Failed to update user status",variant:"destructive"})}finally{ue(null)}},Le=e.filter(Z=>{var M,$;return Z.username.toLowerCase().includes(s.toLowerCase())||((M=Z.full_name)==null?void 0:M.toLowerCase().includes(s.toLowerCase()))||(($=Z.user_roles[0])==null?void 0:$.role.toLowerCase().includes(s.toLowerCase()))||(Z.status?"active":"inactive").includes(s.toLowerCase())}),Je=e.reduce((Z,M)=>{var F;const $=(F=M.user_roles[0])==null?void 0:F.role;return Z[$]=(Z[$]||0)+1,Z},{});return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-slate-600",children:"Loading users..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"User Management"}),l.jsx("p",{className:"text-slate-600",children:"Manage user roles and permissions"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(wr,{open:w,onOpenChange:b,children:[l.jsx(Qh,{asChild:!0,children:l.jsxs(G,{className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(IK,{className:"h-4 w-4 mr-2"}),"Add User"]})}),l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Add New User"}),l.jsx(mr,{children:"Invite a new user to the system and assign them a role."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"email",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(OK,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(He,{id:"email",type:"email",placeholder:"user@example.com",value:y,onChange:Z=>x(Z.target.value),className:"pl-10"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Role"}),l.jsxs(ke,{value:_,onValueChange:Z=>j(Z),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select a role"})}),l.jsx(je,{children:Ee.map(Z=>l.jsx(q,{value:Z.value,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:Z.label}),l.jsx("span",{className:"text-xs text-slate-500",children:Z.description})]})},Z.value))})]})]}),_==="super_admin"&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ia,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-medium text-yellow-800",children:"Warning"}),l.jsx("p",{className:"text-yellow-700",children:"Super Admins have full access to the system including user management."})]})]})}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium",children:"How it works:"}),l.jsx("p",{children:"After creating the user, you'll need to provide them with the temporary password shown in the success message."}),l.jsx("p",{className:"mt-1 text-xs",children:"The user will be prompted to change their password on first login."})]})}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(G,{variant:"outline",onClick:()=>{b(!1),x(""),j("")},disabled:k,children:"Cancel"}),l.jsx(G,{onClick:he,disabled:!y||!_||k,children:k?"Adding...":"Add User"})]})]})]})]}),l.jsxs(Fe,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[l.jsx(JP,{className:"h-3 w-3 mr-1"}),"Super Admin Only"]}),l.jsx(wr,{open:!!I,onOpenChange:Z=>!Z&&B(null),children:l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Reset User Password"}),l.jsx(mr,{children:"Set a new password for this user. They will need to use this password to log in."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"newPassword",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(He,{id:"newPassword",type:U?"text":"password",value:z,onChange:Z=>T(Z.target.value),placeholder:"Enter new password",className:"pr-10"}),l.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>W(!U),tabIndex:-1,children:U?l.jsx(Du,{className:"h-4 w-4"}):l.jsx(wi,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 8 characters. Include uppercase, lowercase, and numbers."})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(G,{variant:"outline",onClick:()=>{B(null),T("")},disabled:C,children:"Cancel"}),l.jsx(G,{onClick:We,disabled:!z||z.length<8||C,children:C?"Updating...":"Update Password"})]})]})]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Lg,{className:"h-5 w-5 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Total Users"}),l.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(JP,{className:"h-5 w-5 text-red-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Super Admins"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:Je.super_admin||0})]})]})})}),l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Fh,{className:"h-5 w-5 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Engineers"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Je.engineer||0})]})]})})}),l.jsx(De,{children:l.jsx(Re,{className:"p-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Lg,{className:"h-5 w-5 text-gray-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Viewers"}),l.jsx("p",{className:"text-2xl font-bold text-gray-600",children:Je.viewer||0})]})]})})})]}),l.jsxs(De,{children:[l.jsx(Ke,{children:l.jsxs(qe,{className:"flex items-center space-x-2",children:[l.jsx(jv,{className:"h-5 w-5"}),l.jsx("span",{children:"Search Users"})]})}),l.jsx(Re,{children:l.jsx("div",{className:"flex gap-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx(J,{children:"Search by username, name, or role"}),l.jsxs("div",{className:"relative",children:[l.jsx(jv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(He,{placeholder:"Search users...",value:s,onChange:Z=>i(Z.target.value),className:"pl-10"})]})]})})})]}),l.jsxs(De,{children:[l.jsxs(Ke,{children:[l.jsxs(qe,{children:["Users (",Le.length,")"]}),l.jsx(Gt,{children:"Manage user roles and permissions. Click the edit button to change a user's role."})]}),l.jsxs(Re,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(pd,{children:[l.jsx(md,{children:l.jsxs(gs,{children:[l.jsx(wt,{children:"Username"}),l.jsx(wt,{children:"Full Name"}),l.jsx(wt,{children:"Status"}),l.jsx(wt,{children:"Current Role"}),l.jsx(wt,{children:"Member Since"}),l.jsx(wt,{className:"text-right",children:"Actions"})]})}),l.jsx(gd,{children:Le.map(Z=>{var M,$;return l.jsxs(gs,{children:[l.jsx(et,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center",children:[Z.username,Z.status===!1&&l.jsx("span",{className:"ml-2 text-xs text-amber-600",children:"(Pending)"})]})}),l.jsx(et,{children:Z.full_name||""}),l.jsx(et,{children:Y(Z.status!==!1)}),l.jsx(et,{children:l.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${be((M=Z.user_roles[0])==null?void 0:M.role)}`,children:($=Z.user_roles[0])==null?void 0:$.role.replace("_"," ").replace(/\b\w/g,F=>F.toUpperCase())})}),l.jsx(et,{children:Z.created_at?new Date(Z.created_at).toLocaleDateString():""}),l.jsx(et,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{B(Z.id),T("")},title:"Reset Password",children:l.jsx(NK,{className:"h-4 w-4"})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{var F;f(Z),m(((F=Z.user_roles[0])==null?void 0:F.role)||""),v(!0)},title:"Edit Role",children:l.jsx(Fh,{className:"h-4 w-4"})}),Z.status===!1?l.jsxs(l.Fragment,{children:[l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>Qe(Z.id,!0),title:"Approve User",className:"text-green-600 hover:text-green-700 hover:bg-green-50",disabled:V===Z.id,children:V===Z.id?l.jsx(Si,{className:"h-4 w-4 animate-spin"}):l.jsx($h,{className:"h-4 w-4"})}),l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{N(Z),P(!0)},title:"Reject User",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:l.jsx(ta,{className:"h-4 w-4"})})]}):l.jsx(l.Fragment,{children:l.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{N(Z),P(!0)},title:"Delete User",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:l.jsx(fx,{className:"h-4 w-4"})})})]})})]},Z.id)})})]})}),Le.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Lg,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),l.jsx("p",{className:"text-slate-500",children:"No users found matching your search."})]})]})]}),l.jsx(wr,{open:p,onOpenChange:v,children:l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Edit User Role"}),l.jsxs(mr,{children:["Change the role for ",(d==null?void 0:d.username)||"this user"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"New Role"}),l.jsxs(ke,{value:h,onValueChange:Z=>m(Z),children:[l.jsx(_e,{children:l.jsx(Ce,{placeholder:"Select a role"})}),l.jsx(je,{children:Ee.map(Z=>l.jsx(q,{value:Z.value,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:Z.label}),l.jsx("span",{className:"text-xs text-slate-500",children:Z.description})]})},Z.value))})]})]}),h==="super_admin"&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ia,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-medium text-yellow-800",children:"Warning"}),l.jsx("p",{className:"text-yellow-700",children:"Super Admins have full access to the system including user management."})]})]})}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[l.jsx(G,{variant:"outline",onClick:()=>{v(!1),f(null),m("")},children:"Cancel"}),l.jsx(G,{onClick:()=>{h&&d&&fe(d.id,h)},disabled:!h||d&&h===((it=d.user_roles[0])==null?void 0:it.role),children:"Update Role"})]})]})]})}),l.jsx(wr,{open:O,onOpenChange:P,children:l.jsxs(fr,{children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Delete User"}),l.jsxs(mr,{children:["Are you sure you want to delete ",E==null?void 0:E.username,"? This action cannot be undone."]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[l.jsx(G,{variant:"outline",onClick:()=>{P(!1),N(null)},disabled:A,children:"Cancel"}),l.jsx(G,{variant:"destructive",onClick:Q,disabled:A,children:A?l.jsxs(l.Fragment,{children:[l.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete User"})]})]})})]})};var $j=["Enter"," "],_ke=["ArrowDown","PageUp","Home"],HW=["ArrowUp","PageDown","End"],jke=[..._ke,...HW],Ske={ltr:[...$j,"ArrowRight"],rtl:[...$j,"ArrowLeft"]},kke={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dm="Menu",[bp,Cke,Eke]=cx(dm),[Vc,KW]=Oi(dm,[Eke,pl,Rx]),Z0=pl(),qW=Rx(),[Nke,Hc]=Vc(dm),[Pke,fm]=Vc(dm),YW=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,o=Z0(t),[c,u]=g.useState(null),d=g.useRef(!1),f=vn(i),h=Dx(s);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),l.jsx(gx,{...o,children:l.jsx(Nke,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(Pke,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:n})})})};YW.displayName=dm;var Ake="MenuAnchor",gN=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Z0(r);return l.jsx(Tp,{...s,...n,ref:t})});gN.displayName=Ake;var vN="MenuPortal",[Oke,GW]=Vc(vN,{forceMount:void 0}),XW=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Hc(vN,t);return l.jsx(Oke,{scope:t,forceMount:r,children:l.jsx(ts,{present:r||i.open,children:l.jsx(Dd,{asChild:!0,container:s,children:n})})})};XW.displayName=vN;var Vs="MenuContent",[Tke,yN]=Vc(Vs),ZW=g.forwardRef((e,t)=>{const r=GW(Vs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Hc(Vs,e.__scopeMenu),a=fm(Vs,e.__scopeMenu);return l.jsx(bp.Provider,{scope:e.__scopeMenu,children:l.jsx(ts,{present:n||i.open,children:l.jsx(bp.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(Dke,{...s,ref:t}):l.jsx(Mke,{...s,ref:t})})})})}),Dke=g.forwardRef((e,t)=>{const r=Hc(Vs,e.__scopeMenu),n=g.useRef(null),s=ct(t,n);return g.useEffect(()=>{const i=n.current;if(i)return Bx(i)},[]),l.jsx(xN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Mke=g.forwardRef((e,t)=>{const r=Hc(Vs,e.__scopeMenu);return l.jsx(xN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),xN=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...v}=e,w=Hc(Vs,r),b=fm(Vs,r),y=Z0(r),x=qW(r),_=Cke(r),[j,k]=g.useState(null),S=g.useRef(null),E=ct(t,S,w.onContentChange),N=g.useRef(0),O=g.useRef(""),P=g.useRef(0),A=g.useRef(null),L=g.useRef("right"),I=g.useRef(0),B=p?Wp:g.Fragment,z=p?{as:Va,allowPinchZoom:!0}:void 0,T=D=>{var fe,We;const U=O.current+D,W=_().filter(Q=>!Q.disabled),V=document.activeElement,ue=(fe=W.find(Q=>Q.ref.current===V))==null?void 0:fe.textValue,me=W.map(Q=>Q.textValue),Ee=Kke(me,U,ue),xe=(We=W.find(Q=>Q.textValue===Ee))==null?void 0:We.ref.current;(function Q(he){O.current=he,window.clearTimeout(N.current),he!==""&&(N.current=window.setTimeout(()=>Q(""),1e3))})(U),xe&&setTimeout(()=>xe.focus())};g.useEffect(()=>()=>window.clearTimeout(N.current),[]),Fx();const C=g.useCallback(D=>{var W,V;return L.current===((W=A.current)==null?void 0:W.side)&&Yke(D,(V=A.current)==null?void 0:V.area)},[]);return l.jsx(Tke,{scope:r,searchRef:O,onItemEnter:g.useCallback(D=>{C(D)&&D.preventDefault()},[C]),onItemLeave:g.useCallback(D=>{var U;C(D)||((U=S.current)==null||U.focus(),k(null))},[C]),onTriggerLeave:g.useCallback(D=>{C(D)&&D.preventDefault()},[C]),pointerGraceTimerRef:P,onPointerGraceIntentChange:g.useCallback(D=>{A.current=D},[]),children:l.jsx(B,{...z,children:l.jsx(Up,{asChild:!0,trapped:s,onMountAutoFocus:pe(i,D=>{var U;D.preventDefault(),(U=S.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(Mc,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(_4,{asChild:!0,...x,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:pe(c,D=>{b.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(vx,{role:"menu","aria-orientation":"vertical","data-state":hV(w.open),"data-radix-menu-content":"",dir:b.dir,...y,...v,ref:E,style:{outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,D=>{const W=D.target.closest("[data-radix-menu-content]")===D.currentTarget,V=D.ctrlKey||D.altKey||D.metaKey,ue=D.key.length===1;W&&(D.key==="Tab"&&D.preventDefault(),!V&&ue&&T(D.key));const me=S.current;if(D.target!==me||!jke.includes(D.key))return;D.preventDefault();const xe=_().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);HW.includes(D.key)&&xe.reverse(),Vke(xe)}),onBlur:pe(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(N.current),O.current="")}),onPointerMove:pe(e.onPointerMove,wp(D=>{const U=D.target,W=I.current!==D.clientX;if(D.currentTarget.contains(U)&&W){const V=D.clientX>I.current?"right":"left";L.current=V,I.current=D.clientX}}))})})})})})})});ZW.displayName=Vs;var Rke="MenuGroup",bN=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Be.div,{role:"group",...n,ref:t})});bN.displayName=Rke;var Ike="MenuLabel",QW=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Be.div,{...n,ref:t})});QW.displayName=Ike;var Vy="MenuItem",VM="menu.itemSelect",Q0=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=g.useRef(null),a=fm(Vy,e.__scopeMenu),o=yN(Vy,e.__scopeMenu),c=ct(t,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(VM,{bubbles:!0,cancelable:!0});f.addEventListener(VM,m=>n==null?void 0:n(m),{once:!0}),IS(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx(JW,{...s,ref:c,disabled:r,onClick:pe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:pe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(e.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||$j.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Q0.displayName=Vy;var JW=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=yN(Vy,r),o=qW(r),c=g.useRef(null),u=ct(t,c),[d,f]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[i.children]),l.jsx(bp.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:l.jsx(j4,{asChild:!0,...o,focusable:!n,children:l.jsx(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:pe(e.onPointerMove,wp(p=>{n?a.onItemLeave(p):(a.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(e.onPointerLeave,wp(p=>a.onItemLeave(p))),onFocus:pe(e.onFocus,()=>f(!0)),onBlur:pe(e.onBlur,()=>f(!1))})})})}),Lke="MenuCheckboxItem",eV=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(iV,{scope:e.__scopeMenu,checked:r,children:l.jsx(Q0,{role:"menuitemcheckbox","aria-checked":Hy(r)?"mixed":r,...s,ref:t,"data-state":_N(r),onSelect:pe(s.onSelect,()=>n==null?void 0:n(Hy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});eV.displayName=Lke;var tV="MenuRadioGroup",[$ke,Fke]=Vc(tV,{value:void 0,onValueChange:()=>{}}),rV=g.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=vn(n);return l.jsx($ke,{scope:e.__scopeMenu,value:r,onValueChange:i,children:l.jsx(bN,{...s,ref:t})})});rV.displayName=tV;var nV="MenuRadioItem",sV=g.forwardRef((e,t)=>{const{value:r,...n}=e,s=Fke(nV,e.__scopeMenu),i=r===s.value;return l.jsx(iV,{scope:e.__scopeMenu,checked:i,children:l.jsx(Q0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":_N(i),onSelect:pe(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});sV.displayName=nV;var wN="MenuItemIndicator",[iV,Bke]=Vc(wN,{checked:!1}),aV=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=Bke(wN,r);return l.jsx(ts,{present:n||Hy(i.checked)||i.checked===!0,children:l.jsx(Be.span,{...s,ref:t,"data-state":_N(i.checked)})})});aV.displayName=wN;var zke="MenuSeparator",oV=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});oV.displayName=zke;var Uke="MenuArrow",lV=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Z0(r);return l.jsx(yx,{...s,...n,ref:t})});lV.displayName=Uke;var Wke="MenuSub",[wEe,cV]=Vc(Wke),Xf="MenuSubTrigger",uV=g.forwardRef((e,t)=>{const r=Hc(Xf,e.__scopeMenu),n=fm(Xf,e.__scopeMenu),s=cV(Xf,e.__scopeMenu),i=yN(Xf,e.__scopeMenu),a=g.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(gN,{asChild:!0,...u,children:l.jsx(JW,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":hV(r.open),...e,ref:lx(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,wp(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:pe(e.onPointerLeave,wp(f=>{var m,p;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const v=(p=r.content)==null?void 0:p.dataset.side,w=v==="right",b=w?-5:5,y=h[w?"left":"right"],x=h[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:y,y:h.bottom}],side:v}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Ske[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});uV.displayName=Xf;var dV="MenuSubContent",fV=g.forwardRef((e,t)=>{const r=GW(Vs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Hc(Vs,e.__scopeMenu),a=fm(Vs,e.__scopeMenu),o=cV(dV,e.__scopeMenu),c=g.useRef(null),u=ct(t,c);return l.jsx(bp.Provider,{scope:e.__scopeMenu,children:l.jsx(ts,{present:n||i.open,children:l.jsx(bp.Slot,{scope:e.__scopeMenu,children:l.jsx(xN,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(e.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:pe(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=kke[a.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=o.trigger)==null||m.focus(),d.preventDefault())})})})})})});fV.displayName=dV;function hV(e){return e?"open":"closed"}function Hy(e){return e==="indeterminate"}function _N(e){return Hy(e)?"indeterminate":e?"checked":"unchecked"}function Vke(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Hke(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Kke(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=Hke(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function qke(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const o=t[i].x,c=t[i].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function Yke(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return qke(r,t)}function wp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Gke=YW,Xke=gN,Zke=XW,Qke=ZW,Jke=bN,eCe=QW,tCe=Q0,rCe=eV,nCe=rV,sCe=sV,iCe=aV,aCe=oV,oCe=lV,lCe=uV,cCe=fV,jN="DropdownMenu",[uCe,_Ee]=Oi(jN,[KW]),Tn=KW(),[dCe,pV]=uCe(jN),mV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,c=Tn(t),u=g.useRef(null),[d=!1,f]=ji({prop:s,defaultProp:i,onChange:a});return l.jsx(dCe,{scope:t,triggerId:Us(),triggerRef:u,contentId:Us(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(Gke,{...c,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};mV.displayName=jN;var gV="DropdownMenuTrigger",vV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=pV(gV,r),a=Tn(r);return l.jsx(Xke,{asChild:!0,...a,children:l.jsx(Be.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:lx(t,i.triggerRef),onPointerDown:pe(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:pe(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});vV.displayName=gV;var fCe="DropdownMenuPortal",yV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Tn(t);return l.jsx(Zke,{...n,...r})};yV.displayName=fCe;var xV="DropdownMenuContent",bV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=pV(xV,r),i=Tn(r),a=g.useRef(!1);return l.jsx(Qke,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,o=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bV.displayName=xV;var hCe="DropdownMenuGroup",pCe=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(Jke,{...s,...n,ref:t})});pCe.displayName=hCe;var mCe="DropdownMenuLabel",wV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(eCe,{...s,...n,ref:t})});wV.displayName=mCe;var gCe="DropdownMenuItem",_V=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(tCe,{...s,...n,ref:t})});_V.displayName=gCe;var vCe="DropdownMenuCheckboxItem",jV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(rCe,{...s,...n,ref:t})});jV.displayName=vCe;var yCe="DropdownMenuRadioGroup",xCe=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(nCe,{...s,...n,ref:t})});xCe.displayName=yCe;var bCe="DropdownMenuRadioItem",SV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(sCe,{...s,...n,ref:t})});SV.displayName=bCe;var wCe="DropdownMenuItemIndicator",kV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(iCe,{...s,...n,ref:t})});kV.displayName=wCe;var _Ce="DropdownMenuSeparator",CV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(aCe,{...s,...n,ref:t})});CV.displayName=_Ce;var jCe="DropdownMenuArrow",SCe=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(oCe,{...s,...n,ref:t})});SCe.displayName=jCe;var kCe="DropdownMenuSubTrigger",EV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(lCe,{...s,...n,ref:t})});EV.displayName=kCe;var CCe="DropdownMenuSubContent",NV=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return l.jsx(cCe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NV.displayName=CCe;var ECe=mV,NCe=vV,PCe=yV,PV=bV,AV=wV,OV=_V,TV=jV,DV=SV,MV=kV,RV=CV,IV=EV,LV=NV;const ACe=ECe,OCe=NCe,TCe=g.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(IV,{ref:s,className:ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(zS,{className:"ml-auto h-4 w-4"})]}));TCe.displayName=IV.displayName;const DCe=g.forwardRef(({className:e,...t},r)=>l.jsx(LV,{ref:r,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DCe.displayName=LV.displayName;const $V=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(PCe,{children:l.jsx(PV,{ref:n,sideOffset:t,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));$V.displayName=PV.displayName;const Fj=g.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(OV,{ref:n,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Fj.displayName=OV.displayName;const MCe=g.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(TV,{ref:s,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(MV,{children:l.jsx($h,{className:"h-4 w-4"})})}),t]}));MCe.displayName=TV.displayName;const RCe=g.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(DV,{ref:n,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(MV,{children:l.jsx(kK,{className:"h-2 w-2 fill-current"})})}),t]}));RCe.displayName=DV.displayName;const FV=g.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(AV,{ref:n,className:ye("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));FV.displayName=AV.displayName;const Bj=g.forwardRef(({className:e,...t},r)=>l.jsx(RV,{ref:r,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));Bj.displayName=RV.displayName;function ICe({open:e,onOpenChange:t}){const[r,n]=g.useState(""),[s,i]=g.useState(""),[a,o]=g.useState(""),[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[p,v]=g.useState(!1),{updatePassword:w}=eo(),{toast:b}=Cr();Wd({currentPassword:e?r:"",newPassword:e?s:"",confirmPassword:e?a:""},"changePasswordForm"),Vd("changePasswordForm",_=>{e&&_.currentPassword&&n(_.currentPassword),e&&_.newPassword&&i(_.newPassword),e&&_.confirmPassword&&o(_.confirmPassword)});const y=_=>{!_&&!c&&(n(""),i(""),o(""),f(!1),m(!1),v(!1)),t(_)},x=async _=>{if(_.preventDefault(),s!==a){b({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(s.length<6){b({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}if(!r){b({title:"Error",description:"Please enter your current password",variant:"destructive"});return}try{u(!0),await new Promise(k=>setTimeout(k,100));const{error:j}=await w(r,s);if(j)throw j;n(""),i(""),o(""),y(!1)}catch(j){console.error("Change password error:",j),b({title:"Error",description:j.message||"Failed to update password",variant:"destructive"})}finally{u(!1)}};return l.jsx(wr,{open:e,onOpenChange:y,children:l.jsx(fr,{className:"sm:max-w-[425px]",children:l.jsxs("form",{onSubmit:x,children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Change Password"}),l.jsx(mr,{children:"Enter your current password and set a new one."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"currentPassword",children:"Current Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(He,{id:"currentPassword",type:d?"text":"password",value:r,onChange:_=>n(_.target.value),disabled:c,className:"pr-10",required:!0}),l.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",onClick:()=>f(!d),disabled:c,tabIndex:-1,children:d?l.jsx(Du,{className:"h-4 w-4"}):l.jsx(wi,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"newPassword",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(He,{id:"newPassword",type:h?"text":"password",value:s,onChange:_=>i(_.target.value),disabled:c,className:"pr-10",required:!0}),l.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",onClick:()=>m(!h),disabled:c,tabIndex:-1,children:h?l.jsx(Du,{className:"h-4 w-4"}):l.jsx(wi,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 6 characters recommended"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(He,{id:"confirmPassword",type:p?"text":"password",value:a,onChange:_=>o(_.target.value),disabled:c,className:"pr-10",required:!0}),l.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 disabled:opacity-50",onClick:()=>v(!p),disabled:c,tabIndex:-1,children:p?l.jsx(Du,{className:"h-4 w-4"}):l.jsx(wi,{className:"h-4 w-4"})})]})]})]}),l.jsxs(il,{children:[l.jsx(G,{type:"button",variant:"outline",onClick:()=>y(!1),disabled:c,children:"Cancel"}),l.jsx(G,{type:"submit",disabled:c||!r||!s||!a,className:"min-w-[120px]",children:c?l.jsxs(l.Fragment,{children:[l.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})})})}const LCe=()=>{const[e,t]=g.useState(!1),{user:r,profile:n,userRole:s,signOut:i}=eo(),{logDataOperation:a}=U3();if(!r||!n)return null;const o=d=>{switch(d){case"super_admin":return"destructive";case"engineer":return"default";case"viewer":return"secondary";default:return"outline"}},c=d=>{switch(d){case"super_admin":return"Super Admin";case"engineer":return"Engineer";case"viewer":return"Viewer";default:return"Unknown"}},u=async d=>{d.preventDefault(),await a("LOGOUT","users",r==null?void 0:r.id,{email:r==null?void 0:r.email}),await i()};return l.jsxs(ACe,{children:[l.jsx(OCe,{asChild:!0,children:l.jsxs(G,{variant:"ghost",className:"flex items-center space-x-2",children:[l.jsx(LK,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:n.username}),l.jsx(Fe,{variant:o(s||""),className:"text-xs",children:c(s||"")})]})}),l.jsxs($V,{align:"end",className:"w-56",children:[l.jsx(FV,{children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:n.full_name||n.username}),l.jsx("p",{className:"text-xs text-muted-foreground",children:r.email})]})}),l.jsx(Bj,{}),l.jsxs(Fj,{onSelect:d=>{d.preventDefault(),t(!0)},children:[l.jsx(EK,{className:"h-4 w-4 mr-2"}),"Change Password"]}),l.jsx(Bj,{}),l.jsxs(Fj,{onSelect:u,children:[l.jsx(AK,{className:"h-4 w-4 mr-2"}),"Sign Out"]}),l.jsx(ICe,{open:e,onOpenChange:t})]})]})},$Ce=({children:e,onLogoUpdate:t})=>{const[r,n]=g.useState(!1),[s,i]=g.useState(!1),[a,o]=g.useState("DCIMS"),[c,u]=g.useState(!1),d=g.useRef(null),{hasRole:f}=eo(),{toast:h}=Cr(),m=f("engineer"),p=()=>{const y=document.createElement("img");y.onload=()=>u(!0),y.onerror=()=>u(!1),y.src="/logo.png?"+Date.now()},v=y=>{var _;const x=(_=y.target.files)==null?void 0:_[0];if(x){if(!x.type.startsWith("image/")){h({title:"Invalid File Type",description:"Please select an image file (PNG, JPG, etc.)",variant:"destructive"});return}h({title:"Logo Upload Instructions",description:"Please save your selected image as 'logo.png' in the /public folder of your project, then refresh the page."})}},w=()=>{u(!1),h({title:"Logo Removed",description:"Organization logo has been removed. Default logo will be used."}),t==null||t()},b=()=>{localStorage.setItem("organizationName",a),h({title:"Settings Updated",description:"Organization name has been updated."})};return l.jsxs(wr,{open:r,onOpenChange:y=>{n(y),y&&(p(),o(localStorage.getItem("organizationName")||"DCIMS"))},children:[l.jsx(Qh,{asChild:!0,children:e}),l.jsxs(fr,{className:"sm:max-w-[425px]",children:[l.jsxs(hr,{children:[l.jsx(pr,{children:"Organization Settings"}),l.jsx(mr,{children:"Customize your organization's branding and settings."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"org-name",children:"Organization Name"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(He,{id:"org-name",value:a,onChange:y=>o(y.target.value),disabled:!m,placeholder:"Organization Name"}),m&&l.jsx(G,{onClick:b,disabled:a===(localStorage.getItem("organizationName")||"DCIMS"),size:"sm",children:"Update"})]}),!m&&l.jsx("p",{className:"text-sm text-muted-foreground",children:"You need engineer permissions to edit settings."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{children:"Organization Logo"}),c&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg bg-gray-50",children:[l.jsx("img",{src:"/logo.png?"+Date.now(),alt:"Current logo",className:"h-12 w-12 object-contain",onError:()=>u(!1)}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"Current Logo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Click upload to replace"})]}),m&&l.jsx(G,{variant:"ghost",size:"sm",onClick:w,disabled:s,children:l.jsx(ta,{className:"h-4 w-4"})})]}),!c&&l.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg bg-gray-50",children:[l.jsx("div",{className:"h-12 w-12 flex items-center justify-center bg-blue-600 rounded",children:l.jsx(CK,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"Default Logo"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a custom logo to replace"})]})]}),m&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:v,className:"hidden"}),l.jsxs(G,{variant:"outline",onClick:()=>{var y;return(y=d.current)==null?void 0:y.click()},disabled:s,className:"w-full",children:[l.jsx(UL,{className:"h-4 w-4 mr-2"}),s?"Uploading...":c?"Replace Logo":"Upload Logo"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload PNG, JPG or other image formats. Max size: 5MB"})]})]})]})]})]})};function FCe(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[s,i]=g.useState(1),[a,o]=g.useState(10),[c,u]=g.useState(0);g.useEffect(()=>{n(!0);const p=(s-1)*a;fetch(`http://localhost:8000/functions/v1/activity-logs?limit=${a}&offset=${p}`,{headers:{}}).then(v=>v.json()).then(v=>{t(v.logs||[]),u(v.totalCount||0),n(!1)}).catch(v=>{n(!1)})},[s,a]);const d=Math.max(1,Math.ceil(c/a)),f=(s-1)*a+1,h=Math.min(s*a,c),m=e.slice(f-1,h);return l.jsxs(De,{children:[l.jsx(Ke,{children:l.jsx(qe,{children:"Activity Logs"})}),l.jsx(Re,{children:r?l.jsx("div",{children:"Loading..."}):l.jsxs(l.Fragment,{children:[l.jsxs(pd,{children:[l.jsx(md,{children:l.jsxs(gs,{children:[l.jsx(wt,{children:"Timestamp"}),l.jsx(wt,{children:"User"}),l.jsx(wt,{children:"Action"}),l.jsx(wt,{children:"Resource"}),l.jsx(wt,{children:"Details"}),l.jsx(wt,{children:"Severity"})]})}),l.jsx(gd,{children:m.filter(p=>{if(p.details&&Array.isArray(p.details.changed_fields)){const b=p.details.changed_fields,y=["updated_at","raw_user_meta_data"];if(b.every(x=>y.includes(x)))return!1}if(p.resource_type==="user_roles"&&p.action==="DELETE")return!1;const v=["id","aud","role","email","created_at","updated_at","instance_id","is_sso_user","email_change","is_anonymous","phone_change","recovery_token","raw_app_meta_data","confirmation_token","encrypted_password","phone_change_token","raw_user_meta_data","email_change_token_new","reauthentication_token","email_change_token_current","email_change_confirm_status"];return!(!(p.resource_type==="users"&&p.details&&Array.isArray(p.details.changed_fields)&&v.every(b=>p.details.changed_fields.includes(b)))&&(p.resource_type==="users"&&p.details&&Array.isArray(p.details.changed_fields)&&p.details.changed_fields.includes("role")||p.resource_type==="user_roles"&&p.details&&p.details.new_values&&typeof p.details.new_values.role<"u")&&p.details.new_values&&["unknown","authenticated",""].includes(p.details.new_values.role))}).map(p=>{var j,k,S,E,N,O,P,A,L,I,B,z,T,C,D,U,W,V,ue,me,Ee,xe,fe,We,Q,he,be,Y,Qe,Le,Je,it,Z,M,$;let v=p.username||"";if(!v){let F=p.email;!F&&p.details&&(F=((j=p.details.new_values)==null?void 0:j.email)||((k=p.details.old_values)==null?void 0:k.email)||p.details.user_email),F?v=F.split("@")[0]:p.user_id&&(v=p.user_id)}const w=["id","aud","role","email","created_at","updated_at","instance_id","is_sso_user","email_change","is_anonymous","phone_change","recovery_token","raw_app_meta_data","confirmation_token","encrypted_password","phone_change_token","raw_user_meta_data","email_change_token_new","reauthentication_token","email_change_token_current","email_change_confirm_status"];let b=!1,y="";p.resource_type==="users"&&p.details&&Array.isArray(p.details.changed_fields)&&w.every(F=>p.details.changed_fields.includes(F))&&(b=!0,p.details.new_values&&p.details.new_values.email&&(y=p.details.new_values.email)),(p.resource_type==="users"&&p.details&&Array.isArray(p.details.changed_fields)&&p.details.changed_fields.includes("role")||p.resource_type==="user_roles"&&p.details&&p.details.new_values&&p.details.new_values.role)&&((S=p.details.new_values)!=null&&S.role||(E=p.details.new_values)!=null&&E.role,p.details.user_email||(N=p.details.new_values)!=null&&N.email||(O=p.details.old_values)!=null&&O.email||p.email||(P=p.details.new_values)!=null&&P.user_email);let x;if(b){const F=y||((L=(A=p.details)==null?void 0:A.new_values)==null?void 0:L.email)||((B=(I=p.details)==null?void 0:I.old_values)==null?void 0:B.email)||p.email||"";x=l.jsxs("span",{children:[l.jsx("strong",{children:"User"})," (",F,")"]})}else if(p.resource_type==="users"){const F=((T=(z=p.details)==null?void 0:z.new_values)==null?void 0:T.email)||((D=(C=p.details)==null?void 0:C.old_values)==null?void 0:D.email)||p.email||v;x=l.jsxs("span",{children:[l.jsx("strong",{children:"User"})," (",F,")"]})}else if(p.resource_type==="servers"){let F="",ie="";p.details&&(p.details.new_values&&(F=p.details.new_values.serial_number||"",ie=p.details.new_values.device_type||p.details.new_values.type||""),!F&&p.details.old_values&&(F=p.details.old_values.serial_number||""),!ie&&p.details.old_values&&(ie=p.details.old_values.device_type||p.details.old_values.type||"")),ie||(ie="Unknown"),x=l.jsxs("span",{children:[l.jsx("strong",{children:"Device"})," (",ie,", ",F||p.resource_id,")"]})}else if(p.resource_type==="user_roles"){const F=((U=p.details)==null?void 0:U.user_email)||((V=(W=p.details)==null?void 0:W.new_values)==null?void 0:V.email)||((me=(ue=p.details)==null?void 0:ue.old_values)==null?void 0:me.email)||p.email||v;x=l.jsxs("span",{children:[l.jsx("strong",{children:"Roles"})," (",F,")"]})}else x=`${p.resource_type} (${p.resource_id})`;let _;if(p.details&&Array.isArray(p.details.changed_fields)&&p.details.changed_fields.length===2&&p.details.changed_fields.includes("updated_at")&&p.details.changed_fields.includes("last_sign_in_at")&&p.resource_type==="users")_=l.jsx("span",{children:"Login success"});else if(p.details&&Array.isArray(p.details.changed_fields)&&p.details.changed_fields.length===3&&p.details.changed_fields.includes("updated_at")&&p.details.changed_fields.includes("confirmed_at")&&p.details.changed_fields.includes("email_confirmed_at")){const F=((Ee=p.details.new_values)==null?void 0:Ee.email)||((xe=p.details.old_values)==null?void 0:xe.email)||p.email||"";_=l.jsxs("span",{children:["Email Confirmed (",F,")"]})}else if(p.resource_type==="users"&&p.details&&p.details.new_values&&p.details.old_values&&typeof p.details.new_values.last_sign_in_at=="string"&&typeof p.details.old_values.last_sign_in_at=="string"){const F=new Date(p.details.new_values.last_sign_in_at).getTime(),ie=new Date(p.details.old_values.last_sign_in_at).getTime(),se=p.details.new_values.updated_at?new Date(p.details.new_values.updated_at).getTime():null,ne=p.details.old_values.updated_at?new Date(p.details.old_values.updated_at).getTime():null;F>ie?_=l.jsx("span",{children:"Login success"}):se!==null&&ne!==null&&se>ne&&F===ie?_=l.jsx("span",{children:"Logout success"}):_=null}else if(b){const F=y||((We=(fe=p.details)==null?void 0:fe.new_values)==null?void 0:We.email)||((he=(Q=p.details)==null?void 0:Q.old_values)==null?void 0:he.email)||p.email||"";_=l.jsxs("span",{children:["User Create (",F,")"]})}else if(p.resource_type==="user_roles"&&p.details&&p.details.new_values&&p.details.changed_fields&&p.details.changed_fields.includes("role")){const F=p.details.new_values.role||"unknown";_=l.jsxs("span",{children:["Role Change to ",l.jsx("strong",{children:F})]})}else _=p.details?l.jsxs("div",{style:{fontSize:12},children:[p.details.changed_fields&&l.jsxs("div",{children:[l.jsx("strong",{children:"Changed Fields:"})," ",p.details.changed_fields.join(", ")]}),p.details.old_values&&l.jsxs("details",{children:[l.jsx("summary",{children:"Old Values"}),l.jsx("ul",{children:Object.entries(p.details.old_values).map(([F,ie])=>l.jsxs("li",{children:[l.jsxs("strong",{children:[F,":"]})," ",String(ie)]},F))})]}),p.details.new_values&&l.jsxs("details",{children:[l.jsx("summary",{children:"New Values"}),l.jsx("ul",{children:Object.entries(p.details.new_values).map(([F,ie])=>l.jsxs("li",{children:[l.jsxs("strong",{children:[F,":"]})," ",String(ie)]},F))})]})]}):null;if(p.resource_type==="user_roles"&&p.details&&p.details.new_values&&p.details.changed_fields&&p.details.changed_fields.includes("role")){const F=(((be=p.details)==null?void 0:be.user_email)||((Qe=(Y=p.details)==null?void 0:Y.new_values)==null?void 0:Qe.email)||((Je=(Le=p.details)==null?void 0:Le.old_values)==null?void 0:Je.email)||p.email||v).split("@")[0],ie=p.details.new_values.role||"unknown";return l.jsxs(gs,{children:[l.jsx(et,{children:new Date(p.timestamp).toLocaleString()}),l.jsx(et,{children:v}),l.jsx(et,{colSpan:2,style:{fontWeight:"bold"},children:l.jsxs("span",{children:[F," Roles change to ",l.jsx("strong",{children:ie.charAt(0).toUpperCase()+ie.slice(1)})]})}),l.jsx(et,{}),l.jsx(et,{children:l.jsx(Fe,{variant:p.severity==="error"?"destructive":"default",children:p.severity})})]},p.id)}if(b){const F=(y||((Z=(it=p.details)==null?void 0:it.new_values)==null?void 0:Z.email)||(($=(M=p.details)==null?void 0:M.old_values)==null?void 0:$.email)||p.email||v).split("@")[0];return l.jsxs(gs,{children:[l.jsx(et,{children:new Date(p.timestamp).toLocaleString()}),l.jsx(et,{children:v}),l.jsx(et,{children:"CREATE"}),l.jsxs(et,{children:[l.jsx("strong",{children:"User"})," (",F,")"]}),l.jsx(et,{children:l.jsxs("span",{children:["User ",F," created"]})}),l.jsx(et,{children:l.jsx(Fe,{variant:p.severity==="error"?"destructive":"default",children:p.severity})})]},p.id)}return l.jsxs(gs,{children:[l.jsx(et,{children:new Date(p.timestamp).toLocaleString()}),l.jsx(et,{children:v}),l.jsx(et,{children:p.action}),l.jsx(et,{children:x}),l.jsx(et,{children:_}),l.jsx(et,{children:l.jsx(Fe,{variant:p.severity==="error"?"destructive":"default",children:p.severity})})]},p.id)})})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:16},children:[l.jsx("div",{style:{color:"#64748b",fontSize:14},children:`Showing ${f} to ${h} of ${c} entries`}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:20},children:[l.jsxs("div",{style:{color:"#64748b",fontSize:14},children:["Rows per page:",l.jsx("select",{value:a,onChange:p=>{o(Number(p.target.value)),i(1)},style:{marginLeft:8,padding:"5px 14px",borderRadius:8,border:"1px solid #e5e7eb",fontSize:14},children:[10,20,50,100].map(p=>l.jsx("option",{value:p,children:p},p))})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("button",{onClick:()=>i(1),disabled:s===1,style:{padding:"5px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",color:s===1?"#a1a1aa":"#334155",fontWeight:500,fontSize:14,cursor:s===1?"not-allowed":"pointer"},children:"First"}),l.jsx("button",{onClick:()=>i(p=>Math.max(p-1,1)),disabled:s===1,style:{padding:"5px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",color:s===1?"#a1a1aa":"#334155",fontWeight:500,fontSize:14,cursor:s===1?"not-allowed":"pointer"},children:"Previous"}),l.jsxs("span",{style:{fontWeight:500,fontSize:14,color:"#0f172a",minWidth:90,textAlign:"center"},children:["Page ",s," of ",d]}),l.jsx("button",{onClick:()=>i(p=>Math.min(p+1,d)),disabled:s===d,style:{padding:"5px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",color:s===d?"#a1a1aa":"#334155",fontWeight:500,fontSize:14,cursor:s===d?"not-allowed":"pointer"},children:"Next"}),l.jsx("button",{onClick:()=>i(d),disabled:s===d,style:{padding:"5px 14px",borderRadius:8,border:"1px solid #e5e7eb",background:"white",color:s===d?"#a1a1aa":"#334155",fontWeight:500,fontSize:14,cursor:s===d?"not-allowed":"pointer"},children:"Last"})]})]})]})]})})]})}const $n=()=>{const e=$d(),t=Rp(),r={"/":"dashboard","/dashboard":"dashboard","/serverinventory":"servers","/servers":"servers","/rackview":"rackview","/racks":"rackview","/roomview":"roomview","/rooms":"roomview","/datacenter":"datacenter","/reports":"reports","/properties":"properties","/users":"users","/usermanagement":"users","/activitylogs":"activitylogs"},n={dashboard:"/",servers:"/serverinventory",rackview:"/rackview",roomview:"/roomview",datacenter:"/datacenter",reports:"/reports",properties:"/properties",users:"/users",activitylogs:"/activitylogs"},s=()=>r[e.pathname]||"dashboard",[i,a]=g.useState(s()),[o,c]=g.useState(null),[u,d]=g.useState("DCIMS"),[f,h]=g.useState(!1),{hasRole:m}=eo();Cr(),g.useEffect(()=>{const x=s();x!==i&&a(x)},[e.pathname]);const p=x=>{a(x);const _=n[x]||"/";e.pathname!==_&&t(_,{replace:!0})},v=m("engineer"),w=m("super_admin");g.useEffect(()=>{const x=localStorage.getItem("organizationName");x&&d(x),(()=>{const j=document.createElement("img");j.onload=()=>h(!0),j.onerror=()=>h(!1),j.src="/logo.png?"+Date.now()})()},[]);const b=()=>{const x=localStorage.getItem("organizationName");x&&d(x);const _=document.createElement("img");_.onload=()=>h(!0),_.onerror=()=>h(!1),_.src="/logo.png?"+Date.now()},y=x=>{c(x),p("rackview")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[l.jsx("header",{className:"bg-white border-b border-slate-200 shadow-sm",children:l.jsx("div",{className:"container mx-auto px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[f?l.jsx("div",{className:"h-10 w-10 rounded-lg overflow-hidden bg-white border border-slate-200 flex items-center justify-center",children:l.jsx("img",{src:"/logo.png?"+Date.now(),alt:"Organization Logo",className:"h-8 w-8 object-contain",onError:()=>h(!1)})}):l.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:l.jsx($s,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:u}),l.jsx("p",{className:"text-sm text-slate-600",children:"Data Center Inventory Management"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Fe,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"System Online"}),l.jsx($Ce,{onLogoUpdate:b,children:l.jsxs(G,{variant:"outline",size:"sm",children:[l.jsx(ki,{className:"h-4 w-4 mr-2"}),"Settings"]})}),l.jsx(LCe,{})]})]})})}),l.jsx("main",{className:"container mx-auto px-6 py-8",children:l.jsxs(Fp,{value:i,onValueChange:p,className:"space-y-6",children:[l.jsxs(zd,{className:`grid w-full ${w&&v?"grid-cols-9":w?"grid-cols-8":v?"grid-cols-7":"grid-cols-6"} lg:w-[${w&&v?"900px":w?"800px":v?"700px":"600px"}] bg-white border border-slate-200 shadow-sm`,children:[l.jsxs($r,{value:"dashboard",className:"flex items-center space-x-2",children:[l.jsx(zL,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),l.jsxs($r,{value:"servers",className:"flex items-center space-x-2",children:[l.jsx(La,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Inventory"})]}),l.jsxs($r,{value:"rackview",className:"flex items-center space-x-2",children:[l.jsx($s,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Rack View"})]}),l.jsxs($r,{value:"roomview",className:"flex items-center space-x-2",children:[l.jsx($s,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Room View"})]}),l.jsxs($r,{value:"datacenter",className:"flex items-center space-x-2",children:[l.jsx($s,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"DC View"})]}),v&&l.jsxs($r,{value:"properties",className:"flex items-center space-x-2",children:[l.jsx(ki,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Properties"})]}),l.jsxs($r,{value:"reports",className:"flex items-center space-x-2",children:[l.jsx(vc,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Reports"})]}),w&&l.jsxs($r,{value:"users",className:"flex items-center space-x-2",children:[l.jsx(Lg,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),w&&l.jsxs($r,{value:"activitylogs",className:"flex items-center space-x-2",children:[l.jsx(vc,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Activity Logs"})]})]}),l.jsx(Fr,{value:"dashboard",className:"space-y-6",children:l.jsx(nke,{})}),l.jsx(Fr,{value:"servers",className:"space-y-6",children:l.jsx(Iie,{})}),l.jsx(Fr,{value:"rackview",className:"space-y-6",children:l.jsx(ike,{selectedRackId:o})}),l.jsx(Fr,{value:"roomview",className:"space-y-6",children:l.jsx(fke,{onRackClick:y})}),l.jsx(Fr,{value:"datacenter",className:"space-y-6",children:l.jsx(bke,{onViewRack:y})}),v&&l.jsx(Fr,{value:"properties",className:"space-y-6",children:l.jsx(xke,{})}),l.jsx(Fr,{value:"reports",className:"space-y-6",children:l.jsx(hke,{})}),w&&l.jsx(Fr,{value:"users",className:"space-y-6",children:l.jsx(wke,{})}),w&&l.jsx(Fr,{value:"activitylogs",className:"space-y-6",children:l.jsx(FCe,{})})]})})]})},BCe=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(!1),[s,i]=g.useState("signin"),[a,o]=g.useState(!1),[c,u]=g.useState({loading:!1,success:!1,error:null}),[d,f]=g.useState({email:"",password:""}),[h,m]=g.useState({email:"",password:"",username:"",fullName:""}),{signIn:p,signUp:v,user:w}=eo(),b=Rp(),y=()=>{o(!1),i("signin"),u({loading:!1,success:!1,error:null})};g.useEffect(()=>{w&&b("/")},[w,b]);const x=async j=>{j.preventDefault(),t(!0);const{error:k}=await p(d.email,d.password);k||b("/"),t(!1)},_=async j=>{j.preventDefault(),u({loading:!0,success:!1,error:null});try{const{error:k,success:S}=await v(h.email,h.password,h.username,h.fullName);k?u({loading:!1,success:!1,error:k.message||"Failed to create account"}):(u({loading:!1,success:!0,error:null}),m({email:"",password:"",username:"",fullName:""}),o(!0))}catch{u({loading:!1,success:!1,error:"An unexpected error occurred"})}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:[l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-center mb-8",children:[l.jsx("div",{className:"p-3 bg-blue-600 rounded-lg mr-3",children:l.jsx($s,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"DCIMS"}),l.jsx("p",{className:"text-slate-600",children:"Data Center Inventory Management"})]})]}),l.jsxs(De,{children:[l.jsxs(Ke,{children:[l.jsx(qe,{children:"Authentication"}),l.jsx(Gt,{children:"Sign in to access your data center inventory"})]}),l.jsx(Re,{children:l.jsxs(Fp,{value:s,onValueChange:i,className:"space-y-4",children:[l.jsxs(zd,{className:"grid w-full grid-cols-2",children:[l.jsx($r,{value:"signin",children:"Sign In"}),l.jsx($r,{value:"signup",children:"Sign Up"})]}),l.jsx(Fr,{value:"signin",className:"space-y-4",children:l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"signin-email",children:"Email"}),l.jsx(He,{id:"signin-email",type:"email",placeholder:"Enter your email",value:d.email,onChange:j=>f({...d,email:j.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"signin-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(He,{id:"signin-password",type:r?"text":"password",placeholder:"Enter your password",value:d.password,onChange:j=>f({...d,password:j.target.value}),required:!0}),l.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!r),children:r?l.jsx(Du,{className:"h-4 w-4"}):l.jsx(wi,{className:"h-4 w-4"})})]})]}),l.jsx(G,{type:"submit",className:"w-full",disabled:e,children:e?"Signing In...":"Sign In"})]})}),l.jsx(Fr,{value:"signup",className:"space-y-4",children:l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"signup-email",children:"Email"}),l.jsx(He,{id:"signup-email",type:"email",placeholder:"Enter your email",value:h.email,onChange:j=>m({...h,email:j.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"signup-username",children:"Username"}),l.jsx(He,{id:"signup-username",type:"text",placeholder:"Choose a username",value:h.username,onChange:j=>m({...h,username:j.target.value}),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"signup-fullname",children:"Full Name (Optional)"}),l.jsx(He,{id:"signup-fullname",type:"text",placeholder:"Enter your full name",value:h.fullName,onChange:j=>m({...h,fullName:j.target.value})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(J,{htmlFor:"signup-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(He,{id:"signup-password",type:r?"text":"password",placeholder:"Create a password",value:h.password,onChange:j=>m({...h,password:j.target.value}),required:!0}),l.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!r),children:r?l.jsx(Du,{className:"h-4 w-4"}):l.jsx(wi,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground text-center p-2 bg-muted/50 rounded-md",children:"Your account will be accessible after admin approval. Please contact the administrator."}),l.jsx(G,{type:"submit",className:"w-full",disabled:c.loading,children:c.loading?"Creating account...":"Create account"}),c.error&&l.jsxs(Oa,{className:"mt-4 border-red-200 bg-red-50",variant:"destructive",children:[l.jsx(ta,{className:"h-4 w-4"}),l.jsx(z3,{children:"Sign Up Failed"}),l.jsx(ic,{children:c.error})]})]})]})})]})})]})]}),l.jsx(wr,{open:a,onOpenChange:o,children:l.jsxs(fr,{className:"sm:max-w-md",children:[l.jsx(hr,{children:l.jsxs(pr,{className:"flex items-center gap-2 text-green-800",children:[l.jsx(BL,{className:"h-5 w-5 text-green-600"}),"Account Created Successfully!"]})}),l.jsxs(mr,{className:"text-center",children:["Your account has been created and is pending admin approval.",l.jsx("br",{}),"You will be redirected to sign in when the progress completes."]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-4",children:l.jsx("div",{className:"bg-green-600 h-2 rounded-full animate-progress-fill",onAnimationEnd:y})})]})})]})},zCe=()=>{const e=$d();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Fn=({children:e,requiredRole:t="viewer"})=>{const{user:r,loading:n,hasRole:s,error:i}=eo(),[a,o]=g.useState(!1);return g.useEffect(()=>{if(n){const c=setTimeout(()=>{o(!0)},1e4);return()=>clearTimeout(c)}else o(!1)},[n]),i?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs(De,{className:"w-full max-w-md",children:[l.jsxs(Ke,{className:"text-center",children:[l.jsx(Ia,{className:"h-12 w-12 text-red-500 mx-auto mb-2"}),l.jsx(qe,{className:"text-red-600",children:"Authentication Error"}),l.jsx(Gt,{children:i})]}),l.jsx(Re,{className:"text-center",children:l.jsxs(G,{onClick:()=>window.location.reload(),className:"w-full",variant:"outline",children:[l.jsx(ea,{className:"h-4 w-4 mr-2"}),"Refresh Page"]})})]})}):n&&a?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs(De,{className:"w-full max-w-md",children:[l.jsxs(Ke,{className:"text-center",children:[l.jsx(Ia,{className:"h-12 w-12 text-yellow-500 mx-auto mb-2"}),l.jsx(qe,{className:"text-yellow-600",children:"Loading Taking Too Long"}),l.jsx(Gt,{children:"Authentication is taking longer than expected. This might be due to network issues."})]}),l.jsxs(Re,{className:"text-center space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(Si,{className:"h-6 w-6 animate-spin mr-2"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Still trying to connect..."})]}),l.jsxs(G,{onClick:()=>window.location.reload(),className:"w-full",variant:"outline",children:[l.jsx(ea,{className:"h-4 w-4 mr-2"}),"Refresh Page"]})]})]})}):n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Si,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r?s(t)?l.jsx(l.Fragment,{children:e}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs(De,{className:"w-full max-w-md",children:[l.jsxs(Ke,{className:"text-center",children:[l.jsx(Ia,{className:"h-12 w-12 text-red-500 mx-auto mb-2"}),l.jsx(qe,{className:"text-red-600",children:"Access Denied"}),l.jsx(Gt,{children:"You don't have permission to access this page."})]}),l.jsxs(Re,{className:"text-center",children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Required role: ",t]}),l.jsx(G,{onClick:()=>window.history.back(),variant:"outline",className:"w-full",children:"Go Back"})]})]})}):l.jsx(DX,{to:"/auth",replace:!0})},UCe=new HG,WCe=()=>l.jsx(qG,{client:UCe,children:l.jsxs(k$,{children:[l.jsx(wq,{}),l.jsx(Xq,{}),l.jsx($X,{children:l.jsx(tJ,{children:l.jsx(rJ,{children:l.jsxs(RX,{children:[l.jsx(Gr,{path:"/auth",element:l.jsx(BCe,{})}),l.jsx(Gr,{path:"/",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/dashboard",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/serverinventory",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/servers",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/rackview",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/racks",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/roomview",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/rooms",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/datacenter",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/reports",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/properties",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/users",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/usermanagement",element:l.jsx(Fn,{children:l.jsx($n,{})})}),l.jsx(Gr,{path:"/activitylogs",element:l.jsx(Fn,{requiredRole:"super_admin",children:l.jsx($n,{})})}),l.jsx(Gr,{path:"*",element:l.jsx(zCe,{})})]})})})})]})});hL(document.getElementById("root")).render(l.jsx(WCe,{}));
